import{r as z,S as gt,a as lr,J as hl}from"./index.BSruUtCi.js";(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@charset "UTF-8";@import"https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css";@import"https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Martel+Sans:wght@200&family=Martel:wght@400;700&family=Taviraj:wght@300;500&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";@import"https://fonts.googleapis.com/icon?family=Material+Icons";@import"https://use.fontawesome.com/releases/v5.0.8/css/all.css";@import"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.a9s-osd-crosshair-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.editioncrafter .MuiInputBase-root{font-family:Inter,sans-serif}.editioncrafter *{box-sizing:border-box}.editioncrafter div{width:auto}.editioncrafter body{padding:0;margin:0;box-sizing:border-box}.editioncrafter .warning{color:#ff0}.editioncrafter .fa{width:max(1.5rem,24px);padding:max(.2rem,3.2px) max(.1rem,1.6px) max(.1rem,1.6px);text-align:center}.editioncrafter .fa.active{background-color:#9e9e9e0a;border:max(.2rem,3.2px) solid #FF9800}.editioncrafter .fa-book.active{border-radius:0 max(2rem,32px) max(2rem,32px) 0}.editioncrafter .fa:not(.active){color:gray}.editioncrafter .fa.fa-lock,.editioncrafter .fa.fa-lock-open{border-radius:max(2rem,32px) 0 0 max(2rem,32px)}.editioncrafter .vertical-separator{height:100%;border-right:1px solid #6F747C;margin:10px 0}.editioncrafter .line-clamp{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.editioncrafter .line-clamp.two-lines{-webkit-line-clamp:2}.editioncrafter .flex-parent{display:flex}.editioncrafter .flex-parent.half-width{width:50%}.editioncrafter .flex-parent.full-width{width:100%}.editioncrafter .flex-parent.column{flex-direction:column}.editioncrafter .flex-parent.jc-start{justify-content:flex-start}.editioncrafter .flex-parent.jc-center{justify-content:center}.editioncrafter .flex-parent.jc-end{justify-content:flex-end}.editioncrafter .flex-parent.jc-space-btw{justify-content:space-between}.editioncrafter .flex-parent.jc-space-around{justify-content:space-around}.editioncrafter .flex-parent.ai-start{align-items:flex-start}.editioncrafter .flex-parent.ai-center{align-items:center}.editioncrafter .flex-parent.ai-end{align-items:flex-end}.editioncrafter .flex-parent.wrap{flex-wrap:wrap}.editioncrafter .flex-parent.row-reverse{flex-direction:row-reverse}.editioncrafter .flex-parent.column-reverse{flex-direction:column-reverse}.editioncrafter .flex-parent .flex-1{flex:1}.editioncrafter .flex-parent .flex-2{flex:2}.editioncrafter .flex-parent .flex-3{flex:3}.editioncrafter .flex-parent .flex-4{flex:4}.editioncrafter .flex-parent .flex-5{flex:5}.editioncrafter .flex-parent .flex-6{flex:6}.editioncrafter .flex-parent .flex-7{flex:7}.editioncrafter .flex-parent .flex-8{flex:8}.editioncrafter .flex-parent .flex-9{flex:9}.editioncrafter .flex-parent .flex-10{flex:10}.editioncrafter .flex-parent .flex-11{flex:11}.editioncrafter .flex-parent .flex-12{flex:12}.editioncrafter .bg-maroon-gradient{background-image:linear-gradient(to right,#792421,#66211c,#531d17,#411912,#30140d)}.editioncrafter .bg-dark-gradient-bt{background-image:linear-gradient(to bottom,#f2e6d9,#e6e0c1,#e4d2a5)}.editioncrafter .bg-dark-gradient-tb{background-image:linear-gradient(to bottom,#e4d2a5,#e6e0c1,#f2e6d9)}.editioncrafter .bg-light-gradient-bt{background-image:linear-gradient(to bottom,#fefcfb,#f0eddb,#ede2c4)}.editioncrafter .bg-light-gradient-tb{background-image:linear-gradient(to bottom,#ede2c4,#f0eddb,#fefcfb)}.editioncrafter .accent-bar{height:10px;width:100%}.editioncrafter .invisible{display:none}.editioncrafter .disabled{opacity:.5}.editioncrafter .figure-dialog-img-container img{display:block;width:100%;height:auto}.editioncrafter a:hover{text-decoration:underline}.editioncrafter a{color:#792421;text-decoration:none}@-webkit-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-moz-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-ms-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-o-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}.editioncrafter #globalNavigation{display:flex;align-items:center;flex-direction:row-reverse;font-size:max(.9rem,14.4px);position:relative;top:min(-4rem,-64px);right:max(2rem,32px);float:right}@container diplomatic (min-width: 960px){.editioncrafter #globalNavigation{display:block}}.editioncrafter #globalNavigation .expandedViewOnly span,.editioncrafter #globalNavigation .expandedViewOnly a{color:#fff;margin-left:max(1rem,16px);cursor:pointer}.editioncrafter #globalNavigation span .francais{font-weight:100}.editioncrafter #globalNavigation input{height:max(1.5rem,24px);padding:0 0 0 max(.5rem,8px);font-style:italic;border:1px solid rgba(0,0,0,.3882352941);color:#756c6c;background-color:#d8d8d8}.editioncrafter #loadingStateModal{position:fixed;z-index:9000;background-color:#0000007a;width:100vw;height:100vh}.editioncrafter .spinner{width:100%;height:100%;margin:calc(50vh - (max(1rem,16px)/2)) auto 0 auto;text-align:center}.editioncrafter .spinner>div{width:max(1rem,16px);height:max(1rem,16px);background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:sk-bouncedelay 1.4s infinite ease-in-out both}.editioncrafter .spinner .bounce1{-webkit-animation-delay:-.32s;animation-delay:-.32s}.editioncrafter .spinner .bounce2{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.editioncrafter figure{padding:max(.3rem,4.8px) 0 0;border-radius:max(.2rem,3.2px);margin:0;text-align:center}.editioncrafter figure.current{background-color:#077affd4}.editioncrafter .thumbnail-caption.current{color:#077affd4!important;font-weight:900}.editioncrafter .watermarkContainer .navigationComponent{position:absolute}.editioncrafter .watermark{width:100%;height:100%;margin:calc(50% - (max(10rem,160px)/2)) auto 0 auto}.editioncrafter .transcriptContent .watermark{margin:calc(50% - 12.5rem) auto 0 auto}.editioncrafter .watermark_contents{width:max(10rem,160px);height:max(10rem,160px);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAABKCAYAAAB+UyxeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB4ISURBVHgB7V1LcBtncu4ZgNRjt4rQLTeOKntgZb0reNd2uWpTReiWnAQdNpbsrRJ88EZyUiXylhupUyonkVVZy9k9CKqyrTg5EDrmJPDmJJsVmN2kdNPw5pwMVa1lPoD50193/4PBiwRAkJJldRUJYGYw8z/678fX3T8CmpDKV65HFIYb5FyBWq3LtX/9TYNe0UtDIU1KQbDKTBHzayGYmZ2nV/RSUZ4mIJYWFWaIa/IhoKZrt5/SK3qpKEcT0MKP3togcnV+++/MGW8zk5QXfvjT/3v8h99+69VJubxUWPjJT64svPZGxP15TN9RCmhMwsDRmd1HrEbeZ4YoiuRIkm1+rfPpS3z8Xu2fP67St4TK7914SI77QdTkv6jrpKpKMDvG6RL/VWufffQ+fQdofFXy/VaRkiDiAeMBFamBQV3mv5Xa/TsXy7/421L53Q9XmVli2jldq9XWmvQikwvOy2uSYMLj9PjO6Wa27dwnnNum7wiNzRi1T/6xzoPUlDUEieGoyt5JxAN7Sy5Idpu1z36zWr56Y4nO7j3ia+u0v7/+wnotYO6AFrkPt8XDCgLtx9m9iKVJkxmH/1yJj8DAjuk7QhMZn/Rs9nz6/uxemQfuGg/spriwLiiwumERvMerzTWYcSKamdkQZkqS9RdSzThaZ+a4xn8NYQ7natzO2J/mtoOpS9mviEo9vVOUxSFqxm3V7n+8RC8JTcYYp3cKzAgl1rdV/lTlgYPk4NUWFuGl4Hzts4/9uQq/VniwHewRliTXTAXdyw7+c6MgiFmi1Zl5uc13VgdekyRN7u88t/sS92eRoD6DPV4E4TovkjXuLxgnppeIJmMMUSG8sjrUrN3/aBVvRGrkgjIPYIEHtJoyD44D+8BEBEHExx6KmmEV9JwZJKZcDrZE2h9ta7gkKgYGKdSmk1O4Zpv7vsWfYzG8v7d3k9ohS0Lt/yAqX+HF0d5vfJtAwMkYQwYr6BiVrjOoNslreC+G6NUPl6jNEmLnVJ2NuYqIYFU/GHBInjVmkK+eI4P4yYrSI0B0iYDNPJB2Es3xaihzn0skHgp7KrmwJnbV17PxoQZ2jm5TkMdzLtK3hCaVGCwNwg73u2Rt0GUwVPmlLuokv1dlNVKnb9hYdY6N12CTsFph2AUY6+CuWP5JAhVTp5OkdhsMKpLCmLNorupNCrltCd2jkJnbtZbZsB5r1XOfyyJtWMpm7v/C06QSI85+OKyzqTphCcIYiDIRqxkW12WOs6xRPh/xEQzgUx7ASvndGzcpcQ9OyFAt8vObwqwdguta4kbWa59qG1jyrdXuj8kU715fYWP8HDPdZb7/mrj4RKnhnhqwJGNYpxeIJlcl7V0ZpHKFO7e7szqKRZ5KELU3yixqCqLfT52q0+4uG3NJQ6384AJWquAhcBOPW80E7gLrD3gj2k5j5O6L3PjxIFU9MTN/zO0vcn+cMQNUL3tBexxaYFefbTRmomUz2F8ImpQxCqkhtcfW+ZixuF47hHZ2oiDMPXFBOxKjDqvVATgDxhDA21likRzLqp42aDY7W+M+fCXvFb3tU4uy8sPcOo1LLtji/6yOwqIY41BPIjFD4ECRXQWVyh4Pe2xXrscviuSYNLoade6QFMT/n5AgRaAyXNLmQeTVA29nf3/V7slShZQJnFOX8MxuBZJEdPcUqFYVJlu3Z5R6zwtTJGFg0m5kEskQBM7uq5gOGC9gaShMweLJsXFL7it5zeVuMdO/MF5LAN2pb1mcwo1Uoyum4fAv/PkI8Dc+lH9xvURtNtIo2BbVgBXuLX3V23Gqv0MRm3rcH2u3m1AnXlVYnkcJmAFhNTHYxJ8ripNQU7wE4CD5PAzVkrXnAcS1qKUeKHtUMrzlJquR1zvHxEbYknuD1K2NVIoFBUNKC4PGR+NI/ClxVf5/znCQiN+zEesCGeMwrI/LcCdFeQr2q0QzbBQFNVJ0DxPBnMwT4Vi0gwALhyGQSxhK24b2Zeke4xi1QQ+QifaE+IkamiT3T5KCMAtPOksAHuCgKZMPCkQMlwVLgO5X97gormIYLDJDIez/QDwaiOuZmRJBupzdq/EkD2ZqnRgj3M8V7BX2Q0S9i8GFeP45ys8wU2PB5GJ5RqvVkDYxE8p1cL+JGVltCrjvTWFW2Er63Cfc+XllJjGwGzYekTEknn1BXrEwMTYBOibSxI/FvIxHkqzxIrpFx0x5uF88KYiU3uVJusgPvssdbw55uEw+X7/YddTlhq7QAUZjTGOSIqtuSUSxY28ml49MWvjVign1KicSZhkjPiMGNOwMhuy7TsiKl4mI+75zhSXl2b2SSDJFcjcFBcPEk6gLTDSkBn833GbJAYn6gCXt2oFtUZwnYsnVsOdE3ijm+VmH9Cy/88ul2ue/PvA+R6U07K4iPLhN1GKGmNkQ1HIAc4jqSAQOX5XP4qdDFZyMSJQVpvEMlmJtHrwZSC8M3qJJspqt1hJpD+fk8zcCsA1k4JQx4KYGfO+2U+kXhpJewJOpC0I9ipuM7DJD9KlbXdGeWUXtiVQ8D8aycYvM4znqGNw97sBk6pVI469c5/D5TIWXyUUMCnPm0z7OTEIM7kr55x/UpGEQj63dmE6I/MCqy5sv2+DXAVDxJG6LOHds7wROjb9A4Osyr8IlHtAnfO1mr2cDA9SCfPWe4NlTexZAuBV2L0tir8NzcrTF6Gc9aLfnXRBU7Sub/LwafX2qSt9nfMKFG+n92rBLaDo0O7vMfb3L7y7TMVGXu2rMUeXOVyQRJ5ffuHz1xlcb9+/cSy/SgFIz5VZnWMQJU5/L2xZ7aF6tf9gljKxCjDuo6mRVxHHICGeQRzoAUNZqH8rKABQfR19xb9xvjo9tsCRtqq4XKbAujAhGSZJrTg3RLX7+WhaQYwnR3eB+I3XyvoORr97YPE6V0ueuyoCH+4gDQDTewmqQFZM9z2I8NSqn2OFJSVze+3eUmaEKJbuMCub6NgB5o90CZzuHJKLzYguw4cso64bkjpD05bKoyGezMMDrpHYLpANUCTME39ex9xaGD5lZinLs2ey52qe/KvahtG0dl/I7f31TPmvQMaIpkdgqudxil3E/RRoIcIlBeuV6kdqtgPK5usQxrly/mIpFHkD+W+MBrVqm1olLjEHUYyQuidE6MwO9D3UgriYkhDI60M6AXWKAWmLcFczrapiaQYxHvQE1aCvmAW3CSD/UzQSau7eHmNCWqaLpL6DELfN92S6cvko5UOvZSooliQVuooreOD0vRtvX0biBpedBho9UCFB0x5tpGm4D9HFFjjiH95AQms+q6mNLvIyEttgtL434SIX0kcTEng0/G/hIzRuy0yIxaveT4rRVyqHmkDBHm5kDojPglfPNqaUXPo+TugJUiyr2AzJAyvAQURPblkBU1hS/4J43QM2LQNALTI+g2k1BRp27NU5wz3AKMN0W33vpOGI+/Iw1VpnVaXopI9nJKXPkxB0D6lmiF4w6qXZh2RJsYiIDmmAvYcUqUyxKog2kAuBp5yom5iWlLwMmgSqGUawLVhMmZQm4JeKm1sQ9hipltfO8w+mwlejZqfentWhHdqCYKxkedggZz/FfzMyxTFOiNGOKo6ujrkbV22HZoHzNrNLVPS8uKQeufKWcfGGfDeqZmaKIdk1ivkcBR3OdqAugr5sGczcF+xBElO+prnBJ7qG2hrPjkgXPsZuSeC7ETAU32SU1xDxOWqqqERpWDsokG4fG8qzL7/3NbUEgsRqHAGCTEDMd9C4AJkC+r/euPqtlqcgKB+kEPbXvbKdxFDUoedLwHi6lMM68xS0KMvmSkifJu400Xc9xACtAsg7iIHzcPAqVKAyJQ8oEkryzLMG8PNvsrs3SQpBNze5CvgUkUS53U1x6H29S1VSnEyABG5N2NA17YzzG0DwKACvbsrrarfpRG2HSgnW5ru7uINYHPBl5QOEIqAGomtP4Bk9um8V7XnJPGxaQQwnAkmWHeXh8S1Y+0vD+mG/01IlUCKpCXUiXws4S1Q2K5F1Lj10g6ReEupp2u2gBR6gcZUowXiLf2ZRnOjE4NRioObJq5EICHaNEsZqe6lFV2/iMoWIVQFLRVsrlSS1tYzQYeJvka2EliBQ80MF23XUdqhb4PHkYPE7tA+89IHoJDKKHEUboF1DR970qE4MOBifxsQMSaARcg/RwMhZqm4QSLPMeD8CvJyxJzgmDS+BQgLeYNPK8BeY+aCJFbWLcmTkP65PB+7ePWjE3HmNoMAvGZ00wDDXeoJcvTsKhmv2190hwBAwm1AADSAEbhI4kCnlJJIRmZMO+uZRpuTKCo8YgiTBWOyCCxU4gK0ASAxTPinysY6T7QOVJpZ4E+LxUceoNUcOkConk8JJNc15hLNcFdGMbJat6JMM8ELtIFoJPdziwHZC07aB0FGk+HmPAhWvlCQEz48wnmZyL98dhDvF0kGyrIhtA2S2ONC+y77hKEk6HbSCJO0X7yrYgkBjgnpjGSM9ThLCkMRVvG5BGQ/EsSD8lgcqlT5Ai7KoOCnyBCUZhxAyz4P5z5hEp5uzM2PVMgryPU6cigfd10W1p7MdxRJmvYfeZ2zKaJwlVOcE4eZqYMezhKm6dw0DOM8ZxeWTxnYpqT4hoBhGpmogVaBpsH0xCGVyCxJ4hxixCyXRv8kRUUlWmBJCrSsAfYORCJfjEIjUq0cYLbGOtj7MqU1UchrEwiqoazxgcjOTXmXBRJEySQPXM6Zg436Zxx3jVR8HHpfFyPtVazzYK1j/rskCTZs7uPeQVcnHEhlepizF88g8P1rNTr0/dOMufbrCE0/snUH134sxZrcfV9ggcTt6GUbsj7r2dFlblH/Hr3Kjemd2n6p+Z3kulCjNMqyDZXZBocLe1LQUD57ZFipzd+8pKJhuHht7ZCMVeJpNk24dpJ0ejct+R/TbrztayNDphH/7s7l3p6CFkiSgY0Ka8Ppt9nTu/jpV8HBa75XY2TSpdG9CeJUnzR+U+JAnKG7A6h4hiO47EmVUevxU6Stu4vxx7gW1RlXa4BO3A+BTUWxO7Z96kVpUlyy3JspuZeXjgfSUgGo4zvympxEBW0Hsf3uzkVcrRpqWZmfiUNLiyVLd7Ap6AxkmirossTa8xsuSQ7wVbaXnjux9GhjROhdiOeWigVUxaWRaL2gvD2/wsYCaXu3JE/5ivS2p/kkQEiYGK93c/9G3tze/0iTkkzHH1RoUZaSqSTiD5dz9EemVRgnzAUgJRfyVBXfMc8m9LEnZ86L3YPrIyjFUag5QxdII0RY199q6MpbMoDyBE8hgSDvi9JcaCQkQeaVm+F4YF1dMCgClzXL1x63BX1gMIpPUdSW4i17eXzDiOSJN3G7pNQ7AkfdUoKRJ0V7idT23y2QuRUgiTLFKz2uyAYoEa2Wof4L4rinaKq40IZzxlSSdM6N1O8+B4bFiSJeKSR1piMQKFiUSUxwHalDFg8bZpWbyETMKsdTTVYTyAm13fdoI1FFLIOAgemNF0TQaNXUBmjuE4hxYalSGKRU+76Saz8Mt5WS2B1HZUSPASnnjkUPRMIrdhza4BxYTw+6cfDdXf3K+mMoTwNd6XWOp+hXJGloBLdHSK+o4E9KR2X1RYrNABg2UjUO2Tj+tSclFeGtmIV8bQdL2IDQbWbTOwEaoDb9Bd4Y6WBvT1bJXO7K2KqmkbFKxZ0Cz2WGwjl+PnH8SDjCSbvAq2O+KBLhGNuALGILPKVw+9Tm2GQ69Lr1dmr2Uqy6g23UDavBVfKbUQKQ7THFOfLDwyzTJym+yBYVdHuTxMH4L4QZIDlLvOcYnBxhQbmD2dn9cgEkuVUAAcwRhEbCtQBOCmwLGFjQMNoDYyr0jRzp38eB1+ziSGI7LDph1dFbzD0bRIFmEgmXelUa7PpPaxtGCdK64NI01DLO11RuJghUfmeRQFlBFmIAOOOHCFHFBELzvGq0DfLDkGSgQZ2Pt31lh0n/s25HocN+kiwqIKtntOxXQEknRAr/YPoZQxLAtrW4wUuEw51pk9EykIYJ5dOehiFNnAvfNVZN+cqkK3in5lQMqCW7dI60GbkgSTz9+WPUJf0cEkScviIc6lkrZlVXxHJcM2DrusC/lUS373LhI+RG8iknoI0pbmM3r7IzReC826hwXvABzJ+XUYptkI6isaTClKCuNewvvBpWyNy5HuPQJcHgxskCV8SDCGZm4eFqmzKGnR/Pwo3WEnsCxr9fcXDaDZ1JI93YNr1JjDd52mPU6IVR1UFTcwViIuXrvVpN2zVVYZVYsQdm1kYhHJEvkUe/j3ug9E7DsiUge71eRyBUu5A+TcEIRUP/td8uTeds/iIHxfmPTZ9wQrGDZIg44L02ZALPmMcoKMlzTOTjdZL6SHovSdL3rOkqYAesq+p6kbriOQX8zDJNBgxlBw6JHgFCQRPsYl9hmyzpd6uUzsEKTMqcizu7YYgDlVEMM0OynIXUgSv59mZFcj1P7IPqOxyHrq90z0vD/u389nrgCDnUuBqGwtqy+W1syviBTV9WHvgg9pp/fXzwULmFHnPkRdx7ITjIUxjJDRhb9sQTcKxjW6GvXc056Xqe7vPHc+c/4pBTRcguj3OxFkuYd89lX6m1LW2WotD4IShkZXTcc9DJxblRI8pK6pGrgwLGiUqhRMnIaVm6ntEdggYPBV0lySyTAY2UoV5jVe0kNe6gwj20oBb0de+cPd5/7jYZfhN+x73ZSdmG7Kehpx//dcJ9qqgTzPrCqFIHky/T10bAY9C9/JS2YcShsgrcu9Fx9cV2LMIZE9ZFMjP2FAsY0v2JVVg4f6jnTS9OO003oultzREBlNUoDc1DxMJN6kg4K/edLcTke+kssXC2vrm+lq6PRoLruLoD1vy57du9cWUXbrhcEUd33KSgb0VYqrhXEiW/1NqcPRNlSpwwgFOS79JRooJXxppDLVJdKxWxdp7JD5LjkjUL9PDSPK0oO+vg1+hp1DfgfFw4q9D83HsEnXXxtwkhA7MFtL1E+rVZQPPSpk4H0B6TLjpEXKWsV+SWD1DkWCkXRWSER+og64v6gsapFsHi/iuscY1gzvFB72mWnyjFZr0AYvcdcD/CrNYgLqnjes/rckW1A/m00DiZpIjRwMlCIg4Zj7NDND6XOhajxpfTBL6KTm0wrTfBIkJPvNaLSdGEfZVJfV/NQq0katK6laIktM4OJMh/uu9YMsd2/Fw6rUerdPsKqtyHCPiLKTISsmzff0n5u2f5aooICC2sZnv3pgkUS0AWL8HOnWRprQ6wfUT6AZkgOz0nX3Y/3zBIbPy94ckXzWzWSy0qlhk1riGV+pfXbnfHpPnVgkUmt2WJJ0XPsu1YG9T5EYFABPKmfGC6J/JZtFn7YTJaKWRT+tX0cYp67kkXHpOW7ck1G5U7O+5G1MVjsqxzPuUidTXGDxrIHpSb6rK9/jJXxdWwJ1ZbFnEt0dz1ZyZN/XxBtncHu3wdlh7OzWTygNwH08Q8zOxiJnBnkimBAk2GjNa7atRXt2VWpcpMwTOASrxXCAwQoJ5L0YzyQOv+bwUYexlOFXSPc9b2TGJ/UIBXhkb/JEywfM3rDfKeFGtMPF2uf/NP5Odv5+6Ggm61lyJ8AYPhcS1LHMbbDAmGh1riGqQmOAuLYpaGuG+txWUS9Ecl1GSphXRV6UmyqI+hrcwWmU0BavAjSh13tBHRsLKkuZtCTGO+tzyf/MuPVDx4fHI5v4a1IbdsdFkVJqjHYY0koGplWuOH7OJ+wNFmeyUrUirUZjkuV5LKE6zHdASuwSt9wn1v0kqSUdCVOy2wwGqX16Zy1VXZ5xQIDpJ9llb+brKLXw/Q56tkGr/3xo+n4H54hYJJSovV9DKMAYBdsrbKdMBVKGxFjiOcrkgZuTX21wbG99M7uaem2aJXerMxamfpRqCIZq3sbuxrjJ2b00FmNIxzWJdw66rHz1+hp3YO1Q7v8rtidQHERYQXm9NklKWSBLVJXUiKb6tpsgLjNJwX3AFQZkJ/MzEb4SbJD6yNgZ9uxiqjr8Dn1DjNtBdkkKX2uN7LbZHjFLxFgkhK+ub7UaI7vTshNxJ6/DCqRQVHXPcBFTqfJbMTFhkWZ3PhwhnHEQjb8B7OzsKht8D+Xhp06v0i5yMWjpwO/ssQjN7TIbhgWpuUBV15nd3slv6IoXjAOGo7p5fmKTXdbnVLSkXV3FZ3bxviaG7M6Oeg+aEKa76mURyA5zoOCH34dFS7ap4/QgCZNKK9gSuMsuUgz2ijBwGImtCYinbSzKvXXbyZoBdEVJSUgyKkY3gu30CZu6aD1tiTrFVA0xTANa7ENyvWuuRjHeFcS7oW78xqr1b7FURmbZRMbo2BIDZMbiBou5ixZsKx+Eu6e1FSBzZel7uxWogvQabDj2bHbZioT9gGeMMvJ7WCkaiJ1xTvN9kL6X9Ryy5BFHpeig1LYBUHeUvvPuq9gMmIiZYt8NMMlH2Ge0qy22l0ePRK0QJIbWvPTbPGCqZ7Nde4tZFHV+khrjiRhDHmpIJare5X2rVT/I4LE61JLA5UgIQu5HNp9xZ6fKg1qx4pwotbQPwiuyRmIakwmyzMQqQgp3zpOv3/Ab3HZqXHGPOL1PFsDKMhZ0uqmyXjXW1SafIc/2CsbDtzE1ajV9END2tm60zxMMo9TcY7ETNGZ0Ket6ZnYrrMkBfM//zgrUSlpEtb+ehQhg5DN6/aRrH7URaGLGsIdixS8C15A9sg/YVMUitUWbEKy4+ZQxbBuEcXMlU0+jWzLQUVeteCoW15ByTJvcIMxdAFZCx0wG/nVFtRX3cemEj1X1Bw8wY+iPQpNuMi+EhB4xGs/s3hVE7vQBOYUcGWWdZ6tjr9C1LVweCCeNPZF90LyKW6xWDEDXIKTIrLqXkRyE22iruktH4xh+181/7pyL6STIb2KbJd3uCqkL2A0ZOykXU1RWbJvUoK733g4qCe4u93N1VIaa6Ad5s7Tww5/+Gzfs79TYo6cLP/zJ24//57++6Ltu4e3TtJ97jJW8cOENNoqCysKfvf4U1y78+A1hjKP+AO7j3/9ng9vTrP3Lr/vu87jxxc7j//6PmK/5Es+Rv//93Zdy7g+/7WPKx4/5ev6j50ALP37rbX4JuK319NiP3jrDY/w5T2xj4Qd//iXlW6pGULGmpZanoVoWXnujgD723fO1NxqwCxd+8LPPR+nXkSQGSEGVDy5TOPOIUbdlyuculd/5JfWib93WtWyGxjZB/jZz8jy1Zb8NQO41OiI97y2Pjo0gEXyA0pPGe+qjfF3m6eqNeyLdR9jl78gSA/T497/7kjmS4d4cY/nuL5lz7/DKLfBK3Bx0/cKf/qxBs1L93TSg7DS/PmZOfyA/oV0s/gmvCpEyeD9oRb/MtPCjN+WlW2K8+RcwriEVRZrxmIwr0fg7XyxcePP6wmtvPj1MOk/6eyV9ZO7qPSlaSmTL6Qpz6O2B10J6JJIAFEhI3LwIMZKQZJzPd9zBF2QP0RMltYNkWynJyNescY00H5VcC9HZ24fVsx7JKxlEYowC+gWTILaiUG0fyNIL3rzK/ewmM6TL9rExje2T0nsD30Ck9oANb6bPGJ3knmWJaxzwSwav6PnRYcwxFRsjS9B9bF/ApbpP35z5B8rtf46kEz62xediekUvBPFcNNhuCXhu/p69wzO9nuTUbIwsCQfmODx/ZndF3qvNcahee0UnS1qZliyzd7jSOzfHwhjy0E8EaNmGAWrMcVkKnEfYVOVloUwp59Hvxfc5jrGTeVLQrKuEdOo2Ri9Zyt5cGlORzCbbrlFJU+Kz6fC9P7InLbU9PT36OGp2dH+NR2SvMR2e8R0POBZlMsC3qZOxhX5sdV2p10WGSq7K7sc+A83/JpvGa5ojtAkZYRorybl1aqeb2/rv+qTj+QHfzWyS29WnyEIUwJCK2Y3fjp0xQJJ9ZDvv2/uG1LoOi6v4SGenDqObWpnNWzwNuxakOZqNNJ4yhQjo86CugNwUt1/QmJebDxzVfLDtZBjDsoqQqoZMrdpn08tmfkVHI8umQ1rlumSItdvyQ4knwhjSAP191gLp7rg+p6DQk0dZoKP+4MvwQp/e655mRHGhL59T8z4Kdi62M9uU3ZJ6lHZD/UHCzdiP+vmQu1KceR51korSrHhKd0fuiP1mWu7oyypQHe9y7H6Gw/udrf7rrgTM1ufEJL/L4honxhgg7JwjZY9h7p78dqlPsOku3xusKo5CvWrGknHHqVmdhLIZYNNSXYYTZcsaCl0lDFmmymbVy7lAfhyg64YD2oZn/D8pcUShcyMVEAAAAABJRU5ErkJggg==);background-size:100%;background-repeat:no-repeat;margin:auto}.editioncrafter .third_pane_blank{min-width:8px}.editioncrafter .navigationComponent{position:sticky;display:none;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;border-radius:max(.3rem,4.8px);font-family:Inter,sans-serif;font-size:14px;justify-content:space-between;align-items:center;align-self:stretch}@container diplomatic (min-width: 600px){.editioncrafter .navigationComponent{top:80px}}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponent{top:0;left:0;display:flex}}.editioncrafter .navigationComponent button{cursor:pointer}.editioncrafter .navigationComponentNarrow{display:flex;width:auto;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;font-size:14px}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponentNarrow{display:none}}.editioncrafter .navigationComponentNarrow button{cursor:pointer}.editioncrafter .dropdownV2{width:150px;margin-right:10px}.editioncrafter .toolbar-side{display:flex;gap:10px;height:48px;align-items:center;justify-content:center}.editioncrafter .nav-arrow{height:18px;width:18px}.editioncrafter .nav-arrow svg{height:100%;width:100%}.editioncrafter .imageViewComponent .navigationComponent{background-color:#4a4a4a;border-radius:max(.3rem,4.8px);opacity:.8}@container diplomatic (min-width: 960px){.editioncrafter .imageViewComponent .navigationComponent{background-color:#000;color:#fff;border-radius:0;opacity:1}}.editioncrafter .imageViewComponent .navigationComponentNarrow{background-color:#000;color:#fff;border-radius:0;opacity:1}.editioncrafter .transcriptionViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter #doc-type-help:after{color:#978e8e}.editioncrafter #doc-type-help .dark .MuiSvgIcon-root.MuiSelect-icon{color:#fff}.editioncrafter .breadcrumbs{overflow-x:hidden;display:hidden;align-items:baseline;width:100%;justify-content:space-between;align-items:center;gap:10px}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbs{display:flex}}.editioncrafter .breadcrumbs .vertical-separator{height:24px}.editioncrafter .breadcrumbsNarrow{overflow-x:hidden;display:flex;align-items:baseline;max-width:70%}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbsNarrow{display:none}}.editioncrafter .breadcrumbs .folio-path{display:flex;gap:6px;font-weight:400}.editioncrafter .breadcrumbs .folio-path .document-title{max-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .breadcrumbs .folioName,.editioncrafter .breadcrumbsNarrow .folioName{font-size:14px;font-weight:700;text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:none;text-decoration-thickness:auto;text-underline-offset:auto;text-underline-position:from-font}.editioncrafter .grid-view-button{height:18px;width:18px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none}.editioncrafter .grid-view-button svg{height:18px;width:18px}.editioncrafter .imageViewComponent .grid-view-button{color:#fff}.editioncrafter .toggle-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none;color:#6f747c;display:flex;width:32px;height:32px;padding:8px;justify-content:center;align-items:center;gap:10px;border-radius:5px}.editioncrafter .imageViewComponent .toggle-button{background:none;color:#fff}.editioncrafter .toggle-button.active{background:#07529a;color:#fff}.editioncrafter .tag-bar{display:flex;position:absolute;background:#f3f4f7;width:100%;z-index:100}.editioncrafter .tag-bar-close{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:48px;width:48px;display:flex;align-items:center;justify-content:center;border:none;background:none;border-radius:50%}.editioncrafter .tag-bar-close:hover{cursor:pointer;background-color:#ddd}.editioncrafter .tag-bar-close svg{height:24px;width:24px}.editioncrafter .tag-list{width:calc(100% - 30px);top:46px;display:flex;flex-wrap:wrap;align-items:center;gap:6px;align-self:stretch;padding:8px 16px}.editioncrafter .tag-list button{display:flex;padding:6px 10px;justify-content:center;align-items:center;gap:4px;border-radius:50px;border:1px solid rgba(10,10,10,.2);background:#fff}.editioncrafter .tag-list button.active{background-color:#07529a;color:#fff}.editioncrafter .tag-list button:hover{cursor:pointer}.editioncrafter .tag-list .tag-label{display:flex;align-items:center;gap:6px}.editioncrafter .imageViewComponent .tag-bar{background:#242629;top:44px}.editioncrafter .imageViewComponent .tag-bar *{color:#fff}.editioncrafter .imageViewComponent .tag-bar .tag-list button{background-color:#484b51}.editioncrafter .imageViewComponent .tag-bar .tag-list button.active{background-color:#07529a;color:#fff}.editioncrafter .imageViewComponent .tag-bar .tag-bar-close:hover{background:#898888}.editioncrafter .book-mode-toggles{cursor:pointer}.editioncrafter .lockmode-container{display:flex;align-items:center;justify-content:space-between;width:100%}.editioncrafter .lockmode-container:hover{cursor:pointer}.editioncrafter .lockmode-container .switch{width:42px;position:relative;background-color:#f3f4f7;border-radius:5px;transition:all .2s ease-out;display:flex;padding:1px;align-items:center;gap:10px;height:22px}.editioncrafter .lockmode-container .switch:hover{cursor:pointer}.editioncrafter .imageViewComponent .lockmode-container .switch{background-color:#242629}.editioncrafter .lockmode-container .switch .slider{position:absolute;left:calc(50% - 20px);top:calc(50% - 10px);border-radius:5px;transition:all .2s ease-out;background-color:#fff;display:flex;width:20px;height:20px;justify-content:center;align-items:center;gap:10px;flex-shrink:0}.editioncrafter .lockmode-container .switch .slider svg{height:12px;width:12px}.editioncrafter .imageViewComponent .lockmode-container .slider{background-color:#0a0a0a}.editioncrafter .lockmode-container input{opacity:0;width:0;height:0;position:absolute}.editioncrafter .lockmode-container input:checked+.switch{background-color:#07529a}.editioncrafter .lockmode-container input:checked+.switch .slider{left:calc(50% + 0px)}.editioncrafter .book-mode-toggles button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#f3f4f7;border:none;height:32px;width:32px;color:#6f747c}.editioncrafter .book-mode-toggles button svg{height:100%;width:100%}.editioncrafter .book-mode-toggles .document-pages-icon{stroke-width:0;fill:#6f747c}.editioncrafter .book-mode-toggles button.selected,.editioncrafter .imageViewComponent .book-mode-toggles button.selected{background-color:#07529a;color:#fff;stroke:#fff}.editioncrafter .book-mode-toggles button.selected .document-pages-icon{fill:#fff}.editioncrafter .book-mode-toggles button:nth-child(1){border-radius:5px 0 0 5px}.editioncrafter .book-mode-toggles button:nth-child(2){border-radius:0 5px 5px 0}.editioncrafter .imageViewComponent .book-mode-toggles button{background-color:#242629;color:#6f747c}.editioncrafter .closeX{float:right;padding:3px;font-style:bold}.editioncrafter .closeX:hover{cursor:pointer}.editioncrafter .helpContainer .MuiListItem-root{display:flex;gap:10px}.editioncrafter .helpContainer{padding:12px;width:335px;height:min(600px,100vh - 40px);position:relative;top:40px;overflow-x:auto}.editioncrafter .helpContainer .readingGuide td{padding:8px}.editioncrafter .helpContainer .readingGuide h2{margin-top:16px;margin-bottom:10px}.editioncrafter .searchHelpContainer{padding:10px 15px 10px 0;width:335px}.editioncrafter .helpHeader{text-align:center}.editioncrafter .paginationComponent{white-space:nowrap;text-align:center;font-size:max(1.2rem,19.2px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:52px}@container diplomatic (min-width: 960px){.editioncrafter .paginationComponent{margin-bottom:0}}.editioncrafter .paginationComponent.bottom{margin-top:0}.editioncrafter .paginationControl{padding:16px}.editioncrafter .paginationControl .arrow{font-size:max(1.8rem,28.8px);color:#4a4a4a;margin:max(1rem,16px) max(1rem,16px) 0;cursor:pointer;display:inline-block}.editioncrafter .arrow svg{font-size:inherit!important}.editioncrafter .paginationControl .folioName{position:relative;top:min(-.2rem,-3.2px);color:#4a4a4a}#diplomatic.editioncrafter{container-type:inline-size;container-name:diplomatic}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #annotation-list-view h1,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3,#diplomatic.editioncrafter #annotation-list-view h4{font-family:Lato,sans-serif;color:#000;padding:0;margin:0}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter #annotation-list-view h1{font-family:Taviraj,serif;font-size:32px}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3{font-weight:700}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter #annotation-list-view h2{font-size:22px}#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #annotation-list-view h3{font-size:18px}#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #annotation-list-view h4{font-size:18px;font-weight:700}#diplomatic.editioncrafter #content-view p,#diplomatic.editioncrafter .header-wrapper p,#diplomatic.editioncrafter #annotation-list-view p{font-family:Martel,serif;line-height:1.25}#diplomatic.editioncrafter #content-view span,#diplomatic.editioncrafter .header-wrapper span,#diplomatic.editioncrafter #annotation-list-view span{font-family:Martel,serif;line-height:1.25;margin:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button{color:#fff;padding:10px 70px;border-radius:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span{font-family:Lato,sans-serif;font-size:20px}#diplomatic.editioncrafter #content-view a,#diplomatic.editioncrafter .header-wrapper a,#diplomatic.editioncrafter #annotation-list-view a{color:#792421}#diplomatic.editioncrafter #content-view a:hover,#diplomatic.editioncrafter .header-wrapper a:hover,#diplomatic.editioncrafter #annotation-list-view a:hover{color:#cba374}#diplomatic.editioncrafter #content-view .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter .header-wrapper .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter #annotation-list-view .cta-link.MuiLink-underlineHover:hover{text-decoration:none}#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{color:#000;text-align:center;width:fit-content;text-decoration:none;font-family:Lato,sans-serif;font-size:16px;font-weight:700;position:relative;cursor:pointer;margin-bottom:5px}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{font-size:18px}}#diplomatic.editioncrafter #content-view a.cta-link:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:before{position:absolute;content:"";height:2px;background-color:#000;width:50%;right:30%;bottom:-5px;border-radius:2px}#diplomatic.editioncrafter #content-view a.cta-link:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link:hover:after,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.active:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link.active:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.light,#diplomatic.editioncrafter .header-wrapper a.cta-link.light,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light{color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:before{background-color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:hover:before{background-color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.video-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.video-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.video-link:after{content:"";font-size:12px;margin-bottom:-2px}#diplomatic.editioncrafter #content-view a.cta-link.search-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.search-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.search-link:after{font-family:Material Icons;content:"search";font-size:16px}#diplomatic.editioncrafter #header{width:100%;padding:0 20px;background-color:#fff;border-radius:0}@container diplomatic (min-width: 1280px){#diplomatic.editioncrafter #header{padding:5px 50px}}#diplomatic.editioncrafter #header img{width:210px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #header img{width:300px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #header img{width:300px}}#diplomatic.editioncrafter #header .expandedViewOnly{width:100%}#diplomatic.editioncrafter #header .nav-item{font-size:16px;margin-right:5px;white-space:nowrap;margin-bottom:15px}#diplomatic.editioncrafter #header .search-btn{margin-bottom:10px;font-size:18px}#diplomatic.editioncrafter .maroon-dropdown{background-color:#460c0a;border-radius:0;-webkit-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);-moz-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);box-shadow:inset 0 5px 5px -5px #000c,0 5px 5px -5px #000c}#diplomatic.editioncrafter .mobile-menu{padding:50px 0}#diplomatic.editioncrafter .mobile-menu .list-container{position:relative}#diplomatic.editioncrafter .mobile-menu .list-container .list{color:"white"}#diplomatic.editioncrafter .search-bar{height:162px}#diplomatic.editioncrafter .search-bar .label{font-size:32px;color:#fff;font-weight:400;white-space:nowrap}#diplomatic.editioncrafter .search-bar .content{width:50%}#diplomatic.editioncrafter .search-bar #search input{border:1px solid #DEDEDF;border-radius:4px;width:300px;height:38px;font-size:14px;padding:5px 15px;font-family:Lato,sans-serif}#diplomatic.editioncrafter.sticky .header-wrapper.sticky{position:sticky;top:0;z-index:2}#diplomatic.editioncrafter #footer{color:#fff;background-color:#460c0a;display:flex;flex-direction:column;padding:10px 20px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer{padding:20px 30px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #footer{padding:30px 40px}}#diplomatic.editioncrafter #footer p,#diplomatic.editioncrafter #footer a{font-family:Lato,sans-serif;font-size:16px;color:#fafafa;line-height:1.5;margin:0}#diplomatic.editioncrafter #footer a:hover{color:#cba374;fill:#cba374}#diplomatic.editioncrafter #footer .top{margin-bottom:10px}#diplomatic.editioncrafter #footer .top p{margin:0 5px;white-space:nowrap}#diplomatic.editioncrafter #footer .doi{text-align:center}#diplomatic.editioncrafter #footer .copyright .symbols{text-decoration:none}#diplomatic.editioncrafter #footer .copyright svg{width:14px;height:14px}#diplomatic.editioncrafter #footer .logos{margin-bottom:10px}#diplomatic.editioncrafter #footer .logos img{width:150px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:200px}}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:250px}}#diplomatic.editioncrafter #footer .footer-links{width:100%;text-align:center;font-size:12px;line-height:2}#diplomatic.editioncrafter{background:#fff;width:auto;height:min(100%,100dvh);overflow-y:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:OpenSans,sans-serif;font-size:max(.9rem,14.4px)}#diplomatic.editioncrafter #content{line-height:max(1.2rem,19.2px)}#diplomatic.editioncrafter h1,#diplomatic.editioncrafter h2,#diplomatic.editioncrafter h3,#diplomatic.editioncrafter h4{color:#000000b8;font-family:OpenSans,sans-serif;font-weight:700;padding:0;line-height:max(1.5rem,24px)}.editioncrafter .imageGridComponent{background-color:#000;font-size:max(.8rem,12.8px);overflow:scroll;height:100%;max-height:100dvh}.editioncrafter .imageGridComponent .thumbnail{background-color:inherit;border:none}.editioncrafter .imageGridComponent>ul{display:flex;flex-wrap:wrap;list-style:none;padding-left:0;margin:max(1.5rem,24px) 0 max(8rem,128px) max(2rem,32px)}.editioncrafter .imageGridComponent>ul>li{margin-bottom:20px;width:150px}.editioncrafter .imageGridComponent>ul>li>figure{margin:8px}.editioncrafter .imageGridComponent>ul>li>figure:hover{border:2px #eee solid;margin:6px}.editioncrafter .imageGridComponent>ul>li>.thumbnail-caption{text-align:center;color:#fff;margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .hidden{display:none}.editioncrafter .imageGridComponent .imageGridToolbar{padding:5px;color:#fff}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to{float:right;display:"inline";margin-right:30px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-input{margin-left:5px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-button{margin-left:5px;cursor:pointer}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select{display:inline;margin-left:30px;font-size:max(.8rem,12.8px)}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select .MuiInputBase-root{font-size:max(.8rem,12.8px)}.editioncrafter .split-pane-view{height:100%;width:100%;display:grid}.editioncrafter .split-pane-view.two-pane{grid-template-areas:"image_viewer divider transcription"}.editioncrafter .split-pane-view.three-pane{grid-template-areas:"image_viewer divider transcription divider_two third_pane"}.editioncrafter .split-pane-view>.divider{z-index:2;width:max(1rem,16px);background:#bbb;cursor:ew-resize;display:flex}.editioncrafter .split-pane-view>.divider.first_divider{grid-area:divider}.editioncrafter .split-pane-view>.divider.second_divider{grid-area:divider_two}.editioncrafter .split-pane-view>.divider>.drawer-button{align-self:center;cursor:auto}.editioncrafter .split-pane-view>.divider>.drawer-button:hover{color:#fff}.editioncrafter .split-pane-view>.divider>.hidden{display:none}.editioncrafter .split-pane-view #annotation-view{font-size:16px}.editioncrafter #image-view-seadragon-left,.editioncrafter #image-view-seadragon-right,.editioncrafter #image-view-seadragon-third{width:100%;height:100%;max-height:100dvh;grid-area:image_viewer;background:#000}.editioncrafter .imageViewComponent{position:relative;padding:0;margin:0;width:100%;height:100%;max-height:100dvh}.editioncrafter .imageViewComponent .navigationComponent{position:absolute}.editioncrafter .a9s-annotation.a9s-annotation.selected>rect,.editioncrafter .a9s-annotation.a9s-annotation.selected>polygon{stroke:#4385f6!important;stroke-linejoin:round;fill:#4385f61a!important}.editioncrafter .a9s-annotation.a9s-annotation.hover>rect,.editioncrafter .a9s-annotation.a9s-annotation.hover>polygon{stroke:#4385f6!important;stroke-linejoin:round}.editioncrafter .ImageZoomControl{position:absolute;z-index:1;top:max(8rem,128px);color:#fff;list-style:none;background:#4a4a4a;opacity:.4;margin:0;padding:max(.4rem,6.4px) max(.5rem,8px);border-radius:max(.3rem,4.8px)}@container diplomatic (min-width: 960px){.editioncrafter .ImageZoomControl{top:max(4rem,64px);left:max(2rem,32px)}}.editioncrafter .ImageZoomControl>li{color:#e0e0e0;margin:0!important}.editioncrafter .ImageZoomControl>li>.zoom-in{margin-top:8px}.editioncrafter .ImageZoomControl>li:hover{color:#fff}.editioncrafter .ImageZoomControl>li>.zoom-3{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-2{margin-top:8px;margin-left:5px}.editioncrafter .ImageZoomControl>li>.zoom-1{margin-top:8px;margin-left:7px}.editioncrafter .ImageZoomControl>li>.zoom-out{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-grid{margin-top:30px}.editioncrafter .transcriptionViewComponent .transcriptContent{padding:50px 16px;font-size:max(.9rem,14.4px);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@container diplomatic (min-width: 960px){.editioncrafter .transcriptionViewComponent .transcriptContent{padding:5px 16px}}.editioncrafter .transcriptionViewComponent .transcriptContent figure{display:inline-flex;flex-direction:column;width:100%;align-items:center;gap:6px}.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-middle],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-top],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-bottom]{max-width:250px}.editioncrafter .transcriptionViewComponent .transcriptContent .x-small-inline-figure{margin:5px;border:1px solid gray;width:30px}.editioncrafter .transcriptionViewComponent .transcriptContent .small-inline-figure{margin:5px;border:1px solid gray;width:60px}.editioncrafter .transcriptionViewComponent .transcriptContent .medium-inline-figure{margin:5px;border:1px solid gray;width:200px}.editioncrafter .transcriptionViewComponent .transcriptContent .large-inline-figure{margin:5px;border:1px solid gray;width:350px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface{grid-area:transcription;margin:0;padding:0;list-style:none}.editioncrafter .transcriptionViewComponent .transcriptContent .grid-mode{display:grid;grid-auto-rows:minmax(min-content,0fr);grid-gap:2px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>.small-font{font-size:11pt}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>div{padding:10px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z0{grid-area:z0}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z1{grid-area:z1}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z2{grid-area:z2}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z3{grid-area:z3}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z4{grid-area:z4}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z5{grid-area:z5}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z6{grid-area:z6}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z7{grid-area:z7}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z8{grid-area:z8}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z9{grid-area:z9}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z10{grid-area:z10}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z11{grid-area:z11}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z12{grid-area:z12}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z13{grid-area:z13}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z14{grid-area:z14}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z15{grid-area:z15}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z16{grid-area:z16}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z17{grid-area:z17}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z18{grid-area:z18}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z19{grid-area:z19}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z20{grid-area:z20}.editioncrafter .transcriptionViewComponent .transcriptContent .highlight{background-color:#ff0}.editioncrafter tei-line{display:block}.editioncrafter tei-add{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-seg.active{background:#d4e9ff}.editioncrafter div.active{background:#f1f3f5;border-radius:5px}.editioncrafter .selected-zone{background:#eaf1fd;border-radius:5px}.editioncrafter .editor-comment-content{word-wrap:break-word}.editioncrafter .inline-image{max-width:90%;max-height:360px;margin:auto;text-align:center}.editioncrafter .xmlViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter .xmlContent{padding:0;margin:4.5rem 0 0;width:calc(100% - 1.2rem);max-height:100vh;min-height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}.editioncrafter .xmlViewComponent{overflow:auto;margin:0 0 0 max(1rem,16px);max-height:calc(100vh - max(7rem,112px))}.editioncrafter .xmlContentInner{max-height:100%}.editioncrafter .xmlContentInner pre{overflow-x:auto}.editioncrafter #glossaryView #glossaryViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryViewInner{margin:52px 0 0}}.editioncrafter #glossaryView .cite-header{text-align:center;margin-bottom:5px}.editioncrafter #glossaryView .cite-instructions{margin:20px 15%}.editioncrafter #glossaryView .glossaryNav{background:#fff;padding:5px;position:relative}.editioncrafter #glossaryView .glossaryNav #glossary-filter{margin-right:10px}.editioncrafter #glossaryView .glossaryNav .alphaNav{display:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .glossaryNav .alphaNav{display:block}}.editioncrafter #glossaryView .alphaNav{color:#00f;display:inline}.editioncrafter #glossaryView .title{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-size:max(1.8rem,28.8px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .title{top:-1em}}.editioncrafter #glossaryView .subtitle{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-style:italic;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .subtitle{top:-1em}}.editioncrafter #glossaryView #glossaryContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter #notesView #notesViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}.editioncrafter #notesView #notesContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #notesView #notesContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter #notesView #notesContent table{margin-top:30px}.editioncrafter #notesView #notesContent td,.editioncrafter #notesView #notesContent th{border:1px solid #ddd;padding:8px}.editioncrafter #notesView #notesContent tr:nth-child(2n){background-color:#f2f2f2}.editioncrafter #notesView #notesContent th{padding-top:12px;padding-bottom:12px;text-align:left;background-color:gray;color:#fff}.editioncrafter .jumpToFolio_component{margin:max(1rem,16px) 0 0 min(-4.5rem,-72px);padding:max(.6rem,9.6px);height:max(1.2rem,19.2px);width:max(9.5rem,152px);background:#e7e7e7;border:1px solid rgba(90,98,102,.53);border-radius:max(.3rem,4.8px);-webkit-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);-moz-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);box-shadow:6px 6px 5px #00000036;font-family:sans-serif}.editioncrafter .jumpToFolio_component input:focus{outline:none}.editioncrafter .jumpToFolio_component:after,.editioncrafter .jumpToFolio_component:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.editioncrafter .jumpToFolio_component:after{border-color:#fff0;border-bottom-color:#e7e7e7;border-width:9px;margin-left:-9px}.editioncrafter .jumpToFolio_component:before{border-color:#c2e1f500;border-bottom-color:#5a626687;border-width:11px;margin-left:-11px}.editioncrafter [lang=ar],.editioncrafter [lang=ota],.editioncrafter [lang=fa],.editioncrafter [lang=he],.editioncrafter [lang*=-Arab-AR]{direction:rtl;text-align:right}.editioncrafter [lang=en],.editioncrafter [lang=fr],.editioncrafter [lang=de],.editioncrafter [lang=it],.editioncrafter [lang*=ar-Latn-],.editioncrafter [lang*=ota-Latn-]{direction:ltr;text-align:left}.editioncrafter tei-choice tei-abbr+tei-expan:before,.editioncrafter tei-choice tei-expan+tei-abbr:before,.editioncrafter tei-choice tei-sic+tei-corr:before,.editioncrafter tei-choice tei-corr+tei-sic:before,.editioncrafter tei-choice tei-orig+tei-reg:before,.editioncrafter tei-choice tei-reg+tei-orig:before{content:" ("}.editioncrafter tei-choice tei-abbr+tei-expan:after,.editioncrafter tei-choice tei-expan+tei-abbr:after,.editioncrafter tei-choice tei-sic+tei-corr:after,.editioncrafter tei-choice tei-corr+tei-sic:after,.editioncrafter tei-choice tei-orig+tei-reg:after,.editioncrafter tei-choice tei-reg+tei-orig:after{content:")"}.editioncrafter tei-ab{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-accMat{display:block}.editioncrafter tei-accMat:before{content:"accompanying materials: "}.editioncrafter tei-acquisition{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-acquisition:before{font-weight:700;content:"acquisition"}.editioncrafter tei-activity{display:block}.editioncrafter tei-activity:before{content:"activity: "}.editioncrafter tei-add[place=above]{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-add[place=inline]:before{content:"«"}.editioncrafter tei-add[place=inline]:after{content:"»"}.editioncrafter tei-add[place=below]{vertical-align:sub}.editioncrafter tei-additional{display:block}.editioncrafter tei-additions{display:block}.editioncrafter tei-additions:before{content:"Significant additions within the document: "}.editioncrafter tei-addrLine{display:block}.editioncrafter tei-address[data-tei-rend~=block],.editioncrafter addresss[data-tei-rendition~="#block"]{display:block}.editioncrafter tei-adminInfo{display:block}.editioncrafter tei-app tei-note{display:none}.editioncrafter tei-appInfo{display:block}.editioncrafter tei-appInfo:before{content:"Application information: "}.editioncrafter tei-application{display:block}.editioncrafter tei-application:after{content:" " attr(version)}.editioncrafter tei-argument{display:block}.editioncrafter tei-att{font-family:Courier,monospace}.editioncrafter tei-att:before{content:"@"}.editioncrafter tei-titlestmt>tei-author{display:block;margin-bottom:1em}.editioncrafter tei-publicationstmt>tei-availability{font-size:80%}.editioncrafter tei-publicationstmt>tei-availability:before{font-weight:700;content:"Availability: "}.editioncrafter tei-publicationstmt>tei-availability[data-tei-status]:before{font-weight:700;content:"Availability (" attr(status) "): "}.editioncrafter tei-back{display:block}.editioncrafter tei-bibl[data-tei-rend~=block],.editioncrafter bibl[data-tei-rendition~="#block"]{display:block;padding-left:2em;text-indent:-2em}.editioncrafter tei-biblFull{display:block}.editioncrafter tei-binding{display:block}.editioncrafter tei-binding:before{content:"Binding: \\a";white-space:pre-wrap}.editioncrafter tei-binding[data-tei-contemporary]:before{content:"Binding: \\a" "Contemporary: " attr(contemporary) "\\a";white-space:pre-wrap}.editioncrafter tei-bindingdesc{display:block}.editioncrafter tei-bindngdesc:before{content:"Binding description: \\a"}.editioncrafter tei-birth{display:block}.editioncrafter tei-birth:before{content:"Birth: "}.editioncrafter tei-cRefPattern{display:none}.editioncrafter tei-caption{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-case[data-tei-value]:before{font-weight:700;content:attr(value) " "}.editioncrafter tei-castgroup{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-castitem{display:list-item}.editioncrafter tei-castlist{display:block;list-style-type:none;margin-top:1em;margin-bottom:1em;margin-left:2em}.editioncrafter tei-cb{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-cb:before{content:"[column break]"}.editioncrafter tei-cell{border-right:thin solid black;border-bottom:thin solid black;padding:2px}.editioncrafter tei-cell[data-tei-role=label]{font-weight:700}.editioncrafter tei-climate{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-climate:before{font-weight:700;content:"Climate: "}.editioncrafter tei-code{font-family:Courier,monospace}.editioncrafter tei-collation{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-condition{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution:before{font-weight:700;content:"Constitution: "}.editioncrafter tei-constitution[data-tei-type]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type]:before{font-weight:700;content:"Constitution (" attr(type) "): "}.editioncrafter tei-constitution[data-tei-type=frags]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type=frags]:before{font-weight:700;content:"Constitution (fragments): "}.editioncrafter tei-custevent{display:list-item}.editioncrafter tei-custodialhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-date[data-tei-when]:empty:before{content:attr(when)}.editioncrafter tei-del{color:red}.editioncrafter tei-editionstmt{display:block}.editioncrafter teieg-egxml{display:block;font-size:80%;margin-left:1em;padding-left:1em;border-left:1px solid #aaaaaa;margin-top:.75em;margin-bottom:.75em;padding-top:.75em;padding-bottom:.75em;font-family:monospace;white-space:pre}.editioncrafter tei-emph{font-style:italic}.editioncrafter tei-encodingdesc{display:none}.editioncrafter tei-epigraph{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-explicit{font-style:italic}.editioncrafter tei-filedesc>tei-extent{display:none}.editioncrafter tei-figure{display:block;text-align:center;margin-left:auto;margin-right:auto}.editioncrafter tei-gap[data-tei-reason=lost]:before{content:"["}.editioncrafter tei-gap[data-tei-reason=lost]:after{content:attr(data-content) "]"}.editioncrafter tei-gap[data-tei-reason=illegible]:after{content:attr(data-content)}.editioncrafter tei-gi{font-family:Courier,monospace}.editioncrafter tei-gi:before{content:"<"}.editioncrafter tei-gi:after{content:">"}.editioncrafter tei-head{display:block;font-family:OpenSans,sans-serif;font-weight:700;font-size:1.5em;line-height:max(1.5rem,24px)}.editioncrafter tei-body>tei-head{font-size:180%;text-indent:-.5em}.editioncrafter tei-div.textpart{display:none}.editioncrafter tei-div>tei-head{font-size:170%;text-indent:-.5em}.editioncrafter tei-div>tei-div>tei-head{font-size:155%}.editioncrafter tei-div>tei-div>tei-div>tei-head{font-size:140%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-head,.editioncrafter list>tei-head{font-size:130%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-head{font-size:120%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-div tei-head{font-size:110%}.editioncrafter tei-figure>tei-head{display:block;margin:1.5em auto;padding:.5em 1.5em 1.5em;border:1px solid black;border-radius:15px;width:325px;position:relative;border:1px solid #aaaaaa;background:#fafafa;text-indent:0;font-size:85%;text-align:justify;-webkit-box-shadow:0px 1px 3px rgba(0,0,0,.25);-moz-box-shadow:0px 1px 3px rgba(0,0,0,.25);box-shadow:0 1px 3px #00000040;width:85%;font-family:Georgia,Serif;font-size:13pt}.editioncrafter tei-hi[rend~=caps]{font-weight:700}.editioncrafter tei-hi[rend~=italic]{font-style:italic}.editioncrafter tei-hi[rend~=underline]{text-decoration:underline}.editioncrafter tei-ident{font-family:Courier,monospace}.editioncrafter tei-incipit{font-style:italic}.editioncrafter tei-item{display:list-item;margin-left:1em}.editioncrafter tei-cell item{margin-left:1em}.editioncrafter tei-l{display:block}.editioncrafter tei-l[data-lineno]:before{content:attr(data-lineno);position:absolute;left:2em}.editioncrafter tei-lb:after{content:"\\a";white-space:pre}.editioncrafter tei-lg{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-list{display:block;margin-top:1em;margin-bottom:1em;list-style-type:none}.editioncrafter tei-item>tei-list{margin-top:0}.editioncrafter tei-sourcedesc tei-list{list-style-type:none}.editioncrafter tei-sourcedesc>tei-list>tei-head{font-size:140%;font-weight:700}.editioncrafter tei-sourcedesc tei-list>tei-item{display:list-item}.editioncrafter tei-text tei-list[type=simple]{list-style-type:none}.editioncrafter tei-text tei-list[type=bulleted]{list-style-type:disc}.editioncrafter tei-text tei-list[type=ordered]{list-style-type:none;counter-reset:items 0}.editioncrafter tei-text tei-list[type=ordered]>tei-item{display:list-item;margin-left:0}.editioncrafter tei-text tei-list[type=ordered]>item:before{counter-increment:items 1;content:counter(items,decimal) ". "}.editioncrafter tei-text tei-list[type=gloss]{list-style-type:none}.editioncrafter tei-list[type=gloss]>tei-label{display:block;margin-top:.25em;margin-bottom:.25em;font-weight:700}.editioncrafter tei-list[type=gloss]>tei-item{margin-left:2em}.editioncrafter tei-item>tei-list[type=ordered]{margin-left:1em}.editioncrafter tei-listapp{display:block;margin:1em;padding:1em}.editioncrafter tei-listbibl{display:block;list-style-type:none;margin-left:.5 em;margin-top:.5em}.editioncrafter tei-listbibl>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listbibl>tei-bibl{display:list-item;margin-left:.5em}.editioncrafter tei-listwit{display:block;list-style-type:none;margin-left:.5em}.editioncrafter tei-listwit>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listwit>tei-witness{display:list-item;margin-left:2em;text-indent:-1.1em}.editioncrafter tei-witness>tei-listwit{display:inline}.editioncrafter tei-witness>tei-listwit>tei-head{display:inline}.editioncrafter tei-witness>tei-listwit>tei-witness{display:inline}.editioncrafter tei-locus{display:none}.editioncrafter tei-milestone{display:none;margin-left:auto;margin-right:auto;text-align:center}.editioncrafter tei-musicNotation{font-weight:700}.editioncrafter tei-musicNotation:before{font-weight:700;content:"Musical Notation: "}.editioncrafter tei-node{display:none}.editioncrafter tei-note{display:none}.editioncrafter tei-notesstmt{display:none}.editioncrafter tei-ovar{font-style:italic}.editioncrafter tei-origPlace{font-weight:700}.editioncrafter tei-origPlace:before{font-weight:700;content:"Place of Origin: "}.editioncrafter tei-p{display:block;margin-top:1em;margin-bottom:1em;text-align:justify}.editioncrafter *[data-tei-rendition~="#center"] p{text-align:center}.editioncrafter tei-availability>p:first-child{margin-top:0}.editioncrafter tei-performance{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-person{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-personGrp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-postscript{display:block;margin-top:2em}.editioncrafter tei-principal{font-weight:700}.editioncrafter tei-principal:before{font-weight:700;content:"Principal: "}.editioncrafter tei-profiledesc{display:none}.editioncrafter tei-publicationstmt>*{display:none}.editioncrafter tei-publicationstmt{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-publicationstmt>date{display:none}.editioncrafter tei-publicationstmt>publisher{display:none}.editioncrafter tei-q{quotes:"“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”"}.editioncrafter tei-q:before{content:""}.editioncrafter tei-q:after{content:""}.editioncrafter tei-q[data-tei-next]:after{content:""!important}.editioncrafter tei-q[data-tei-prev]:before{content:""!important}.editioncrafter tei-quote{font-style:italic}.editioncrafter tei-app tei-rdg{display:none}.editioncrafter tei-re{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-recordhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-ref{color:#5f0000}.editioncrafter tei-remarks{font-weight:700}.editioncrafter tei-remarks:before{font-weight:700;content:"remarks: "}.editioncrafter tei-respstmt{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-revisiondesc{display:none}.editioncrafter tei-row{display:grid;grid-auto-flow:column;grid-auto-columns:1fr}.editioncrafter tei-salute{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-samplingdecl{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-scriptnote{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-seal{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seal:before{font-weight:700;content:"Seal: "}.editioncrafter tei-sealdesc{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-secFol:before{font-weight:700;content:"Second Folio: "}.editioncrafter tei-secl>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-secl>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-seg{outline:0px solid transparent}.editioncrafter tei-sense{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seriesstmt{display:none}.editioncrafter tei-setting{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-signed{display:block;margin-top:2em}.editioncrafter tei-soCalled{quotes:"“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”"}.editioncrafter tei-soCalled:before{content:open-quote}.editioncrafter tei-soCalled:after{content:close-quote}.editioncrafter tei-soCalled[data-tei-next]:after{content:""!important}.editioncrafter tei-soCalled[data-tei-prev]:before{content:""!important}.editioncrafter tei-sound{font-style:italic}.editioncrafter tei-source{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sourcedesc{display:none}.editioncrafter tei-space:before{font-weight:700;content:""}.editioncrafter tei-span[data-tei-data-n]:before{content:attr(data-n)}.editioncrafter tei-speaker{font-weight:700;margin-right:0}.editioncrafter tei-sponsor{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sponsor:before{font-weight:700;content:"Sponsor:"}.editioncrafter tei-stage{display:block;margin-top:1em;margin-bottom:1em;font-style:italic}.editioncrafter tei-stamp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-stamp:before{font-weight:700;content:"Stamped: "}.editioncrafter tei-surplus>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-surplus>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-tei{display:block}.editioncrafter tei-table{display:block;border-top:thin solid black;border-left:thin solid black}.editioncrafter tei-table{margin-top:2em;margin-bottom:2em;font-size:12pt}.editioncrafter tei-table>tei-head{border-bottom:thin solid black;border-right:thin solid black;font-size:120%;font-weight:700;padding:2px;text-align:center}.editioncrafter tei-teiheader{display:block;margin-top:2em;margin-bottom:2em}.editioncrafter tei-tei>tei-text{display:block;line-height:1.5}.editioncrafter tei-textclass{display:none}.editioncrafter tei-textdesc{display:none}.editioncrafter tei-tei tei-title{display:inline}.editioncrafter tei-tei tei-title[level=a]{quotes:"“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”"}.editioncrafter tei-tei tei-title[level=a]:before{content:open-quote}.editioncrafter tei-tei tei-title[level=a]:after{content:close-quote}.editioncrafter tei-tei tei-title[level=a][next]:after{content:""!important}.editioncrafter tei-tei tei-title[level=a][prev]:before{content:""!important}.editioncrafter tei-title[level=m]{font-style:italic}.editioncrafter tei-titlestmt>tei-title{display:block;font-family:Arvo,sans-serif;font-weight:400;font-weight:700!important;font-size:150%}.editioncrafter tei-typedesc{display:none}.editioncrafter tei-u:before{content:"-"}.editioncrafter tei-view{font-style:italic}.editioncrafter tei-wit{display:inline}.editioncrafter tei-witdetail{display:none}.editioncrafter .inline-ring-spinner{display:inline-block;margin-left:10px;margin-right:10px;width:16px;height:16px}.editioncrafter .inline-ring-spinner .light{border:3px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .inline-ring-spinner .dark{border:3px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .inline-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:16px;height:16px;border-radius:50%;animation:inline-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .inline-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .inline-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .inline-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes inline-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .big-ring-spinner{width:100%;height:100vh;display:flex;justify-content:center}.editioncrafter .big-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:128px;height:128px;margin-top:30vh;border-radius:50%;animation:big-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .big-ring-spinner.dark div{border:16px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .big-ring-spinner.light div{border:16px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .big-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .big-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .big-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes big-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .single-pane-view{height:100%;width:100%;overflow:auto}.editioncrafter .single-pane-view>div{height:100%}.pill{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;height:32px;padding:4px 12px;justify-content:center;align-items:center;gap:4px;border-radius:50px;border:1px solid #CEDAE7;background:#cedae7;color:#0a0a0a;font-family:Inter;font-size:14px;font-weight:500}.editioncrafter-record-list{width:100%;height:100%;display:grid;grid-template-columns:auto 1fr;gap:20px;font-family:Inter,sans-serif;margin:0;padding:0}.editioncrafter-record-list h1,h2,h3,h4,p{margin:0;padding:0}.editioncrafter-record-list h1{font-size:32px;font-style:normal;font-weight:600}.editioncrafter-record-list h2{font-size:24px;font-style:normal;font-weight:600}.editioncrafter-record-list div.h-separator{border-top:1px solid #E1E3E6;width:100%}.editioncrafter-record-list *{box-sizing:border-box}.editioncrafter-record-list a{color:#07529a;font-family:Inter;font-size:18px;font-style:normal;font-weight:700;text-decoration:none}.editioncrafter-record-list button:hover{cursor:pointer}.editioncrafter-record-list .loading{height:100%;width:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;gap:20px;background-color:#fff}.editioncrafter-record-list .record-list-view{flex-grow:1;display:flex;flex-flow:column;gap:16px}.editioncrafter-record-list .record-list-view .entries-header{padding:10px 0}.editioncrafter-record-list .record-list-view .record-box{width:100%;border-radius:5px;border:1px solid #E1E3E6;display:flex;flex-flow:column;gap:8px;padding:16px;transition:.3s}.editioncrafter-record-list .record-list-view .record-box:hover{box-shadow:1px 1px 6px #00000040}.editioncrafter-record-list .record-list-view .record-box .category-list{display:flex;gap:6px}.editioncrafter-record-list .record-list-view .record-box .tag-list{display:flex;flex-wrap:wrap;gap:8px;align-items:center;font-size:14px;font-weight:500;position:relative}.editioncrafter-record-list .record-list-view .record-box .tag-list .tag-list-label{font-weight:600}.editioncrafter-record-list .record-list-view .record-box .phrase-toggle{position:absolute;right:0;bottom:2px;background:#07529a;border:none;border-radius:5px;color:#fff;display:flex;align-items:center;justify-content:center;padding:6px}.editioncrafter-record-list .record-list-view .record-box .phrase-toggle svg{height:18px;width:18px}.editioncrafter-record-list .record-list-view .record-box .tag-list .pill,.editioncrafter-record-list .record-list-view .record-box .phrase-list-table .pill{background:#fff;display:flex;height:32px;padding:4px 12px 4px 4px;justify-content:center;align-items:center;gap:8px;border-radius:50px;border:1px solid #E1E3E6}.editioncrafter-record-list .record-list-view .record-box .category-list .pill.active{background:#07529a;color:#fff}.editioncrafter-record-list .record-list-view .record-box .pill .tag-count{display:inline-flex;height:24px;min-width:24px;padding:4px;flex-direction:column;justify-content:center;align-items:center;gap:10px;flex-shrink:0;border-radius:50px;background:#b5c8dc99}.editioncrafter-record-list .record-list-view .record-box .pill.active{border:1px solid #07529A;color:#07529a}.editioncrafter-record-list .record-list-view .record-box .pill.active .tag-count{background:#07529a;color:#fff}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container{position:relative}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select-container{position:absolute;right:10px;top:0;display:flex;align-items:center;justify-content:center;gap:12px;font-size:13px;font-style:normal;font-weight:400;line-height:140%}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container button:hover{cursor:default}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select{display:flex;height:32px;padding:0 12px;justify-content:space-between;align-items:center;font-size:14px;border-radius:4px;border:1px solid#E1E3E6;background:#f3f4f7}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select:hover{cursor:pointer}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table th{font-weight:600}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table{text-align:left;border-collapse:collapse;font-size:14px;width:100%}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table tr{border-bottom:1px solid #E1E3E6}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table td,.editioncrafter-record-list .record-list-view .record-box .phrase-list-table th{padding:12px}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table .empty-table-container{height:80px;width:100%;display:flex;align-items:center;justify-content:center}.editioncrafter-record-list .ec-sidebar{background-color:#f3f4f7;padding:32px 24px;display:flex;flex-direction:column;gap:20px;width:380px;flex-grow:0}.editioncrafter-record-list .collapsible-menu .collapsible-menu-toggle{display:flex;align-items:center;justify-content:space-between;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;width:100%}.editioncrafter-record-list .collapsible-menu .collapsible-menu-title{font-size:16px;font-weight:700}.editioncrafter-record-list .sidebar-tag-list{display:flex;flex-wrap:wrap;gap:6px}.editioncrafter-record-list .sidebar-tag-list .pill.active{background:#07529a;color:#fff}.editioncrafter-record-list .sidebar-tag-list .hidden{visibility:hidden}.tag-explore{display:grid;max-height:100vh;grid-template-columns:50px 1fr}.tag-explore-sidebar{position:relative;z-index:999;height:100%;max-height:100dvh}.tag-explore .narrow-sidebar{height:100vh;width:48px}.tag-explore-sidebar{overflow-y:none;height:100%;background-color:#000}.tag-explore .tag-filters{overflow-y:auto;position:absolute;top:48px;left:0;background-color:#242629;z-index:10000;padding:12px 0 12px 12px;width:100%;height:100%;max-height:100dvh}.tag-explore .tag-filter-button{background-color:#242629;padding:12px;color:#fff;border:1px solid white;border-radius:6px;margin:6px auto 12px;cursor:pointer}.tag-explore .tag-filter-button:hover{background-color:#fff;color:#000}.tag-explore .tag-filters ul{display:flex;flex-direction:column}.tag-explore .surface-browser-close{position:absolute;top:0;right:-24px;background-color:#242629}.tag-explore .tag-filters .tag-list,.tag-explore-sidebar{display:flex;gap:4px;flex-wrap:wrap}.surface-thumbnail-caption{text-align:center}.surface-thumbnail-overlay{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;background-color:#2426297d;opacity:0%;display:flex;justify-content:center;align-items:center;gap:12px}.surface-thumbnail-overlay-selected{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;display:flex;justify-content:flex-end;align-items:flex-end}.surface-thumbnail-overlay-selected.left{border:2px solid #008F81}.surface-thumbnail-overlay-selected.right{border:2px solid #A31621}.surface-thumbnail-overlay-selected>div{color:#fff;display:flex;flex-direction:row;justify-content:space-around;gap:6px;align-items:center;padding:6px;border-top-left-radius:6px;font-size:small}.surface-thumbnail-overlay-selected.left>div{background-color:#008f81}.surface-thumbnail-overlay-selected.right>div{background-color:#a31621}.surface-thumbnail-overlay .surface-thumbnail-overlay-content{opacity:100%;display:flex;flex-direction:row;gap:12px;justify-content:center;align-items:center;border-radius:12px;padding:8px;background-color:#242629}.surface-thumbnail-overlay:hover{opacity:100%}.surface-thumbnail-overlay a{cursor:pointer}.surface-thumbnail-figure{padding:0;margin:16px;position:relative}.tag-explore .surface-browser{position:absolute;top:0;left:48px;height:100vh;min-width:300px;display:flex;flex-direction:column;background-color:#242629;color:#fff;padding:12px}.tag-explore .surface-browser-document-details{overflow-y:auto;position:relative}.tag-explore .accordion-summary{flex-direction:row-reverse;background-color:#242629}.tag-explore .accordion-summary div{display:flex;flex-direction:row;justify-content:space-between}.tag-explore .accordion-summary .MuiAccordionSummary-content{padding-left:12px;gap:12px}.tag-explore .accordion-detail{background-color:#242629}')),document.head.appendChild(e)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();var F6=Object.defineProperty,N6=(e,i,t)=>i in e?F6(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Vn=(e,i,t)=>N6(e,typeof i!="symbol"?i+"":i,t),ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bm(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var t=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};t.prototype=i.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var eT={exports:{}},Ys={},Gp,Mx;function H6(){if(Mx)return Gp;Mx=1;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function r(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var h={},d=0;d<10;d++)h["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(h).map(function(g){return h[g]});if(p.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(g){f[g]=g}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Gp=r()?Object.assign:function(l,h){for(var d,p=n(l),f,g=1;g<arguments.length;g++){d=Object(arguments[g]);for(var y in d)i.call(d,y)&&(p[y]=d[y]);if(e){f=e(d);for(var S=0;S<f.length;S++)t.call(d,f[S])&&(p[f[S]]=d[f[S]])}}return p},Gp}var zx;function j6(){if(zx)return Ys;zx=1;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */H6();var e=gt,i=60103;if(Ys.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var t=Symbol.for;i=t("react.element"),Ys.Fragment=t("react.fragment")}var n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,f){var g,y={},S=null,C=null;f!==void 0&&(S=""+f),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(C=p.ref);for(g in p)r.call(p,g)&&!l.hasOwnProperty(g)&&(y[g]=p[g]);if(d&&d.defaultProps)for(g in p=d.defaultProps,p)y[g]===void 0&&(y[g]=p[g]);return{$$typeof:i,type:d,key:S,ref:C,props:y,_owner:n.current}}return Ys.jsx=h,Ys.jsxs=h,Ys}eT.exports=j6();var U=eT.exports;function Vm(e,i){return function(){return null}}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Pe.apply(this,arguments)}function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},co(e)}function qp(e){return e&&co(e)==="object"&&e.constructor===Object}function Jo(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},n=t.clone?Pe({},e):e;return qp(e)&&qp(i)&&Object.keys(i).forEach(function(r){r!=="__proto__"&&(qp(i[r])&&r in e?n[r]=Jo(e[r],i[r],t):n[r]=i[r])}),n}var tT={exports:{}},Xp,Lx;function B6(){if(Lx)return Xp;Lx=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xp=e,Xp}var Kp,Fx;function V6(){if(Fx)return Kp;Fx=1;var e=B6();function i(){}function t(){}return t.resetWarningCache=i,Kp=function(){function n(h,d,p,f,g,y){if(y!==e){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}n.isRequired=n;function r(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:i};return l.PropTypes=l,l},Kp}tT.exports=V6()();var ga=tT.exports;const bt=Tr(ga);var U6=Vm(bt.element);U6.isRequired=Vm(bt.element.isRequired);Vm(ga.elementType);function W6(e,i){if(co(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,i);if(co(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function nT(e){var i=W6(e,"string");return co(i)==="symbol"?i:String(i)}function Ko(e,i,t){return i=nT(i),i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function ua(e){for(var i="https://mui.com/production-error/?code="+e,t=1;t<arguments.length;t+=1)i+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+e+"; visit "+i+" for the full message."}var _n={},Nx;function G6(){if(Nx)return _n;Nx=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=60103,i=60106,t=60107,n=60108,r=60114,l=60109,h=60110,d=60112,p=60113,f=60120,g=60115,y=60116,S=60121,C=60122,k=60117,P=60129,R=60131;if(typeof Symbol=="function"&&Symbol.for){var D=Symbol.for;e=D("react.element"),i=D("react.portal"),t=D("react.fragment"),n=D("react.strict_mode"),r=D("react.profiler"),l=D("react.provider"),h=D("react.context"),d=D("react.forward_ref"),p=D("react.suspense"),f=D("react.suspense_list"),g=D("react.memo"),y=D("react.lazy"),S=D("react.block"),C=D("react.server.block"),k=D("react.fundamental"),P=D("react.debug_trace_mode"),R=D("react.legacy_hidden")}function q(ve){if(typeof ve=="object"&&ve!==null){var Ae=ve.$$typeof;switch(Ae){case e:switch(ve=ve.type,ve){case t:case r:case n:case p:case f:return ve;default:switch(ve=ve&&ve.$$typeof,ve){case h:case d:case y:case g:case l:return ve;default:return Ae}}case i:return Ae}}}var G=l,ne=e,Z=d,Y=t,se=y,le=g,ge=i,ue=r,pe=n,we=p;return _n.ContextConsumer=h,_n.ContextProvider=G,_n.Element=ne,_n.ForwardRef=Z,_n.Fragment=Y,_n.Lazy=se,_n.Memo=le,_n.Portal=ge,_n.Profiler=ue,_n.StrictMode=pe,_n.Suspense=we,_n.isAsyncMode=function(){return!1},_n.isConcurrentMode=function(){return!1},_n.isContextConsumer=function(ve){return q(ve)===h},_n.isContextProvider=function(ve){return q(ve)===l},_n.isElement=function(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===e},_n.isForwardRef=function(ve){return q(ve)===d},_n.isFragment=function(ve){return q(ve)===t},_n.isLazy=function(ve){return q(ve)===y},_n.isMemo=function(ve){return q(ve)===g},_n.isPortal=function(ve){return q(ve)===i},_n.isProfiler=function(ve){return q(ve)===r},_n.isStrictMode=function(ve){return q(ve)===n},_n.isSuspense=function(ve){return q(ve)===p},_n.isValidElementType=function(ve){return typeof ve=="string"||typeof ve=="function"||ve===t||ve===r||ve===P||ve===n||ve===p||ve===f||ve===R||typeof ve=="object"&&ve!==null&&(ve.$$typeof===y||ve.$$typeof===g||ve.$$typeof===l||ve.$$typeof===h||ve.$$typeof===d||ve.$$typeof===k||ve.$$typeof===S||ve[0]===C)},_n.typeOf=q,_n}G6();bt.oneOfType([bt.func,bt.object]);function Um(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(i,e),t)}function q6(e){e=e.substr(1);var i=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),t=e.match(i);return t&&t[0].length===1&&(t=t.map(function(n){return n+n})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(n,r){return r<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3}).join(", "),")"):""}function X6(e){e=Qo(e);var i=e,t=i.values,n=t[0],r=t[1]/100,l=t[2]/100,h=r*Math.min(l,1-l),d=function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(g+n/30)%12;return l-h*Math.max(Math.min(y-3,9-y,1),-1)},p="rgb",f=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(p+="a",f.push(t[3])),td({type:p,values:f})}function Qo(e){if(e.type)return e;if(e.charAt(0)==="#")return Qo(q6(e));var i=e.indexOf("("),t=e.substring(0,i);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error(ua(3,e));var n=e.substring(i+1,e.length-1).split(",");return n=n.map(function(r){return parseFloat(r)}),{type:t,values:n}}function td(e){var i=e.type,t=e.values;return i.indexOf("rgb")!==-1?t=t.map(function(n,r){return r<3?parseInt(n,10):n}):i.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(i,"(").concat(t.join(", "),")")}function K6(e,i){var t=Hx(e),n=Hx(i);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function Hx(e){e=Qo(e);var i=e.type==="hsl"?Qo(X6(e)).values:e.values;return i=i.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*i[0]+.7152*i[1]+.0722*i[2]).toFixed(3))}function Ui(e,i){return e=Qo(e),i=Um(i),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.values[3]=i,td(e)}function Y6(e,i){if(e=Qo(e),i=Um(i),e.type.indexOf("hsl")!==-1)e.values[2]*=1-i;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]*=1-i;return td(e)}function Z6(e,i){if(e=Qo(e),i=Um(i),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*i;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*i;return td(e)}function os(e,i){if(e==null)return{};var t={},n=Object.keys(e),r,l;for(l=0;l<n.length;l++)r=n[l],!(i.indexOf(r)>=0)&&(t[r]=e[r]);return t}function Dt(e,i){if(e==null)return{};var t=os(e,i),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(i.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var Zi=["xs","sm","md","lg","xl"];function $6(e){var i=e.values,t=i===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:i,n=e.unit,r=n===void 0?"px":n,l=e.step,h=l===void 0?5:l,d=Dt(e,["values","unit","step"]);function p(C){var k=typeof t[C]=="number"?t[C]:C;return"@media (min-width:".concat(k).concat(r,")")}function f(C){var k=Zi.indexOf(C)+1,P=t[Zi[k]];if(k===Zi.length)return p("xs");var R=typeof P=="number"&&k>0?P:C;return"@media (max-width:".concat(R-h/100).concat(r,")")}function g(C,k){var P=Zi.indexOf(k);return P===Zi.length-1?p(C):"@media (min-width:".concat(typeof t[C]=="number"?t[C]:C).concat(r,") and ")+"(max-width:".concat((P!==-1&&typeof t[Zi[P+1]]=="number"?t[Zi[P+1]]:k)-h/100).concat(r,")")}function y(C){return g(C,C)}function S(C){return t[C]}return Pe({keys:Zi,values:t,up:p,down:f,between:g,only:y,width:S},d)}function J6(e,i,t){var n;return Pe({gutters:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Pe({paddingLeft:i(2),paddingRight:i(2)},r,Ko({},e.up("sm"),Pe({paddingLeft:i(3),paddingRight:i(3)},r[e.up("sm")])))},toolbar:(n={minHeight:56},Ko(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Ko(n,e.up("sm"),{minHeight:64}),n)},t)}var Hu={black:"#000",white:"#fff"},Wm={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Yp={300:"#7986cb",500:"#3f51b5",700:"#303f9f"},Zp={A200:"#ff4081",A400:"#f50057",A700:"#c51162"},$p={300:"#e57373",500:"#f44336",700:"#d32f2f"},Jp={300:"#ffb74d",500:"#ff9800",700:"#f57c00"},Qp={300:"#64b5f6",500:"#2196f3",700:"#1976d2"},ef={300:"#81c784",500:"#4caf50",700:"#388e3c"},jx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hu.white,default:Wm[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},tf={text:{primary:Hu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Wm[800],default:"#303030"},action:{active:Hu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Bx(e,i,t,n){var r=n.light||n,l=n.dark||n*1.5;e[i]||(e.hasOwnProperty(t)?e[i]=e[t]:i==="light"?e.light=Z6(e.main,r):i==="dark"&&(e.dark=Y6(e.main,l)))}function Q6(e){var i=e.primary,t=i===void 0?{light:Yp[300],main:Yp[500],dark:Yp[700]}:i,n=e.secondary,r=n===void 0?{light:Zp.A200,main:Zp.A400,dark:Zp.A700}:n,l=e.error,h=l===void 0?{light:$p[300],main:$p[500],dark:$p[700]}:l,d=e.warning,p=d===void 0?{light:Jp[300],main:Jp[500],dark:Jp[700]}:d,f=e.info,g=f===void 0?{light:Qp[300],main:Qp[500],dark:Qp[700]}:f,y=e.success,S=y===void 0?{light:ef[300],main:ef[500],dark:ef[700]}:y,C=e.type,k=C===void 0?"light":C,P=e.contrastThreshold,R=P===void 0?3:P,D=e.tonalOffset,q=D===void 0?.2:D,G=Dt(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function ne(le){var ge=K6(le,tf.text.primary)>=R?tf.text.primary:jx.text.primary;return ge}var Z=function(le){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(le=Pe({},le),!le.main&&le[ge]&&(le.main=le[ge]),!le.main)throw new Error(ua(4,ge));if(typeof le.main!="string")throw new Error(ua(5,JSON.stringify(le.main)));return Bx(le,"light",ue,q),Bx(le,"dark",pe,q),le.contrastText||(le.contrastText=ne(le.main)),le},Y={dark:tf,light:jx},se=Jo(Pe({common:Hu,type:k,primary:Z(t),secondary:Z(r,"A400","A200","A700"),error:Z(h),warning:Z(p),info:Z(g),success:Z(S),grey:Wm,contrastThreshold:R,getContrastText:ne,augmentColor:Z,tonalOffset:q},Y[k]),G);return se}function iT(e){return Math.round(e*1e5)/1e5}function ez(e){return iT(e)}var Vx={textTransform:"uppercase"},Ux='"Roboto", "Helvetica", "Arial", sans-serif';function tz(e,i){var t=typeof i=="function"?i(e):i,n=t.fontFamily,r=n===void 0?Ux:n,l=t.fontSize,h=l===void 0?14:l,d=t.fontWeightLight,p=d===void 0?300:d,f=t.fontWeightRegular,g=f===void 0?400:f,y=t.fontWeightMedium,S=y===void 0?500:y,C=t.fontWeightBold,k=C===void 0?700:C,P=t.htmlFontSize,R=P===void 0?16:P,D=t.allVariants,q=t.pxToRem,G=Dt(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),ne=h/14,Z=q||function(le){return"".concat(le/R*ne,"rem")},Y=function(le,ge,ue,pe,we){return Pe({fontFamily:r,fontWeight:le,fontSize:Z(ge),lineHeight:ue},r===Ux?{letterSpacing:"".concat(iT(pe/ge),"em")}:{},we,D)},se={h1:Y(p,96,1.167,-1.5),h2:Y(p,60,1.2,-.5),h3:Y(g,48,1.167,0),h4:Y(g,34,1.235,.25),h5:Y(g,24,1.334,0),h6:Y(S,20,1.6,.15),subtitle1:Y(g,16,1.75,.15),subtitle2:Y(S,14,1.57,.1),body1:Y(g,16,1.5,.15),body2:Y(g,14,1.43,.15),button:Y(S,14,1.75,.4,Vx),caption:Y(g,12,1.66,.4),overline:Y(g,12,2.66,1,Vx)};return Jo(Pe({htmlFontSize:R,pxToRem:Z,round:ez,fontFamily:r,fontSize:h,fontWeightLight:p,fontWeightRegular:g,fontWeightMedium:S,fontWeightBold:k},se),G,{clone:!1})}var nz=.2,iz=.14,rz=.12;function In(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(nz,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(iz,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(rz,")")].join(",")}var oz=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],sz={borderRadius:4};function tm(e,i){(i==null||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function az(e){if(Array.isArray(e))return tm(e)}function rT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gm(e,i){if(e){if(typeof e=="string")return tm(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tm(e,i)}}function lz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nd(e){return az(e)||rT(e)||Gm(e)||lz()}function ju(e,i){return i?Jo(e,i,{clone:!1}):e}var cz={xs:0,sm:600,md:960,lg:1280,xl:1920},Wx={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(cz[e],"px)")}};function oT(e,i,t){if(Array.isArray(i)){var n=e.theme.breakpoints||Wx;return i.reduce(function(h,d,p){return h[n.up(n.keys[p])]=t(i[p]),h},{})}if(co(i)==="object"){var r=e.theme.breakpoints||Wx;return Object.keys(i).reduce(function(h,d){return h[r.up(d)]=t(i[d]),h},{})}var l=t(i);return l}function Gx(e,i){return!i||typeof i!="string"?null:i.split(".").reduce(function(t,n){return t&&t[n]?t[n]:null},e)}function xt(e){var i=e.prop,t=e.cssProperty,n=t===void 0?e.prop:t,r=e.themeKey,l=e.transform,h=function(d){if(d[i]==null)return null;var p=d[i],f=d.theme,g=Gx(f,r)||{},y=function(S){var C;return typeof g=="function"?C=g(S):Array.isArray(g)?C=g[S]||S:(C=Gx(g,S)||S,l&&(C=l(C))),n===!1?C:Ko({},n,C)};return oT(d,p,y)};return h.propTypes={},h.filterProps=[i],h}function jr(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var n=function(r){return i.reduce(function(l,h){var d=h(r);return d?ju(l,d):l},{})};return n.propTypes={},n.filterProps=i.reduce(function(r,l){return r.concat(l.filterProps)},[]),n}function Ml(e){return typeof e!="number"?e:"".concat(e,"px solid")}var uz=xt({prop:"border",themeKey:"borders",transform:Ml}),dz=xt({prop:"borderTop",themeKey:"borders",transform:Ml}),hz=xt({prop:"borderRight",themeKey:"borders",transform:Ml}),pz=xt({prop:"borderBottom",themeKey:"borders",transform:Ml}),fz=xt({prop:"borderLeft",themeKey:"borders",transform:Ml}),mz=xt({prop:"borderColor",themeKey:"palette"}),gz=xt({prop:"borderRadius",themeKey:"shape"}),vz=jr(uz,dz,hz,pz,fz,mz,gz);function qx(e,i){var t={};return Object.keys(e).forEach(function(n){i.indexOf(n)===-1&&(t[n]=e[n])}),t}function yz(e){var i=function(t){var n=e(t);return t.css?Pe({},ju(n,e(Pe({theme:t.theme},t.css))),qx(t.css,[e.filterProps])):t.sx?Pe({},ju(n,e(Pe({theme:t.theme},t.sx))),qx(t.sx,[e.filterProps])):n};return i.propTypes={},i.filterProps=["css","sx"].concat(nd(e.filterProps)),i}var bz=xt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),wz=xt({prop:"display"}),xz=xt({prop:"overflow"}),Sz=xt({prop:"textOverflow"}),Ez=xt({prop:"visibility"}),Tz=xt({prop:"whiteSpace"});const Cz=jr(bz,wz,xz,Sz,Ez,Tz);var kz=xt({prop:"flexBasis"}),Pz=xt({prop:"flexDirection"}),Rz=xt({prop:"flexWrap"}),_z=xt({prop:"justifyContent"}),Oz=xt({prop:"alignItems"}),Dz=xt({prop:"alignContent"}),Az=xt({prop:"order"}),Iz=xt({prop:"flex"}),Mz=xt({prop:"flexGrow"}),zz=xt({prop:"flexShrink"}),Lz=xt({prop:"alignSelf"}),Fz=xt({prop:"justifyItems"}),Nz=xt({prop:"justifySelf"}),Hz=jr(kz,Pz,Rz,_z,Oz,Dz,Az,Iz,Mz,zz,Lz,Fz,Nz),jz=xt({prop:"gridGap"}),Bz=xt({prop:"gridColumnGap"}),Vz=xt({prop:"gridRowGap"}),Uz=xt({prop:"gridColumn"}),Wz=xt({prop:"gridRow"}),Gz=xt({prop:"gridAutoFlow"}),qz=xt({prop:"gridAutoColumns"}),Xz=xt({prop:"gridAutoRows"}),Kz=xt({prop:"gridTemplateColumns"}),Yz=xt({prop:"gridTemplateRows"}),Zz=xt({prop:"gridTemplateAreas"}),$z=xt({prop:"gridArea"}),Jz=jr(jz,Bz,Vz,Uz,Wz,Gz,qz,Xz,Kz,Yz,Zz,$z),Qz=xt({prop:"color",themeKey:"palette"}),eL=xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),tL=jr(Qz,eL),nL=xt({prop:"position"}),iL=xt({prop:"zIndex",themeKey:"zIndex"}),rL=xt({prop:"top"}),oL=xt({prop:"right"}),sL=xt({prop:"bottom"}),aL=xt({prop:"left"});const lL=jr(nL,iL,rL,oL,sL,aL);var cL=xt({prop:"boxShadow",themeKey:"shadows"});function po(e){return e<=1?"".concat(e*100,"%"):e}var uL=xt({prop:"width",transform:po}),dL=xt({prop:"maxWidth",transform:po}),hL=xt({prop:"minWidth",transform:po}),pL=xt({prop:"height",transform:po}),fL=xt({prop:"maxHeight",transform:po}),mL=xt({prop:"minHeight",transform:po});xt({prop:"size",cssProperty:"width",transform:po});xt({prop:"size",cssProperty:"height",transform:po});var gL=xt({prop:"boxSizing"}),vL=jr(uL,dL,hL,pL,fL,mL,gL);function sT(e){if(Array.isArray(e))return e}function yL(e,i){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,r,l,h,d=[],p=!0,f=!1;try{if(l=(t=t.call(e)).next,i!==0)for(;!(p=(n=l.call(t)).done)&&(d.push(n.value),d.length!==i);p=!0);}catch(g){f=!0,r=g}finally{try{if(!p&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(f)throw r}}return d}}function aT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ss(e,i){return sT(e)||yL(e,i)||Gm(e,i)||aT()}function bL(e){var i={};return function(t){return i[t]===void 0&&(i[t]=e(t)),i[t]}}var wL={m:"margin",p:"padding"},xL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Xx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},SL=bL(function(e){if(e.length>2)if(Xx[e])e=Xx[e];else return[e];var i=e.split(""),t=ss(i,2),n=t[0],r=t[1],l=wL[n],h=xL[r]||"";return Array.isArray(h)?h.map(function(d){return l+d}):[l+h]}),lT=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function cT(e){var i=e.spacing||8;return typeof i=="number"?function(t){return i*t}:Array.isArray(i)?function(t){return i[t]}:typeof i=="function"?i:function(){}}function EL(e,i){if(typeof i=="string"||i==null)return i;var t=Math.abs(i),n=e(t);return i>=0?n:typeof n=="number"?-n:"-".concat(n)}function TL(e,i){return function(t){return e.reduce(function(n,r){return n[r]=EL(i,t),n},{})}}function qm(e){var i=e.theme,t=cT(i);return Object.keys(e).map(function(n){if(lT.indexOf(n)===-1)return null;var r=SL(n),l=TL(r,t),h=e[n];return oT(e,h,l)}).reduce(ju,{})}qm.propTypes={};qm.filterProps=lT;var CL=xt({prop:"fontFamily",themeKey:"typography"}),kL=xt({prop:"fontSize",themeKey:"typography"}),PL=xt({prop:"fontStyle",themeKey:"typography"}),RL=xt({prop:"fontWeight",themeKey:"typography"}),_L=xt({prop:"letterSpacing"}),OL=xt({prop:"lineHeight"}),DL=xt({prop:"textAlign"}),AL=jr(CL,kL,PL,RL,_L,OL,DL);function IL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var i=cT({spacing:e}),t=function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return r.length===0?i(1):r.length===1?i(r[0]):r.map(function(h){if(typeof h=="string")return h;var d=i(h);return typeof d=="number"?"".concat(d,"px"):d}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return e}}),t.mui=!0,t}var Kx={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Rl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Yx(e){return"".concat(Math.round(e),"ms")}const ML={easing:Kx,duration:Rl,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=i.duration,n=t===void 0?Rl.standard:t,r=i.easing,l=r===void 0?Kx.easeInOut:r,h=i.delay,d=h===void 0?0:h;return Dt(i,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(p){return"".concat(p," ").concat(typeof n=="string"?n:Yx(n)," ").concat(l," ").concat(typeof d=="string"?d:Yx(d))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var i=e/36;return Math.round((4+15*Math.pow(i,.25)+i/5)*10)}};var uT={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function dT(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.breakpoints,t=i===void 0?{}:i,n=e.mixins,r=n===void 0?{}:n,l=e.palette,h=l===void 0?{}:l,d=e.spacing,p=e.typography,f=p===void 0?{}:p,g=Dt(e,["breakpoints","mixins","palette","spacing","typography"]),y=Q6(h),S=$6(t),C=IL(d),k=Jo({breakpoints:S,direction:"ltr",mixins:J6(S,C,r),overrides:{},palette:y,props:{},shadows:oz,typography:tz(y,f),spacing:C,shape:sz,transitions:ML,zIndex:uT},g),P=arguments.length,R=new Array(P>1?P-1:0),D=1;D<P;D++)R[D-1]=arguments[D];return k=R.reduce(function(q,G){return Jo(q,G)},k),k}var zL=typeof Symbol=="function"&&Symbol.for;const hT=zL?Symbol.for("mui.nested"):"__THEME_NESTED__";var LL=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function FL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.disableGlobal,t=i===void 0?!1:i,n=e.productionPrefix,r=n===void 0?"jss":n,l=e.seed,h=l===void 0?"":l,d=h===""?"":"".concat(h,"-"),p=0,f=function(){return p+=1,p};return function(g,y){var S=y.options.name;if(S&&S.indexOf("Mui")===0&&!y.options.link&&!t){if(LL.indexOf(g.key)!==-1)return"Mui-".concat(g.key);var C="".concat(d).concat(S,"-").concat(g.key);return!y.options.theme[hT]||h!==""?C:"".concat(C,"-").concat(f())}return"".concat(d).concat(r).concat(f())}}function id(e){var i=e.theme,t=e.name,n=e.props;if(!i||!i.props||!i.props[t])return n;var r=i.props[t],l;for(l in r)n[l]===void 0&&(n[l]=r[l]);return n}var Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl=(typeof window>"u"?"undefined":Zx(window))==="object"&&(typeof document>"u"?"undefined":Zx(document))==="object"&&document.nodeType===9;function NL(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nT(n.key),n)}}function Xm(e,i,t){return i&&NL(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function nm(e,i){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},nm(e,i)}function rd(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,nm(e,i)}function im(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var HL={}.constructor;function rm(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(rm);if(e.constructor!==HL)return e;var i={};for(var t in e)i[t]=rm(e[t]);return i}function Km(e,i,t){e===void 0&&(e="unnamed");var n=t.jss,r=rm(i),l=n.plugins.onCreateRule(e,r,t);return l||(e[0],null)}var $x=function(e,i){for(var t="",n=0;n<e.length&&e[n]!=="!important";n++)t&&(t+=i),t+=e[n];return t},Yo=function(e){if(!Array.isArray(e))return e;var i="";if(Array.isArray(e[0]))for(var t=0;t<e.length&&e[t]!=="!important";t++)i&&(i+=", "),i+=$x(e[t]," ");else i=$x(e,", ");return e[e.length-1]==="!important"&&(i+=" !important"),i};function va(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function sl(e,i){for(var t="",n=0;n<i;n++)t+="  ";return t+e}function _l(e,i,t){t===void 0&&(t={});var n="";if(!i)return n;var r=t,l=r.indent,h=l===void 0?0:l,d=i.fallbacks;t.format===!1&&(h=-1/0);var p=va(t),f=p.linebreak,g=p.space;if(e&&h++,d)if(Array.isArray(d))for(var y=0;y<d.length;y++){var S=d[y];for(var C in S){var k=S[C];k!=null&&(n&&(n+=f),n+=sl(C+":"+g+Yo(k)+";",h))}}else for(var P in d){var R=d[P];R!=null&&(n&&(n+=f),n+=sl(P+":"+g+Yo(R)+";",h))}for(var D in i){var q=i[D];q!=null&&D!=="fallbacks"&&(n&&(n+=f),n+=sl(D+":"+g+Yo(q)+";",h))}return!n&&!t.allowEmpty||!e?n:(h--,n&&(n=""+f+n+f),sl(""+e+g+"{"+n,h)+sl("}",h))}var jL=/([[\].#*$><+~=|^:(),"'`\s])/g,Jx=typeof CSS<"u"&&CSS.escape,Ym=function(e){return Jx?Jx(e):e.replace(jL,"\\$1")},pT=function(){function e(t,n,r){this.type="style",this.isProcessed=!1;var l=r.sheet,h=r.Renderer;this.key=t,this.options=r,this.style=n,l?this.renderer=l.renderer:h&&(this.renderer=new h)}var i=e.prototype;return i.prop=function(t,n,r){if(n===void 0)return this.style[t];var l=r?r.force:!1;if(!l&&this.style[t]===n)return this;var h=n;(!r||r.process!==!1)&&(h=this.options.jss.plugins.onChangeValue(n,t,this));var d=h==null||h===!1,p=t in this.style;if(d&&!p&&!l)return this;var f=d&&p;if(f?delete this.style[t]:this.style[t]=h,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,h),this;var g=this.options.sheet;return g&&g.attached,this},e}(),om=function(e){rd(i,e);function i(n,r,l){var h;h=e.call(this,n,r,l)||this;var d=l.selector,p=l.scoped,f=l.sheet,g=l.generateId;return d?h.selectorText=d:p!==!1&&(h.id=g(im(im(h)),f),h.selectorText="."+Ym(h.id)),h}var t=i.prototype;return t.applyTo=function(n){var r=this.renderer;if(r){var l=this.toJSON();for(var h in l)r.setProperty(n,h,l[h])}return this},t.toJSON=function(){var n={};for(var r in this.style){var l=this.style[r];typeof l!="object"?n[r]=l:Array.isArray(l)&&(n[r]=Yo(l))}return n},t.toString=function(n){var r=this.options.sheet,l=r?r.options.link:!1,h=l?Pe({},n,{allowEmpty:!0}):n;return _l(this.selectorText,this.style,h)},Xm(i,[{key:"selector",set:function(n){if(n!==this.selectorText){this.selectorText=n;var r=this.renderer,l=this.renderable;if(!(!l||!r)){var h=r.setSelector(l,n);h||r.replaceRule(l,this)}}},get:function(){return this.selectorText}}]),i}(pT),BL={onCreateRule:function(e,i,t){return e[0]==="@"||t.parent&&t.parent.type==="keyframes"?null:new om(e,i,t)}},nf={indent:1,children:!0},VL=/@([\w-]+)/,UL=function(){function e(t,n,r){this.type="conditional",this.isProcessed=!1,this.key=t;var l=t.match(VL);this.at=l?l[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new od(Pe({},r,{parent:this}));for(var h in n)this.rules.add(h,n[h]);this.rules.process()}var i=e.prototype;return i.getRule=function(t){return this.rules.get(t)},i.indexOf=function(t){return this.rules.indexOf(t)},i.addRule=function(t,n,r){var l=this.rules.add(t,n,r);return l?(this.options.jss.plugins.onProcessRule(l),l):null},i.replaceRule=function(t,n,r){var l=this.rules.replace(t,n,r);return l&&this.options.jss.plugins.onProcessRule(l),l},i.toString=function(t){t===void 0&&(t=nf);var n=va(t),r=n.linebreak;if(t.indent==null&&(t.indent=nf.indent),t.children==null&&(t.children=nf.children),t.children===!1)return this.query+" {}";var l=this.rules.toString(t);return l?this.query+" {"+r+l+r+"}":""},e}(),WL=/@container|@media|@supports\s+/,GL={onCreateRule:function(e,i,t){return WL.test(e)?new UL(e,i,t):null}},rf={indent:1,children:!0},qL=/@keyframes\s+([\w-]+)/,sm=function(){function e(t,n,r){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var l=t.match(qL);l&&l[1]?this.name=l[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var h=r.scoped,d=r.sheet,p=r.generateId;this.id=h===!1?this.name:Ym(p(this,d)),this.rules=new od(Pe({},r,{parent:this}));for(var f in n)this.rules.add(f,n[f],Pe({},r,{parent:this}));this.rules.process()}var i=e.prototype;return i.toString=function(t){t===void 0&&(t=rf);var n=va(t),r=n.linebreak;if(t.indent==null&&(t.indent=rf.indent),t.children==null&&(t.children=rf.children),t.children===!1)return this.at+" "+this.id+" {}";var l=this.rules.toString(t);return l&&(l=""+r+l+r),this.at+" "+this.id+" {"+l+"}"},e}(),XL=/@keyframes\s+/,KL=/\$([\w-]+)/g,am=function(e,i){return typeof e=="string"?e.replace(KL,function(t,n){return n in i?i[n]:t}):e},Qx=function(e,i,t){var n=e[i],r=am(n,t);r!==n&&(e[i]=r)},YL={onCreateRule:function(e,i,t){return typeof e=="string"&&XL.test(e)?new sm(e,i,t):null},onProcessStyle:function(e,i,t){return i.type!=="style"||!t||("animation-name"in e&&Qx(e,"animation-name",t.keyframes),"animation"in e&&Qx(e,"animation",t.keyframes)),e},onChangeValue:function(e,i,t){var n=t.options.sheet;if(!n)return e;switch(i){case"animation":return am(e,n.keyframes);case"animation-name":return am(e,n.keyframes);default:return e}}},ZL=function(e){rd(i,e);function i(){return e.apply(this,arguments)||this}var t=i.prototype;return t.toString=function(n){var r=this.options.sheet,l=r?r.options.link:!1,h=l?Pe({},n,{allowEmpty:!0}):n;return _l(this.key,this.style,h)},i}(pT),$L={onCreateRule:function(e,i,t){return t.parent&&t.parent.type==="keyframes"?new ZL(e,i,t):null}},JL=function(){function e(t,n,r){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=n,this.options=r}var i=e.prototype;return i.toString=function(t){var n=va(t),r=n.linebreak;if(Array.isArray(this.style)){for(var l="",h=0;h<this.style.length;h++)l+=_l(this.at,this.style[h]),this.style[h+1]&&(l+=r);return l}return _l(this.at,this.style,t)},e}(),QL=/@font-face/,e4={onCreateRule:function(e,i,t){return QL.test(e)?new JL(e,i,t):null}},t4=function(){function e(t,n,r){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=n,this.options=r}var i=e.prototype;return i.toString=function(t){return _l(this.key,this.style,t)},e}(),n4={onCreateRule:function(e,i,t){return e==="@viewport"||e==="@-ms-viewport"?new t4(e,i,t):null}},i4=function(){function e(t,n,r){this.type="simple",this.isProcessed=!1,this.key=t,this.value=n,this.options=r}var i=e.prototype;return i.toString=function(t){if(Array.isArray(this.value)){for(var n="",r=0;r<this.value.length;r++)n+=this.key+" "+this.value[r]+";",this.value[r+1]&&(n+=`
`);return n}return this.key+" "+this.value+";"},e}(),r4={"@charset":!0,"@import":!0,"@namespace":!0},o4={onCreateRule:function(e,i,t){return e in r4?new i4(e,i,t):null}},e0=[BL,GL,YL,$L,e4,n4,o4],s4={process:!0},t0={force:!0,process:!0},od=function(){function e(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var i=e.prototype;return i.add=function(t,n,r){var l=this.options,h=l.parent,d=l.sheet,p=l.jss,f=l.Renderer,g=l.generateId,y=l.scoped,S=Pe({classes:this.classes,parent:h,sheet:d,jss:p,Renderer:f,generateId:g,scoped:y,name:t,keyframes:this.keyframes,selector:void 0},r),C=t;t in this.raw&&(C=t+"-d"+this.counter++),this.raw[C]=n,C in this.classes&&(S.selector="."+Ym(this.classes[C]));var k=Km(C,n,S);if(!k)return null;this.register(k);var P=S.index===void 0?this.index.length:S.index;return this.index.splice(P,0,k),k},i.replace=function(t,n,r){var l=this.get(t),h=this.index.indexOf(l);l&&this.remove(l);var d=r;return h!==-1&&(d=Pe({},r,{index:h})),this.add(t,n,d)},i.get=function(t){return this.map[t]},i.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},i.indexOf=function(t){return this.index.indexOf(t)},i.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},i.register=function(t){this.map[t.key]=t,t instanceof om?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof sm&&this.keyframes&&(this.keyframes[t.name]=t.id)},i.unregister=function(t){delete this.map[t.key],t instanceof om?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof sm&&delete this.keyframes[t.name]},i.update=function(){var t,n,r;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.get(t),n,r);else for(var l=0;l<this.index.length;l++)this.updateOne(this.index[l],n,r)},i.updateOne=function(t,n,r){r===void 0&&(r=s4);var l=this.options,h=l.jss.plugins,d=l.sheet;if(t.rules instanceof e){t.rules.update(n,r);return}var p=t.style;if(h.onUpdate(n,t,d,r),r.process&&p&&p!==t.style){h.onProcessStyle(t.style,t,d);for(var f in t.style){var g=t.style[f],y=p[f];g!==y&&t.prop(f,g,t0)}for(var S in p){var C=t.style[S],k=p[S];C==null&&C!==k&&t.prop(S,null,t0)}}},i.toString=function(t){for(var n="",r=this.options.sheet,l=r?r.options.link:!1,h=va(t),d=h.linebreak,p=0;p<this.index.length;p++){var f=this.index[p],g=f.toString(t);!g&&!l||(n&&(n+=d),n+=g)}return n},e}(),fT=function(){function e(t,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Pe({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new od(this.options);for(var r in t)this.rules.add(r,t[r]);this.rules.process()}var i=e.prototype;return i.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},i.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},i.addRule=function(t,n,r){var l=this.queue;this.attached&&!l&&(this.queue=[]);var h=this.rules.add(t,n,r);return h?(this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&(l?l.push(h):(this.insertRule(h),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),h):(this.deployed=!1,h)):null},i.replaceRule=function(t,n,r){var l=this.rules.get(t);if(!l)return this.addRule(t,n,r);var h=this.rules.replace(t,n,r);return h&&this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&this.renderer&&(h?l.renderable&&this.renderer.replaceRule(l.renderable,h):this.renderer.deleteRule(l)),h):(this.deployed=!1,h)},i.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},i.addRules=function(t,n){var r=[];for(var l in t){var h=this.addRule(l,t[l],n);h&&r.push(h)}return r},i.getRule=function(t){return this.rules.get(t)},i.deleteRule=function(t){var n=typeof t=="object"?t:this.rules.get(t);return!n||this.attached&&!n.renderable?!1:(this.rules.remove(n),this.attached&&n.renderable&&this.renderer?this.renderer.deleteRule(n.renderable):!0)},i.indexOf=function(t){return this.rules.indexOf(t)},i.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},i.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},i.updateOne=function(t,n,r){return this.rules.updateOne(t,n,r),this},i.toString=function(t){return this.rules.toString(t)},e}(),a4=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var i=e.prototype;return i.onCreateRule=function(t,n,r){for(var l=0;l<this.registry.onCreateRule.length;l++){var h=this.registry.onCreateRule[l](t,n,r);if(h)return h}return null},i.onProcessRule=function(t){if(!t.isProcessed){for(var n=t.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](t,n);t.style&&this.onProcessStyle(t.style,t,n),t.isProcessed=!0}},i.onProcessStyle=function(t,n,r){for(var l=0;l<this.registry.onProcessStyle.length;l++)n.style=this.registry.onProcessStyle[l](n.style,n,r)},i.onProcessSheet=function(t){for(var n=0;n<this.registry.onProcessSheet.length;n++)this.registry.onProcessSheet[n](t)},i.onUpdate=function(t,n,r,l){for(var h=0;h<this.registry.onUpdate.length;h++)this.registry.onUpdate[h](t,n,r,l)},i.onChangeValue=function(t,n,r){for(var l=t,h=0;h<this.registry.onChangeValue.length;h++)l=this.registry.onChangeValue[h](l,n,r);return l},i.use=function(t,n){n===void 0&&(n={queue:"external"});var r=this.plugins[n.queue];r.indexOf(t)===-1&&(r.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(l,h){for(var d in h)d in l&&l[d].push(h[d]);return l},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),l4=function(){function e(){this.registry=[]}var i=e.prototype;return i.add=function(t){var n=this.registry,r=t.options.index;if(n.indexOf(t)===-1){if(n.length===0||r>=this.index){n.push(t);return}for(var l=0;l<n.length;l++)if(n[l].options.index>r){n.splice(l,0,t);return}}},i.reset=function(){this.registry=[]},i.remove=function(t){var n=this.registry.indexOf(t);this.registry.splice(n,1)},i.toString=function(t){for(var n=t===void 0?{}:t,r=n.attached,l=os(n,["attached"]),h=va(l),d=h.linebreak,p="",f=0;f<this.registry.length;f++){var g=this.registry[f];r!=null&&g.attached!==r||(p&&(p+=d),p+=g.toString(l))}return p},Xm(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),yl=new l4,lm=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),cm="2f1acc6c3a606b082e5eef5e54414ffb";lm[cm]==null&&(lm[cm]=0);var n0=lm[cm]++,i0=function(e){e===void 0&&(e={});var i=0,t=function(n,r){i+=1;var l="",h="";return r&&(r.options.classNamePrefix&&(h=r.options.classNamePrefix),r.options.jss.id!=null&&(l=String(r.options.jss.id))),e.minify?""+(h||"c")+n0+l+i:h+n.key+"-"+n0+(l?"-"+l:"")+"-"+i};return t},mT=function(e){var i;return function(){return i||(i=e()),i}},c4=function(e,i){try{return e.attributeStyleMap?e.attributeStyleMap.get(i):e.style.getPropertyValue(i)}catch{return""}},u4=function(e,i,t){try{var n=t;if(Array.isArray(t)&&(n=Yo(t)),e.attributeStyleMap)e.attributeStyleMap.set(i,n);else{var r=n?n.indexOf("!important"):-1,l=r>-1?n.substr(0,r-1):n;e.style.setProperty(i,l,r>-1?"important":"")}}catch{return!1}return!0},d4=function(e,i){try{e.attributeStyleMap?e.attributeStyleMap.delete(i):e.style.removeProperty(i)}catch{}},h4=function(e,i){return e.selectorText=i,e.selectorText===i},gT=mT(function(){return document.querySelector("head")});function p4(e,i){for(var t=0;t<e.length;t++){var n=e[t];if(n.attached&&n.options.index>i.index&&n.options.insertionPoint===i.insertionPoint)return n}return null}function f4(e,i){for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.attached&&n.options.insertionPoint===i.insertionPoint)return n}return null}function m4(e){for(var i=gT(),t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];if(n.nodeType===8&&n.nodeValue.trim()===e)return n}return null}function g4(e){var i=yl.registry;if(i.length>0){var t=p4(i,e);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=f4(i,e),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&typeof n=="string"){var r=m4(n);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}function v4(e,i){var t=i.insertionPoint,n=g4(i);if(n!==!1&&n.parent){n.parent.insertBefore(e,n.node);return}if(t&&typeof t.nodeType=="number"){var r=t,l=r.parentNode;l&&l.insertBefore(e,r.nextSibling);return}gT().appendChild(e)}var y4=mT(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),r0=function(e,i,t){try{"insertRule"in e?e.insertRule(i,t):"appendRule"in e&&e.appendRule(i)}catch{return!1}return e.cssRules[t]},o0=function(e,i){var t=e.cssRules.length;return i===void 0||i>t?t:i},b4=function(){var e=document.createElement("style");return e.textContent=`
`,e},w4=function(){function e(t){this.getPropertyValue=c4,this.setProperty=u4,this.removeProperty=d4,this.setSelector=h4,this.hasInsertedRules=!1,this.cssRules=[],t&&yl.add(t),this.sheet=t;var n=this.sheet?this.sheet.options:{},r=n.media,l=n.meta,h=n.element;this.element=h||b4(),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),l&&this.element.setAttribute("data-meta",l);var d=y4();d&&this.element.setAttribute("nonce",d)}var i=e.prototype;return i.attach=function(){if(!(this.element.parentNode||!this.sheet)){v4(this.element,this.sheet.options);var t=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},i.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},i.deploy=function(){var t=this.sheet;if(t){if(t.options.link){this.insertRules(t.rules);return}this.element.textContent=`
`+t.toString()+`
`}},i.insertRules=function(t,n){for(var r=0;r<t.index.length;r++)this.insertRule(t.index[r],r,n)},i.insertRule=function(t,n,r){if(r===void 0&&(r=this.element.sheet),t.rules){var l=t,h=r;if(t.type==="conditional"||t.type==="keyframes"){var d=o0(r,n);if(h=r0(r,l.toString({children:!1}),d),h===!1)return!1;this.refCssRule(t,d,h)}return this.insertRules(l.rules,h),h}var p=t.toString();if(!p)return!1;var f=o0(r,n),g=r0(r,p,f);return g===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(t,f,g),g)},i.refCssRule=function(t,n,r){t.renderable=r,t.options.parent instanceof fT&&this.cssRules.splice(n,0,r)},i.deleteRule=function(t){var n=this.element.sheet,r=this.indexOf(t);return r===-1?!1:(n.deleteRule(r),this.cssRules.splice(r,1),!0)},i.indexOf=function(t){return this.cssRules.indexOf(t)},i.replaceRule=function(t,n){var r=this.indexOf(t);return r===-1?!1:(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(n,r))},i.getRules=function(){return this.element.sheet.cssRules},e}(),x4=0,S4=function(){function e(t){this.id=x4++,this.version="10.10.0",this.plugins=new a4,this.options={id:{minify:!1},createGenerateId:i0,Renderer:zl?w4:null,plugins:[]},this.generateId=i0({minify:!1});for(var n=0;n<e0.length;n++)this.plugins.use(e0[n],{queue:"internal"});this.setup(t)}var i=e.prototype;return i.setup=function(t){return t===void 0&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Pe({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),t.insertionPoint!=null&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},i.createStyleSheet=function(t,n){n===void 0&&(n={});var r=n,l=r.index;typeof l!="number"&&(l=yl.index===0?0:yl.index+1);var h=new fT(t,Pe({},n,{jss:this,generateId:n.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:l}));return this.plugins.onProcessSheet(h),h},i.removeStyleSheet=function(t){return t.detach(),yl.remove(t),this},i.createRule=function(t,n,r){if(n===void 0&&(n={}),r===void 0&&(r={}),typeof t=="object")return this.createRule(void 0,t,n);var l=Pe({},r,{name:t,jss:this,Renderer:this.options.Renderer});l.generateId||(l.generateId=this.generateId),l.classes||(l.classes={}),l.keyframes||(l.keyframes={});var h=Km(t,n,l);return h&&this.plugins.onProcessRule(h),h},i.use=function(){for(var t=this,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return r.forEach(function(h){t.plugins.use(h)}),this},e}(),vT=function(e){return new S4(e)},Zm=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function yT(e){var i=null;for(var t in e){var n=e[t],r=typeof n;if(r==="function")i||(i={}),i[t]=n;else if(r==="object"&&n!==null&&!Array.isArray(n)){var l=yT(n);l&&(i||(i={}),i[t]=l)}}return i}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */vT();var bT=Date.now(),of="fnValues"+bT,sf="fnStyle"+ ++bT,E4=function(){return{onCreateRule:function(e,i,t){if(typeof i!="function")return null;var n=Km(e,{},t);return n[sf]=i,n},onProcessStyle:function(e,i){if(of in i||sf in i)return e;var t={};for(var n in e){var r=e[n];typeof r=="function"&&(delete e[n],t[n]=r)}return i[of]=t,e},onUpdate:function(e,i,t,n){var r=i,l=r[sf];l&&(r.style=l(e)||{});var h=r[of];if(h)for(var d in h)r.prop(d,h[d](e),n)}}},ao="@global",um="@global ",T4=function(){function e(t,n,r){this.type="global",this.at=ao,this.isProcessed=!1,this.key=t,this.options=r,this.rules=new od(Pe({},r,{parent:this}));for(var l in n)this.rules.add(l,n[l]);this.rules.process()}var i=e.prototype;return i.getRule=function(t){return this.rules.get(t)},i.addRule=function(t,n,r){var l=this.rules.add(t,n,r);return l&&this.options.jss.plugins.onProcessRule(l),l},i.replaceRule=function(t,n,r){var l=this.rules.replace(t,n,r);return l&&this.options.jss.plugins.onProcessRule(l),l},i.indexOf=function(t){return this.rules.indexOf(t)},i.toString=function(t){return this.rules.toString(t)},e}(),C4=function(){function e(t,n,r){this.type="global",this.at=ao,this.isProcessed=!1,this.key=t,this.options=r;var l=t.substr(um.length);this.rule=r.jss.createRule(l,n,Pe({},r,{parent:this}))}var i=e.prototype;return i.toString=function(t){return this.rule?this.rule.toString(t):""},e}(),k4=/\s*,\s*/g;function wT(e,i){for(var t=e.split(k4),n="",r=0;r<t.length;r++)n+=i+" "+t[r].trim(),t[r+1]&&(n+=", ");return n}function P4(e,i){var t=e.options,n=e.style,r=n?n[ao]:null;if(r){for(var l in r)i.addRule(l,r[l],Pe({},t,{selector:wT(l,e.selector)}));delete n[ao]}}function R4(e,i){var t=e.options,n=e.style;for(var r in n)if(!(r[0]!=="@"||r.substr(0,ao.length)!==ao)){var l=wT(r.substr(ao.length),e.selector);i.addRule(l,n[r],Pe({},t,{selector:l})),delete n[r]}}function _4(){function e(t,n,r){if(!t)return null;if(t===ao)return new T4(t,n,r);if(t[0]==="@"&&t.substr(0,um.length)===um)return new C4(t,n,r);var l=r.parent;return l&&(l.type==="global"||l.options.parent&&l.options.parent.type==="global")&&(r.scoped=!1),!r.selector&&r.scoped===!1&&(r.selector=t),null}function i(t,n){t.type!=="style"||!n||(P4(t,n),R4(t,n))}return{onCreateRule:e,onProcessRule:i}}var s0=/\s*,\s*/g,O4=/&/g,D4=/\$([\w-]+)/g;function A4(){function e(r,l){return function(h,d){var p=r.getRule(d)||l&&l.getRule(d);return p?p.selector:d}}function i(r,l){for(var h=l.split(s0),d=r.split(s0),p="",f=0;f<h.length;f++)for(var g=h[f],y=0;y<d.length;y++){var S=d[y];p&&(p+=", "),p+=S.indexOf("&")!==-1?S.replace(O4,g):g+" "+S}return p}function t(r,l,h){if(h)return Pe({},h,{index:h.index+1});var d=r.options.nestingLevel;d=d===void 0?1:d+1;var p=Pe({},r.options,{nestingLevel:d,index:l.indexOf(r)+1});return delete p.name,p}function n(r,l,h){if(l.type!=="style")return r;var d=l,p=d.options.parent,f,g;for(var y in r){var S=y.indexOf("&")!==-1,C=y[0]==="@";if(!(!S&&!C)){if(f=t(d,p,f),S){var k=i(y,d.selector);g||(g=e(p,h)),k=k.replace(D4,g);var P=d.key+"-"+y;"replaceRule"in p?p.replaceRule(P,r[y],Pe({},f,{selector:k})):p.addRule(P,r[y],Pe({},f,{selector:k}))}else C&&p.addRule(y,{},f).addRule(d.key,r[y],{selector:d.selector});delete r[y]}}return r}return{onProcessStyle:n}}var I4=/[A-Z]/g,M4=/^ms-/,af={};function z4(e){return"-"+e.toLowerCase()}function xT(e){if(af.hasOwnProperty(e))return af[e];var i=e.replace(I4,z4);return af[e]=M4.test(i)?"-"+i:i}function Bu(e){var i={};for(var t in e){var n=t.indexOf("--")===0?t:xT(t);i[n]=e[t]}return e.fallbacks&&(Array.isArray(e.fallbacks)?i.fallbacks=e.fallbacks.map(Bu):i.fallbacks=Bu(e.fallbacks)),i}function L4(){function e(t){if(Array.isArray(t)){for(var n=0;n<t.length;n++)t[n]=Bu(t[n]);return t}return Bu(t)}function i(t,n,r){if(n.indexOf("--")===0)return t;var l=xT(n);return n===l?t:(r.prop(l,t),null)}return{onProcessStyle:e,onChangeValue:i}}var Be=Zm&&CSS?CSS.px:"px",wu=Zm&&CSS?CSS.ms:"ms",Zs=Zm&&CSS?CSS.percent:"%",F4={"animation-delay":wu,"animation-duration":wu,"background-position":Be,"background-position-x":Be,"background-position-y":Be,"background-size":Be,border:Be,"border-bottom":Be,"border-bottom-left-radius":Be,"border-bottom-right-radius":Be,"border-bottom-width":Be,"border-left":Be,"border-left-width":Be,"border-radius":Be,"border-right":Be,"border-right-width":Be,"border-top":Be,"border-top-left-radius":Be,"border-top-right-radius":Be,"border-top-width":Be,"border-width":Be,"border-block":Be,"border-block-end":Be,"border-block-end-width":Be,"border-block-start":Be,"border-block-start-width":Be,"border-block-width":Be,"border-inline":Be,"border-inline-end":Be,"border-inline-end-width":Be,"border-inline-start":Be,"border-inline-start-width":Be,"border-inline-width":Be,"border-start-start-radius":Be,"border-start-end-radius":Be,"border-end-start-radius":Be,"border-end-end-radius":Be,margin:Be,"margin-bottom":Be,"margin-left":Be,"margin-right":Be,"margin-top":Be,"margin-block":Be,"margin-block-end":Be,"margin-block-start":Be,"margin-inline":Be,"margin-inline-end":Be,"margin-inline-start":Be,padding:Be,"padding-bottom":Be,"padding-left":Be,"padding-right":Be,"padding-top":Be,"padding-block":Be,"padding-block-end":Be,"padding-block-start":Be,"padding-inline":Be,"padding-inline-end":Be,"padding-inline-start":Be,"mask-position-x":Be,"mask-position-y":Be,"mask-size":Be,height:Be,width:Be,"min-height":Be,"max-height":Be,"min-width":Be,"max-width":Be,bottom:Be,left:Be,top:Be,right:Be,inset:Be,"inset-block":Be,"inset-block-end":Be,"inset-block-start":Be,"inset-inline":Be,"inset-inline-end":Be,"inset-inline-start":Be,"box-shadow":Be,"text-shadow":Be,"column-gap":Be,"column-rule":Be,"column-rule-width":Be,"column-width":Be,"font-size":Be,"font-size-delta":Be,"letter-spacing":Be,"text-decoration-thickness":Be,"text-indent":Be,"text-stroke":Be,"text-stroke-width":Be,"word-spacing":Be,motion:Be,"motion-offset":Be,outline:Be,"outline-offset":Be,"outline-width":Be,perspective:Be,"perspective-origin-x":Zs,"perspective-origin-y":Zs,"transform-origin":Zs,"transform-origin-x":Zs,"transform-origin-y":Zs,"transform-origin-z":Zs,"transition-delay":wu,"transition-duration":wu,"vertical-align":Be,"flex-basis":Be,"shape-margin":Be,size:Be,gap:Be,grid:Be,"grid-gap":Be,"row-gap":Be,"grid-row-gap":Be,"grid-column-gap":Be,"grid-template-rows":Be,"grid-template-columns":Be,"grid-auto-rows":Be,"grid-auto-columns":Be,"box-shadow-x":Be,"box-shadow-y":Be,"box-shadow-blur":Be,"box-shadow-spread":Be,"font-line-height":Be,"text-shadow-x":Be,"text-shadow-y":Be,"text-shadow-blur":Be};function ST(e){var i=/(-[a-z])/g,t=function(l){return l[1].toUpperCase()},n={};for(var r in e)n[r]=e[r],n[r.replace(i,t)]=e[r];return n}var N4=ST(F4);function bl(e,i,t){if(i==null)return i;if(Array.isArray(i))for(var n=0;n<i.length;n++)i[n]=bl(e,i[n],t);else if(typeof i=="object")if(e==="fallbacks")for(var r in i)i[r]=bl(r,i[r],t);else for(var l in i)i[l]=bl(e+"-"+l,i[l],t);else if(typeof i=="number"&&isNaN(i)===!1){var h=t[e]||N4[e];return h&&!(i===0&&h===Be)?typeof h=="function"?h(i).toString():""+i+h:i.toString()}return i}function H4(e){e===void 0&&(e={});var i=ST(e);function t(r,l){if(l.type!=="style")return r;for(var h in r)r[h]=bl(h,r[h],i);return r}function n(r,l){return bl(l,r,i)}return{onProcessStyle:t,onChangeValue:n}}var pl="",dm="",ET="",TT="",j4=zl&&"ontouchstart"in document.documentElement;if(zl){var lf={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},B4=document.createElement("p"),cf=B4.style,V4="Transform";for(var uf in lf)if(uf+V4 in cf){pl=uf,dm=lf[uf];break}pl==="Webkit"&&"msHyphens"in cf&&(pl="ms",dm=lf.ms,TT="edge"),pl==="Webkit"&&"-apple-trailing-word"in cf&&(ET="apple")}var Jt={js:pl,css:dm,vendor:ET,browser:TT,isTouch:j4};function U4(e){return e[1]==="-"||Jt.js==="ms"?e:"@"+Jt.css+"keyframes"+e.substr(10)}var W4={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Jt.js==="ms"?"-webkit-"+e:Jt.css+e}},G4={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Jt.js==="Webkit"?Jt.css+"print-"+e:e}},q4=/[-\s]+(.)?/g;function X4(e,i){return i?i.toUpperCase():""}function $m(e){return e.replace(q4,X4)}function uo(e){return $m("-"+e)}var K4={noPrefill:["mask"],supportedProperty:function(e,i){if(!/^mask/.test(e))return!1;if(Jt.js==="Webkit"){var t="mask-image";if($m(t)in i)return e;if(Jt.js+uo(t)in i)return Jt.css+e}return e}},Y4={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Jt.vendor==="apple"&&!Jt.isTouch?Jt.css+e:e}},Z4={noPrefill:["transform"],supportedProperty:function(e,i,t){return e!=="transform"?!1:t.transform?e:Jt.css+e}},$4={noPrefill:["transition"],supportedProperty:function(e,i,t){return e!=="transition"?!1:t.transition?e:Jt.css+e}},J4={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Jt.js==="Webkit"||Jt.js==="ms"&&Jt.browser!=="edge"?Jt.css+e:e}},Q4={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Jt.js==="Moz"||Jt.js==="ms"||Jt.vendor==="apple"?Jt.css+e:e}},eF={supportedProperty:function(e,i){if(!/^break-/.test(e))return!1;if(Jt.js==="Webkit"){var t="WebkitColumn"+uo(e);return t in i?Jt.css+"column-"+e:!1}if(Jt.js==="Moz"){var n="page"+uo(e);return n in i?"page-"+e:!1}return!1}},tF={supportedProperty:function(e,i){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Jt.js==="Moz")return e;var t=e.replace("-inline","");return Jt.js+uo(t)in i?Jt.css+t:!1}},nF={supportedProperty:function(e,i){return $m(e)in i?e:!1}},iF={supportedProperty:function(e,i){var t=uo(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Jt.js+t in i?Jt.css+e:Jt.js!=="Webkit"&&"Webkit"+t in i?"-webkit-"+e:!1}},rF={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Jt.js==="ms"?""+Jt.css+e:e}},oF={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Jt.js==="ms"?Jt.css+"scroll-chaining":e}},sF={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},aF={supportedProperty:function(e,i){var t=sF[e];return t&&Jt.js+uo(t)in i?Jt.css+t:!1}},CT={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},lF=Object.keys(CT),cF=function(e){return Jt.css+e},uF={supportedProperty:function(e,i,t){var n=t.multiple;if(lF.indexOf(e)>-1){var r=CT[e];if(!Array.isArray(r))return Jt.js+uo(r)in i?Jt.css+r:!1;if(!n)return!1;for(var l=0;l<r.length;l++)if(!(Jt.js+uo(r[0])in i))return!1;return r.map(cF)}return!1}},kT=[W4,G4,K4,Y4,Z4,$4,J4,Q4,eF,tF,nF,iF,rF,oF,aF,uF],a0=kT.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),dF=kT.filter(function(e){return e.noPrefill}).reduce(function(e,i){return e.push.apply(e,nd(i.noPrefill)),e},[]),fl,Wo={};if(zl){fl=document.createElement("p");var df=window.getComputedStyle(document.documentElement,"");for(var hf in df)isNaN(hf)||(Wo[df[hf]]=df[hf]);dF.forEach(function(e){return delete Wo[e]})}function hm(e,i){if(i===void 0&&(i={}),!fl)return e;if(Wo[e]!=null)return Wo[e];(e==="transition"||e==="transform")&&(i[e]=e in fl.style);for(var t=0;t<a0.length&&(Wo[e]=a0[t](e,fl.style,i),!Wo[e]);t++);try{fl.style[e]=""}catch{return!1}return Wo[e]}var $s={},hF={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},pF=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,io;function fF(e,i,t){if(i==="var")return"var";if(i==="all")return"all";if(t==="all")return", all";var n=i?hm(i):", "+hm(t);return n||i||t}zl&&(io=document.createElement("p"));function l0(e,i){var t=i;if(!io||e==="content")return i;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var n=e+t;if($s[n]!=null)return $s[n];try{io.style[e]=t}catch{return $s[n]=!1,!1}if(hF[e])t=t.replace(pF,fF);else if(io.style[e]===""&&(t=Jt.css+t,t==="-ms-flex"&&(io.style[e]="-ms-flexbox"),io.style[e]=t,io.style[e]===""))return $s[n]=!1,!1;return io.style[e]="",$s[n]=t,$s[n]}function mF(){function e(r){if(r.type==="keyframes"){var l=r;l.at=U4(l.at)}}function i(r){for(var l in r){var h=r[l];if(l==="fallbacks"&&Array.isArray(h)){r[l]=h.map(i);continue}var d=!1,p=hm(l);p&&p!==l&&(d=!0);var f=!1,g=l0(p,Yo(h));g&&g!==h&&(f=!0),(d||f)&&(d&&delete r[l],r[p||l]=g||h)}return r}function t(r,l){return l.type!=="style"?r:i(r)}function n(r,l){return l0(l,Yo(r))||r}return{onProcessRule:e,onProcessStyle:t,onChangeValue:n}}function gF(){var e=function(i,t){return i.length===t.length?i>t?1:-1:i.length-t.length};return{onProcessStyle:function(i,t){if(t.type!=="style")return i;for(var n={},r=Object.keys(i).sort(e),l=0;l<r.length;l++)n[r[l]]=i[r[l]];return n}}}function vF(){return{plugins:[E4(),_4(),A4(),L4(),H4(),typeof window>"u"?null:mF(),gF()]}}function Jm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.baseClasses,t=e.newClasses;if(e.Component,!t)return i;var n=Pe({},i);return Object.keys(t).forEach(function(r){t[r]&&(n[r]="".concat(i[r]," ").concat(t[r]))}),n}var ia={set:function(e,i,t,n){var r=e.get(i);r||(r=new Map,e.set(i,r)),r.set(t,n)},get:function(e,i,t){var n=e.get(i);return n?n.get(t):void 0},delete:function(e,i,t){var n=e.get(i);n.delete(t)}},PT=gt.createContext(null);function as(){var e=gt.useContext(PT);return e}var yF=vT(vF()),bF=FL(),wF=new Map,xF={disableGeneration:!1,generateClassName:bF,jss:yF,sheetsCache:null,sheetsManager:wF,sheetsRegistry:null},SF=gt.createContext(xF),c0=-1e9;function EF(){return c0+=1,c0}var TF={};function CF(e){var i=typeof e=="function";return{create:function(t,n){var r;try{r=i?e(t):e}catch(d){throw d}if(!n||!t.overrides||!t.overrides[n])return r;var l=t.overrides[n],h=Pe({},r);return Object.keys(l).forEach(function(d){h[d]=Jo(h[d],l[d])}),h},options:{}}}function kF(e,i,t){var n=e.state,r=e.stylesOptions;if(r.disableGeneration)return i||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});var l=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,l=!0),i!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=i,l=!0),l&&(n.cacheClasses.value=Jm({baseClasses:n.cacheClasses.lastJSS,newClasses:i,Component:t})),n.cacheClasses.value}function PF(e,i){var t=e.state,n=e.theme,r=e.stylesOptions,l=e.stylesCreator,h=e.name;if(!r.disableGeneration){var d=ia.get(r.sheetsManager,l,n);d||(d={refs:0,staticSheet:null,dynamicStyles:null},ia.set(r.sheetsManager,l,n,d));var p=Pe({},l.options,r,{theme:n,flip:typeof r.flip=="boolean"?r.flip:n.direction==="rtl"});p.generateId=p.serverGenerateClassName||p.generateClassName;var f=r.sheetsRegistry;if(d.refs===0){var g;r.sheetsCache&&(g=ia.get(r.sheetsCache,l,n));var y=l.create(n,h);g||(g=r.jss.createStyleSheet(y,Pe({link:!1},p)),g.attach(),r.sheetsCache&&ia.set(r.sheetsCache,l,n,g)),f&&f.add(g),d.staticSheet=g,d.dynamicStyles=yT(y)}if(d.dynamicStyles){var S=r.jss.createStyleSheet(d.dynamicStyles,Pe({link:!0},p));S.update(i),S.attach(),t.dynamicSheet=S,t.classes=Jm({baseClasses:d.staticSheet.classes,newClasses:S.classes}),f&&f.add(S)}else t.classes=d.staticSheet.classes;d.refs+=1}}function RF(e,i){var t=e.state;t.dynamicSheet&&t.dynamicSheet.update(i)}function _F(e){var i=e.state,t=e.theme,n=e.stylesOptions,r=e.stylesCreator;if(!n.disableGeneration){var l=ia.get(n.sheetsManager,r,t);l.refs-=1;var h=n.sheetsRegistry;l.refs===0&&(ia.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(l.staticSheet),h&&h.remove(l.staticSheet)),i.dynamicSheet&&(n.jss.removeStyleSheet(i.dynamicSheet),h&&h.remove(i.dynamicSheet))}}function OF(e,i){var t=gt.useRef([]),n,r=gt.useMemo(function(){return{}},i);t.current!==r&&(t.current=r,n=e()),gt.useEffect(function(){return function(){n&&n()}},[r])}function RT(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=i.name,n=i.classNamePrefix,r=i.Component,l=i.defaultTheme,h=l===void 0?TF:l,d=Dt(i,["name","classNamePrefix","Component","defaultTheme"]),p=CF(e),f=t||n||"makeStyles";p.options={index:EF(),name:t,meta:f,classNamePrefix:f};var g=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=as()||h,C=Pe({},gt.useContext(SF),d),k=gt.useRef(),P=gt.useRef();OF(function(){var D={name:t,state:{},stylesCreator:p,stylesOptions:C,theme:S};return PF(D,y),P.current=!1,k.current=D,function(){_F(D)}},[S,p]),gt.useEffect(function(){P.current&&RF(k.current,y),P.current=!0});var R=kF(k.current,y.classes,r);return R};return g}function DF(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _T(e){var i,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(i=0;i<e.length;i++)e[i]&&(t=_T(e[i]))&&(n&&(n+=" "),n+=t);else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function jt(){for(var e,i,t=0,n="";t<arguments.length;)(e=arguments[t++])&&(i=_T(e))&&(n&&(n+=" "),n+=i);return n}var OT={exports:{}},Sn={},u0;function AF(){if(u0)return Sn;u0=1;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=typeof Symbol=="function"&&Symbol.for,i=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,h=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,p=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,S=e?Symbol.for("react.suspense_list"):60120,C=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,P=e?Symbol.for("react.block"):60121,R=e?Symbol.for("react.fundamental"):60117,D=e?Symbol.for("react.responder"):60118,q=e?Symbol.for("react.scope"):60119;function G(Z){if(typeof Z=="object"&&Z!==null){var Y=Z.$$typeof;switch(Y){case i:switch(Z=Z.type,Z){case p:case f:case n:case l:case r:case y:return Z;default:switch(Z=Z&&Z.$$typeof,Z){case d:case g:case k:case C:case h:return Z;default:return Y}}case t:return Y}}}function ne(Z){return G(Z)===f}return Sn.AsyncMode=p,Sn.ConcurrentMode=f,Sn.ContextConsumer=d,Sn.ContextProvider=h,Sn.Element=i,Sn.ForwardRef=g,Sn.Fragment=n,Sn.Lazy=k,Sn.Memo=C,Sn.Portal=t,Sn.Profiler=l,Sn.StrictMode=r,Sn.Suspense=y,Sn.isAsyncMode=function(Z){return ne(Z)||G(Z)===p},Sn.isConcurrentMode=ne,Sn.isContextConsumer=function(Z){return G(Z)===d},Sn.isContextProvider=function(Z){return G(Z)===h},Sn.isElement=function(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===i},Sn.isForwardRef=function(Z){return G(Z)===g},Sn.isFragment=function(Z){return G(Z)===n},Sn.isLazy=function(Z){return G(Z)===k},Sn.isMemo=function(Z){return G(Z)===C},Sn.isPortal=function(Z){return G(Z)===t},Sn.isProfiler=function(Z){return G(Z)===l},Sn.isStrictMode=function(Z){return G(Z)===r},Sn.isSuspense=function(Z){return G(Z)===y},Sn.isValidElementType=function(Z){return typeof Z=="string"||typeof Z=="function"||Z===n||Z===f||Z===l||Z===r||Z===y||Z===S||typeof Z=="object"&&Z!==null&&(Z.$$typeof===k||Z.$$typeof===C||Z.$$typeof===h||Z.$$typeof===d||Z.$$typeof===g||Z.$$typeof===R||Z.$$typeof===D||Z.$$typeof===q||Z.$$typeof===P)},Sn.typeOf=G,Sn}OT.exports=AF();var IF=OT.exports,Qm=IF,MF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eg={};eg[Qm.ForwardRef]=LF;eg[Qm.Memo]=DT;function d0(e){return Qm.isMemo(e)?DT:eg[e.$$typeof]||MF}var FF=Object.defineProperty,NF=Object.getOwnPropertyNames,h0=Object.getOwnPropertySymbols,HF=Object.getOwnPropertyDescriptor,jF=Object.getPrototypeOf,p0=Object.prototype;function AT(e,i,t){if(typeof i!="string"){if(p0){var n=jF(i);n&&n!==p0&&AT(e,n,t)}var r=NF(i);h0&&(r=r.concat(h0(i)));for(var l=d0(e),h=d0(i),d=0;d<r.length;++d){var p=r[d];if(!zF[p]&&!(t&&t[p])&&!(h&&h[p])&&!(l&&l[p])){var f=HF(i,p);try{FF(e,p,f)}catch{}}}}return e}var BF=AT;const Ol=Tr(BF);function VF(e,i){var t={};return Object.keys(e).forEach(function(n){i.indexOf(n)===-1&&(t[n]=e[n])}),t}function UF(e){var i=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.name,l=Dt(n,["name"]),h=r,d=typeof t=="function"?function(y){return{root:function(S){return t(Pe({theme:y},S))}}}:{root:t},p=RT(d,Pe({Component:e,name:r||e.displayName,classNamePrefix:h},l)),f;t.filterProps&&(f=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var g=gt.forwardRef(function(y,S){var C=y.children,k=y.className,P=y.clone,R=y.component,D=Dt(y,["children","className","clone","component"]),q=p(y),G=jt(q.root,k),ne=D;if(f&&(ne=VF(ne,f)),P)return gt.cloneElement(C,Pe({className:jt(C.props.className,G)},ne));if(typeof C=="function")return C(Pe({className:G},ne));var Z=R||e;return gt.createElement(Z,Pe({ref:S,className:G},ne),C)});return Ol(g,e),g};return i}function WF(e,i){if(typeof i=="function"){var t=i(e);return t}return Pe({},e,i)}function GF(e){var i=e.children,t=e.theme,n=as(),r=gt.useMemo(function(){var l=n===null?t:WF(n,t);return l!=null&&(l[hT]=n!==null),l},[t,n]);return gt.createElement(PT.Provider,{value:r},i)}var qF=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){var n=i.defaultTheme,r=i.withTheme,l=r===void 0?!1:r,h=i.name,d=Dt(i,["defaultTheme","withTheme","name"]),p=h,f=RT(e,Pe({defaultTheme:n,Component:t,name:h||t.displayName,classNamePrefix:p},d)),g=gt.forwardRef(function(y,S){y.classes;var C=y.innerRef,k=Dt(y,["classes","innerRef"]),P=f(Pe({},t.defaultProps,y)),R,D=k;return(typeof h=="string"||l)&&(R=as()||n,h&&(D=id({theme:R,name:h,props:k})),l&&!D.theme&&(D.theme=R)),gt.createElement(t,Pe({ref:C||S,classes:P},D))});return Ol(g,t),g}},tg=dT(),XF=function(e){var i=UF(e);return function(t,n){return i(t,Pe({defaultTheme:tg},n))}};function ya(){var e=as()||tg;return e}function yn(e,i){return qF(e,Pe({defaultTheme:tg},i))}function KF(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=as(),n=id({theme:t,name:"MuiUseMediaQuery",props:{}}),r=typeof e=="function"?e(t):e;r=r.replace(/^@media( ?)/m,"");var l=typeof window<"u"&&typeof window.matchMedia<"u",h=Pe({},n,i),d=h.defaultMatches,p=d===void 0?!1:d,f=h.matchMedia,g=f===void 0?l?window.matchMedia:null:f,y=h.noSsr,S=y===void 0?!1:y,C=h.ssrMatchMedia,k=C===void 0?null:C,P=z.useState(function(){return S&&l?g(r).matches:k?k(r).matches:p}),R=P[0],D=P[1];return z.useEffect(function(){var q=!0;if(l){var G=g(r),ne=function(){q&&D(G.matches)};return ne(),G.addListener(ne),function(){q=!1,G.removeListener(ne)}}},[r,g,l]),R}var YF=function(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t?Zi.indexOf(e)<=Zi.indexOf(i):Zi.indexOf(e)<Zi.indexOf(i)},ZF=typeof window>"u"?z.useEffect:z.useLayoutEffect,IT=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(i){var t=e.withTheme,n=t===void 0?!1:t,r=e.noSSR,l=r===void 0?!1:r,h=e.initialWidth;function d(p){var f=ya(),g=p.theme||f,y=id({theme:g,name:"MuiWithWidth",props:Pe({},p)}),S=y.initialWidth,C=y.width,k=Dt(y,["initialWidth","width"]),P=z.useState(!1),R=P[0],D=P[1];ZF(function(){D(!0)},[]);var q=g.breakpoints.keys.slice().reverse(),G=q.reduce(function(Z,Y){var se=KF(g.breakpoints.up(Y));return!Z&&se?Y:Z},null),ne=Pe({width:C||(R||l?G:void 0)||S||h},n?{theme:g}:{},k);return ne.width===void 0?null:z.createElement(i,ne)}return Ol(d,i),d}},ra;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ra||(ra={}));var f0=function(e){return e},m0="beforeunload",$F="popstate";function JF(e){e===void 0&&(e={});var i=e,t=i.window,n=t===void 0?document.defaultView:t,r=n.history;function l(){var se=n.location,le=se.pathname,ge=se.search,ue=se.hash,pe=r.state||{};return[pe.idx,f0({pathname:le,search:ge,hash:ue,state:pe.usr||null,key:pe.key||"default"})]}var h=null;function d(){if(h)C.call(h),h=null;else{var se=ra.Pop,le=l(),ge=le[0],ue=le[1];if(C.length){if(ge!=null){var pe=g-ge;pe&&(h={action:se,location:ue,retry:function(){Z(pe*-1)}},Z(pe))}}else q(se)}}n.addEventListener($F,d);var p=ra.Pop,f=l(),g=f[0],y=f[1],S=v0(),C=v0();g==null&&(g=0,r.replaceState(Pe({},r.state,{idx:g}),""));function k(se){return typeof se=="string"?se:e5(se)}function P(se,le){return le===void 0&&(le=null),f0(Pe({pathname:y.pathname,hash:"",search:""},typeof se=="string"?t5(se):se,{state:le,key:QF()}))}function R(se,le){return[{usr:se.state,key:se.key,idx:le},k(se)]}function D(se,le,ge){return!C.length||(C.call({action:se,location:le,retry:ge}),!1)}function q(se){p=se;var le=l();g=le[0],y=le[1],S.call({action:p,location:y})}function G(se,le){var ge=ra.Push,ue=P(se,le);function pe(){G(se,le)}if(D(ge,ue,pe)){var we=R(ue,g+1),ve=we[0],Ae=we[1];try{r.pushState(ve,"",Ae)}catch{n.location.assign(Ae)}q(ge)}}function ne(se,le){var ge=ra.Replace,ue=P(se,le);function pe(){ne(se,le)}if(D(ge,ue,pe)){var we=R(ue,g),ve=we[0],Ae=we[1];r.replaceState(ve,"",Ae),q(ge)}}function Z(se){r.go(se)}var Y={get action(){return p},get location(){return y},createHref:k,push:G,replace:ne,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(se){return S.push(se)},block:function(se){var le=C.push(se);return C.length===1&&n.addEventListener(m0,g0),function(){le(),C.length||n.removeEventListener(m0,g0)}}};return Y}function g0(e){e.preventDefault(),e.returnValue=""}function v0(){var e=[];return{get length(){return e.length},push:function(i){return e.push(i),function(){e=e.filter(function(t){return t!==i})}},call:function(i){e.forEach(function(t){return t&&t(i)})}}}function QF(){return Math.random().toString(36).substr(2,8)}function e5(e){var i=e.pathname,t=i===void 0?"/":i,n=e.search,r=n===void 0?"":n,l=e.hash,h=l===void 0?"":l;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),h&&h!=="#"&&(t+=h.charAt(0)==="#"?h:"#"+h),t}function t5(e){var i={};if(e){var t=e.indexOf("#");t>=0&&(i.hash=e.substr(t),e=e.substr(0,t));var n=e.indexOf("?");n>=0&&(i.search=e.substr(n),e=e.substr(0,n)),e&&(i.pathname=e)}return i}var MT={exports:{}},pf={},y0;function n5(){if(y0)return pf;y0=1;/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=gt;function i(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var t=typeof Object.is=="function"?Object.is:i,n=e.useState,r=e.useEffect,l=e.useLayoutEffect,h=e.useDebugValue;function d(y,S){var C=S(),k=n({inst:{value:C,getSnapshot:S}}),P=k[0].inst,R=k[1];return l(function(){P.value=C,P.getSnapshot=S,p(P)&&R({inst:P})},[y,C,S]),r(function(){return p(P)&&R({inst:P}),y(function(){p(P)&&R({inst:P})})},[y]),h(C),C}function p(y){var S=y.getSnapshot;y=y.value;try{var C=S();return!t(y,C)}catch{return!0}}function f(y,S){return S()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return pf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,pf}MT.exports=n5();var zT=MT.exports,ff={},b0;function i5(){if(b0)return ff;b0=1;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=gt,i=zT;function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=i.useSyncExternalStore,l=e.useRef,h=e.useEffect,d=e.useMemo,p=e.useDebugValue;return ff.useSyncExternalStoreWithSelector=function(f,g,y,S,C){var k=l(null);if(k.current===null){var P={hasValue:!1,value:null};k.current=P}else P=k.current;k=d(function(){function D(Y){if(!q){if(q=!0,G=Y,Y=S(Y),C!==void 0&&P.hasValue){var se=P.value;if(C(se,Y))return ne=se}return ne=Y}if(se=ne,n(G,Y))return se;var le=S(Y);return C!==void 0&&C(se,le)?se:(G=Y,ne=le)}var q=!1,G,ne,Z=y===void 0?null:y;return[function(){return D(g())},Z===null?void 0:function(){return D(Z())}]},[g,y,S,C]);var R=r(f,k[0],k[1]);return h(function(){P.hasValue=!0,P.value=R},[R]),p(R),R},ff}i5();function r5(e){e()}let LT=r5;const o5=e=>LT=e,s5=()=>LT,FT=z.createContext(null),a5=()=>{throw new Error("uSES not initialized!")};var NT={exports:{}},En={},w0;function l5(){if(w0)return En;w0=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),i=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function P(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case e:switch(R=R.type,R){case t:case r:case n:case f:case g:return R;default:switch(R=R&&R.$$typeof,R){case d:case h:case p:case S:case y:case l:return R;default:return D}}case i:return D}}}return En.ContextConsumer=h,En.ContextProvider=l,En.Element=e,En.ForwardRef=p,En.Fragment=t,En.Lazy=S,En.Memo=y,En.Portal=i,En.Profiler=r,En.StrictMode=n,En.Suspense=f,En.SuspenseList=g,En.isAsyncMode=function(){return!1},En.isConcurrentMode=function(){return!1},En.isContextConsumer=function(R){return P(R)===h},En.isContextProvider=function(R){return P(R)===l},En.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},En.isForwardRef=function(R){return P(R)===p},En.isFragment=function(R){return P(R)===t},En.isLazy=function(R){return P(R)===S},En.isMemo=function(R){return P(R)===y},En.isPortal=function(R){return P(R)===i},En.isProfiler=function(R){return P(R)===r},En.isStrictMode=function(R){return P(R)===n},En.isSuspense=function(R){return P(R)===f},En.isSuspenseList=function(R){return P(R)===g},En.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===r||R===n||R===f||R===g||R===C||typeof R=="object"&&R!==null&&(R.$$typeof===S||R.$$typeof===y||R.$$typeof===l||R.$$typeof===h||R.$$typeof===p||R.$$typeof===k||R.getModuleId!==void 0)},En.typeOf=P,En}NT.exports=l5();var c5=NT.exports;const u5=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function d5(e,i,t,n,{areStatesEqual:r,areOwnPropsEqual:l,areStatePropsEqual:h}){let d=!1,p,f,g,y,S;function C(q,G){return p=q,f=G,g=e(p,f),y=i(n,f),S=t(g,y,f),d=!0,S}function k(){return g=e(p,f),i.dependsOnOwnProps&&(y=i(n,f)),S=t(g,y,f),S}function P(){return e.dependsOnOwnProps&&(g=e(p,f)),i.dependsOnOwnProps&&(y=i(n,f)),S=t(g,y,f),S}function R(){const q=e(p,f),G=!h(q,g);return g=q,G&&(S=t(g,y,f)),S}function D(q,G){const ne=!l(G,f),Z=!r(q,p,G,f);return p=q,f=G,ne&&Z?k():ne?P():Z?R():S}return function(q,G){return d?D(q,G):C(q,G)}}function h5(e,i){let{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r}=i,l=os(i,u5);const h=t(e,l),d=n(e,l),p=r(e,l);return d5(h,d,p,e,l)}function HT(e){return function(i){const t=e(i);function n(){return t}return n.dependsOnOwnProps=!1,n}}function x0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function p5(e,i){return function(t,{displayName:n}){const r=function(l,h){return r.dependsOnOwnProps?r.mapToProps(l,h):r.mapToProps(l,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(l,h){r.mapToProps=e,r.dependsOnOwnProps=x0(e);let d=r(l,h);return typeof d=="function"&&(r.mapToProps=d,r.dependsOnOwnProps=x0(d),d=r(l,h)),d},r}}function f5(e,i){return(t,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${i} argument when connecting component ${n.wrappedComponentName}.`)}}function m5(e){return HT(i=>({dispatch:i}))}function g5(e){return e?typeof e=="function"?p5(e):f5(e,"mapStateToProps"):HT(()=>({}))}function v5(e,i,t){return Pe({},t,e,i)}function y5(e){return()=>v5}function b5(){const e=s5();let i=null,t=null;return{clear(){i=null,t=null},notify(){e(()=>{let n=i;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=i;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:i=l,function(){!r||i===null||(r=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:i=l.next)}}}}const S0={notify(){},get:()=>[]};function jT(e,i){let t,n=S0;function r(y){return p(),n.subscribe(y)}function l(){n.notify()}function h(){g.onStateChange&&g.onStateChange()}function d(){return!!t}function p(){t||(t=i?i.addNestedSub(h):e.subscribe(h),n=b5())}function f(){t&&(t(),t=void 0,n.clear(),n=S0)}const g={addNestedSub:r,notifyNestedSubs:l,handleChangeWrapper:h,isSubscribed:d,trySubscribe:p,tryUnsubscribe:f,getListeners:()=>n};return g}const w5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vu=w5?z.useLayoutEffect:z.useEffect;function E0(e,i){return e===i?e!==0||i!==0||1/e===1/i:e!==e&&i!==i}function mf(e,i){if(E0(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;const t=Object.keys(e),n=Object.keys(i);if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(i,t[r])||!E0(e[t[r]],i[t[r]]))return!1;return!0}const x5=["reactReduxForwardedRef"];let BT=a5;const S5=e=>{BT=e},E5=[null,null];function T5(e,i,t){Vu(()=>e(...i),t)}function C5(e,i,t,n,r,l){e.current=n,t.current=!1,r.current&&(r.current=null,l())}function k5(e,i,t,n,r,l,h,d,p,f,g){if(!e)return()=>{};let y=!1,S=null;const C=()=>{if(y||!d.current)return;const k=i.getState();let P,R;try{P=n(k,r.current)}catch(D){R=D,S=D}R||(S=null),P===l.current?h.current||f():(l.current=P,p.current=P,h.current=!0,g())};return t.onStateChange=C,t.trySubscribe(),C(),()=>{if(y=!0,t.tryUnsubscribe(),t.onStateChange=null,S)throw S}}function P5(e,i){return e===i}function qi(e,i,t,{pure:n,areStatesEqual:r=P5,areOwnPropsEqual:l=mf,areStatePropsEqual:h=mf,areMergedPropsEqual:d=mf,forwardRef:p=!1,context:f=FT}={}){const g=f,y=g5(e),S=m5(),C=y5(),k=!!e;return P=>{const R=P.displayName||P.name||"Component",D=`Connect(${R})`,q={shouldHandleStateChanges:k,displayName:D,wrappedComponentName:R,WrappedComponent:P,initMapStateToProps:y,initMapDispatchToProps:S,initMergeProps:C,areStatesEqual:r,areStatePropsEqual:h,areOwnPropsEqual:l,areMergedPropsEqual:d};function G(Z){const[Y,se,le]=z.useMemo(()=>{const{reactReduxForwardedRef:St}=Z,nt=os(Z,x5);return[Z.context,St,nt]},[Z]),ge=z.useMemo(()=>Y&&Y.Consumer&&c5.isContextConsumer(gt.createElement(Y.Consumer,null))?Y:g,[Y,g]),ue=z.useContext(ge),pe=!!Z.store&&!!Z.store.getState&&!!Z.store.dispatch,we=!!ue&&!!ue.store,ve=pe?Z.store:ue.store,Ae=we?ue.getServerState:ve.getState,je=z.useMemo(()=>h5(ve.dispatch,q),[ve]),[xe,me]=z.useMemo(()=>{if(!k)return E5;const St=jT(ve,pe?void 0:ue.subscription),nt=St.notifyNestedSubs.bind(St);return[St,nt]},[ve,pe,ue]),De=z.useMemo(()=>pe?ue:Pe({},ue,{subscription:xe}),[pe,ue,xe]),Oe=z.useRef(),$=z.useRef(le),He=z.useRef(),ot=z.useRef(!1);z.useRef(!1);const ee=z.useRef(!1),kt=z.useRef();Vu(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const tt=z.useMemo(()=>()=>He.current&&le===$.current?He.current:je(ve.getState(),le),[ve,le]),lt=z.useMemo(()=>St=>xe?k5(k,ve,xe,je,$,Oe,ot,ee,He,me,St):()=>{},[xe]);T5(C5,[$,Oe,ot,le,He,me]);let vt;try{vt=BT(lt,tt,Ae?()=>je(Ae(),le):tt)}catch(St){throw kt.current&&(St.message+=`
The error may be correlated with this previous error:
${kt.current.stack}

`),St}Vu(()=>{kt.current=void 0,He.current=void 0,Oe.current=vt});const _t=z.useMemo(()=>gt.createElement(P,Pe({},vt,{ref:se})),[se,P,vt]);return z.useMemo(()=>k?gt.createElement(ge.Provider,{value:De},_t):_t,[ge,_t,De])}const ne=gt.memo(G);if(ne.WrappedComponent=P,ne.displayName=G.displayName=D,p){const Z=gt.forwardRef(function(Y,se){return gt.createElement(ne,Pe({},Y,{reactReduxForwardedRef:se}))});return Z.displayName=D,Z.WrappedComponent=P,Ol(Z,P)}return Ol(ne,P)}}function R5({store:e,context:i,children:t,serverState:n}){const r=z.useMemo(()=>{const d=jT(e);return{store:e,subscription:d,getServerState:n?()=>n:void 0}},[e,n]),l=z.useMemo(()=>e.getState(),[e]);Vu(()=>{const{subscription:d}=r;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[r,l]);const h=i||FT;return gt.createElement(h.Provider,{value:r},t)}S5(zT.useSyncExternalStore);o5(lr.unstable_batchedUpdates);/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dl.apply(this,arguments)}var oo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oo||(oo={}));const T0="popstate";function _5(e){e===void 0&&(e={});function i(r,l){let{pathname:h="/",search:d="",hash:p=""}=ls(r.location.hash.substr(1));return pm("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){let h=r.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=r.location.href,f=p.indexOf("#");d=f===-1?p:p.slice(0,f)}return d+"#"+(typeof l=="string"?l:VT(l))}function n(r,l){sd(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return D5(i,t,n,e)}function Kn(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function sd(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function O5(){return Math.random().toString(36).substr(2,8)}function C0(e,i){return{usr:e.state,key:e.key,idx:i}}function pm(e,i,t,n){return t===void 0&&(t=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?ls(i):i,{state:t,key:i&&i.key||n||O5()})}function VT(e){let{pathname:i="/",search:t="",hash:n=""}=e;return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ls(e){let i={};if(e){let t=e.indexOf("#");t>=0&&(i.hash=e.substr(t),e=e.substr(0,t));let n=e.indexOf("?");n>=0&&(i.search=e.substr(n),e=e.substr(0,n)),e&&(i.pathname=e)}return i}function D5(e,i,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,h=r.history,d=oo.Pop,p=null,f=g();f==null&&(f=0,h.replaceState(Dl({},h.state,{idx:f}),""));function g(){return(h.state||{idx:null}).idx}function y(){d=oo.Pop;let R=g(),D=R==null?null:R-f;f=R,p&&p({action:d,location:P.location,delta:D})}function S(R,D){d=oo.Push;let q=pm(P.location,R,D);t&&t(q,R),f=g()+1;let G=C0(q,f),ne=P.createHref(q);try{h.pushState(G,"",ne)}catch{r.location.assign(ne)}l&&p&&p({action:d,location:P.location,delta:1})}function C(R,D){d=oo.Replace;let q=pm(P.location,R,D);t&&t(q,R),f=g();let G=C0(q,f),ne=P.createHref(q);h.replaceState(G,"",ne),l&&p&&p({action:d,location:P.location,delta:0})}function k(R){let D=r.location.origin!=="null"?r.location.origin:r.location.href,q=typeof R=="string"?R:VT(R);return Kn(D,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,D)}let P={get action(){return d},get location(){return e(r,h)},listen(R){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(T0,y),p=R,()=>{r.removeEventListener(T0,y),p=null}},createHref(R){return i(r,R)},createURL:k,encodeLocation(R){let D=k(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:C,go(R){return h.go(R)}};return P}var k0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k0||(k0={}));function A5(e,i,t){t===void 0&&(t="/");let n=typeof i=="string"?ls(i):i,r=GT(n.pathname||"/",t);if(r==null)return null;let l=UT(e);I5(l);let h=null;for(let d=0;h==null&&d<l.length;++d)h=V5(l[d],G5(r));return h}function UT(e,i,t,n){i===void 0&&(i=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Kn(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let f=Zo([n,p.relativePath]),g=t.concat(p);l.children&&l.children.length>0&&(Kn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),UT(l.children,i,g,f)),!(l.path==null&&!l.index)&&i.push({path:f,score:j5(f,l.index),routesMeta:g})};return e.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,h);else for(let p of WT(l.path))r(l,h,p)}),i}function WT(e){let i=e.split("/");if(i.length===0)return[];let[t,...n]=i,r=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let h=WT(n.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),r&&d.push(...h),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function I5(e){e.sort((i,t)=>i.score!==t.score?t.score-i.score:B5(i.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const M5=/^:\w+$/,z5=3,L5=2,F5=1,N5=10,H5=-2,P0=e=>e==="*";function j5(e,i){let t=e.split("/"),n=t.length;return t.some(P0)&&(n+=H5),i&&(n+=L5),t.filter(r=>!P0(r)).reduce((r,l)=>r+(M5.test(l)?z5:l===""?F5:N5),n)}function B5(e,i){return e.length===i.length&&e.slice(0,-1).every((t,n)=>t===i[n])?e[e.length-1]-i[i.length-1]:0}function V5(e,i){let{routesMeta:t}=e,n={},r="/",l=[];for(let h=0;h<t.length;++h){let d=t[h],p=h===t.length-1,f=r==="/"?i:i.slice(r.length)||"/",g=U5({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},f);if(!g)return null;Object.assign(n,g.params);let y=d.route;l.push({params:n,pathname:Zo([r,g.pathname]),pathnameBase:Y5(Zo([r,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(r=Zo([r,g.pathnameBase]))}return l}function U5(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,n]=W5(e.path,e.caseSensitive,e.end),r=i.match(t);if(!r)return null;let l=r[0],h=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:n.reduce((p,f,g)=>{if(f==="*"){let y=d[g]||"";h=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}return p[f]=q5(d[g]||"",f),p},{}),pathname:l,pathnameBase:h,pattern:e}}function W5(e,i,t){i===void 0&&(i=!1),t===void 0&&(t=!0),sd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,h)=>(n.push(h),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,i?void 0:"i"),n]}function G5(e){try{return decodeURI(e)}catch(i){return sd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function q5(e,i){try{return decodeURIComponent(e)}catch(t){return sd(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),e}}function GT(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let t=i.endsWith("/")?i.length-1:i.length,n=e.charAt(t);return n&&n!=="/"?null:e.slice(t)||"/"}function X5(e,i){i===void 0&&(i="/");let{pathname:t,search:n="",hash:r=""}=typeof e=="string"?ls(e):e;return{pathname:t?t.startsWith("/")?t:K5(t,i):i,search:Z5(n),hash:$5(r)}}function K5(e,i){let t=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function gf(e,i,t,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qT(e){return e.filter((i,t)=>t===0||i.route.path&&i.route.path.length>0)}function XT(e,i,t,n){n===void 0&&(n=!1);let r;typeof e=="string"?r=ls(e):(r=Dl({},e),Kn(!r.pathname||!r.pathname.includes("?"),gf("?","pathname","search",r)),Kn(!r.pathname||!r.pathname.includes("#"),gf("#","pathname","hash",r)),Kn(!r.search||!r.search.includes("#"),gf("#","search","hash",r)));let l=e===""||r.pathname==="",h=l?"/":r.pathname,d;if(n||h==null)d=t;else{let y=i.length-1;if(h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;r.pathname=S.join("/")}d=y>=0?i[y]:"/"}let p=X5(r,d),f=h&&h!=="/"&&h.endsWith("/"),g=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}const Zo=e=>e.join("/").replace(/\/\/+/g,"/"),Y5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KT=["post","put","patch","delete"];new Set(KT);const Q5=["get",...KT];new Set(Q5);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Uu.apply(this,arguments)}const YT=z.createContext(null),eN=z.createContext(null),ad=z.createContext(null),ld=z.createContext(null),fo=z.createContext({outlet:null,matches:[],isDataRoute:!1}),ZT=z.createContext(null);function Ll(){return z.useContext(ld)!=null}function mo(){return Ll()||Kn(!1),z.useContext(ld).location}function $T(e){z.useContext(ad).static||z.useLayoutEffect(e)}function Fl(){let{isDataRoute:e}=z.useContext(fo);return e?fN():tN()}function tN(){Ll()||Kn(!1);let{basename:e,navigator:i}=z.useContext(ad),{matches:t}=z.useContext(fo),{pathname:n}=mo(),r=JSON.stringify(qT(t).map(h=>h.pathnameBase)),l=z.useRef(!1);return $T(()=>{l.current=!0}),z.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){i.go(h);return}let p=XT(h,JSON.parse(r),n,d.relative==="path");e!=="/"&&(p.pathname=p.pathname==="/"?e:Zo([e,p.pathname])),(d.replace?i.replace:i.push)(p,d.state,d)},[e,i,r,n])}function nN(){let{matches:e}=z.useContext(fo),i=e[e.length-1];return i?i.params:{}}function iN(e,i){return rN(e,i)}function rN(e,i,t){Ll()||Kn(!1);let{navigator:n}=z.useContext(ad),{matches:r}=z.useContext(fo),l=r[r.length-1],h=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=mo(),f;if(i){var g;let P=typeof i=="string"?ls(i):i;d==="/"||(g=P.pathname)!=null&&g.startsWith(d)||Kn(!1),f=P}else f=p;let y=f.pathname||"/",S=d==="/"?y:y.slice(d.length)||"/",C=A5(e,{pathname:S}),k=cN(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Zo([d,n.encodeLocation?n.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Zo([d,n.encodeLocation?n.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),r,t);return i&&k?z.createElement(ld.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:oo.Pop}},k):k}function oN(){let e=pN(),i=J5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},i),t?z.createElement("pre",{style:r},t):null,null)}const sN=z.createElement(oN,null);class aN extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error?z.createElement(fo.Provider,{value:this.props.routeContext},z.createElement(ZT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lN(e){let{routeContext:i,match:t,children:n}=e,r=z.useContext(YT);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(fo.Provider,{value:i},n)}function cN(e,i,t){var n;if(i===void 0&&(i=[]),t===void 0&&(t=null),e==null){var r;if((r=t)!=null&&r.errors)e=t.matches;else return null}let l=e,h=(n=t)==null?void 0:n.errors;if(h!=null){let d=l.findIndex(p=>p.route.id&&h?.[p.route.id]);d>=0||Kn(!1),l=l.slice(0,Math.min(l.length,d+1))}return l.reduceRight((d,p,f)=>{let g=p.route.id?h?.[p.route.id]:null,y=null;t&&(y=p.route.errorElement||sN);let S=i.concat(l.slice(0,f+1)),C=()=>{let k;return g?k=y:p.route.Component?k=z.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,z.createElement(lN,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?z.createElement(aN,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var fm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(fm||(fm={}));var Al;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Al||(Al={}));function uN(e){let i=z.useContext(YT);return i||Kn(!1),i}function dN(e){let i=z.useContext(eN);return i||Kn(!1),i}function hN(e){let i=z.useContext(fo);return i||Kn(!1),i}function JT(e){let i=hN(),t=i.matches[i.matches.length-1];return t.route.id||Kn(!1),t.route.id}function pN(){var e;let i=z.useContext(ZT),t=dN(Al.UseRouteError),n=JT(Al.UseRouteError);return i||((e=t.errors)==null?void 0:e[n])}function fN(){let{router:e}=uN(fm.UseNavigateStable),i=JT(Al.UseNavigateStable),t=z.useRef(!1);return $T(()=>{t.current=!0}),z.useCallback(function(n,r){r===void 0&&(r={}),t.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Uu({fromRouteId:i},r)))},[e,i])}function mN(e){let{to:i,replace:t,state:n,relative:r}=e;Ll()||Kn(!1);let{matches:l}=z.useContext(fo),{pathname:h}=mo(),d=Fl(),p=XT(i,qT(l).map(g=>g.pathnameBase),h,r==="path"),f=JSON.stringify(p);return z.useEffect(()=>d(JSON.parse(f),{replace:t,state:n,relative:r}),[d,f,r,t,n]),null}function Bo(e){Kn(!1)}function gN(e){let{basename:i="/",children:t=null,location:n,navigationType:r=oo.Pop,navigator:l,static:h=!1}=e;Ll()&&Kn(!1);let d=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:d,navigator:l,static:h}),[d,l,h]);typeof n=="string"&&(n=ls(n));let{pathname:f="/",search:g="",hash:y="",state:S=null,key:C="default"}=n,k=z.useMemo(()=>{let P=GT(f,d);return P==null?null:{location:{pathname:P,search:g,hash:y,state:S,key:C},navigationType:r}},[d,f,g,y,S,C,r]);return k==null?null:z.createElement(ad.Provider,{value:p},z.createElement(ld.Provider,{children:t,value:k}))}function vN(e){let{children:i,location:t}=e;return iN(mm(i),t)}var R0;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(R0||(R0={}));new Promise(()=>{});function mm(e,i){i===void 0&&(i=[]);let t=[];return z.Children.forEach(e,(n,r)=>{if(!z.isValidElement(n))return;let l=[...i,r];if(n.type===z.Fragment){t.push.apply(t,mm(n.props.children,l));return}n.type!==Bo&&Kn(!1),!n.props.index||!n.props.children||Kn(!1);let h={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(h.children=mm(n.props.children,l)),t.push(h)}),t}function es(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((i,t)=>{let n=e[t];return i.concat(Array.isArray(n)?n.map(r=>[t,r]):[[t,n]])},[]))}function yN(e,i){let t=es(e);if(i)for(let n of i.keys())t.has(n)||i.getAll(n).forEach(r=>{t.append(n,r)});return t}function bN(e){let{basename:i,children:t,window:n}=e,r=z.useRef();r.current==null&&(r.current=_5({window:n,v5Compat:!0}));let l=r.current,[h,d]=z.useState({action:l.action,location:l.location});return z.useLayoutEffect(()=>l.listen(d),[l]),z.createElement(gN,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:l})}var _0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(_0||(_0={}));var O0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(O0||(O0={}));function ng(e){let i=z.useRef(es(e)),t=z.useRef(!1),n=mo(),r=z.useMemo(()=>yN(n.search,t.current?null:i.current),[n.search]),l=Fl(),h=z.useCallback((d,p)=>{const f=es(typeof d=="function"?d(r):d);t.current=!0,l("?"+f,p)},[l,r]);return[r,h]}const cd=z.createContext({tagsLeft:[],tagsRight:[],toggleTag:()=>null});function al(e){return e&&e!=="null"?e.split(","):[]}function wN(e){const[i]=ng(),t=mo(),n=Fl(),[r,l]=z.useState(al(i.get("tagsLeft"))),[h,d]=z.useState(al(i.get("tagsRight"))),p=i.get("tagsLeft"),f=i.get("tagsRight");z.useEffect(()=>{const y=al(p);l(y)},[p]),z.useEffect(()=>{const y=al(f);d(y)},[f]);const g=z.useMemo(()=>({tagsLeft:r,tagsRight:h,toggleTag:(y,S)=>{const C=S==="right"?h:r,k=S==="right"?f:p,P=S==="right"?d:l;if(C.includes(y)){const R=al(k).filter(D=>D!==y);i.set(`tags${S==="right"?"Right":"Left"}`,R.join(",")),P(R),n(`${t.pathname}?${es(i.toString())}`)}else i.set(`tags${S==="right"?"Right":"Left"}`,`${k},${y}`),P([...C,y]),n(`${t.pathname}?${es(i.toString())}`)}}),[t.pathname,n,i,p,f,r,h]);return U.jsx(cd.Provider,{value:g,children:e.children})}function D0(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function A0(e){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?D0(Object(t),!0).forEach(function(n){Ko(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D0(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var I0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),vf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wu={INIT:"@@redux/INIT"+vf(),REPLACE:"@@redux/REPLACE"+vf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+vf()}};function xN(e){if(typeof e!="object"||e===null)return!1;for(var i=e;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(e)===i}function QT(e,i,t){var n;if(typeof i=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(mi(0));if(typeof i=="function"&&typeof t>"u"&&(t=i,i=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(mi(1));return t(QT)(e,i)}if(typeof e!="function")throw new Error(mi(2));var r=e,l=i,h=[],d=h,p=!1;function f(){d===h&&(d=h.slice())}function g(){if(p)throw new Error(mi(3));return l}function y(P){if(typeof P!="function")throw new Error(mi(4));if(p)throw new Error(mi(5));var R=!0;return f(),d.push(P),function(){if(R){if(p)throw new Error(mi(6));R=!1,f();var D=d.indexOf(P);d.splice(D,1),h=null}}}function S(P){if(!xN(P))throw new Error(mi(7));if(typeof P.type>"u")throw new Error(mi(8));if(p)throw new Error(mi(9));try{p=!0,l=r(l,P)}finally{p=!1}for(var R=h=d,D=0;D<R.length;D++){var q=R[D];q()}return P}function C(P){if(typeof P!="function")throw new Error(mi(10));r=P,S({type:Wu.REPLACE})}function k(){var P,R=y;return P={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(mi(11));function q(){D.next&&D.next(g())}q();var G=R(q);return{unsubscribe:G}}},P[I0]=function(){return this},P}return S({type:Wu.INIT}),n={dispatch:S,subscribe:y,getState:g,replaceReducer:C},n[I0]=k,n}function SN(e){Object.keys(e).forEach(function(i){var t=e[i],n=t(void 0,{type:Wu.INIT});if(typeof n>"u")throw new Error(mi(12));if(typeof t(void 0,{type:Wu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mi(13))})}function EN(e){for(var i=Object.keys(e),t={},n=0;n<i.length;n++){var r=i[n];typeof e[r]=="function"&&(t[r]=e[r])}var l=Object.keys(t),h;try{SN(t)}catch(d){h=d}return function(d,p){if(d===void 0&&(d={}),h)throw h;for(var f=!1,g={},y=0;y<l.length;y++){var S=l[y],C=t[S],k=d[S],P=C(k,p);if(typeof P>"u")throw p&&p.type,new Error(mi(14));g[S]=P,f=f||P!==k}return f=f||l.length!==Object.keys(d).length,f?g:d}}function eC(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return i.length===0?function(n){return n}:i.length===1?i[0]:i.reduce(function(n,r){return function(){return n(r.apply(void 0,arguments))}})}function TN(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return function(n){return function(){var r=n.apply(void 0,arguments),l=function(){throw new Error(mi(15))},h={getState:r.getState,dispatch:function(){return l.apply(void 0,arguments)}},d=i.map(function(p){return p(h)});return l=eC.apply(void 0,d)(r.dispatch),A0(A0({},r),{},{dispatch:l})}}}var cr=function(e){return"@@redux-saga/"+e},CN=cr("CANCEL_PROMISE"),tC=cr("CHANNEL_END"),nC=cr("IO"),M0=cr("MATCH"),iC=cr("MULTICAST"),rC=cr("SAGA_ACTION"),kN=cr("SELF_CANCELLATION"),PN=cr("TASK"),aa=cr("TASK_CANCEL"),oC=cr("TERMINATE"),RN=cr("LOCATION"),sC=function(e){return e==null},Mu=function(e){return e!=null},Ii=function(e){return typeof e=="function"},ig=function(e){return typeof e=="string"},go=Array.isArray,ud=function(e){return e&&Ii(e.then)},rg=function(e){return e&&Ii(e.next)&&Ii(e.throw)},z0=function e(i){return i&&(ig(i)||lC(i)||Ii(i)||go(i)&&i.every(e))},og=function(e){return e&&Ii(e.take)&&Ii(e.close)},aC=function(e){return Ii(e)&&e.hasOwnProperty("toString")},lC=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},_N=function(e){return og(e)&&e[iC]},ON=function(e){return function(){return e}},DN=ON(!0),Ti=function(){},cC=function(e){return e},sg=function(e,i){Pe(e,i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(i).forEach(function(t){e[t]=i[t]})},AN=function(e,i){var t;return(t=[]).concat.apply(t,i.map(e))};function dd(e,i){var t=e.indexOf(i);t>=0&&e.splice(t,1)}function IN(e){var i=!1;return function(){i||(i=!0,e())}}var MN=function(e){throw e},zN=function(e){return{value:e,done:!0}};function gm(e,i,t){i===void 0&&(i=MN),t===void 0&&(t="iterator");var n={meta:{name:t},next:e,throw:i,return:zN,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function LN(e,i){var t=i.sagaStack;console.error(e),console.error(t)}var uC=function(e){return Array.apply(null,new Array(e))},FN=function(e){return function(i){return e(Object.defineProperty(i,rC,{value:!0}))}},dC=function(e){return e===oC},hC=function(e){return e===aa},pC=function(e){return dC(e)||hC(e)};function fC(e,i){var t=Object.keys(e),n=t.length,r=0,l,h=go(e)?uC(n):{},d={};function p(){r===n&&(l=!0,i(h))}return t.forEach(function(f){var g=function(y,S){l||(S||pC(y)?(i.cancel(),i(y,S)):(h[f]=y,r++,p()))};g.cancel=Ti,d[f]=g}),i.cancel=function(){l||(l=!0,t.forEach(function(f){return d[f].cancel()}))},d}function ag(e){return{name:e.name||"anonymous",location:mC(e)}}function mC(e){return e[RN]}var NN="Channel's Buffer overflow!",HN=1,jN=3,gC=4;function BN(e,i){e===void 0&&(e=10);var t=new Array(e),n=0,r=0,l=0,h=function(f){t[r]=f,r=(r+1)%e,n++},d=function(){if(n!=0){var f=t[l];return t[l]=null,n--,l=(l+1)%e,f}},p=function(){for(var f=[];n;)f.push(d());return f};return{isEmpty:function(){return n==0},put:function(f){if(n<e)h(f);else{var g;switch(i){case HN:throw new Error(NN);case jN:t[r]=f,r=(r+1)%e,l=r;break;case gC:g=2*e,t=p(),n=t.length,r=t.length,l=0,t.length=g,e=g,h(f);break}}},take:d,flush:p}}var VN=function(e){return BN(e,gC)},zu="TAKE",vC="PUT",yC="ALL",UN="RACE",WN="CALL",GN="CPS",bC="FORK",qN="JOIN",XN="CANCEL",wC="SELECT",KN="ACTION_CHANNEL",YN="CANCELLED",ZN="FLUSH",$N="GET_CONTEXT",JN="SET_CONTEXT",$o=function(e,i){var t;return t={},t[nC]=!0,t.combinator=!1,t.type=e,t.payload=i,t};function QN(e,i){if(e===void 0&&(e="*"),z0(e))return Mu(i)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),$o(zu,{pattern:e});if(_N(e)&&Mu(i)&&z0(i))return $o(zu,{channel:e,pattern:i});if(og(e))return Mu(i)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),$o(zu,{channel:e})}function eH(e,i){return sC(i)&&(i=e,e=void 0),$o(vC,{channel:e,action:i})}function tH(e){var i=$o(yC,e);return i.combinator=!0,i}function nH(e,i){var t=null,n;return Ii(e)?n=e:(go(e)?(t=e[0],n=e[1]):(t=e.context,n=e.fn),t&&ig(n)&&Ii(t[n])&&(n=t[n])),{context:t,fn:n,args:i}}function xC(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];return $o(bC,nH(e,t))}function Nl(e){e===void 0&&(e=cC);for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];return $o(wC,{selector:e,args:t})}function iH(){var e={};return e.promise=new Promise(function(i,t){e.resolve=i,e.reject=t}),e}var SC=[],hd=0;function rH(e){try{lg(),e()}finally{CC()}}function EC(e){SC.push(e),hd||(lg(),kC())}function TC(e){try{return lg(),e()}finally{kC()}}function lg(){hd++}function CC(){hd--}function kC(){CC();for(var e;!hd&&(e=SC.shift())!==void 0;)rH(e)}var oH=function(e){return function(i){return e.some(function(t){return cg(t)(i)})}},sH=function(e){return function(i){return e(i)}},L0=function(e){return function(i){return i.type===String(e)}},aH=function(e){return function(i){return i.type===e}},PC=function(){return DN};function cg(e){var i=e==="*"?PC:ig(e)?L0:go(e)?oH:aC(e)?L0:Ii(e)?sH:lC(e)?aH:null;if(i===null)throw new Error("invalid pattern: "+e);return i(e)}var wl={type:tC},ug=function(e){return e&&e.type===tC};function lH(e){e===void 0&&(e=VN());var i=!1,t=[];function n(d){if(!i){if(t.length===0)return e.put(d);var p=t.shift();p(d)}}function r(d){i&&e.isEmpty()?d(wl):e.isEmpty()?(t.push(d),d.cancel=function(){dd(t,d)}):d(e.take())}function l(d){if(i&&e.isEmpty()){d(wl);return}d(e.flush())}function h(){if(!i){i=!0;var d=t;t=[];for(var p=0,f=d.length;p<f;p++){var g=d[p];g(wl)}}}return{take:r,put:n,flush:l,close:h}}function cH(){var e,i=!1,t=[],n=t,r=function(){n===t&&(n=t.slice())},l=function(){i=!0;var h=t=n;n=[],h.forEach(function(d){d(wl)})};return e={},e[iC]=!0,e.put=function(h){if(!i){if(ug(h)){l();return}for(var d=t=n,p=0,f=d.length;p<f;p++){var g=d[p];g[M0](h)&&(g.cancel(),g(h))}}},e.take=function(h,d){if(d===void 0&&(d=PC),i){h(wl);return}h[M0]=d,r(),n.push(h),h.cancel=IN(function(){r(),dd(n,h)})},e.close=l,e}function RC(){var e=cH(),i=e.put;return e.put=function(t){if(t[rC]){i(t);return}EC(function(){i(t)})},e}var Go=0,Hr=1,Lu=2,_C=3;function dg(e,i){var t=e[CN];Ii(t)&&(i.cancel=t),e.then(i,function(n){i(n,!0)})}var Hl=0,OC=function(){return++Hl},ci;function uH(e,i){return e.isSagaIterator?{name:e.meta.name}:ag(i)}function dH(e){var i=e.context,t=e.fn,n=e.args;try{var r=t.apply(i,n);if(rg(r))return r;var l=!1,h=function(d){return l?{value:d,done:!0}:(l=!0,{value:r,done:!ud(r)})};return gm(h)}catch(d){return gm(function(){throw d})}}function hH(e,i,t){var n=i.channel,r=i.action,l=i.resolve;EC(function(){var h;try{h=(n?n.put:e.dispatch)(r)}catch(d){t(d,!0);return}l&&ud(h)?dg(h,t):t(h)})}function pH(e,i,t){var n=i.channel,r=n===void 0?e.channel:n,l=i.pattern,h=i.maybe,d=function(p){if(p instanceof Error){t(p,!0);return}if(ug(p)&&!h){t(oC);return}t(p)};try{r.take(d,Mu(l)?cg(l):null)}catch(p){t(p,!0);return}t.cancel=d.cancel}function fH(e,i,t,n){var r=i.context,l=i.fn,h=i.args,d=n.task;try{var p=l.apply(r,h);if(ud(p)){dg(p,t);return}if(rg(p)){pd(e,p,d.context,Hl,ag(l),!1,t);return}t(p)}catch(f){t(f,!0)}}function mH(e,i,t){var n=i.context,r=i.fn,l=i.args;try{var h=function(d,p){sC(d)?t(p):t(d,!0)};r.apply(n,l.concat(h)),h.cancel&&(t.cancel=h.cancel)}catch(d){t(d,!0)}}function gH(e,i,t,n){var r=i.context,l=i.fn,h=i.args,d=i.detached,p=n.task,f=dH({context:r,fn:l,args:h}),g=uH(f,l);TC(function(){var y=pd(e,f,p.context,Hl,g,d,void 0);d?t(y):y.isRunning()?(p.queue.addTask(y),t(y)):y.isAborted()?p.queue.abort(y.error()):t(y)})}function vH(e,i,t,n){var r=n.task,l=function(d,p){if(d.isRunning()){var f={task:r,cb:p};p.cancel=function(){d.isRunning()&&dd(d.joiners,f)},d.joiners.push(f)}else d.isAborted()?p(d.error(),!0):p(d.result())};if(go(i)){if(i.length===0){t([]);return}var h=fC(i,t);i.forEach(function(d,p){l(d,h[p])})}else l(i,t)}function yf(e){e.isRunning()&&e.cancel()}function yH(e,i,t,n){var r=n.task;i===kN?yf(r):go(i)?i.forEach(yf):yf(i),t()}function bH(e,i,t,n){var r=n.digestEffect,l=Hl,h=Object.keys(i);if(h.length===0){t(go(i)?[]:{});return}var d=fC(i,t);h.forEach(function(p){r(i[p],l,d[p],p)})}function wH(e,i,t,n){var r=n.digestEffect,l=Hl,h=Object.keys(i),d=go(i)?uC(h.length):{},p={},f=!1;h.forEach(function(g){var y=function(S,C){f||(C||pC(S)?(t.cancel(),t(S,C)):(t.cancel(),f=!0,d[g]=S,t(d)))};y.cancel=Ti,p[g]=y}),t.cancel=function(){f||(f=!0,h.forEach(function(g){return p[g].cancel()}))},h.forEach(function(g){f||r(i[g],l,p[g],g)})}function xH(e,i,t){var n=i.selector,r=i.args;try{var l=n.apply(void 0,[e.getState()].concat(r));t(l)}catch(h){t(h,!0)}}function SH(e,i,t){var n=i.pattern,r=i.buffer,l=lH(r),h=cg(n),d=function f(g){ug(g)||e.channel.take(f,h),l.put(g)},p=l.close;l.close=function(){d.cancel(),p()},e.channel.take(d,h),t(l)}function EH(e,i,t,n){var r=n.task;t(r.isCancelled())}function TH(e,i,t){i.flush(t)}function CH(e,i,t,n){var r=n.task;t(r.context[i])}function kH(e,i,t,n){var r=n.task;sg(r.context,i),t()}var PH=(ci={},ci[zu]=pH,ci[vC]=hH,ci[yC]=bH,ci[UN]=wH,ci[WN]=fH,ci[GN]=mH,ci[bC]=gH,ci[qN]=vH,ci[XN]=yH,ci[wC]=xH,ci[KN]=SH,ci[YN]=EH,ci[ZN]=TH,ci[$N]=CH,ci[JN]=kH,ci);function RH(e,i,t){var n=[],r,l=!1;p(e);var h=function(){return n};function d(g){i(),f(),t(g,!0)}function p(g){n.push(g),g.cont=function(y,S){l||(dd(n,g),g.cont=Ti,S?d(y):(g===e&&(r=y),n.length||(l=!0,t(r))))}}function f(){l||(l=!0,n.forEach(function(g){g.cont=Ti,g.cancel()}),n=[])}return{addTask:p,cancelAll:f,abort:d,getTasks:h}}function DC(e,i){return e+"?"+i}function _H(e){var i=mC(e);if(i){var t=i.code,n=i.fileName,r=i.lineNumber,l=t+"  "+DC(n,r);return l}return""}function F0(e){var i=e.name,t=e.location;return t?i+"  "+DC(t.fileName,t.lineNumber):i}function OH(e){var i=AN(function(t){return t.cancelledTasks},e);return i.length?["Tasks cancelled due to error:"].concat(i).join(`
`):""}var hg=null,xl=[],DH=function(e){e.crashedEffect=hg,xl.push(e)},AC=function(){hg=null,xl.length=0},AH=function(e){hg=e},IH=function(){var e=xl[0],i=xl.slice(1),t=e.crashedEffect?_H(e.crashedEffect):null,n="The above error occurred in task "+F0(e.meta)+(t?` 
 when executing effect `+t:"");return[n].concat(i.map(function(r){return"    created by "+F0(r.meta)}),[OH(xl)]).join(`
`)};function MH(e,i,t,n,r,l,h){var d;h===void 0&&(h=Ti);var p=Go,f,g,y=null,S=[],C=Object.create(t),k=RH(i,function(){S.push.apply(S,k.getTasks().map(function(ne){return ne.meta.name}))},R);function P(){p===Go&&(p=Hr,k.cancelAll(),R(aa,!1))}function R(ne,Z){if(!Z)ne===aa?p=Hr:p!==Hr&&(p=_C),f=ne,y&&y.resolve(ne);else{if(p=Lu,DH({meta:r,cancelledTasks:S}),G.isRoot){var Y=IH();AC(),e.onError(ne,{sagaStack:Y})}g=ne,y&&y.reject(ne)}G.cont(ne,Z),G.joiners.forEach(function(se){se.cb(ne,Z)}),G.joiners=null}function D(ne){sg(C,ne)}function q(){return y||(y=iH(),p===Lu?y.reject(g):p!==Go&&y.resolve(f)),y.promise}var G=(d={},d[PN]=!0,d.id=n,d.meta=r,d.isRoot=l,d.context=C,d.joiners=[],d.queue=k,d.cancel=P,d.cont=h,d.end=R,d.setContext=D,d.toPromise=q,d.isRunning=function(){return p===Go},d.isCancelled=function(){return p===Hr||p===Go&&i.status===Hr},d.isAborted=function(){return p===Lu},d.result=function(){return f},d.error=function(){return g},d);return G}function pd(e,i,t,n,r,l,h){var d=e.finalizeRunEffect(C);S.cancel=Ti;var p={meta:r,cancel:y,status:Go},f=MH(e,p,t,n,r,l,h),g={task:f,digestEffect:k};function y(){p.status===Go&&(p.status=Hr,S(aa))}return h&&(h.cancel=f.cancel),S(),f;function S(P,R){try{var D;R?(D=i.throw(P),AC()):hC(P)?(p.status=Hr,S.cancel(),D=Ii(i.return)?i.return(aa):{done:!0,value:aa}):dC(P)?D=Ii(i.return)?i.return():{done:!0}:D=i.next(P),D.done?(p.status!==Hr&&(p.status=_C),p.cont(D.value)):k(D.value,n,S)}catch(q){if(p.status===Hr)throw q;p.status=Lu,p.cont(q,!0)}}function C(P,R,D){if(ud(P))dg(P,D);else if(rg(P))pd(e,P,f.context,R,r,!1,D);else if(P&&P[nC]){var q=PH[P.type];q(e,P.payload,D,g)}else D(P)}function k(P,R,D,q){q===void 0&&(q="");var G=OC();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:G,parentEffectId:R,label:q,effect:P});var ne;function Z(Y,se){ne||(ne=!0,D.cancel=Ti,e.sagaMonitor&&(se?e.sagaMonitor.effectRejected(G,Y):e.sagaMonitor.effectResolved(G,Y)),se&&AH(P),D(Y,se))}Z.cancel=Ti,D.cancel=function(){ne||(ne=!0,Z.cancel(),Z.cancel=Ti,e.sagaMonitor&&e.sagaMonitor.effectCancelled(G))},d(P,G,Z)}}function zH(e,i){for(var t=e.channel,n=t===void 0?RC():t,r=e.dispatch,l=e.getState,h=e.context,d=h===void 0?{}:h,p=e.sagaMonitor,f=e.effectMiddlewares,g=e.onError,y=g===void 0?LN:g,S=arguments.length,C=new Array(S>2?S-2:0),k=2;k<S;k++)C[k-2]=arguments[k];var P=i.apply(void 0,C),R=OC();p&&(p.rootSagaStarted=p.rootSagaStarted||Ti,p.effectTriggered=p.effectTriggered||Ti,p.effectResolved=p.effectResolved||Ti,p.effectRejected=p.effectRejected||Ti,p.effectCancelled=p.effectCancelled||Ti,p.actionDispatched=p.actionDispatched||Ti,p.rootSagaStarted({effectId:R,saga:i,args:C}));var D;if(f){var q=eC.apply(void 0,f);D=function(ne){return function(Z,Y,se){var le=function(ge){return ne(ge,Y,se)};return q(le)(Z)}}}else D=cC;var G={channel:n,dispatch:FN(r),getState:l,sagaMonitor:p,onError:y,finalizeRunEffect:D};return TC(function(){var ne=pd(G,P,d,R,ag(i),!0,void 0);return p&&p.effectResolved(R,ne),ne})}function LH(e){var i={},t=i.context,n=t===void 0?{}:t,r=i.channel,l=r===void 0?RC():r,h=i.sagaMonitor,d=os(i,["context","channel","sagaMonitor"]),p;function f(g){var y=g.getState,S=g.dispatch;return p=zH.bind(null,Pe({},d,{context:n,channel:l,dispatch:S,getState:y,sagaMonitor:h})),function(C){return function(k){h&&h.actionDispatched&&h.actionDispatched(k);var P=C(k);return l.put(k),P}}}return f.run=function(){return p.apply(void 0,arguments)},f.setContext=function(g){sg(n,g)},f}var N0=function(e){return{done:!0,value:e}},bf={};function FH(e){return og(e)?"channel":aC(e)?String(e):Ii(e)?e.name:String(e)}function NH(e,i,t){var n,r,l,h=i;function d(p,f){if(h===bf)return N0(p);if(f&&!r)throw h=bf,f;n&&n(p);var g=f?e[r](f):e[h]();return h=g.nextState,l=g.effect,n=g.stateUpdater,r=g.errorState,h===bf?N0(p):l}return gm(d,function(p){return d(null,p)},t)}function HH(e,i){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var l={done:!1,value:QN(e)},h=function(f){return{done:!1,value:xC.apply(void 0,[i].concat(n,[f]))}},d,p=function(f){return d=f};return NH({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return{nextState:"q1",effect:h(d)}}},"q1","takeEvery("+FH(e)+", "+i.name+")")}function jH(e,i){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return xC.apply(void 0,[HH,e,i].concat(n))}const IC={};IC.setFixedFrameMode=function(e,i){return{...e,fixedFrameMode:i}};const fd={},BH="https://github.com/cu-mkp/editioncrafter-project/text-partial-resource.md";fd.loadDocument=function(e,i){const t=XH(i,e.transcriptionTypes),{folioIndex:n,folioByName:r}=VH(t);return{...e,loaded:!0,folios:t,folioIndex:n,folioByName:r}};fd.loadTags=function(e,i){return{...e,tags:i}};fd.loadFolio=function(e,i){const t=e.folioIndex[i.id],n=e.folios.indexOf(t);return e.folios[n]=i,e.folioIndex[i.id]=i,e.folioByName[i.name]=i,{...e}};function VH(e){const i={},t={};for(let n=0;n<e.length;n++){const r=e[n];i[r.id]=r,t[r.name]=r}return{folioIndex:i,folioByName:t}}function gi(e){throw new Error(`IIIF manifest parser error: ${e}`)}function UH(e){console.warn(`IIIF manifest parser warning: ${e}`)}function WH(e){for(const i of e.items){i.type!=="AnnotationPage"&&gi(`Expected AnnotationPage in items property of ${e.id}`),i.items||gi(`Expected items property in AnnotationPage ${i.id}`);for(const t of i.items)if(t.type!=="Annotation"&&gi(`Expected Annotation in items property of ${i.id}`),t.motivation==="painting")return t.body||gi(`Expected body property in Annotation ${t.id}`),t.body.id?t.body.service?{bodyId:t.body.id,imageURL:`${t.body.id}/info.json`,imageType:"iiif"}:{bodyId:t.body.id,imageURL:t.body.id,imageType:"image"}:null}return gi(`Unable to find painting Annotation for canvas: ${e.id}`),null}function GH(e){return e.label?e.label.none[0]:(UH(`${e.id} does not have a label property.`),"")}function qH(e,i){const t={};if(e.annotations){for(const n of e.annotations)if(n.type==="AnnotationPage"){n.items||gi(`Expected items property in AnnotationPage ${n.id}`);for(const r of n.items)if(r.type!=="Annotation"&&gi(`Expected Annotation in items property of ${n.id}`),r.motivation==="supplementing"){r.body||gi(`Expected body property in Annotation ${r.id}`);const{body:l}=r;if(l.profile===BH&&l.type==="TextPartial"){l.id||gi(`Expected id property in TextPartial in ${r.id}`),l.format||gi(`Expected format property in TextPartial in ${r.id}`);const{id:h,format:d}=l,p=h.split("/");p.length<5&&gi(`TextPartial id property is in the wrong format: ${h}`);const f=p[p.length-2];i[f]&&(t[f]||(t[f]={}),d==="text/html"&&(t[f].htmlURL=h),d==="text/xml"&&(t[f].xmlURL=h))}}}}return t}const xu=130;function XH(e,i){if(e.type==="variorum"){let t=[];return Object.keys(e.documentData).forEach(n=>{t=t.concat(H0(e.documentData[n],i[n],n))}),t}return H0(e,i)}function H0(e,i,t){const n=[];(!e["@context"]||!e["@context"].includes("http://iiif.io/api/presentation/3/context.json"))&&gi("Expected root object to have a @context containing: http://iiif.io/api/presentation/3/context.json"),e.type!=="Manifest"&&gi("Expected root object of type 'Manifest'."),e.items||gi("Expected manifest to have an items property.");const r=e.items;for(let l=0;l<r.length;l++){const h=r[l];h.type!=="Canvas"&&gi(`Expected items[${l}] to be of type 'Canvas'.`),h.id||gi(`Expected items[${l}] to have an id property.`);const d=WH(h);if(d){const p=h.id.substr(h.id.lastIndexOf("/")+1),f=GH(h),{bodyId:g,imageURL:y,imageType:S}=d,C=qH(h,i),k=h.width/h.height;let P=[];k>1?P=[xu,Math.round(xu/k)]:P=[Math.round(xu*k),xu];const R=S==="iiif"?`${g}/full/${P.join(",")}/0/default.jpg`:y,D={id:t?`${t}_${p}`:p,doc_id:t||e.id,name:f,pageNumber:l,image_zoom_url:y,image_thumbnail_url:R,annotationURLs:C,annotations:h.annotations?h.annotations.filter(q=>q.motivation==="tagging"):[]};n.push(D)}}return n}const MC={};MC.loadGlossary=function(e,i){return{...e,loaded:!0,glossary:i}};const zC={};zC.loadNotes=function(e,i){return{...e,loaded:!0,notes:i}};const KH={fixedFrameMode:!1};function j0(e){return`${e.replace("/iiif/manifest.json","")}/html/index.html`}function YH(e){if(typeof e=="string")return j0(e);const i={};return Object.entries(e).forEach(t=>{i[t[0]]=j0(t[1])}),i}function ZH(e,i,t,n=!1,r=null,l=!1){return{documentName:i,derivativeNames:r,manifestURL:e,headerUrl:YH(e),transcriptionTypes:t,variorum:n,threePanel:l,folios:[],loaded:!1,folioIndex:{},folioByName:{},tags:null}}function $H(e){return{glossary:{},loaded:!1,URL:e}}function JH(e){return{notes:"",loaded:!1,URL:e}}function QH(e){const{documentName:i,documentInfo:t,glossaryURL:n,notesURL:r,threePanel:l=!1}=e,h=t&&Object.keys(t).length>1,d={},p={},f={};h&&Object.keys(e.documentInfo).forEach(C=>{d[C]=e.documentInfo[C].transcriptionTypes,p[C]=e.documentInfo[C].iiifManifest,f[C]=e.documentInfo[C].documentName});const g=h?d:e.transcriptionTypes,y=h?p:e.iiifManifest,S=h&&f;return EN({diplomatic:Su("DiplomaticActions",IC,KH),document:Su("DocumentActions",fd,ZH(y,i,g,h,S,l)),glossary:Su("GlossaryActions",MC,$H(n)),notes:Su("NotesActions",zC,JH(r))})}var LC={exports:{}};(function(e){//! openseadragon 4.1.0
//! Built on 2023-05-25
//! Git commit: v4.1.0-0-8849681
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function i(t){return new i.Viewer(t)}(function(t){t.version={versionStr:"4.1.0",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("0",10)};var n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,l=Object.prototype.hasOwnProperty;t.isFunction=function(h){return t.type(h)==="function"},t.isArray=Array.isArray||function(h){return t.type(h)==="array"},t.isWindow=function(h){return h&&typeof h=="object"&&"setInterval"in h},t.type=function(h){return h==null?String(h):n[r.call(h)]||"object"},t.isPlainObject=function(h){if(!h||i.type(h)!=="object"||h.nodeType||t.isWindow(h)||h.constructor&&!l.call(h,"constructor")&&!l.call(h.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var p in h)d=p;return d===void 0||l.call(h,d)},t.isEmptyObject=function(h){for(var d in h)return!1;return!0},t.freezeObject=function(h){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(d){return d},t.freezeObject(h)},t.supportsCanvas=function(){var h=document.createElement("canvas");return!!(t.isFunction(h.getContext)&&h.getContext("2d"))}(),t.isCanvasTainted=function(h){var d=!1;try{h.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var h=0;if(t.supportsAddEventListener)try{var d={get capture(){return h++,!1},get once(){return h++,!1},get passive(){return h++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{h=0}return h>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var h=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return Math.max(d,1)/p}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(i),function(t){t.extend=function(){var p,f,g,y,S,C,k=arguments[0]||{},P=arguments.length,R=!1,D=1;for(typeof k=="boolean"&&(R=k,k=arguments[1]||{},D=2),typeof k!="object"&&!i.isFunction(k)&&(k={}),P===D&&(k=this,--D);D<P;D++)if(p=arguments[D],p!==null||p!==void 0)for(f in p){var q=Object.getOwnPropertyDescriptor(p,f);if(q!==void 0){if(q.get||q.set){Object.defineProperty(k,f,q);continue}y=q.value}else{t.console.warn('Could not copy inherited property "'+f+'".');continue}k!==y&&(R&&y&&(i.isPlainObject(y)||(S=i.isArray(y)))?(g=k[f],S?(S=!1,C=g&&i.isArray(g)?g:[]):C=g&&i.isPlainObject(g)?g:{},k[f]=i.extend(R,C,y)):y!==void 0&&(k[f]=y))}return k};var n=function(){if(typeof navigator!="object")return!1;var p=navigator.userAgent;return typeof p!="string"?!1:p.indexOf("iPhone")!==-1||p.indexOf("iPad")!==-1||p.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:n(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(p,f){return function(){var g=arguments;return g===void 0&&(g=[]),f.apply(p,g)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(p){return t._viewers.get(this.getElement(p))},getElement:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p},getElementPosition:function(p){var f=new t.Point,g,y;for(p=t.getElement(p),g=t.getElementStyle(p).position==="fixed",y=d(p,g);y;)f.x+=p.offsetLeft,f.y+=p.offsetTop,g&&(f=f.plus(t.getPageScroll())),p=y,g=t.getElementStyle(p).position==="fixed",y=d(p,g);return f},getElementOffset:function(p){p=t.getElement(p);var f=p&&p.ownerDocument,g,y,S={top:0,left:0};return f?(g=f.documentElement,typeof p.getBoundingClientRect<"u"&&(S=p.getBoundingClientRect()),y=f===f.window?f:f.nodeType===9?f.defaultView||f.parentWindow:!1,new t.Point(S.left+(y.pageXOffset||g.scrollLeft)-(g.clientLeft||0),S.top+(y.pageYOffset||g.scrollTop)-(g.clientTop||0))):new t.Point},getElementSize:function(p){return p=t.getElement(p),new t.Point(p.clientWidth,p.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(p){return p=t.getElement(p),p.currentStyle}:function(p){return p=t.getElement(p),window.getComputedStyle(p,"")},getCssPropertyWithVendorPrefix:function(p){var f={};return t.getCssPropertyWithVendorPrefix=function(g){if(f[g]!==void 0)return f[g];var y=document.createElement("div").style,S=null;if(y[g]!==void 0)S=g;else for(var C=["Webkit","Moz","MS","O","webkit","moz","ms","o"],k=t.capitalizeFirstLetter(g),P=0;P<C.length;P++){var R=C[P]+k;if(y[R]!==void 0){S=R;break}}return f[g]=S,S},t.getCssPropertyWithVendorPrefix(p)},capitalizeFirstLetter:function(p){return p.charAt(0).toUpperCase()+p.slice(1)},positiveModulo:function(p,f){var g=p%f;return g<0&&(g+=f),g},pointInElement:function(p,f){p=t.getElement(p);var g=t.getElementOffset(p),y=t.getElementSize(p);return f.x>=g.x&&f.x<g.x+y.x&&f.y<g.y+y.y&&f.y>=g.y},getMousePosition:function(p){if(typeof p.pageX=="number")t.getMousePosition=function(f){var g=new t.Point;return g.x=f.pageX,g.y=f.pageY,g};else if(typeof p.clientX=="number")t.getMousePosition=function(f){var g=new t.Point;return g.x=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g.y=f.clientY+document.body.scrollTop+document.documentElement.scrollTop,g};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(p)},getPageScroll:function(){var p=document.documentElement||{},f=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(f.scrollLeft||f.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(p.scrollLeft||p.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(p){if(typeof window.scrollTo<"u")t.setPageScroll=function(y){window.scrollTo(y.x,y.y)};else{var f=t.getPageScroll();if(f.x===p.x&&f.y===p.y)return;document.body.scrollLeft=p.x,document.body.scrollTop=p.y;var g=t.getPageScroll();if(g.x!==f.x&&g.y!==f.y){t.setPageScroll=function(y){document.body.scrollLeft=y.x,document.body.scrollTop=y.y};return}if(document.documentElement.scrollLeft=p.x,document.documentElement.scrollTop=p.y,g=t.getPageScroll(),g.x!==f.x&&g.y!==f.y){t.setPageScroll=function(y){document.documentElement.scrollLeft=y.x,document.documentElement.scrollTop=y.y};return}t.setPageScroll=function(y){}}t.setPageScroll(p)},getWindowSize:function(){var p=document.documentElement||{},f=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(p.clientWidth||p.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(f.clientWidth||f.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(p){p=t.getElement(p);var f=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(f[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(f[1].style,{display:"table-row"}),t.extend(f[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),f[0].appendChild(f[1]),f[1].appendChild(f[2]),f[2].appendChild(p),f[0]},makeNeutralElement:function(p){var f=document.createElement(p),g=f.style;return g.background="transparent none",g.border="none",g.margin="0px",g.padding="0px",g.position="static",f},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(p){var f=t.makeNeutralElement("img");return f.src=p,f},setElementOpacity:function(p,f,g){var y,S;p=t.getElement(p),g&&!t.Browser.alpha&&(f=Math.round(f)),t.Browser.opacity?p.style.opacity=f<1?f:"":f<1?(y=Math.round(100*f),S="alpha(opacity="+y+")",p.style.filter=S):p.style.filter=""},setElementTouchActionNone:function(p){p=t.getElement(p),typeof p.style.touchAction<"u"?p.style.touchAction="none":typeof p.style.msTouchAction<"u"&&(p.style.msTouchAction="none")},setElementPointerEvents:function(p,f){p=t.getElement(p),typeof p.style<"u"&&typeof p.style.pointerEvents<"u"&&(p.style.pointerEvents=f)},setElementPointerEventsNone:function(p){t.setElementPointerEvents(p,"none")},addClass:function(p,f){p=t.getElement(p),p.className?(" "+p.className+" ").indexOf(" "+f+" ")===-1&&(p.className+=" "+f):p.className=f},indexOf:function(p,f,g){return Array.prototype.indexOf?this.indexOf=function(y,S,C){return y.indexOf(S,C)}:this.indexOf=function(y,S,C){var k,P=C||0,R;if(!y)throw new TypeError;if(R=y.length,R===0||P>=R)return-1;for(P<0&&(P=R-Math.abs(P)),k=P;k<R;k++)if(y[k]===S)return k;return-1},this.indexOf(p,f,g)},removeClass:function(p,f){var g,y=[],S;for(p=t.getElement(p),g=p.className.split(/\s+/),S=0;S<g.length;S++)g[S]&&g[S]!==f&&y.push(g[S]);p.className=y.join(" ")},normalizeEventListenerOptions:function(p){var f;return typeof p<"u"?typeof p=="boolean"?f=t.supportsEventListenerOptions?{capture:p}:p:f=t.supportsEventListenerOptions?p:typeof p.capture<"u"?p.capture:!1:f=t.supportsEventListenerOptions?{capture:!1}:!1,f},addEvent:function(){if(t.supportsAddEventListener)return function(p,f,g,y){y=t.normalizeEventListenerOptions(y),p=t.getElement(p),p.addEventListener(f,g,y)};if(document.documentElement.attachEvent&&document.attachEvent)return function(p,f,g){p=t.getElement(p),p.attachEvent("on"+f,g)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(p,f,g,y){y=t.normalizeEventListenerOptions(y),p=t.getElement(p),p.removeEventListener(f,g,y)};if(document.documentElement.detachEvent&&document.detachEvent)return function(p,f,g){p=t.getElement(p),p.detachEvent("on"+f,g)};throw new Error("No known event model.")}(),cancelEvent:function(p){p.preventDefault()},eventIsCanceled:function(p){return p.defaultPrevented},stopEvent:function(p){p.stopPropagation()},createCallback:function(p,f){var g=[],y;for(y=2;y<arguments.length;y++)g.push(arguments[y]);return function(){var S=g.concat([]),C;for(C=0;C<arguments.length;C++)S.push(arguments[C]);return f.apply(p,S)}},getUrlParameter:function(p){var f=h[p];return f||null},getUrlProtocol:function(p){var f=p.match(/^([a-z]+:)\/\//i);return f===null?window.location.protocol:f[1].toLowerCase()},createAjaxRequest:function(p){var f;try{f=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{f=!1}if(f)window.XMLHttpRequest?t.createAjaxRequest=function(g){return g?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(p)},makeAjaxRequest:function(p,f,g){var y,S,C,k;t.isPlainObject(p)&&(f=p.success,g=p.error,y=p.withCredentials,S=p.headers,C=p.responseType||null,k=p.postData||null,p=p.url);var P=t.getUrlProtocol(p),R=t.createAjaxRequest(P==="file:");if(!t.isFunction(f))throw new Error("makeAjaxRequest requires a success callback");R.onreadystatechange=function(){R.readyState===4&&(R.onreadystatechange=function(){},R.status>=200&&R.status<300||R.status===0&&P!=="http:"&&P!=="https:"?f(R):t.isFunction(g)?g(R):t.console.error("AJAX request returned %d: %s",R.status,p))};var D=k?"POST":"GET";try{if(R.open(D,p,!0),C&&(R.responseType=C),S)for(var q in S)Object.prototype.hasOwnProperty.call(S,q)&&S[q]&&R.setRequestHeader(q,S[q]);y&&(R.withCredentials=!0),R.send(k)}catch(G){t.console.error("%s while making AJAX request: %s",G.name,G.message),R.onreadystatechange=function(){},t.isFunction(g)&&g(R,G)}return R},jsonp:function(p){var f,g=p.url,y=document.head||document.getElementsByTagName("head")[0]||document.documentElement,S=p.callbackName||"openseadragon"+t.now(),C=window[S],k="$1"+S+"$2",P=p.param||"callback",R=p.callback;g=g.replace(/(=)\?(&|$)|\?\?/i,k),g+=(/\?/.test(g)?"&":"?")+P+"="+S,window[S]=function(D){if(C)window[S]=C;else try{delete window[S]}catch{}R&&t.isFunction(R)&&R(D)},f=document.createElement("script"),(p.async!==void 0||p.async!==!1)&&(f.async="async"),p.scriptCharset&&(f.charset=p.scriptCharset),f.src=g,f.onload=f.onreadystatechange=function(D,q){(q||!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,y&&f.parentNode&&y.removeChild(f),f=void 0)},y.insertBefore(f,y.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(p){if(window.DOMParser)t.parseXml=function(f){var g=null,y;return y=new DOMParser,g=y.parseFromString(f,"text/xml"),g};else if(window.ActiveXObject)t.parseXml=function(f){var g=null;return g=new ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(f),g};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(p)},parseJSON:function(p){return t.parseJSON=window.JSON.parse,t.parseJSON(p)},imageFormatSupported:function(p){return p=p||"",!!l[p.toLowerCase()]},setImageFormatsSupported:function(p){t.extend(l,p)}});var r=function(p){};t.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var l={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},h={};(function(){var p=navigator.appVersion,f=navigator.userAgent,g;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(f.substring(f.indexOf("MSIE")+5,f.indexOf(";",f.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(f.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edge")+5))):f.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edg")+4))):f.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(f.substring(f.indexOf("Firefox")+8))):f.indexOf("Safari")>=0?(t.Browser.vendor=f.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(f.substring(f.substring(0,f.indexOf("Safari")).lastIndexOf("/")+1,f.indexOf("Safari")))):(g=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),g.exec(f)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(p);break}var y=window.location.search.substring(1),S=y.split("&"),C,k,P;for(P=0;P<S.length;P++)if(C=S[P],k=C.indexOf("="),k>0){var R=C.substring(0,k),D=C.substring(k+1);try{h[R]=decodeURIComponent(D)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",R,D)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(p){var f=p.requestAnimationFrame||p.mozRequestAnimationFrame||p.webkitRequestAnimationFrame||p.msRequestAnimationFrame,g=p.cancelAnimationFrame||p.mozCancelAnimationFrame||p.webkitCancelAnimationFrame||p.msCancelAnimationFrame;if(f&&g)t.requestAnimationFrame=function(){return f.apply(p,arguments)},t.cancelAnimationFrame=function(){return g.apply(p,arguments)};else{var y=[],S=[],C=0,k;t.requestAnimationFrame=function(P){return y.push([++C,P]),k||(k=setInterval(function(){if(y.length){var R=t.now(),D=S;for(S=y,y=D;S.length;)S.shift()[1](R)}else clearInterval(k),k=void 0},1e3/50)),C},t.cancelAnimationFrame=function(P){var R,D;for(R=0,D=y.length;R<D;R+=1)if(y[R][0]===P){y.splice(R,1);return}for(R=0,D=S.length;R<D;R+=1)if(S[R][0]===P){S.splice(R,1);return}}}}(window);function d(p,f){return f&&p!==document.body?document.body:p.offsetParent}}(i),function(t,n){e.exports?e.exports=n():t.OpenSeadragon=n()}(ti,function(){return i}),function(t){var n={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.fullscreenElement},n.requestFullScreen=function(r){return r.requestFullscreen()},n.exitFullScreen=function(){document.exitFullscreen()},n.fullScreenEventName="fullscreenchange",n.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.msFullscreenElement},n.requestFullScreen=function(r){return r.msRequestFullscreen()},n.exitFullScreen=function(){document.msExitFullscreen()},n.fullScreenEventName="MSFullscreenChange",n.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitFullscreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullscreen()},n.exitFullScreen=function(){document.webkitExitFullscreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullScreen()},n.exitFullScreen=function(){document.webkitCancelFullScreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.mozFullScreenElement},n.requestFullScreen=function(r){return r.mozRequestFullScreen()},n.exitFullScreen=function(){document.mozCancelFullScreen()},n.fullScreenEventName="mozfullscreenchange",n.fullScreenErrorEventName="mozfullscreenerror"),n.isFullScreen=function(){return n.getFullScreenElement()!==null},n.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),n.exitFullScreen()},t.extend(t,n)}(i),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(n,r,l,h,d){var p=this;h=h||1;var f=0,g=function(y){return f++,f===h&&p.removeHandler(n,g),r(y)};this.addHandler(n,g,l,d)},addHandler:function(n,r,l,h){var d=this.events[n];if(d||(this.events[n]=d=[]),r&&t.isFunction(r)){var p=d.length,f={handler:r,userData:l||null,priority:h||0};for(d[p]=f;p>0&&d[p-1].priority<d[p].priority;)d[p]=d[p-1],d[p-1]=f,p--}},removeHandler:function(n,r){var l=this.events[n],h=[],d;if(l&&t.isArray(l)){for(d=0;d<l.length;d++)l[d].handler!==r&&h.push(l[d]);this.events[n]=h}},numberOfHandlers:function(n){var r=this.events[n];return r?r.length:0},removeAllHandlers:function(n){if(n)this.events[n]=[];else for(var r in this.events)this.events[r]=[]},getHandler:function(n){var r=this.events[n];return!r||!r.length?null:(r=r.length===1?[r[0]]:Array.apply(null,r),function(l,h){var d,p=r.length;for(d=0;d<p;d++)r[d]&&(h.eventSource=l,h.userData=r[d].userData,r[d].handler(h))})},raiseEvent:function(n,r){var l=this.getHandler(n);if(l)return l(this,r||{})}}}(i),function(t){var n={};t.MouseTracker=function(L){var N=arguments;t.isPlainObject(L)||(L={element:N[0],clickTimeThreshold:N[1],clickDistThreshold:N[2]}),this.hash=Math.random(),this.element=t.getElement(L.element),this.clickTimeThreshold=L.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=L.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=L.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=L.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=L.userData||null,this.stopDelay=L.stopDelay||50,this.preProcessEventHandler=L.preProcessEventHandler||null,this.contextMenuHandler=L.contextMenuHandler||null,this.enterHandler=L.enterHandler||null,this.leaveHandler=L.leaveHandler||null,this.exitHandler=L.exitHandler||null,this.overHandler=L.overHandler||null,this.outHandler=L.outHandler||null,this.pressHandler=L.pressHandler||null,this.nonPrimaryPressHandler=L.nonPrimaryPressHandler||null,this.releaseHandler=L.releaseHandler||null,this.nonPrimaryReleaseHandler=L.nonPrimaryReleaseHandler||null,this.moveHandler=L.moveHandler||null,this.scrollHandler=L.scrollHandler||null,this.clickHandler=L.clickHandler||null,this.dblClickHandler=L.dblClickHandler||null,this.dragHandler=L.dragHandler||null,this.dragEndHandler=L.dragEndHandler||null,this.pinchHandler=L.pinchHandler||null,this.stopHandler=L.stopHandler||null,this.keyDownHandler=L.keyDownHandler||null,this.keyUpHandler=L.keyUpHandler||null,this.keyHandler=L.keyHandler||null,this.focusHandler=L.focusHandler||null,this.blurHandler=L.blurHandler||null;var W=this;n[this.hash]={click:function(J){G(W,J)},dblclick:function(J){ne(W,J)},keydown:function(J){Z(W,J)},keyup:function(J){Y(W,J)},keypress:function(J){se(W,J)},focus:function(J){le(W,J)},blur:function(J){ge(W,J)},contextmenu:function(J){ue(W,J)},wheel:function(J){pe(W,J)},mousewheel:function(J){we(W,J)},DOMMouseScroll:function(J){we(W,J)},MozMousePixelScroll:function(J){we(W,J)},losecapture:function(J){Ae(W,J)},mouseenter:function(J){ee(W,J)},mouseleave:function(J){kt(W,J)},mouseover:function(J){tt(W,J)},mouseout:function(J){lt(W,J)},mousedown:function(J){vt(W,J)},mouseup:function(J){_t(W,J)},mousemove:function(J){Bt(W,J)},touchstart:function(J){je(W,J)},touchend:function(J){xe(W,J)},touchmove:function(J){me(W,J)},touchcancel:function(J){De(W,J)},gesturestart:function(J){Oe(W,J)},gesturechange:function(J){$(W,J)},gotpointercapture:function(J){He(W,J)},lostpointercapture:function(J){ot(W,J)},pointerenter:function(J){ee(W,J)},pointerleave:function(J){kt(W,J)},pointerover:function(J){tt(W,J)},pointerout:function(J){lt(W,J)},pointerdown:function(J){vt(W,J)},pointerup:function(J){_t(W,J)},pointermove:function(J){Bt(W,J)},pointercancel:function(J){dn(W,J)},pointerupcaptured:function(J){St(W,J)},pointermovecaptured:function(J){Gt(W,J)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),L.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){p(this),this.element=null,n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(L){return L?d(this):p(this),this},getActivePointersListByType:function(L){var N=n[this.hash],W,J=N.activePointersLists.length,Te;for(W=0;W<J;W++)if(N.activePointersLists[W].type===L)return N.activePointersLists[W];return Te=new t.MouseTracker.GesturePointList(L),N.activePointersLists.push(Te),Te},getActivePointerCount:function(){var L=n[this.hash],N,W=L.activePointersLists.length,J=0;for(N=0;N<W;N++)J+=L.activePointersLists[N].getLength();return J},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var r=function(){try{return window.self!==window.top}catch{return!0}}();function l(L){try{return L.addEventListener&&L.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var L=[],N=0,W=0,J=function(it,st){return it.hash.toString()+st.type+st.id.toString()},Te=function(){var it,st=L.length,bn,tn,Wn=t.now(),Vr,wo,Pr;for(Vr=Wn-W,W=Wn,it=0;it<st;it++)bn=L[it],tn=bn.gPoint,tn.direction=Math.atan2(tn.currentPos.y-bn.lastPos.y,tn.currentPos.x-bn.lastPos.x),wo=bn.lastPos.distanceTo(tn.currentPos),bn.lastPos=tn.currentPos,Pr=1e3*wo/(Vr+1),tn.speed=.75*Pr+.25*tn.speed},_e=function(it,st){var bn=J(it,st);L.push({guid:bn,gPoint:st,lastPos:st.currentPos}),L.length===1&&(W=t.now(),N=window.setInterval(Te,50))},mt=function(it,st){var bn=J(it,st),tn,Wn=L.length;for(tn=0;tn<Wn;tn++)if(L[tn].guid===bn){L.splice(tn,1),Wn--,Wn===0&&window.clearInterval(N);break}};return{addPoint:_e,removePoint:mt}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return t.isFunction(L.setPointerCapture)&&t.isFunction(L.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return t.isFunction(L.setCapture)&&t.isFunction(L.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function(L){this._gPoints=[],this.type=L,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(L){return this._gPoints.push(L)},removeById:function(L){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].id===L){this._gPoints.splice(N,1);break}return this._gPoints.length},getByIndex:function(L){return L<this._gPoints.length?this._gPoints[L]:null},getById:function(L){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].id===L)return this._gPoints[N];return null},getPrimary:function(L){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].isPrimary)return this._gPoints[N];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function h(L){var N=n[L.hash],W,J,Te,_e,mt,it=N.activePointersLists.length;for(W=0;W<it;W++)if(Te=N.activePointersLists[W],Te.getLength()>0){for(mt=[],_e=Te.asArray(),J=0;J<_e.length;J++)mt.push(_e[J]);for(J=0;J<mt.length;J++)wt(L,Te,mt[J])}for(W=0;W<it;W++)N.activePointersLists.pop();N.sentDragEvent=!1}function d(L){var N=n[L.hash],W,J;if(!N.tracking){for(J=0;J<t.MouseTracker.subscribeEvents.length;J++)W=t.MouseTracker.subscribeEvents[J],t.addEvent(L.element,W,N[W],W===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);h(L),N.tracking=!0}}function p(L){var N=n[L.hash],W,J;if(N.tracking){for(J=0;J<t.MouseTracker.subscribeEvents.length;J++)W=t.MouseTracker.subscribeEvents[J],t.removeEvent(L.element,W,N[W],!1);h(L),N.tracking=!1}}function f(L,N){var W=n[L.hash];if(N==="pointerevent")return{upName:"pointerup",upHandler:W.pointerupcaptured,moveName:"pointermove",moveHandler:W.pointermovecaptured};if(N==="mouse")return{upName:"pointerup",upHandler:W.pointerupcaptured,moveName:"pointermove",moveHandler:W.pointermovecaptured};if(N==="touch")return{upName:"touchend",upHandler:W.touchendcaptured,moveName:"touchmove",moveHandler:W.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function g(L,N){var W;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{L.element.setPointerCapture(N.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else L.element.setCapture(!0);else W=f(L,t.MouseTracker.havePointerEvents?"pointerevent":N.type),r&&l(window.top)&&t.addEvent(window.top,W.upName,W.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,W.upName,W.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,W.moveName,W.moveHandler,!0);Se(L,N,!0)}function y(L,N){var W,J,Te;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(J=L.getActivePointersListByType(N.type),Te=J.getById(N.id),!Te||!Te.captured)return;try{L.element.releasePointerCapture(N.id)}catch{}}else L.element.releaseCapture();else W=f(L,t.MouseTracker.havePointerEvents?"pointerevent":N.type),r&&l(window.top)&&t.removeEvent(window.top,W.upName,W.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,W.moveName,W.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,W.upName,W.upHandler,!0);Se(L,N,!1)}function S(L){return t.MouseTracker.havePointerEvents?L.pointerId:t.MouseTracker.mousePointerId}function C(L){return t.MouseTracker.havePointerEvents?L.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function k(L){return t.MouseTracker.havePointerEvents?L.isPrimary:!0}function P(L){return t.getMousePosition(L)}function R(L,N){return D(P(L),N)}function D(L,N){var W=t.getElementOffset(N);return L.minus(W)}function q(L,N){return new t.Point((L.x+N.x)/2,(L.y+N.y)/2)}function G(L,N){var W={originalEvent:N,eventType:"click",pointerType:"mouse",isEmulated:!1};Q(L,W),W.preventDefault&&!W.defaultPrevented&&t.cancelEvent(N),W.stopPropagation&&t.stopEvent(N)}function ne(L,N){var W={originalEvent:N,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Q(L,W),W.preventDefault&&!W.defaultPrevented&&t.cancelEvent(N),W.stopPropagation&&t.stopEvent(N)}function Z(L,N){var W=null,J={originalEvent:N,eventType:"keydown",pointerType:"",isEmulated:!1};Q(L,J),L.keyDownHandler&&!J.preventGesture&&!J.defaultPrevented&&(W={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:J.preventDefault||J.defaultPrevented,userData:L.userData},L.keyDownHandler(W)),(W&&W.preventDefault||J.preventDefault&&!J.defaultPrevented)&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function Y(L,N){var W=null,J={originalEvent:N,eventType:"keyup",pointerType:"",isEmulated:!1};Q(L,J),L.keyUpHandler&&!J.preventGesture&&!J.defaultPrevented&&(W={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:J.preventDefault||J.defaultPrevented,userData:L.userData},L.keyUpHandler(W)),(W&&W.preventDefault||J.preventDefault&&!J.defaultPrevented)&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function se(L,N){var W=null,J={originalEvent:N,eventType:"keypress",pointerType:"",isEmulated:!1};Q(L,J),L.keyHandler&&!J.preventGesture&&!J.defaultPrevented&&(W={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:J.preventDefault||J.defaultPrevented,userData:L.userData},L.keyHandler(W)),(W&&W.preventDefault||J.preventDefault&&!J.defaultPrevented)&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function le(L,N){var W={originalEvent:N,eventType:"focus",pointerType:"",isEmulated:!1};Q(L,W),L.focusHandler&&!W.preventGesture&&L.focusHandler({eventSource:L,originalEvent:N,userData:L.userData})}function ge(L,N){var W={originalEvent:N,eventType:"blur",pointerType:"",isEmulated:!1};Q(L,W),L.blurHandler&&!W.preventGesture&&L.blurHandler({eventSource:L,originalEvent:N,userData:L.userData})}function ue(L,N){var W=null,J={originalEvent:N,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Q(L,J),L.contextMenuHandler&&!J.preventGesture&&!J.defaultPrevented&&(W={eventSource:L,position:D(P(N),L.element),originalEvent:J.originalEvent,preventDefault:J.preventDefault||J.defaultPrevented,userData:L.userData},L.contextMenuHandler(W)),(W&&W.preventDefault||J.preventDefault&&!J.defaultPrevented)&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function pe(L,N){ve(L,N,N)}function we(L,N){var W={target:N.target||N.srcElement,type:"wheel",shiftKey:N.shiftKey||!1,clientX:N.clientX,clientY:N.clientY,pageX:N.pageX?N.pageX:N.clientX,pageY:N.pageY?N.pageY:N.clientY,deltaMode:N.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?W.deltaY=-N.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:W.deltaY=N.detail,ve(L,W,N)}function ve(L,N,W){var J=0,Te,_e=null;J=N.deltaY<0?1:-1,Te={originalEvent:N,eventType:"wheel",pointerType:"mouse",isEmulated:N!==W},Q(L,Te),L.scrollHandler&&!Te.preventGesture&&!Te.defaultPrevented&&(_e={eventSource:L,pointerType:"mouse",position:R(N,L.element),scroll:J,shift:N.shiftKey,isTouchEvent:!1,originalEvent:W,preventDefault:Te.preventDefault||Te.defaultPrevented,userData:L.userData},L.scrollHandler(_e)),Te.stopPropagation&&t.stopEvent(W),(_e&&_e.preventDefault||Te.preventDefault&&!Te.defaultPrevented)&&t.cancelEvent(W)}function Ae(L,N){var W={id:t.MouseTracker.mousePointerId,type:"mouse"},J={originalEvent:N,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Q(L,J),N.target===L.element&&Se(L,W,!1),J.stopPropagation&&t.stopEvent(N)}function je(L,N){var W,J,Te=N.changedTouches.length,_e,mt=L.getActivePointersListByType("touch");W=t.now(),mt.getLength()>N.touches.length-Te&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var it={originalEvent:N,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Q(L,it),J=0;J<Te;J++)_e={id:N.changedTouches[J].identifier,type:"touch",isPrimary:mt.getLength()===0,currentPos:P(N.changedTouches[J]),currentTime:W},Ve(L,it,_e),Et(L,it,_e,0),Se(L,_e,!0);it.preventDefault&&!it.defaultPrevented&&t.cancelEvent(N),it.stopPropagation&&t.stopEvent(N)}function xe(L,N){var W,J,Te=N.changedTouches.length,_e;W=t.now();var mt={originalEvent:N,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Q(L,mt),J=0;J<Te;J++)_e={id:N.changedTouches[J].identifier,type:"touch",currentPos:P(N.changedTouches[J]),currentTime:W},Lt(L,mt,_e,0),Se(L,_e,!1),ze(L,mt,_e);mt.preventDefault&&!mt.defaultPrevented&&t.cancelEvent(N),mt.stopPropagation&&t.stopEvent(N)}function me(L,N){var W,J,Te=N.changedTouches.length,_e;W=t.now();var mt={originalEvent:N,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Q(L,mt),J=0;J<Te;J++)_e={id:N.changedTouches[J].identifier,type:"touch",currentPos:P(N.changedTouches[J]),currentTime:W},At(L,mt,_e);mt.preventDefault&&!mt.defaultPrevented&&t.cancelEvent(N),mt.stopPropagation&&t.stopEvent(N)}function De(L,N){var W=N.changedTouches.length,J,Te,_e={originalEvent:N,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Q(L,_e),J=0;J<W;J++)Te={id:N.changedTouches[J].identifier,type:"touch"},fe(L,_e,Te);_e.stopPropagation&&t.stopEvent(N)}function Oe(L,N){return t.eventIsCanceled(N)||N.preventDefault(),!1}function $(L,N){return t.eventIsCanceled(N)||N.preventDefault(),!1}function He(L,N){var W={originalEvent:N,eventType:"gotpointercapture",pointerType:C(N),isEmulated:!1};Q(L,W),N.target===L.element&&Se(L,{id:N.pointerId,type:C(N)},!0),W.stopPropagation&&t.stopEvent(N)}function ot(L,N){var W={originalEvent:N,eventType:"lostpointercapture",pointerType:C(N),isEmulated:!1};Q(L,W),N.target===L.element&&Se(L,{id:N.pointerId,type:C(N)},!1),W.stopPropagation&&t.stopEvent(N)}function ee(L,N){var W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},J={originalEvent:N,eventType:"pointerenter",pointerType:W.type,isEmulated:!1};Q(L,J),Ve(L,J,W)}function kt(L,N){var W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},J={originalEvent:N,eventType:"pointerleave",pointerType:W.type,isEmulated:!1};Q(L,J),ze(L,J,W)}function tt(L,N){var W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},J={originalEvent:N,eventType:"pointerover",pointerType:W.type,isEmulated:!1};Q(L,J),Je(L,J,W),J.preventDefault&&!J.defaultPrevented&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function lt(L,N){var W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},J={originalEvent:N,eventType:"pointerout",pointerType:W.type,isEmulated:!1};Q(L,J),Xe(L,J,W),J.preventDefault&&!J.defaultPrevented&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function vt(L,N){var W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},J=t.MouseTracker.havePointerEvents&&W.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Te={originalEvent:N,eventType:"pointerdown",pointerType:W.type,isEmulated:!1};Q(L,Te),Et(L,Te,W,N.button),Te.preventDefault&&!Te.defaultPrevented&&t.cancelEvent(N),Te.stopPropagation&&t.stopEvent(N),Te.shouldCapture&&(J?Se(L,W,!0):g(L,W))}function _t(L,N){nt(L,N)}function St(L,N){var W=L.getActivePointersListByType(C(N));W.getById(N.pointerId)&&nt(L,N),t.stopEvent(N)}function nt(L,N){var W;W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()};var J={originalEvent:N,eventType:"pointerup",pointerType:W.type,isEmulated:!1};Q(L,J),Lt(L,J,W,N.button),J.preventDefault&&!J.defaultPrevented&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N),J.shouldReleaseCapture&&(N.target===L.element?y(L,W):Se(L,W,!1))}function Bt(L,N){Vt(L,N)}function Gt(L,N){var W=L.getActivePointersListByType(C(N));W.getById(N.pointerId)&&Vt(L,N),t.stopEvent(N)}function Vt(L,N){var W={id:S(N),type:C(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},J={originalEvent:N,eventType:"pointermove",pointerType:W.type,isEmulated:!1};Q(L,J),At(L,J,W),J.preventDefault&&!J.defaultPrevented&&t.cancelEvent(N),J.stopPropagation&&t.stopEvent(N)}function dn(L,N){var W={id:N.pointerId,type:C(N)},J={originalEvent:N,eventType:"pointercancel",pointerType:W.type,isEmulated:!1};Q(L,J),fe(L,J,W),J.stopPropagation&&t.stopEvent(N)}function Ft(L,N){return N.speed=0,N.direction=0,N.contactPos=N.currentPos,N.contactTime=N.currentTime,N.lastPos=N.currentPos,N.lastTime=N.currentTime,L.add(N)}function wt(L,N,W){var J,Te=N.getById(W.id);return Te?(Te.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),y(L,Te)),N.removeContact(),J=N.removeById(W.id)):J=N.getLength(),J}function I(L,N){switch(N.eventType){case"pointermove":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"pointerdown":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerup":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"wheel":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasScrollHandler,N.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":N.isStoppable=!0,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"click":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!L.clickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"dblclick":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!L.dblClickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:N.isStoppable=!1,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break}}function Q(L,N){N.eventSource=L,N.eventPhase=N.originalEvent&&typeof N.originalEvent.eventPhase<"u"?N.originalEvent.eventPhase:0,N.defaultPrevented=t.eventIsCanceled(N.originalEvent),N.shouldCapture=!1,N.shouldReleaseCapture=!1,N.userData=L.userData,I(L,N),L.preProcessEventHandler&&L.preProcessEventHandler(N)}function Se(L,N,W){var J=L.getActivePointersListByType(N.type),Te=J.getById(N.id);Te?W&&!Te.captured?(Te.captured=!0,J.captureCount++):!W&&Te.captured&&(Te.captured=!1,J.captureCount--,J.captureCount<0&&(J.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function Ve(L,N,W){var J=L.getActivePointersListByType(W.type),Te;Te=J.getById(W.id),Te?(Te.insideElement=!0,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=W.currentPos,Te.currentTime=W.currentTime,W=Te):(W.captured=!1,W.insideElementPressed=!1,W.insideElement=!0,Ft(J,W)),L.enterHandler&&L.enterHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),buttons:J.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:J.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData})}function ze(L,N,W){var J=L.getActivePointersListByType(W.type),Te,_e;Te=J.getById(W.id),Te?(Te.captured?(Te.insideElement=!1,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=W.currentPos,Te.currentTime=W.currentTime):wt(L,J,Te),W=Te):(W.captured=!1,W.insideElementPressed=!1),(L.leaveHandler||L.exitHandler)&&(_e={eventSource:L,pointerType:W.type,position:W.currentPos&&D(W.currentPos,L.element),buttons:J.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:J.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData},L.leaveHandler&&L.leaveHandler(_e),L.exitHandler&&L.exitHandler(_e))}function Je(L,N,W){var J,Te;J=L.getActivePointersListByType(W.type),Te=J.getById(W.id),Te?W=Te:(W.captured=!1,W.insideElementPressed=!1),L.overHandler&&L.overHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),buttons:J.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:J.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData})}function Xe(L,N,W){var J,Te;J=L.getActivePointersListByType(W.type),Te=J.getById(W.id),Te?W=Te:(W.captured=!1,W.insideElementPressed=!1),L.outHandler&&L.outHandler({eventSource:L,pointerType:W.type,position:W.currentPos&&D(W.currentPos,L.element),buttons:J.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:J.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData})}function Et(L,N,W,J){var Te=n[L.hash],_e=L.getActivePointersListByType(W.type),mt;if(typeof N.originalEvent.buttons<"u"?_e.buttons=N.originalEvent.buttons:J===0?_e.buttons|=1:J===1?_e.buttons|=4:J===2?_e.buttons|=2:J===3?_e.buttons|=8:J===4?_e.buttons|=16:J===5&&(_e.buttons|=32),J!==0){N.shouldCapture=!1,N.shouldReleaseCapture=!1,L.nonPrimaryPressHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,L.nonPrimaryPressHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),button:J,buttons:_e.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}));return}mt=_e.getById(W.id),mt?(mt.insideElementPressed=!0,mt.insideElement=!0,mt.originalTarget=N.originalEvent.target,mt.contactPos=W.currentPos,mt.contactTime=W.currentTime,mt.lastPos=mt.currentPos,mt.lastTime=mt.currentTime,mt.currentPos=W.currentPos,mt.currentTime=W.currentTime,W=mt):(W.captured=!1,W.insideElementPressed=!0,W.insideElement=!0,W.originalTarget=N.originalEvent.target,Ft(_e,W)),_e.addContact(),!N.preventGesture&&!N.defaultPrevented?(N.shouldCapture=!0,N.shouldReleaseCapture=!1,N.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(L,W),_e.contacts===1?L.pressHandler&&!N.preventGesture&&L.pressHandler({eventSource:L,pointerType:W.type,position:D(W.contactPos,L.element),buttons:_e.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}):_e.contacts===2&&L.pinchHandler&&W.type==="touch"&&(Te.pinchGPoints=_e.asArray(),Te.lastPinchDist=Te.currentPinchDist=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Te.lastPinchCenter=Te.currentPinchCenter=q(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos))):(N.shouldCapture=!1,N.shouldReleaseCapture=!1)}function Lt(L,N,W,J){var Te=n[L.hash],_e=L.getActivePointersListByType(W.type),mt,it,st,bn=!1,tn;if(typeof N.originalEvent.buttons<"u"?_e.buttons=N.originalEvent.buttons:J===0?_e.buttons^=-2:J===1?_e.buttons^=-5:J===2?_e.buttons^=-3:J===3?_e.buttons^=-9:J===4?_e.buttons^=-17:J===5&&(_e.buttons^=-33),N.shouldCapture=!1,J!==0){N.shouldReleaseCapture=!1,L.nonPrimaryReleaseHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,L.nonPrimaryReleaseHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),button:J,buttons:_e.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}));return}st=_e.getById(W.id),st?(_e.removeContact(),st.captured&&(bn=!0),st.lastPos=st.currentPos,st.lastTime=st.currentTime,st.currentPos=W.currentPos,st.currentTime=W.currentTime,st.insideElement||wt(L,_e,st),mt=st.currentPos,it=st.currentTime):(W.captured=!1,W.insideElementPressed=!1,W.insideElement=!0,Ft(_e,W),st=W),!N.preventGesture&&!N.defaultPrevented&&(bn?(N.shouldReleaseCapture=!0,N.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(L,st),_e.contacts===0?(L.releaseHandler&&mt&&L.releaseHandler({eventSource:L,pointerType:st.type,position:D(mt,L.element),buttons:_e.buttons,insideElementPressed:st.insideElementPressed,insideElementReleased:st.insideElement,isTouchEvent:st.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),L.dragEndHandler&&Te.sentDragEvent&&L.dragEndHandler({eventSource:L,pointerType:st.type,position:D(st.currentPos,L.element),speed:st.speed,direction:st.direction,shift:N.originalEvent.shiftKey,isTouchEvent:st.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),Te.sentDragEvent=!1,(L.clickHandler||L.dblClickHandler)&&st.insideElement&&(tn=it-st.contactTime<=L.clickTimeThreshold&&st.contactPos.distanceTo(mt)<=L.clickDistThreshold,L.clickHandler&&L.clickHandler({eventSource:L,pointerType:st.type,position:D(st.currentPos,L.element),quick:tn,shift:N.originalEvent.shiftKey,isTouchEvent:st.type==="touch",originalEvent:N.originalEvent,originalTarget:st.originalTarget,userData:L.userData}),L.dblClickHandler&&tn&&(_e.clicks++,_e.clicks===1?(Te.lastClickPos=mt,Te.dblClickTimeOut=setTimeout(function(){_e.clicks=0},L.dblClickTimeThreshold)):_e.clicks===2&&(clearTimeout(Te.dblClickTimeOut),_e.clicks=0,Te.lastClickPos.distanceTo(mt)<=L.dblClickDistThreshold&&L.dblClickHandler({eventSource:L,pointerType:st.type,position:D(st.currentPos,L.element),shift:N.originalEvent.shiftKey,isTouchEvent:st.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),Te.lastClickPos=null)))):_e.contacts===2&&L.pinchHandler&&st.type==="touch"&&(Te.pinchGPoints=_e.asArray(),Te.lastPinchDist=Te.currentPinchDist=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Te.lastPinchCenter=Te.currentPinchCenter=q(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos))):(N.shouldReleaseCapture=!1,L.releaseHandler&&mt&&(L.releaseHandler({eventSource:L,pointerType:st.type,position:D(mt,L.element),buttons:_e.buttons,insideElementPressed:st.insideElementPressed,insideElementReleased:st.insideElement,isTouchEvent:st.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0)))}function At(L,N,W){var J=n[L.hash],Te=L.getActivePointersListByType(W.type),_e,mt,it;if(typeof N.originalEvent.buttons<"u"&&(Te.buttons=N.originalEvent.buttons),_e=Te.getById(W.id),_e)_e.lastPos=_e.currentPos,_e.lastTime=_e.currentTime,_e.currentPos=W.currentPos,_e.currentTime=W.currentTime;else return;N.shouldCapture=!1,N.shouldReleaseCapture=!1,L.stopHandler&&W.type==="mouse"&&(clearTimeout(L.stopTimeOut),L.stopTimeOut=setTimeout(function(){Fe(L,N.originalEvent,W.type)},L.stopDelay)),Te.contacts===0?L.moveHandler&&L.moveHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),buttons:Te.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}):Te.contacts===1?(L.moveHandler&&(_e=Te.asArray()[0],L.moveHandler({eventSource:L,pointerType:_e.type,position:D(_e.currentPos,L.element),buttons:Te.buttons,isTouchEvent:_e.type==="touch",originalEvent:N.originalEvent,userData:L.userData})),L.dragHandler&&!N.preventGesture&&!N.defaultPrevented&&(_e=Te.asArray()[0],it=_e.currentPos.minus(_e.lastPos),L.dragHandler({eventSource:L,pointerType:_e.type,position:D(_e.currentPos,L.element),buttons:Te.buttons,delta:it,speed:_e.speed,direction:_e.direction,shift:N.originalEvent.shiftKey,isTouchEvent:_e.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0,J.sentDragEvent=!0)):Te.contacts===2&&(L.moveHandler&&(mt=Te.asArray(),L.moveHandler({eventSource:L,pointerType:mt[0].type,position:D(q(mt[0].currentPos,mt[1].currentPos),L.element),buttons:Te.buttons,isTouchEvent:mt[0].type==="touch",originalEvent:N.originalEvent,userData:L.userData})),L.pinchHandler&&W.type==="touch"&&!N.preventGesture&&!N.defaultPrevented&&(it=J.pinchGPoints[0].currentPos.distanceTo(J.pinchGPoints[1].currentPos),it!==J.currentPinchDist&&(J.lastPinchDist=J.currentPinchDist,J.currentPinchDist=it,J.lastPinchCenter=J.currentPinchCenter,J.currentPinchCenter=q(J.pinchGPoints[0].currentPos,J.pinchGPoints[1].currentPos),L.pinchHandler({eventSource:L,pointerType:"touch",gesturePoints:J.pinchGPoints,lastCenter:D(J.lastPinchCenter,L.element),center:D(J.currentPinchCenter,L.element),lastDistance:J.lastPinchDist,distance:J.currentPinchDist,shift:N.originalEvent.shiftKey,originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0)))}function fe(L,N,W){var J=L.getActivePointersListByType(W.type),Te;Te=J.getById(W.id),Te&&wt(L,J,Te)}function Fe(L,N,W){L.stopHandler&&L.stopHandler({eventSource:L,pointerType:W,position:R(N,L.element),buttons:L.getActivePointersListByType(W).buttons,isTouchEvent:W==="touch",originalEvent:N,userData:L.userData})}}(i),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(n,r,l){var h=n.parentNode;typeof r=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer=typeof r.attachToViewer>"u"?!0:r.attachToViewer,this.autoFade=typeof r.autoFade>"u"?!0:r.autoFade,this.element=n,this.anchor=r.anchor,this.container=l,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof r.top=="number"?r.top+"px":r.top,this.wrapper.style.left=typeof r.left=="number"?r.left+"px":r.left,this.wrapper.style.height=typeof r.height=="number"?r.height+"px":r.height,this.wrapper.style.width=typeof r.width=="number"?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):h.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(n){this.wrapper.style.display=n?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(n){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,n,!0):t.setElementOpacity(this.wrapper,n,!0)}}}(i),function(t){t.ControlDock=function(r){var l=["topleft","topright","bottomright","bottomleft"],h,d;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},r),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),d=0;d<l.length;d++)h=l[d],this.controls[h]=t.makeNeutralElement("div"),this.controls[h].style.position="absolute",h.match("left")&&(this.controls[h].style.left="0px"),h.match("right")&&(this.controls[h].style.right="0px"),h.match("top")&&(this.controls[h].style.top="0px"),h.match("bottom")&&(this.controls[h].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(r,l){r=t.getElement(r);var h=null;if(!(n(this,r)>=0)){switch(l.anchor){case t.ControlAnchor.TOP_RIGHT:h=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:h=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:h=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:h=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:h=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case t.ControlAnchor.NONE:h=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new t.Control(r,l,h)),r.style.display="inline-block"}},removeControl:function(r){r=t.getElement(r);var l=n(this,r);return l>=0&&(this.controls[l].destroy(),this.controls.splice(l,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var r;for(r=this.controls.length-1;r>=0;r--)if(this.controls[r].isVisible())return!0;return!1},setControlsEnabled:function(r){var l;for(l=this.controls.length-1;l>=0;l--)this.controls[l].setVisible(r);return this}};function n(r,l){var h=r.controls,d;for(d=h.length-1;d>=0;d--)if(h[d].element===l)return d;return-1}}(i),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(i),function(t){var n={},r=1;t.Viewer=function(I){var Q=arguments,Se=this,Ve;if(t.isPlainObject(I)||(I={id:Q[0],xmlPath:Q.length>1?Q[1]:void 0,prefixUrl:Q.length>2?Q[2]:void 0,controls:Q.length>3?Q[3]:void 0,overlays:Q.length>4?Q[4]:void 0}),I.config&&(t.extend(!0,I,I.config),delete I.config),t.extend(!0,this,{id:I.id,hash:I.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,I),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof n[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),n[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(ze){var Je=t.getString("Errors.OpenFailed",ze.eventSource,ze.message);Se._showMessage(Je)}),t.ControlDock.call(this,I),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(ze){ze.width="100%",ze.height="100%",ze.overflow="hidden",ze.position="absolute",ze.top="0px",ze.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),I.tabIndex!==""&&(this.canvas.tabIndex=I.tabIndex===void 0?0:I.tabIndex),this.container.className="openseadragon-container",function(ze){ze.width="100%",ze.height="100%",ze.position="relative",ze.overflow="hidden",ze.left="0px",ze.top="0px",ze.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,R),keyDownHandler:t.delegate(this,D),keyHandler:t.delegate(this,q),clickHandler:t.delegate(this,G),dblClickHandler:t.delegate(this,ne),dragHandler:t.delegate(this,Z),dragEndHandler:t.delegate(this,Y),enterHandler:t.delegate(this,se),leaveHandler:t.delegate(this,le),pressHandler:t.delegate(this,ge),releaseHandler:t.delegate(this,ue),nonPrimaryPressHandler:t.delegate(this,pe),nonPrimaryReleaseHandler:t.delegate(this,we),scrollHandler:t.delegate(this,xe),pinchHandler:t.delegate(this,ve),focusHandler:t.delegate(this,Ae),blurHandler:t.delegate(this,je)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,me),leaveHandler:t.delegate(this,De)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),n[this.hash].prevContainerSize=l(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){n[Se.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(ze){Se.source=Se.world.getItemAt(0).source,n[Se.hash].forceRedraw=!0,Se._updateRequestId||(Se._updateRequestId=f(Se,Oe))}),this.world.addHandler("remove-item",function(ze){Se.world.getItemCount()?Se.source=Se.world.getItemAt(0).source:Se.source=null,n[Se.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(ze){Se.viewport&&Se.viewport._setContentBounds(Se.world.getHomeBounds(),Se.world.getContentFactor())}),this.world.addHandler("item-index-change",function(ze){Se.source=Se.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:n[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:I.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Ve=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Ve,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Ve=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Ve,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Ve=0;Ve<this.customControls.length;Ve++)this.addControl(this.customControls[Ve].id,{anchor:this.customControls[Ve].anchor});t.requestAnimationFrame(function(){y(Se)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(I){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(I)},openTileSource:function(I){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(I)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(I,Q){var Se=this;if(this.close(),!I)return this;if(this.sequenceMode&&t.isArray(I))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Q<"u"&&!isNaN(Q)&&(this.initialPage=Q),this.tileSources=I,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(I)||(I=[I]),!I.length)return this;this._opening=!0;for(var Ve=I.length,ze=0,Je=0,Xe,Et=function(){if(ze+Je===Ve)if(ze){(Se._firstOpen||!Se.preserveViewport)&&(Se.viewport.goHome(!0),Se.viewport.update()),Se._firstOpen=!1;var fe=I[0];if(fe.tileSource&&(fe=fe.tileSource),Se.overlays&&!Se.preserveOverlays)for(var Fe=0;Fe<Se.overlays.length;Fe++)Se.currentOverlays[Fe]=d(Se,Se.overlays[Fe]);Se._drawOverlays(),Se._opening=!1,Se.raiseEvent("open",{source:fe})}else Se._opening=!1,Se.raiseEvent("open-failed",Xe)},Lt=function(fe){(!t.isPlainObject(fe)||!fe.tileSource)&&(fe={tileSource:fe}),fe.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete fe.index),fe.collectionImmediately===void 0&&(fe.collectionImmediately=!0);var Fe=fe.success;fe.success=function(N){if(ze++,fe.tileSource.overlays)for(var W=0;W<fe.tileSource.overlays.length;W++)Se.addOverlay(fe.tileSource.overlays[W]);Fe&&Fe(N),Et()};var L=fe.error;fe.error=function(N){Je++,Xe||(Xe=N),L&&L(N),Et()},Se.addTiledImage(fe)},At=0;At<I.length;At++)Lt(I[At]);return this},close:function(){return n[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),n[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(n[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),n[this.navigator.hash]=null,delete n[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),n[this.hash]=null,delete n[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(I){return this.innerTracker.setTracking(I),this.outerTracker.setTracking(I),this.raiseEvent("mouse-enabled",{enabled:I}),this},areControlsEnabled:function(){var I=this.controls.length,Q;for(Q=0;Q<this.controls.length;Q++)I=I&&this.controls[Q].isVisible();return I},setControlsEnabled:function(I){return I?C(this):y(this),this.raiseEvent("controls-enabled",{enabled:I}),this},setDebugMode:function(I){for(var Q=0;Q<this.world.getItemCount();Q++)this.world.getItemAt(Q).debugMode=I;this.debugMode=I,this.forceRedraw()},setAjaxHeaders:function(I,Q){if(I===null&&(I={}),!t.isPlainObject(I)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(Q===void 0&&(Q=!0),this.ajaxHeaders=I,Q){for(var Se=0;Se<this.world.getItemCount();Se++)this.world.getItemAt(Se)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var Ve in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[Ve].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(I){this.buttonGroup.addButton(I)},isFullPage:function(){return n[this.hash].fullPage},setFullPage:function(I){var Q=document.body,Se=Q.style,Ve=document.documentElement.style,ze=this,Je,Xe;if(I===this.isFullPage())return this;var Et={fullPage:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Et),Et.preventDefaultAction)return this;if(I){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Se.margin,this.docMargin=Ve.margin,Se.margin="0",Ve.margin="0",this.bodyPadding=Se.padding,this.docPadding=Ve.padding,Se.padding="0",Ve.padding="0",this.bodyWidth=Se.width,this.docWidth=Ve.width,Se.width="100%",Ve.width="100%",this.bodyHeight=Se.height,this.docHeight=Ve.height,Se.height="100%",Ve.height="100%",this.bodyDisplay=Se.display,Se.display="block",this.previousBody=[],n[this.hash].prevElementParent=this.element.parentNode,n[this.hash].prevNextSibling=this.element.nextSibling,n[this.hash].prevElementWidth=this.element.style.width,n[this.hash].prevElementHeight=this.element.style.height,Je=Q.childNodes.length,Xe=0;Xe<Je;Xe++)this.previousBody.push(Q.childNodes[0]),Q.removeChild(Q.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Q.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),Q.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),n[this.hash].fullPage=!0,t.delegate(this,me)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Se.margin=this.bodyMargin,Ve.margin=this.docMargin,Se.padding=this.bodyPadding,Ve.padding=this.docPadding,Se.width=this.bodyWidth,Ve.width=this.docWidth,Se.height=this.bodyHeight,Ve.height=this.docHeight,Se.display=this.bodyDisplay,Q.removeChild(this.element),Je=this.previousBody.length,Xe=0;Xe<Je;Xe++)Q.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),n[this.hash].prevElementParent.insertBefore(this.element,n[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Q.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=n[this.hash].prevElementWidth,this.element.style.height=n[this.hash].prevElementHeight;var Lt=0,At=function(){t.setPageScroll(ze.pageScroll);var fe=t.getPageScroll();Lt++,Lt<10&&(fe.x!==ze.pageScroll.x||fe.y!==ze.pageScroll.y)&&t.requestAnimationFrame(At)};t.requestAnimationFrame(At),n[this.hash].fullPage=!1,t.delegate(this,De)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:I}),this},setFullScreen:function(I){var Q=this;if(!t.supportsFullScreen)return this.setFullPage(I);if(t.isFullScreen()===I)return this;var Se={fullScreen:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Se),Se.preventDefaultAction)return this;if(I){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Ve=function(){var ze=t.isFullScreen();ze||(t.removeEvent(document,t.fullScreenEventName,Ve),t.removeEvent(document,t.fullScreenErrorEventName,Ve),Q.setFullPage(!1),Q.isFullPage()&&(Q.element.style.width=Q.fullPageStyleWidth,Q.element.style.height=Q.fullPageStyleHeight)),Q.navigator&&Q.viewport&&setTimeout(function(){Q.navigator.update(Q.viewport)}),Q.raiseEvent("full-screen",{fullScreen:ze})};t.addEvent(document,t.fullScreenEventName,Ve),t.addEvent(document,t.fullScreenErrorEventName,Ve),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(I){return this.container.style.visibility=I?"":"hidden",this.raiseEvent("visible",{visible:I}),this},addTiledImage:function(I){t.console.assert(I,"[Viewer.addTiledImage] options is required"),t.console.assert(I.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!I.replace||I.index>-1&&I.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Q=this;I.replace&&(I.replaceItem=Q.world.getItemAt(I.index)),this._hideMessage(),I.placeholderFillStyle===void 0&&(I.placeholderFillStyle=this.placeholderFillStyle),I.opacity===void 0&&(I.opacity=this.opacity),I.preload===void 0&&(I.preload=this.preload),I.compositeOperation===void 0&&(I.compositeOperation=this.compositeOperation),I.crossOriginPolicy===void 0&&(I.crossOriginPolicy=I.tileSource.crossOriginPolicy!==void 0?I.tileSource.crossOriginPolicy:this.crossOriginPolicy),I.ajaxWithCredentials===void 0&&(I.ajaxWithCredentials=this.ajaxWithCredentials),I.loadTilesWithAjax===void 0&&(I.loadTilesWithAjax=this.loadTilesWithAjax),t.isPlainObject(I.ajaxHeaders)||(I.ajaxHeaders={});var Se={options:I};function Ve(Xe){for(var Et=0;Et<Q._loadQueue.length;Et++)if(Q._loadQueue[Et]===Se){Q._loadQueue.splice(Et,1);break}Q._loadQueue.length===0&&ze(Se),Q.raiseEvent("add-item-failed",Xe),I.error&&I.error(Xe)}function ze(Xe){Q.collectionMode&&(Q.world.arrange({immediately:Xe.options.collectionImmediately,rows:Q.collectionRows,columns:Q.collectionColumns,layout:Q.collectionLayout,tileSize:Q.collectionTileSize,tileMargin:Q.collectionTileMargin}),Q.world.setAutoRefigureSizes(!0))}if(t.isArray(I.tileSource)){setTimeout(function(){Ve({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:I.tileSource,options:I})});return}this._loadQueue.push(Se);function Je(){for(var Xe,Et,Lt;Q._loadQueue.length&&(Xe=Q._loadQueue[0],!!Xe.tileSource);){if(Q._loadQueue.splice(0,1),Xe.options.replace){var At=Q.world.getIndexOfItem(Xe.options.replaceItem);At!==-1&&(Xe.options.index=At),Q.world.removeItem(Xe.options.replaceItem)}Et=new t.TiledImage({viewer:Q,source:Xe.tileSource,viewport:Q.viewport,drawer:Q.drawer,tileCache:Q.tileCache,imageLoader:Q.imageLoader,x:Xe.options.x,y:Xe.options.y,width:Xe.options.width,height:Xe.options.height,fitBounds:Xe.options.fitBounds,fitBoundsPlacement:Xe.options.fitBoundsPlacement,clip:Xe.options.clip,placeholderFillStyle:Xe.options.placeholderFillStyle,opacity:Xe.options.opacity,preload:Xe.options.preload,degrees:Xe.options.degrees,flipped:Xe.options.flipped,compositeOperation:Xe.options.compositeOperation,springStiffness:Q.springStiffness,animationTime:Q.animationTime,minZoomImageRatio:Q.minZoomImageRatio,wrapHorizontal:Q.wrapHorizontal,wrapVertical:Q.wrapVertical,immediateRender:Q.immediateRender,blendTime:Q.blendTime,alwaysBlend:Q.alwaysBlend,minPixelRatio:Q.minPixelRatio,smoothTileEdgesMinZoom:Q.smoothTileEdgesMinZoom,iOSDevice:Q.iOSDevice,crossOriginPolicy:Xe.options.crossOriginPolicy,ajaxWithCredentials:Xe.options.ajaxWithCredentials,loadTilesWithAjax:Xe.options.loadTilesWithAjax,ajaxHeaders:Xe.options.ajaxHeaders,debugMode:Q.debugMode,subPixelRoundingForTransparency:Q.subPixelRoundingForTransparency}),Q.collectionMode&&Q.world.setAutoRefigureSizes(!1),Q.navigator&&(Lt=t.extend({},Xe.options,{replace:!1,originalTiledImage:Et,tileSource:Xe.tileSource}),Q.navigator.addTiledImage(Lt)),Q.world.addItem(Et,{index:Xe.options.index}),Q._loadQueue.length===0&&ze(Xe),Q.world.getItemCount()===1&&!Q.preserveViewport&&Q.viewport.goHome(!0),Xe.options.success&&Xe.options.success({item:Et})}}h(this,I.tileSource,I,function(Xe){Se.tileSource=Xe,Je()},function(Xe){Xe.options=I,Ve(Xe),Je()})},addSimpleImage:function(I){t.console.assert(I,"[Viewer.addSimpleImage] options is required"),t.console.assert(I.url,"[Viewer.addSimpleImage] options.url is required");var Q=t.extend({},I,{tileSource:{type:"image",url:I.url}});delete Q.url,this.addTiledImage(Q)},addLayer:function(I){var Q=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Se=t.extend({},I,{success:function(Ve){Q.raiseEvent("add-layer",{options:I,drawer:Ve.item})},error:function(Ve){Q.raiseEvent("add-layer-failed",Ve)}});return this.addTiledImage(Se),this},getLayerAtLevel:function(I){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(I)},getLevelOfLayer:function(I){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(I)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(I,Q){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(I,Q)},removeLayer:function(I){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(I)},forceRedraw:function(){return n[this.hash].forceRedraw=!0,this},forceResize:function(){n[this.hash].needsResize=!0,n[this.hash].forceResize=!0},bindSequenceControls:function(){var I=t.delegate(this,k),Q=t.delegate(this,P),Se=t.delegate(this,this.goToNextPage),Ve=t.delegate(this,this.goToPreviousPage),ze=this.navImages,Je=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Je=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:ee(this.prefixUrl,ze.previous.REST),srcGroup:ee(this.prefixUrl,ze.previous.GROUP),srcHover:ee(this.prefixUrl,ze.previous.HOVER),srcDown:ee(this.prefixUrl,ze.previous.DOWN),onRelease:Ve,onFocus:I,onBlur:Q}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:ee(this.prefixUrl,ze.next.REST),srcGroup:ee(this.prefixUrl,ze.next.GROUP),srcHover:ee(this.prefixUrl,ze.next.HOVER),srcDown:ee(this.prefixUrl,ze.next.DOWN),onRelease:Se,onFocus:I,onBlur:Q}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Je&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var I=t.delegate(this,kt),Q=t.delegate(this,lt),Se=t.delegate(this,St),Ve=t.delegate(this,tt),ze=t.delegate(this,nt),Je=t.delegate(this,Gt),Xe=t.delegate(this,Vt),Et=t.delegate(this,dn),Lt=t.delegate(this,Ft),At=t.delegate(this,wt),fe=t.delegate(this,k),Fe=t.delegate(this,P),L=this.navImages,N=[],W=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(W=!1),this.showZoomControl&&(N.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:ee(this.prefixUrl,L.zoomIn.REST),srcGroup:ee(this.prefixUrl,L.zoomIn.GROUP),srcHover:ee(this.prefixUrl,L.zoomIn.HOVER),srcDown:ee(this.prefixUrl,L.zoomIn.DOWN),onPress:I,onRelease:Q,onClick:Se,onEnter:I,onExit:Q,onFocus:fe,onBlur:Fe})),N.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:ee(this.prefixUrl,L.zoomOut.REST),srcGroup:ee(this.prefixUrl,L.zoomOut.GROUP),srcHover:ee(this.prefixUrl,L.zoomOut.HOVER),srcDown:ee(this.prefixUrl,L.zoomOut.DOWN),onPress:Ve,onRelease:Q,onClick:ze,onEnter:Ve,onExit:Q,onFocus:fe,onBlur:Fe}))),this.showHomeControl&&N.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:ee(this.prefixUrl,L.home.REST),srcGroup:ee(this.prefixUrl,L.home.GROUP),srcHover:ee(this.prefixUrl,L.home.HOVER),srcDown:ee(this.prefixUrl,L.home.DOWN),onRelease:Je,onFocus:fe,onBlur:Fe})),this.showFullPageControl&&N.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:ee(this.prefixUrl,L.fullpage.REST),srcGroup:ee(this.prefixUrl,L.fullpage.GROUP),srcHover:ee(this.prefixUrl,L.fullpage.HOVER),srcDown:ee(this.prefixUrl,L.fullpage.DOWN),onRelease:Xe,onFocus:fe,onBlur:Fe})),this.showRotationControl&&(N.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:ee(this.prefixUrl,L.rotateleft.REST),srcGroup:ee(this.prefixUrl,L.rotateleft.GROUP),srcHover:ee(this.prefixUrl,L.rotateleft.HOVER),srcDown:ee(this.prefixUrl,L.rotateleft.DOWN),onRelease:Et,onFocus:fe,onBlur:Fe})),N.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:ee(this.prefixUrl,L.rotateright.REST),srcGroup:ee(this.prefixUrl,L.rotateright.GROUP),srcHover:ee(this.prefixUrl,L.rotateright.HOVER),srcDown:ee(this.prefixUrl,L.rotateright.DOWN),onRelease:Lt,onFocus:fe,onBlur:Fe}))),this.showFlipControl&&N.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:ee(this.prefixUrl,L.flip.REST),srcGroup:ee(this.prefixUrl,L.flip.GROUP),srcHover:ee(this.prefixUrl,L.flip.HOVER),srcDown:ee(this.prefixUrl,L.flip.DOWN),onRelease:At,onFocus:fe,onBlur:Fe})),W?(this.buttonGroup=new t.ButtonGroup({buttons:N,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Bt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=N),this},currentPage:function(){return this._sequenceIndex},goToPage:function(I){return this.tileSources&&I>=0&&I<this.tileSources.length&&(this._sequenceIndex=I,this._updateSequenceButtons(I),this.open(this.tileSources[I]),this.referenceStrip&&this.referenceStrip.setFocus(I),this.raiseEvent("page",{page:I})),this},addOverlay:function(I,Q,Se,Ve){var ze;if(t.isPlainObject(I)?ze=I:ze={element:I,location:Q,placement:Se,onDraw:Ve},I=t.getElement(ze.element),p(this.currentOverlays,I)>=0)return this;var Je=d(this,ze);return this.currentOverlays.push(Je),Je.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:I,location:ze.location,placement:ze.placement}),this},updateOverlay:function(I,Q,Se){var Ve;return I=t.getElement(I),Ve=p(this.currentOverlays,I),Ve>=0&&(this.currentOverlays[Ve].update(Q,Se),n[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:I,location:Q,placement:Se})),this},removeOverlay:function(I){var Q;return I=t.getElement(I),Q=p(this.currentOverlays,I),Q>=0&&(this.currentOverlays[Q].destroy(),this.currentOverlays.splice(Q,1),n[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:I})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return n[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(I){var Q;return I=t.getElement(I),Q=p(this.currentOverlays,I),Q>=0?this.currentOverlays[Q]:null},_updateSequenceButtons:function(I){this.nextButton&&(!this.tileSources||this.tileSources.length-1===I?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(I>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(I){this._hideMessage();var Q=t.makeNeutralElement("div");Q.appendChild(document.createTextNode(I)),this.messageDiv=t.makeCenteredNode(Q),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var I=this.messageDiv;I&&(I.parentNode.removeChild(I),delete this.messageDiv)},gestureSettingsByDeviceType:function(I){switch(I){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var I,Q=this.currentOverlays.length;for(I=0;I<Q;I++)this.currentOverlays[I].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var I=t.pixelDensityRatio,Q=t.getCurrentPixelDensityRatio();I!==Q&&(t.pixelDensityRatio=Q,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var I=this._sequenceIndex-1;this.navPrevNextWrap&&I<0&&(I+=this.tileSources.length),this.goToPage(I)},goToNextPage:function(){var I=this._sequenceIndex+1;this.navPrevNextWrap&&I>=this.tileSources.length&&(I=0),this.goToPage(I)},isAnimating:function(){return n[this.hash].animating}});function l(I){return I=t.getElement(I),new t.Point(I.clientWidth===0?1:I.clientWidth,I.clientHeight===0?1:I.clientHeight)}function h(I,Q,Se,Ve,ze){var Je=I;if(t.type(Q)==="string"){if(Q.match(/^\s*<.*>\s*$/))Q=t.parseXml(Q);else if(Q.match(/^\s*[{[].*[}\]]\s*$/))try{var Xe=t.parseJSON(Q);Q=Xe}catch{}}function Et(Lt,At){Lt.ready?Ve(Lt):(Lt.addHandler("ready",function(){Ve(Lt)}),Lt.addHandler("open-failed",function(fe){ze({message:fe.message,source:At})}))}setTimeout(function(){if(t.type(Q)==="string")Q=new t.TileSource({url:Q,crossOriginPolicy:Se.crossOriginPolicy!==void 0?Se.crossOriginPolicy:I.crossOriginPolicy,ajaxWithCredentials:I.ajaxWithCredentials,ajaxHeaders:Se.ajaxHeaders?Se.ajaxHeaders:I.ajaxHeaders,splitHashDataForPost:I.splitHashDataForPost,useCanvas:I.useCanvas,success:function(Fe){Ve(Fe.tileSource)}}),Q.addHandler("open-failed",function(Fe){ze(Fe)});else if(t.isPlainObject(Q)||Q.nodeType)if(Q.crossOriginPolicy===void 0&&(Se.crossOriginPolicy!==void 0||I.crossOriginPolicy!==void 0)&&(Q.crossOriginPolicy=Se.crossOriginPolicy!==void 0?Se.crossOriginPolicy:I.crossOriginPolicy),Q.ajaxWithCredentials===void 0&&(Q.ajaxWithCredentials=I.ajaxWithCredentials),Q.useCanvas===void 0&&(Q.useCanvas=I.useCanvas),t.isFunction(Q.getTileUrl)){var Lt=new t.TileSource(Q);Lt.getTileUrl=Q.getTileUrl,Ve(Lt)}else{var At=t.TileSource.determineType(Je,Q);if(!At){ze({message:"Unable to load TileSource",source:Q});return}var fe=At.prototype.configure.apply(Je,[Q]);Et(new At(fe),Q)}else Et(Q,Q)})}function d(I,Q){if(Q instanceof t.Overlay)return Q;var Se=null;if(Q.element)Se=t.getElement(Q.element);else{var Ve=Q.id?Q.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Se=t.getElement(Q.id),Se||(Se=document.createElement("a"),Se.href="#/overlay/"+Ve),Se.id=Ve,t.addClass(Se,Q.className?Q.className:"openseadragon-overlay")}var ze=Q.location,Je=Q.width,Xe=Q.height;if(!ze){var Et=Q.x,Lt=Q.y;if(Q.px!==void 0){var At=I.viewport.imageToViewportRectangle(new t.Rect(Q.px,Q.py,Je||0,Xe||0));Et=At.x,Lt=At.y,Je=Je!==void 0?At.width:void 0,Xe=Xe!==void 0?At.height:void 0}ze=new t.Point(Et,Lt)}var fe=Q.placement;return fe&&t.type(fe)==="string"&&(fe=t.Placement[Q.placement.toUpperCase()]),new t.Overlay({element:Se,location:ze,placement:fe,onDraw:Q.onDraw,checkResize:Q.checkResize,width:Je,height:Xe,rotationMode:Q.rotationMode})}function p(I,Q){var Se;for(Se=I.length-1;Se>=0;Se--)if(I[Se].element===Q)return Se;return-1}function f(I,Q){return t.requestAnimationFrame(function(){Q(I)})}function g(I){t.requestAnimationFrame(function(){S(I)})}function y(I){I.autoHideControls&&(I.controlsShouldFade=!0,I.controlsFadeBeginTime=t.now()+I.controlsFadeDelay,window.setTimeout(function(){g(I)},I.controlsFadeDelay))}function S(I){var Q,Se,Ve,ze;if(I.controlsShouldFade){for(Q=t.now(),Se=Q-I.controlsFadeBeginTime,Ve=1-Se/I.controlsFadeLength,Ve=Math.min(1,Ve),Ve=Math.max(0,Ve),ze=I.controls.length-1;ze>=0;ze--)I.controls[ze].autoFade&&I.controls[ze].setOpacity(Ve);Ve>0&&g(I)}}function C(I){var Q;for(I.controlsShouldFade=!1,Q=I.controls.length-1;Q>=0;Q--)I.controls[Q].setOpacity(1)}function k(){C(this)}function P(){y(this)}function R(I){var Q={tracker:I.eventSource,position:I.position,originalEvent:I.originalEvent,preventDefault:I.preventDefault};this.raiseEvent("canvas-contextmenu",Q),I.preventDefault=Q.preventDefault}function D(I){var Q={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan||!this.panVertical,preventHorizontalPan:I.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Q),!Q.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 38:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 40:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 37:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 39:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 87:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 83:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 65:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 68:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 82:I.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),I.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function q(I){var Q={originalEvent:I.originalEvent};this.raiseEvent("canvas-key-press",Q)}function G(I){var Q,Se=document.activeElement===this.canvas;Se||this.canvas.focus(),this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x);var Ve={tracker:I.eventSource,position:I.position,quick:I.quick,shift:I.shift,originalEvent:I.originalEvent,originalTarget:I.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Ve),!Ve.preventDefaultAction&&this.viewport&&I.quick&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.clickToZoom===!0&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,Q.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()),Q.dblClickDragToZoom&&(n[this.hash].draggingToZoom===!0?(n[this.hash].lastClickTime=null,n[this.hash].draggingToZoom=!1):n[this.hash].lastClickTime=t.now()))}function ne(I){var Q,Se={tracker:I.eventSource,position:I.position,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Se),!Se.preventDefaultAction&&this.viewport&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.dblClickToZoom&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,Q.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()))}function Z(I){var Q,Se={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,delta:I.delta,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Se),Q=this.gestureSettingsByDeviceType(I.pointerType),!Se.preventDefaultAction&&this.viewport){if(Q.dblClickDragToZoom&&n[this.hash].draggingToZoom){var Ve=Math.pow(this.zoomPerDblClickDrag,I.delta.y/50);this.viewport.zoomBy(Ve)}else if(Q.dragToPan&&!n[this.hash].draggingToZoom){if(this.panHorizontal||(I.delta.x=0),this.panVertical||(I.delta.y=0),this.viewport.flipped&&(I.delta.x=-I.delta.x),this.constrainDuringPan){var ze=this.viewport.deltaPointsFromPixels(I.delta.negate());this.viewport.centerSpringX.target.value+=ze.x,this.viewport.centerSpringY.target.value+=ze.y;var Je=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ze.x,this.viewport.centerSpringY.target.value-=ze.y,Je.xConstrained&&(I.delta.x=0),Je.yConstrained&&(I.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(I.delta.negate()),Q.flickEnabled&&!this.constrainDuringPan)}}}function Y(I){var Q,Se={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",Se),Q=this.gestureSettingsByDeviceType(I.pointerType),!Se.preventDefaultAction&&this.viewport){if(!n[this.hash].draggingToZoom&&Q.flickEnabled&&I.speed>=Q.flickMinSpeed){var Ve=0;this.panHorizontal&&(Ve=Q.flickMomentum*I.speed*Math.cos(I.direction));var ze=0;this.panVertical&&(ze=Q.flickMomentum*I.speed*Math.sin(I.direction));var Je=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Xe=this.viewport.pointFromPixel(new t.Point(Je.x-Ve,Je.y-ze));this.viewport.panTo(Xe,!1)}this.viewport.applyConstraints()}Q.dblClickDragToZoom&&n[this.hash].draggingToZoom===!0&&(n[this.hash].draggingToZoom=!1)}function se(I){this.raiseEvent("canvas-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function le(I){this.raiseEvent("canvas-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function ge(I){var Q;if(this.raiseEvent("canvas-press",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent}),Q=this.gestureSettingsByDeviceType(I.pointerType),Q.dblClickDragToZoom){var Se=n[this.hash].lastClickTime,Ve=t.now();if(Se===null)return;Ve-Se<this.dblClickTimeThreshold&&(n[this.hash].draggingToZoom=!0),n[this.hash].lastClickTime=null}}function ue(I){this.raiseEvent("canvas-release",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent})}function pe(I){this.raiseEvent("canvas-nonprimary-press",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function we(I){this.raiseEvent("canvas-nonprimary-release",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function ve(I){var Q,Se,Ve,ze,Je={tracker:I.eventSource,pointerType:I.pointerType,gesturePoints:I.gesturePoints,lastCenter:I.lastCenter,center:I.center,lastDistance:I.lastDistance,distance:I.distance,shift:I.shift,originalEvent:I.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",Je),this.viewport&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.pinchToZoom&&(!Je.preventDefaultPanAction||!Je.preventDefaultZoomAction)&&(Se=this.viewport.pointFromPixel(I.center,!0),Q.zoomToRefPoint&&!Je.preventDefaultPanAction&&(Ve=this.viewport.pointFromPixel(I.lastCenter,!0),ze=Ve.minus(Se),this.panHorizontal||(ze.x=0),this.panVertical||(ze.y=0),this.viewport.panBy(ze,!0)),Je.preventDefaultZoomAction||this.viewport.zoomBy(I.distance/I.lastDistance,Se,!0),this.viewport.applyConstraints()),Q.pinchRotate&&!Je.preventDefaultRotateAction)){var Xe=Math.atan2(I.gesturePoints[0].currentPos.y-I.gesturePoints[1].currentPos.y,I.gesturePoints[0].currentPos.x-I.gesturePoints[1].currentPos.x),Et=Math.atan2(I.gesturePoints[0].lastPos.y-I.gesturePoints[1].lastPos.y,I.gesturePoints[0].lastPos.x-I.gesturePoints[1].lastPos.x);Se=this.viewport.pointFromPixel(I.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(Xe-Et)*(180/Math.PI),Se,!0)}}function Ae(I){this.raiseEvent("canvas-focus",{tracker:I.eventSource,originalEvent:I.originalEvent})}function je(I){this.raiseEvent("canvas-blur",{tracker:I.eventSource,originalEvent:I.originalEvent})}function xe(I){var Q,Se,Ve,ze,Je;ze=t.now(),Je=ze-this._lastScrollTime,Je>this.minScrollDeltaTime?(this._lastScrollTime=ze,Q={tracker:I.eventSource,position:I.position,scroll:I.scroll,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Q),!Q.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x),Se=this.gestureSettingsByDeviceType(I.pointerType),Se.scrollToZoom&&(Ve=Math.pow(this.zoomPerScroll,I.scroll),this.viewport.zoomBy(Ve,Se.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints())),I.preventDefault=Q.preventDefault):I.preventDefault=!0}function me(I){n[this.hash].mouseInside=!0,C(this),this.raiseEvent("container-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function De(I){I.pointers<1&&(n[this.hash].mouseInside=!1,n[this.hash].animating||y(this)),this.raiseEvent("container-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Oe(I){He(I),I.isOpen()?I._updateRequestId=f(I,Oe):I._updateRequestId=!1}function $(I,Q){var Se=I.viewport,Ve=Se.getZoom(),ze=Se.getCenter();Se.resize(Q,I.preserveImageSizeOnResize),Se.panTo(ze,!0);var Je;if(I.preserveImageSizeOnResize)Je=n[I.hash].prevContainerSize.x/Q.x;else{var Xe=new t.Point(0,0),Et=new t.Point(n[I.hash].prevContainerSize.x,n[I.hash].prevContainerSize.y).distanceTo(Xe),Lt=new t.Point(Q.x,Q.y).distanceTo(Xe);Je=Lt/Et*n[I.hash].prevContainerSize.x/Q.x}Se.zoomTo(Ve*Je,null,!0),n[I.hash].prevContainerSize=Q,n[I.hash].forceRedraw=!0,n[I.hash].needsResize=!1,n[I.hash].forceResize=!1}function He(I){if(!(I._opening||!n[I.hash])){if(I.autoResize||n[I.hash].forceResize){var Q;if(I._autoResizePolling){Q=l(I.container);var Se=n[I.hash].prevContainerSize;Q.equals(Se)||(n[I.hash].needsResize=!0)}n[I.hash].needsResize&&$(I,Q||l(I.container))}var Ve=I.viewport.update(),ze=I.world.update()||Ve;Ve&&I.raiseEvent("viewport-change"),I.referenceStrip&&(ze=I.referenceStrip.update(I.viewport)||ze);var Je=n[I.hash].animating;!Je&&ze&&(I.raiseEvent("animation-start"),C(I));var Xe=Je&&!ze;Xe&&(n[I.hash].animating=!1),(ze||Xe||n[I.hash].forceRedraw||I.world.needsDraw())&&(ot(I),I._drawOverlays(),I.navigator&&I.navigator.update(I.viewport),n[I.hash].forceRedraw=!1,ze&&I.raiseEvent("animation")),Xe&&(I.raiseEvent("animation-finish"),n[I.hash].mouseInside||y(I)),n[I.hash].animating=ze}}function ot(I){I.imageLoader.clear(),I.drawer.clear(),I.world.draw(),I.raiseEvent("update-viewport",{})}function ee(I,Q){return I?I+Q:Q}function kt(){n[this.hash].lastZoomTime=t.now(),n[this.hash].zoomFactor=this.zoomPerSecond,n[this.hash].zooming=!0,vt(this)}function tt(){n[this.hash].lastZoomTime=t.now(),n[this.hash].zoomFactor=1/this.zoomPerSecond,n[this.hash].zooming=!0,vt(this)}function lt(){n[this.hash].zooming=!1}function vt(I){t.requestAnimationFrame(t.delegate(I,_t))}function _t(){var I,Q,Se;n[this.hash].zooming&&this.viewport&&(I=t.now(),Q=I-n[this.hash].lastZoomTime,Se=Math.pow(n[this.hash].zoomFactor,Q/1e3),this.viewport.zoomBy(Se),this.viewport.applyConstraints(),n[this.hash].lastZoomTime=I,vt(this))}function St(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function nt(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Bt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Gt(){this.viewport&&this.viewport.goHome()}function Vt(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function dn(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I+=this.rotationIncrement:I-=this.rotationIncrement,this.viewport.setRotation(I)}}function Ft(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I-=this.rotationIncrement:I+=this.rotationIncrement,this.viewport.setRotation(I)}}function wt(){this.viewport.toggleFlip()}}(i),function(t){t.Navigator=function(f){var g=f.viewer,y=this,S,C;f.element||f.id?(f.element?(f.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),f.element.id?f.id=f.element.id:f.id="navigator-"+t.now(),this.element=f.element):this.element=document.getElementById(f.id),f.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(f.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),f.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:f.autoFade},f.position&&(f.position==="BOTTOM_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:f.position==="BOTTOM_LEFT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:f.position==="TOP_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:f.position==="TOP_LEFT"?f.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:f.position==="ABSOLUTE"&&(f.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,f.controlOptions.top=f.top,f.controlOptions.left=f.left,f.controlOptions.height=f.height,f.controlOptions.width=f.width))),this.element.id=f.id,this.element.className+=" navigator",f=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},f,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:f.animationTime,autoResize:!1,minZoomImageRatio:1,background:f.background,opacity:f.opacity,borderColor:f.borderColor,displayRegionColor:f.displayRegionColor}),f.minPixelRatio=this.minPixelRatio=g.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),f.controlOptions.anchor!==t.ControlAnchor.NONE&&function(R,D){R.margin="0px",R.border=D+"px solid "+f.borderColor,R.padding="0px",R.background=f.background,R.opacity=f.opacity,R.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(R,D){R.position="relative",R.top="0px",R.left="0px",R.fontSize="0px",R.overflow="hidden",R.border=D+"px solid "+f.displayRegionColor,R.margin="0px",R.padding="0px",R.background="transparent",R.float="left",R.cssFloat="left",R.styleFloat="left",R.zIndex=999999999,R.cursor="default",R.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),g.addControl(this.element,f.controlOptions),this._resizeWithViewer=f.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&f.controlOptions.anchor!==t.ControlAnchor.NONE,f.width&&f.height?(this.setWidth(f.width),this.setHeight(f.height)):this._resizeWithViewer&&(S=t.getElementSize(g.element),this.element.style.height=Math.round(S.y*f.sizeRatio)+"px",this.element.style.width=Math.round(S.x*f.sizeRatio)+"px",this.oldViewerSize=S,C=t.getElementSize(this.element),this.elementArea=C.x*C.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[f]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function k(R,D){d(y.displayRegionContainer,R),d(y.displayRegion,-R),y.viewport.setRotation(R,D)}if(f.navigatorRotate){var P=f.viewer.viewport?f.viewer.viewport.getRotation():f.viewer.degrees||0;k(P,!0),f.viewer.addHandler("rotate",function(R){k(R.degrees,R.immediately)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,r),clickHandler:t.delegate(this,n),releaseHandler:t.delegate(this,l),scrollHandler:t.delegate(this,h),preProcessEventHandler:function(R){R.eventType==="wheel"&&(R.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){y.viewport&&y.viewport.goHome(!0)}),g.world.addHandler("item-index-change",function(R){window.setTimeout(function(){var D=y.world.getItemAt(R.previousIndex);y.world.setItemIndex(D,R.newIndex)},1)}),g.world.addHandler("remove-item",function(R){var D=R.item,q=y._getMatchingItem(D);q&&y.world.removeItem(q)}),this.update(g.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var f=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);f.equals(this.oldContainerSize)||(this.viewport.resize(f,!0),this.viewport.goHome(!0),this.oldContainerSize=f,this.drawer.clear(),this.world.draw())}},setWidth:function(f){this.width=f,this.element.style.width=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(f){this.height=f,this.element.style.height=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(f){return this.viewport.setFlip(f),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(f){p(this.displayRegion,f),p(this.canvas,f),p(this.element,f)},update:function(f){var g,y,S,C,k,P;if(g=t.getElementSize(this.viewer.element),this._resizeWithViewer&&g.x&&g.y&&!g.equals(this.oldViewerSize)&&(this.oldViewerSize=g,this.maintainSizeRatio||!this.elementArea?(y=g.x*this.sizeRatio,S=g.y*this.sizeRatio):(y=Math.sqrt(this.elementArea*(g.x/g.y)),S=this.elementArea/y),this.element.style.width=Math.round(y)+"px",this.element.style.height=Math.round(S)+"px",this.elementArea||(this.elementArea=y*S),this.updateSize()),f&&this.viewport){if(C=f.getBoundsNoRotate(!0),k=this.viewport.pixelFromPointNoRotate(C.getTopLeft(),!1),P=this.viewport.pixelFromPointNoRotate(C.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var R=f.getRotation(!0);d(this.displayRegion,-R)}var D=this.displayRegion.style;D.display=this.world.getItemCount()?"block":"none",D.top=k.y.toFixed(2)+"px",D.left=k.x.toFixed(2)+"px";var q=P.x-k.x,G=P.y-k.y;D.width=Math.round(Math.max(q,0))+"px",D.height=Math.round(Math.max(G,0))+"px"}},addTiledImage:function(f){var g=this,y=f.originalTiledImage;delete f.original;var S=t.extend({},f,{success:function(C){var k=C.item;k._originalForNavigator=y,g._matchBounds(k,y,!0),g._matchOpacity(k,y),g._matchCompositeOperation(k,y);function P(){g._matchBounds(k,y)}function R(){g._matchOpacity(k,y)}function D(){g._matchCompositeOperation(k,y)}y.addHandler("bounds-change",P),y.addHandler("clip-change",P),y.addHandler("opacity-change",R),y.addHandler("composite-operation-change",D)}});return t.Viewer.prototype.addTiledImage.apply(this,[S])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(f){for(var g=this.world.getItemCount(),y,S=0;S<g;S++)if(y=this.world.getItemAt(S),y._originalForNavigator===f)return y;return null},_matchBounds:function(f,g,y){var S=g.getBoundsNoRotate();f.setPosition(S.getTopLeft(),y),f.setWidth(S.width,y),f.setRotation(g.getRotation(),y),f.setClip(g.getClip()),f.setFlip(g.getFlip())},_matchOpacity:function(f,g){f.setOpacity(g.opacity)},_matchCompositeOperation:function(f,g){f.setCompositeOperation(g.compositeOperation)}});function n(f){var g={tracker:f.eventSource,position:f.position,quick:f.quick,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",g),!g.preventDefaultAction&&f.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(f.position.x=this.viewport.getContainerSize().x-f.position.x);var y=this.viewport.pointFromPixel(f.position);this.panVertical?this.panHorizontal||(y.x=this.viewer.viewport.getCenter(!0).x):y.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(y),this.viewer.viewport.applyConstraints()}}function r(f){var g={tracker:f.eventSource,position:f.position,delta:f.delta,speed:f.speed,direction:f.direction,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",g),!g.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(f.delta.x=0),this.panVertical||(f.delta.y=0),this.viewer.viewport.flipped&&(f.delta.x=-f.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(f.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function l(f){f.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function h(f){var g={tracker:f.eventSource,position:f.position,scroll:f.scroll,shift:f.shift,originalEvent:f.originalEvent,preventDefault:f.preventDefault};this.viewer.raiseEvent("navigator-scroll",g),f.preventDefault=g.preventDefault}function d(f,g){p(f,"rotate("+g+"deg)")}function p(f,g){f.style.webkitTransform=g,f.style.mozTransform=g,f.style.msTransform=g,f.style.oTransform=g,f.style.transform=g}}(i),function(t){var n={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(r){var l=r.split("."),h=null,d=arguments,p=n,f;for(f=0;f<l.length-1;f++)p=p[l[f]]||{};return h=p[l[f]],typeof h!="string"&&(t.console.error("Untranslated source string:",r),h=""),h.replace(/\{\d+\}/g,function(g){var y=parseInt(g.match(/\d+/),10)+1;return y<d.length?d[y]:""})},setString:function(r,l){var h=r.split("."),d=n,p;for(p=0;p<h.length-1;p++)d[h[p]]||(d[h[p]]={}),d=d[h[p]];d[h[p]]=l}})}(i),function(t){t.Point=function(n,r){this.x=typeof n=="number"?n:0,this.y=typeof r=="number"?r:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(n){return new t.Point(this.x+n.x,this.y+n.y)},minus:function(n){return new t.Point(this.x-n.x,this.y-n.y)},times:function(n){return new t.Point(this.x*n,this.y*n)},divide:function(n){return new t.Point(this.x/n,this.y/n)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},squaredDistanceTo:function(n){return Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2)},apply:function(n){return new t.Point(n(this.x),n(this.y))},equals:function(n){return n instanceof t.Point&&this.x===n.x&&this.y===n.y},rotate:function(n,r){r=r||new t.Point(0,0);var l,h;if(n%90===0){var d=t.positiveModulo(n,360);switch(d){case 0:l=1,h=0;break;case 90:l=0,h=1;break;case 180:l=-1,h=0;break;case 270:l=0,h=-1;break}}else{var p=n*Math.PI/180;l=Math.cos(p),h=Math.sin(p)}var f=l*(this.x-r.x)-h*(this.y-r.y)+r.x,g=h*(this.x-r.x)+l*(this.y-r.y)+r.y;return new t.Point(f,g)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(i),function(t){t.TileSource=function(r,l,h,d,p,f){var g=this,y=arguments,S,C;if(t.isPlainObject(r)?S=r:S={width:y[0],height:y[1],tileSize:y[2],tileOverlap:y[3],minLevel:y[4],maxLevel:y[5]},t.EventSource.call(this),t.extend(!0,this,S),!this.success){for(C=0;C<arguments.length;C++)if(t.isFunction(arguments[C])){this.success=arguments[C];break}}this.success&&this.addHandler("ready",function(k){g.success(k)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=S.width&&S.height?S.width/S.height:1,this.dimensions=new t.Point(S.width,S.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=S.tileOverlap?S.tileOverlap:0,this.minLevel=S.minLevel?S.minLevel:0,this.maxLevel=S.maxLevel!==void 0&&S.maxLevel!==null?S.maxLevel:S.width&&S.height?Math.ceil(Math.log(Math.max(S.width,S.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(r){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(r){return this._tileWidth?this._tileWidth:this.getTileSize(r)},getTileHeight:function(r){return this._tileHeight?this._tileHeight:this.getTileSize(r)},setMaxLevel:function(r){this.maxLevel=r,this._memoizeLevelScale()},getLevelScale:function(r){return this._memoizeLevelScale(),this.getLevelScale(r)},_memoizeLevelScale:function(){var r={},l;for(l=0;l<=this.maxLevel;l++)r[l]=1/Math.pow(2,this.maxLevel-l);this.getLevelScale=function(h){return r[h]}},getNumTiles:function(r){var l=this.getLevelScale(r),h=Math.ceil(l*this.dimensions.x/this.getTileWidth(r)),d=Math.ceil(l*this.dimensions.y/this.getTileHeight(r));return new t.Point(h,d)},getPixelRatio:function(r){var l=this.dimensions.times(this.getLevelScale(r)),h=1/l.x*t.pixelDensityRatio,d=1/l.y*t.pixelDensityRatio;return new t.Point(h,d)},getClosestLevel:function(){var r,l;for(r=this.minLevel+1;r<=this.maxLevel&&(l=this.getNumTiles(r),!(l.x>1||l.y>1));r++);return r-1},getTileAtPoint:function(r,l){var h=l.x>=0&&l.x<=1&&l.y>=0&&l.y<=1/this.aspectRatio;t.console.assert(h,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.dimensions.x*this.getLevelScale(r),p=l.x*d,f=l.y*d,g=Math.floor(p/this.getTileWidth(r)),y=Math.floor(f/this.getTileHeight(r));l.x>=1&&(g=this.getNumTiles(r).x-1);var S=1e-15;return l.y>=1/this.aspectRatio-S&&(y=this.getNumTiles(r).y-1),new t.Point(g,y)},getTileBounds:function(r,l,h,d){var p=this.dimensions.times(this.getLevelScale(r)),f=this.getTileWidth(r),g=this.getTileHeight(r),y=l===0?0:f*l-this.tileOverlap,S=h===0?0:g*h-this.tileOverlap,C=f+(l===0?1:2)*this.tileOverlap,k=g+(h===0?1:2)*this.tileOverlap,P=1/p.x;return C=Math.min(C,p.x-y),k=Math.min(k,p.y-S),d?new t.Rect(0,0,C,k):new t.Rect(y*P,S*P,C*P,k*P)},getImageInfo:function(r){var l=this,h,d,p,f,g,y,S;r&&(g=r.split("/"),y=g[g.length-1],S=y.lastIndexOf("."),S>-1&&(g[g.length-1]=y.slice(0,S)));var C=null;if(this.splitHashDataForPost){var k=r.indexOf("#");k!==-1&&(C=r.substring(k+1),r=r.substr(0,k))}d=function(P){typeof P=="string"&&(P=t.parseXml(P));var R=t.TileSource.determineType(l,P,r);if(!R){l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r});return}f=R.prototype.configure.apply(l,[P,r,C]),f.ajaxWithCredentials===void 0&&(f.ajaxWithCredentials=l.ajaxWithCredentials),p=new R(f),l.ready=!0,l.raiseEvent("ready",{tileSource:p})},r.match(/\.js$/)?(h=r.split("/").pop().replace(".js",""),t.jsonp({url:r,async:!1,callbackName:h,callback:d})):t.makeAjaxRequest({url:r,postData:C,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(P){var R=n(P);d(R)},error:function(P,R){var D;try{D="HTTP "+P.status+" attempting to load TileSource: "+r}catch{var q;typeof R>"u"||!R.toString?q="Unknown error":q=R.toString(),D=q+" attempting to load TileSource: "+r}t.console.error(D),l.raiseEvent("open-failed",{message:D,source:r,postData:C})}})},supports:function(r,l){return!1},configure:function(r,l,h){throw new Error("Method not implemented.")},getTileUrl:function(r,l,h){throw new Error("Method not implemented.")},getTilePostData:function(r,l,h){return null},getTileAjaxHeaders:function(r,l,h){return{}},getTileHashKey:function(r,l,h,d,p,f){function g(y){return p?y+"+"+JSON.stringify(p):y}return g(typeof d!="string"?r+"/"+l+"_"+h:d)},tileExists:function(r,l,h){var d=this.getNumTiles(r);return r>=this.minLevel&&r<=this.maxLevel&&l>=0&&h>=0&&l<d.x&&h<d.y},hasTransparency:function(r,l,h,d){return!!r||l.match(".png")},downloadTileStart:function(r){var l=r.userData,h=new Image;l.image=h,l.request=null;var d=function(p){if(!h){r.finish(null,l.request,"Image load failed: undefined Image instance.");return}h.onload=h.onerror=h.onabort=null,r.finish(p?null:h,l.request,p)};h.onload=function(){d()},h.onabort=h.onerror=function(){d("Image load aborted.")},r.loadWithAjax?l.request=t.makeAjaxRequest({url:r.src,withCredentials:r.ajaxWithCredentials,headers:r.ajaxHeaders,responseType:"arraybuffer",postData:r.postData,success:function(p){var f;try{f=new window.Blob([p.response])}catch(S){var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(S.name==="TypeError"&&g){var y=new g;y.append(p.response),f=y.getBlob()}}f.size===0?d("Empty image response."):h.src=(window.URL||window.webkitURL).createObjectURL(f)},error:function(p){d("Image load aborted - XHR error")}}):(r.crossOriginPolicy!==!1&&(h.crossOrigin=r.crossOriginPolicy),h.src=r.src)},downloadTileAbort:function(r){r.userData.request&&r.userData.request.abort();var l=r.userData.image;r.userData.image&&(l.onload=l.onerror=l.onabort=null)},createTileCache:function(r,l,h){r._data=l},destroyTileCache:function(r){r._data=null,r._renderedContext=null},getTileCacheData:function(r){return r._data},getTileCacheDataAsImage:function(r){return r._data},getTileCacheDataAsContext2D:function(r){if(!r._renderedContext){var l=document.createElement("canvas");l.width=r._data.width,l.height=r._data.height,r._renderedContext=l.getContext("2d"),r._renderedContext.drawImage(r._data,0,0),r._data=null}return r._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function n(r){var l=r.responseText,h=r.status,d,p;if(r){if(r.status!==200&&r.status!==0)throw h=r.status,d=h===404?"Not Found":r.statusText,new Error(t.getString("Errors.Status",h,d))}else throw new Error(t.getString("Errors.Security"));if(l.match(/^\s*<.*/))try{p=r.responseXML&&r.responseXML.documentElement?r.responseXML:t.parseXml(l)}catch{p=r.responseText}else if(l.match(/\s*[{[].*/))try{p=t.parseJSON(l)}catch{p=l}else p=l;return p}t.TileSource.determineType=function(r,l,h){var d;for(d in i)if(d.match(/.+TileSource$/)&&t.isFunction(i[d])&&t.isFunction(i[d].prototype.supports)&&i[d].prototype.supports.call(r,l,h))return i[d];return t.console.error("No TileSource was able to open %s %s",h,l),null}}(i),function(t){t.DziTileSource=function(l,h,d,p,f,g,y,S,C){var k,P,R,D;if(t.isPlainObject(l)?D=l:D={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=D.tilesUrl,this.fileFormat=D.fileFormat,this.displayRects=D.displayRects,this.displayRects)for(k=this.displayRects.length-1;k>=0;k--)for(P=this.displayRects[k],R=P.minLevel;R<=P.maxLevel;R++)this._levelRects[R]||(this._levelRects[R]=[]),this._levelRects[R].push(P);t.TileSource.apply(this,[D])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(l,h){var d;return l.Image?d=l.Image.xmlns:l.documentElement&&(l.documentElement.localName==="Image"||l.documentElement.tagName==="Image")&&(d=l.documentElement.namespaceURI),d=(d||"").toLowerCase(),d.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||d.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(l,h,d){var p;return t.isPlainObject(l)?p=r(this,l):p=n(this,l),h&&!p.tilesUrl&&(p.tilesUrl=h.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),h.search(/\.(dzi|xml|js)\?/)!==-1?p.queryParams=h.match(/\?.*/):p.queryParams=""),p},getTileUrl:function(l,h,d){return[this.tilesUrl,l,"/",h,"_",d,".",this.fileFormat,this.queryParams].join("")},tileExists:function(l,h,d){var p=this._levelRects[l],f,g,y,S,C,k,P;if(this.minLevel&&l<this.minLevel||this.maxLevel&&l>this.maxLevel)return!1;if(!p||!p.length)return!0;for(P=p.length-1;P>=0;P--)if(f=p[P],!(l<f.minLevel||l>f.maxLevel)&&(g=this.getLevelScale(l),y=f.x*g,S=f.y*g,C=y+f.width*g,k=S+f.height*g,y=Math.floor(y/this._tileWidth),S=Math.floor(S/this._tileWidth),C=Math.ceil(C/this._tileWidth),k=Math.ceil(k/this._tileWidth),y<=h&&h<C&&S<=d&&d<k))return!0;return!1}});function n(l,h){if(!h||!h.documentElement)throw new Error(t.getString("Errors.Xml"));var d=h.documentElement,p=d.localName||d.tagName,f=h.documentElement.namespaceURI,g=null,y=[],S,C,k,P,R;if(p==="Image")try{if(P=d.getElementsByTagName("Size")[0],P===void 0&&(P=d.getElementsByTagNameNS(f,"Size")[0]),g={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:d.getAttribute("Url"),Format:d.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(d.getAttribute("Overlap"),10),TileSize:parseInt(d.getAttribute("TileSize"),10),Size:{Height:parseInt(P.getAttribute("Height"),10),Width:parseInt(P.getAttribute("Width"),10)}}},!t.imageFormatSupported(g.Image.Format))throw new Error(t.getString("Errors.ImageFormat",g.Image.Format.toUpperCase()));for(S=d.getElementsByTagName("DisplayRect"),S===void 0&&(S=d.getElementsByTagNameNS(f,"DisplayRect")[0]),R=0;R<S.length;R++)C=S[R],k=C.getElementsByTagName("Rect")[0],k===void 0&&(k=C.getElementsByTagNameNS(f,"Rect")[0]),y.push({Rect:{X:parseInt(k.getAttribute("X"),10),Y:parseInt(k.getAttribute("Y"),10),Width:parseInt(k.getAttribute("Width"),10),Height:parseInt(k.getAttribute("Height"),10),MinLevel:parseInt(C.getAttribute("MinLevel"),10),MaxLevel:parseInt(C.getAttribute("MaxLevel"),10)}});return y.length&&(g.Image.DisplayRect=y),r(l,g)}catch(G){throw G instanceof Error?G:new Error(t.getString("Errors.Dzi"))}else{if(p==="Collection")throw new Error(t.getString("Errors.Dzc"));if(p==="Error"){var D=d.getElementsByTagName("Message")[0],q=D.firstChild.nodeValue;throw new Error(q)}}throw new Error(t.getString("Errors.Dzi"))}function r(l,h){var d=h.Image,p=d.Url,f=d.Format,g=d.Size,y=d.DisplayRect||[],S=parseInt(g.Width,10),C=parseInt(g.Height,10),k=parseInt(d.TileSize,10),P=parseInt(d.Overlap,10),R=[],D,q;for(q=0;q<y.length;q++)D=y[q].Rect,R.push(new t.DisplayRect(parseInt(D.X,10),parseInt(D.Y,10),parseInt(D.Width,10),parseInt(D.Height,10),parseInt(D.MinLevel,10),parseInt(D.MaxLevel,10)));return t.extend(!0,{width:S,height:C,tileSize:k,tileOverlap:P,minLevel:null,maxLevel:null,tilesUrl:p,fileFormat:f,displayRects:R},h)}}(i),function(t){t.IIIFTileSource=function(d){if(t.extend(!0,this,d),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=d.version,this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var p=0;p<this.tiles.length;p++)for(var f=0;f<this.tiles[p].scaleFactors.length;f++){var g=this.tiles[p].scaleFactors[f];this.scale_factors.push(g),d.tileSizePerScaleFactor[g]={width:this.tiles[p].width,height:this.tiles[p].height||this.tiles[p].width}}}else if(n(d)){for(var y=Math.min(this.height,this.width),S=[256,512,1024],C=[],k=0;k<S.length;k++)S[k]<=y&&C.push(S[k]);C.length>0?d.tileSize=Math.max.apply(null,C):d.tileSize=y}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=r(this),t.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)d.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var P=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(P)*Math.LOG2E)}if(this.sizes){var R=this.sizes.length;(R===d.maxLevel||R===d.maxLevel+1)&&(this.levelSizes=this.sizes,R===d.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}t.TileSource.apply(this,[d])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(d,p){return d.protocol&&d.protocol==="http://iiif.io/api/image"||d["@context"]&&(d["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||d["@context"]==="http://iiif.io/api/image/1/context.json")||d.profile&&d.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||d.identifier&&d.width&&d.height?!0:!!(d.documentElement&&d.documentElement.tagName==="info"&&d.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(d,p,f){if(t.isPlainObject(d)){if(!d["@context"])d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=p.replace("/info.json",""),d.version=1;else{var g=d["@context"];if(Array.isArray(g)){for(var y=0;y<g.length;y++)if(typeof g[y]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(g[y])||g[y]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){g=g[y];break}}switch(g){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":d.version=1;break;case"http://iiif.io/api/image/2/context.json":d.version=2;break;case"http://iiif.io/api/image/3/context.json":d.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(d.preferredFormats){for(var S=0;S<d.preferredFormats.length;S++)if(i.imageFormatSupported(d.preferredFormats[S])){d.tileFormat=d.preferredFormats[S];break}}return d}else{var C=l(d);return C["@context"]="http://iiif.io/api/image/1.0/context.json",C["@id"]=p.replace("/info.xml",""),C.version=1,C}},getTileWidth:function(d){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,d);var p=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].width:this._tileWidth},getTileHeight:function(d){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,d);var p=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].height:this._tileHeight},getLevelScale:function(d){if(this.emulateLegacyImagePyramid){var p=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(p=this.levels[d].width/this.levels[this.maxLevel].width),p}return t.TileSource.prototype.getLevelScale.call(this,d)},getNumTiles:function(d){if(this.emulateLegacyImagePyramid){var p=this.getLevelScale(d);return p?new t.Point(1,1):new t.Point(0,0)}if(this.levelSizes){var f=this.levelSizes[d],g=Math.ceil(f.width/this.getTileWidth(d)),y=Math.ceil(f.height/this.getTileHeight(d));return new t.Point(g,y)}else return t.TileSource.prototype.getNumTiles.call(this,d)},getTileAtPoint:function(d,p){if(this.emulateLegacyImagePyramid)return new t.Point(0,0);if(this.levelSizes){var f=p.x>=0&&p.x<=1&&p.y>=0&&p.y<=1/this.aspectRatio;t.console.assert(f,"[TileSource.getTileAtPoint] must be called with a valid point.");var g=this.levelSizes[d].width,y=p.x*g,S=p.y*g,C=Math.floor(y/this.getTileWidth(d)),k=Math.floor(S/this.getTileHeight(d));p.x>=1&&(C=this.getNumTiles(d).x-1);var P=1e-15;return p.y>=1/this.aspectRatio-P&&(k=this.getNumTiles(d).y-1),new t.Point(C,k)}return t.TileSource.prototype.getTileAtPoint.call(this,d,p)},getTileUrl:function(d,p,f){if(this.emulateLegacyImagePyramid){var g=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(g=this.levels[d].url),g}var y="0",S=Math.pow(.5,this.maxLevel-d),C,k,P,R,D,q,G,ne,Z,Y,se,le,ge,ue,pe,we;return this.levelSizes?(C=this.levelSizes[d].width,k=this.levelSizes[d].height):(C=Math.ceil(this.width*S),k=Math.ceil(this.height*S)),P=this.getTileWidth(d),R=this.getTileHeight(d),D=Math.round(P/S),q=Math.round(R/S),this.version===1?pe="native."+this.tileFormat:pe="default."+this.tileFormat,C<P&&k<R?(this.version===2&&C===this.width?le="full":this.version===3&&C===this.width&&k===this.height?le="max":this.version===3?le=C+","+k:le=C+",",G="full"):(ne=p*D,Z=f*q,Y=Math.min(D,this.width-ne),se=Math.min(q,this.height-Z),p===0&&f===0&&Y===this.width&&se===this.height?G="full":G=[ne,Z,Y,se].join(","),ge=Math.min(P,C-p*P),ue=Math.min(R,k-f*R),this.version===2&&ge===this.width?le="full":this.version===3&&ge===this.width&&ue===this.height?le="max":this.version===3?le=ge+","+ue:le=ge+","),we=[this._id,G,le,y,pe].join("/"),we},__testonly__:{canBeTiled:n,constructLevels:r}});function n(d){var p=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],f=Array.isArray(d.profile)?d.profile[0]:d.profile,g=p.indexOf(f)!==-1,y=!1;return d.version===2&&d.profile.length>1&&d.profile[1].supports&&(y=d.profile[1].supports.indexOf("sizeByW")!==-1),d.version===3&&d.extraFeatures&&(y=d.extraFeatures.indexOf("sizeByWh")!==-1),!g||y}function r(d){for(var p=[],f=0;f<d.sizes.length;f++)p.push({url:d._id+"/full/"+d.sizes[f].width+","+(d.version===3?d.sizes[f].height:"")+"/0/default."+d.tileFormat,width:d.sizes[f].width,height:d.sizes[f].height});return p.sort(function(g,y){return g.width-y.width})}function l(d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,f=p.tagName,g=null;if(f==="info")try{return g={},h(p,g),g}catch(y){throw y instanceof Error?y:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function h(d,p,f){var g,y;if(d.nodeType===3&&f)y=d.nodeValue.trim(),y.match(/^\d*$/)&&(y=Number(y)),p[f]?(t.isArray(p[f])||(p[f]=[p[f]]),p[f].push(y)):p[f]=y;else if(d.nodeType===1)for(g=0;g<d.childNodes.length;g++)h(d.childNodes[g],p,d.nodeName)}}(i),function(t){t.OsmTileSource=function(n,r,l,h,d){var p;t.isPlainObject(n)?p=n:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!p.width||!p.height)&&(p.width=65572864,p.height=65572864),p.tileSize||(p.tileSize=256,p.tileOverlap=0),p.tilesUrl||(p.tilesUrl="http://tile.openstreetmap.org/"),p.minLevel=8,t.TileSource.apply(this,[p])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="openstreetmaps"},configure:function(n,r,l){return n},getTileUrl:function(n,r,l){return this.tilesUrl+(n-8)+"/"+r+"/"+l+".png"}})}(i),function(t){t.TmsTileSource=function(n,r,l,h,d){var p;t.isPlainObject(n)?p=n:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var f=Math.ceil(p.width/256)*256,g=Math.ceil(p.height/256)*256,y;f>g?y=f/256:y=g/256,p.maxLevel=Math.ceil(Math.log(y)/Math.log(2))-1,p.tileSize=256,p.width=f,p.height=g,t.TileSource.apply(this,[p])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="tiledmapservice"},configure:function(n,r,l){return n},getTileUrl:function(n,r,l){var h=this.getNumTiles(n).y-1;return this.tilesUrl+n+"/"+r+"/"+(h-l)+".png"}})}(i),function(t){t.ZoomifyTileSource=function(n){typeof n.tileSize>"u"&&(n.tileSize=256),typeof n.fileFormat>"u"&&(n.fileFormat="jpg",this.fileFormat=n.fileFormat);var r={x:n.width,y:n.height};for(n.imageSizes=[{x:n.width,y:n.height}],n.gridSize=[this._getGridSize(n.width,n.height,n.tileSize)];parseInt(r.x,10)>n.tileSize||parseInt(r.y,10)>n.tileSize;)r.x=Math.floor(r.x/2),r.y=Math.floor(r.y/2),n.imageSizes.push({x:r.x,y:r.y}),n.gridSize.push(this._getGridSize(r.x,r.y,n.tileSize));n.imageSizes.reverse(),n.gridSize.reverse(),n.minLevel=0,n.maxLevel=n.gridSize.length-1,i.TileSource.apply(this,[n])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(n,r,l){return{x:Math.ceil(n/l),y:Math.ceil(r/l)}},_calculateAbsoluteTileNumber:function(n,r,l){for(var h=0,d={},p=0;p<n;p++)d=this.gridSize[p],h+=d.x*d.y;return d=this.gridSize[n],h+=d.x*l+r,h},supports:function(n,r){return n.type&&n.type==="zoomifytileservice"},configure:function(n,r,l){return n},getTileUrl:function(n,r,l){var h=0,d=this._calculateAbsoluteTileNumber(n,r,l);return h=Math.floor(d/256),this.tilesUrl+"TileGroup"+h+"/"+n+"-"+r+"-"+l+"."+this.fileFormat}})}(i),function(t){t.LegacyTileSource=function(h){var d,p,f;t.isArray(h)&&(d={type:"legacy-image-pyramid",levels:h}),d.levels=n(d.levels),d.levels.length>0?(p=d.levels[d.levels.length-1].width,f=d.levels[d.levels.length-1].height):(p=0,f=0,t.console.error("No supported image formats found")),t.extend(!0,d,{width:p,height:f,tileSize:Math.max(f,p),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),t.TileSource.apply(this,[d]),this.levels=d.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(h,d){return h.type&&h.type==="legacy-image-pyramid"||h.documentElement&&h.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(h,d,p){var f;return t.isPlainObject(h)?f=l(this,h):f=r(this,h),f},getLevelScale:function(h){var d=NaN;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(d=this.levels[h].width/this.levels[this.maxLevel].width),d},getNumTiles:function(h){var d=this.getLevelScale(h);return d?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(h,d,p){var f=null;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(f=this.levels[h].url),f}});function n(h){var d=[],p,f;for(f=0;f<h.length;f++)p=h[f],p.height&&p.width&&p.url?d.push({url:p.url,width:Number(p.width),height:Number(p.height)}):t.console.error("Unsupported image format: %s",p.url?p.url:"<no URL>");return d.sort(function(g,y){return g.height-y.height})}function r(h,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,f=p.tagName,g=null,y=[],S,C;if(f==="image")try{for(g={type:p.getAttribute("type"),levels:[]},y=p.getElementsByTagName("level"),C=0;C<y.length;C++)S=y[C],g.levels.push({url:S.getAttribute("url"),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10)});return l(h,g)}catch(k){throw k instanceof Error?k:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(f==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(f==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+f)}function l(h,d){return d.levels}}(i),function(t){t.ImageTileSource=function(n){n=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},n),t.TileSource.apply(this,[n])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="image"},configure:function(n,r,l){return n},getImageInfo:function(n){var r=this._image=new Image,l=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),t.addEvent(r,"load",function(){l.width=r.naturalWidth,l.height=r.naturalHeight,l.aspectRatio=l.width/l.height,l.dimensions=new t.Point(l.width,l.height),l._tileWidth=l.width,l._tileHeight=l.height,l.tileOverlap=0,l.minLevel=0,l.levels=l._buildLevels(),l.maxLevel=l.levels.length-1,l.ready=!0,l.raiseEvent("ready",{tileSource:l})}),t.addEvent(r,"error",function(){l.raiseEvent("open-failed",{message:"Error loading image at "+n,source:n})}),r.src=n},getLevelScale:function(n){var r=NaN;return n>=this.minLevel&&n<=this.maxLevel&&(r=this.levels[n].width/this.levels[this.maxLevel].width),r},getNumTiles:function(n){var r=this.getLevelScale(n);return r?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(n,r,l){var h=null;return n>=this.minLevel&&n<=this.maxLevel&&(h=this.levels[n].url),h},getContext2D:function(n,r,l){var h=null;return n>=this.minLevel&&n<=this.maxLevel&&(h=this.levels[n].context2D),h},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var n=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,n;var r=this._image.naturalWidth,l=this._image.naturalHeight,h=document.createElement("canvas"),d=h.getContext("2d");if(h.width=r,h.height=l,d.drawImage(this._image,0,0,r,l),n[0].context2D=d,delete this._image,t.isCanvasTainted(h))return n;for(;r>=2&&l>=2;){r=Math.floor(r/2),l=Math.floor(l/2);var p=document.createElement("canvas"),f=p.getContext("2d");p.width=r,p.height=l,f.drawImage(h,0,0,r,l),n.splice(0,0,{context2D:f,width:r,height:l}),h=p,d=f}return n},_freeupCanvasMemory:function(){for(var n=0;n<this.levels.length;n++)this.levels[n].context2D&&(this.levels[n].context2D.canvas.height=0,this.levels[n].context2D.canvas.width=0)}})}(i),function(t){t.TileSourceCollection=function(n,r,l,h){t.console.error("TileSourceCollection is deprecated; use World instead")}}(i),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(f){var g=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},f),this.element=f.element||t.makeNeutralElement("div"),f.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(y){y.insideElementPressed?(d(g,t.ButtonState.DOWN),g.raiseEvent("enter",{originalEvent:y.originalEvent})):y.buttonDownAny||d(g,t.ButtonState.HOVER)},focusHandler:function(y){g.tracker.enterHandler(y),g.raiseEvent("focus",{originalEvent:y.originalEvent})},leaveHandler:function(y){p(g,t.ButtonState.GROUP),y.insideElementPressed&&g.raiseEvent("exit",{originalEvent:y.originalEvent})},blurHandler:function(y){g.tracker.leaveHandler(y),g.raiseEvent("blur",{originalEvent:y.originalEvent})},pressHandler:function(y){d(g,t.ButtonState.DOWN),g.raiseEvent("press",{originalEvent:y.originalEvent})},releaseHandler:function(y){y.insideElementPressed&&y.insideElementReleased?(p(g,t.ButtonState.HOVER),g.raiseEvent("release",{originalEvent:y.originalEvent})):y.insideElementPressed?p(g,t.ButtonState.GROUP):d(g,t.ButtonState.HOVER)},clickHandler:function(y){y.quick&&g.raiseEvent("click",{originalEvent:y.originalEvent})},keyHandler:function(y){y.keyCode===13?(g.raiseEvent("click",{originalEvent:y.originalEvent}),g.raiseEvent("release",{originalEvent:y.originalEvent}),y.preventDefault=!0):y.preventDefault=!1}}),p(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){d(this,t.ButtonState.GROUP)},notifyGroupExit:function(){p(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function n(f){t.requestAnimationFrame(function(){r(f)})}function r(f){var g,y,S;f.shouldFade&&(g=t.now(),y=g-f.fadeBeginTime,S=1-y/f.fadeLength,S=Math.min(1,S),S=Math.max(0,S),f.imgGroup&&t.setElementOpacity(f.imgGroup,S,!0),S>0&&n(f))}function l(f){f.shouldFade=!0,f.fadeBeginTime=t.now()+f.fadeDelay,window.setTimeout(function(){n(f)},f.fadeDelay)}function h(f){f.shouldFade=!1,f.imgGroup&&t.setElementOpacity(f.imgGroup,1,!0)}function d(f,g){f.element.disabled||(g>=t.ButtonState.GROUP&&f.currentState===t.ButtonState.REST&&(h(f),f.currentState=t.ButtonState.GROUP),g>=t.ButtonState.HOVER&&f.currentState===t.ButtonState.GROUP&&(f.imgHover&&(f.imgHover.style.visibility=""),f.currentState=t.ButtonState.HOVER),g>=t.ButtonState.DOWN&&f.currentState===t.ButtonState.HOVER&&(f.imgDown&&(f.imgDown.style.visibility=""),f.currentState=t.ButtonState.DOWN))}function p(f,g){f.element.disabled||(g<=t.ButtonState.HOVER&&f.currentState===t.ButtonState.DOWN&&(f.imgDown&&(f.imgDown.style.visibility="hidden"),f.currentState=t.ButtonState.HOVER),g<=t.ButtonState.GROUP&&f.currentState===t.ButtonState.HOVER&&(f.imgHover&&(f.imgHover.style.visibility="hidden"),f.currentState=t.ButtonState.GROUP),g<=t.ButtonState.REST&&f.currentState===t.ButtonState.GROUP&&(l(f),f.currentState=t.ButtonState.REST))}}(i),function(t){t.ButtonGroup=function(n){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},n);var r=this.buttons.concat([]),l=this,h;if(this.element=n.element||t.makeNeutralElement("div"),!n.group)for(this.element.style.display="inline-block",h=0;h<r.length;h++)this.element.appendChild(r[h].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){var p;for(p=0;p<l.buttons.length;p++)l.buttons[p].notifyGroupEnter()},leaveHandler:function(d){var p;if(!d.insideElementPressed)for(p=0;p<l.buttons.length;p++)l.buttons[p].notifyGroupExit()}})},t.ButtonGroup.prototype={addButton:function(n){this.buttons.push(n),this.element.appendChild(n.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var n=this.buttons.pop();this.element.removeChild(n.element),n.destroy()}this.tracker.destroy(),this.element=null}}}(i),function(t){t.Rect=function(n,r,l,h,d){this.x=typeof n=="number"?n:0,this.y=typeof r=="number"?r:0,this.width=typeof l=="number"?l:0,this.height=typeof h=="number"?h:0,this.degrees=typeof d=="number"?d:0,this.degrees=t.positiveModulo(this.degrees,360);var p,f;this.degrees>=270?(p=this.getTopRight(),this.x=p.x,this.y=p.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=270):this.degrees>=180?(p=this.getBottomRight(),this.x=p.x,this.y=p.y,this.degrees-=180):this.degrees>=90&&(p=this.getBottomLeft(),this.x=p.x,this.y=p.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=90)},t.Rect.fromSummits=function(n,r,l){var h=n.distanceTo(r),d=n.distanceTo(l),p=r.minus(n),f=Math.atan(p.y/p.x);return p.x<0?f+=Math.PI:p.y<0&&(f+=2*Math.PI),new t.Rect(n.x,n.y,h,d,f/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(n){return n instanceof t.Rect&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height&&this.degrees===n.degrees},times:function(n){return new t.Rect(this.x*n,this.y*n,this.width*n,this.height*n,this.degrees)},translate:function(n){return new t.Rect(this.x+n.x,this.y+n.y,this.width,this.height,this.degrees)},union:function(n){var r=this.getBoundingBox(),l=n.getBoundingBox(),h=Math.min(r.x,l.x),d=Math.min(r.y,l.y),p=Math.max(r.x+r.width,l.x+l.width),f=Math.max(r.y+r.height,l.y+l.height);return new t.Rect(h,d,p-h,f-d)},intersection:function(n){var r=1e-10,l=[],h=this.getTopLeft();n.containsPoint(h,r)&&l.push(h);var d=this.getTopRight();n.containsPoint(d,r)&&l.push(d);var p=this.getBottomLeft();n.containsPoint(p,r)&&l.push(p);var f=this.getBottomRight();n.containsPoint(f,r)&&l.push(f);var g=n.getTopLeft();this.containsPoint(g,r)&&l.push(g);var y=n.getTopRight();this.containsPoint(y,r)&&l.push(y);var S=n.getBottomLeft();this.containsPoint(S,r)&&l.push(S);var C=n.getBottomRight();this.containsPoint(C,r)&&l.push(C);for(var k=this._getSegments(),P=n._getSegments(),R=0;R<k.length;R++)for(var D=k[R],q=0;q<P.length;q++){var G=P[q],ne=Z(D[0],D[1],G[0],G[1]);ne&&l.push(ne)}function Z(we,ve,Ae,je){var xe=ve.minus(we),me=je.minus(Ae),De=-me.x*xe.y+xe.x*me.y;if(De===0)return null;var Oe=(xe.x*(we.y-Ae.y)-xe.y*(we.x-Ae.x))/De,$=(me.x*(we.y-Ae.y)-me.y*(we.x-Ae.x))/De;return-1e-10<=Oe&&Oe<=1-r&&-1e-10<=$&&$<=1-r?new t.Point(we.x+$*xe.x,we.y+$*xe.y):null}if(l.length===0)return null;for(var Y=l[0].x,se=l[0].x,le=l[0].y,ge=l[0].y,ue=1;ue<l.length;ue++){var pe=l[ue];pe.x<Y&&(Y=pe.x),pe.x>se&&(se=pe.x),pe.y<le&&(le=pe.y),pe.y>ge&&(ge=pe.y)}return new t.Rect(Y,le,se-Y,ge-le)},_getSegments:function(){var n=this.getTopLeft(),r=this.getTopRight(),l=this.getBottomLeft(),h=this.getBottomRight();return[[n,r],[r,h],[h,l],[l,n]]},rotate:function(n,r){if(n=t.positiveModulo(n,360),n===0)return this.clone();r=r||this.getCenter();var l=this.getTopLeft().rotate(n,r),h=this.getTopRight().rotate(n,r),d=h.minus(l);d=d.apply(function(f){var g=1e-15;return Math.abs(f)<g?0:f});var p=Math.atan(d.y/d.x);return d.x<0?p+=Math.PI:d.y<0&&(p+=2*Math.PI),new t.Rect(l.x,l.y,this.width,this.height,p/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var n=this.getTopLeft(),r=this.getTopRight(),l=this.getBottomLeft(),h=this.getBottomRight(),d=Math.min(n.x,r.x,l.x,h.x),p=Math.max(n.x,r.x,l.x,h.x),f=Math.min(n.y,r.y,l.y,h.y),g=Math.max(n.y,r.y,l.y,h.y);return new t.Rect(d,f,p-d,g-f)},getIntegerBoundingBox:function(){var n=this.getBoundingBox(),r=Math.floor(n.x),l=Math.floor(n.y),h=Math.ceil(n.width+n.x-r),d=Math.ceil(n.height+n.y-l);return new t.Rect(r,l,h,d)},containsPoint:function(n,r){r=r||0;var l=this.getTopLeft(),h=this.getTopRight(),d=this.getBottomLeft(),p=h.minus(l),f=d.minus(l);return(n.x-l.x)*p.x+(n.y-l.y)*p.y>=-r&&(n.x-h.x)*p.x+(n.y-h.y)*p.y<=r&&(n.x-l.x)*f.x+(n.y-l.y)*f.y>=-r&&(n.x-d.x)*f.x+(n.y-d.y)*f.y<=r},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(i),function(t){var n={};t.ReferenceStrip=function(S){var C=this,k=S.viewer,P=t.getElementSize(k.element),R,D,q;for(S.id||(S.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=S.id,this.element.className="referencestrip"),S=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},S,{element:this.element}),t.extend(this,S),n[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,D=this.element.style,D.marginTop="0px",D.marginRight="0px",D.marginBottom="0px",D.marginLeft="0px",D.left="0px",D.bottom="0px",D.border="0px",D.background="#000",D.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=k,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,r),dragHandler:t.delegate(this,l),scrollHandler:t.delegate(this,h),enterHandler:t.delegate(this,p),leaveHandler:t.delegate(this,f),keyDownHandler:t.delegate(this,g),keyHandler:t.delegate(this,y),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),S.width&&S.height?(this.element.style.width=S.width+"px",this.element.style.height=S.height+"px",k.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):S.scroll==="horizontal"?(this.element.style.width=P.x*S.sizeRatio*k.tileSources.length+12*k.tileSources.length+"px",this.element.style.height=P.y*S.sizeRatio+"px",k.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=P.y*S.sizeRatio*k.tileSources.length+12*k.tileSources.length+"px",this.element.style.width=P.x*S.sizeRatio+"px",k.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=P.x*this.sizeRatio+8,this.panelHeight=P.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},q=0;q<k.tileSources.length;q++)R=t.makeNeutralElement("div"),R.id=this.element.id+"-"+q,R.style.width=C.panelWidth+"px",R.style.height=C.panelHeight+"px",R.style.display="inline",R.style.float="left",R.style.cssFloat="left",R.style.styleFloat="left",R.style.padding="2px",t.setElementTouchActionNone(R),t.setElementPointerEventsNone(R),this.element.appendChild(R),R.activePanel=!1,this.panels.push(R);d(this,this.scroll==="vertical"?P.y:P.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(S){var C=this.element.querySelector("#"+this.element.id+"-"+S),k=t.getElementSize(this.viewer.canvas),P=Number(this.element.style.width.replace("px","")),R=Number(this.element.style.height.replace("px","")),D=-Number(this.element.style.marginLeft.replace("px","")),q=-Number(this.element.style.marginTop.replace("px","")),G;this.currentSelected!==C&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=C,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(G=Number(S)*(this.panelWidth+3),G>D+k.x-this.panelWidth?(G=Math.min(G,P-k.x),this.element.style.marginLeft=-G+"px",d(this,k.x,-G)):G<D&&(G=Math.max(0,G-k.x/2),this.element.style.marginLeft=-G+"px",d(this,k.x,-G))):(G=Number(S)*(this.panelHeight+3),G>q+k.y-this.panelHeight?(G=Math.min(G,R-k.y),this.element.style.marginTop=-G+"px",d(this,k.y,-G)):G<q&&(G=Math.max(0,G-k.y/2),this.element.style.marginTop=-G+"px",d(this,k.y,-G))),this.currentPage=S,p.call(this,{eventSource:this.tracker}))},update:function(){return!!n[this.id].animating},destroy:function(){if(this.miniViewers)for(var S in this.miniViewers)this.miniViewers[S].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function r(S){if(S.quick){var C;this.scroll==="horizontal"?C=Math.floor(S.position.x/(this.panelWidth+4)):C=Math.floor(S.position.y/this.panelHeight),this.viewer.goToPage(C)}this.element.focus()}function l(S){if(this.dragging=!0,this.element){var C=Number(this.element.style.marginLeft.replace("px","")),k=Number(this.element.style.marginTop.replace("px","")),P=Number(this.element.style.width.replace("px","")),R=Number(this.element.style.height.replace("px","")),D=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-S.delta.x>0?C>-(P-D.x)&&(this.element.style.marginLeft=C+S.delta.x*2+"px",d(this,D.x,C+S.delta.x*2)):-S.delta.x<0&&C<0&&(this.element.style.marginLeft=C+S.delta.x*2+"px",d(this,D.x,C+S.delta.x*2)):-S.delta.y>0?k>-(R-D.y)&&(this.element.style.marginTop=k+S.delta.y*2+"px",d(this,D.y,k+S.delta.y*2)):-S.delta.y<0&&k<0&&(this.element.style.marginTop=k+S.delta.y*2+"px",d(this,D.y,k+S.delta.y*2))}}function h(S){if(this.element){var C=Number(this.element.style.marginLeft.replace("px","")),k=Number(this.element.style.marginTop.replace("px","")),P=Number(this.element.style.width.replace("px","")),R=Number(this.element.style.height.replace("px","")),D=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?S.scroll>0?C>-(P-D.x)&&(this.element.style.marginLeft=C-S.scroll*60+"px",d(this,D.x,C-S.scroll*60)):S.scroll<0&&C<0&&(this.element.style.marginLeft=C-S.scroll*60+"px",d(this,D.x,C-S.scroll*60)):S.scroll<0?k>D.y-R&&(this.element.style.marginTop=k+S.scroll*60+"px",d(this,D.y,k+S.scroll*60)):S.scroll>0&&k<0&&(this.element.style.marginTop=k+S.scroll*60+"px",d(this,D.y,k+S.scroll*60)),S.preventDefault=!0}}function d(S,C,k){var P,R,D,q,G,ne;for(S.scroll==="horizontal"?P=S.panelWidth:P=S.panelHeight,R=Math.ceil(C/P)+5,D=Math.ceil((Math.abs(k)+C)/P)+1,R=D-R,R=R<0?0:R,G=R;G<D&&G<S.panels.length;G++)if(ne=S.panels[G],!ne.activePanel){var Z,Y=S.viewer.tileSources[G];Y.referenceStripThumbnailUrl?Z={type:"image",url:Y.referenceStripThumbnailUrl}:Z=Y,q=new t.Viewer({id:ne.id,tileSources:[Z],element:ne,navigatorSizeRatio:S.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:S.viewer.loadTilesWithAjax,ajaxHeaders:S.viewer.ajaxHeaders,useCanvas:S.useCanvas}),t.setElementPointerEventsNone(q.canvas),t.setElementPointerEventsNone(q.container),q.innerTracker.setTracking(!1),q.outerTracker.setTracking(!1),S.miniViewers[ne.id]=q,ne.activePanel=!0}}function p(S){var C=S.eventSource.element;this.scroll==="horizontal"?C.style.marginBottom="0px":C.style.marginLeft="0px"}function f(S){var C=S.eventSource.element;this.scroll==="horizontal"?C.style.marginBottom="-"+t.getElementSize(C).y/2+"px":C.style.marginLeft="-"+t.getElementSize(C).x/2+"px"}function g(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 38:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 40:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 37:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 39:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}function y(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 61:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 45:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 48:case 119:case 87:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 115:case 83:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 97:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 100:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}}(i),function(t){t.DisplayRect=function(n,r,l,h,d,p){t.Rect.apply(this,[n,r,l,h]),this.minLevel=d,this.maxLevel=p},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(i),function(t){t.Spring=function(r){var l=arguments;typeof r!="object"&&(r={initial:l.length&&typeof l[0]=="number"?l[0]:void 0,springStiffness:l.length>1?l[1].springStiffness:5,animationTime:l.length>1?l[1].animationTime:1.5}),t.console.assert(typeof r.springStiffness=="number"&&r.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof r.animationTime=="number"&&r.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),r.exponential&&(this._exponential=!0,delete r.exponential),t.extend(!0,this,r),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(r){t.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=r,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(r){t.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=r,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(r){this.start.value+=r,this.target.value+=r,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(r){this._exponential=r,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var r,l;this._exponential?(r=this.start._logValue,l=this.target._logValue):(r=this.start.value,l=this.target.value);var h=this.current.time>=this.target.time?l:r+(l-r)*n(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),d=this.current.value;return this._exponential?this.current.value=Math.exp(h):this.current.value=h,d!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function n(r,l){return(1-Math.exp(r*-l))/(1-Math.exp(-r))}}(i),function(t){t.ImageJob=function(r){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},r),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){this.tries++;var r=this,l=this.abort;this.jobId=window.setTimeout(function(){r.finish(null,null,"Image load exceeded timeout ("+r.timeout+" ms)")},this.timeout),this.abort=function(){r.source.downloadTileAbort(r),typeof l=="function"&&l()},this.source.downloadTileStart(this)},finish:function(r,l,h){this.data=r,this.request=l,this.errorMsg=h,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(r){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},r)},t.ImageLoader.prototype={addJob:function(r){if(!r.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var l=t.TileSource.prototype;r.source={downloadTileStart:l.downloadTileStart,downloadTileAbort:l.downloadTileAbort}}var h=this,d=function(g){n(h,g,r.callback)},p={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:d,abort:r.abort,timeout:this.timeout},f=new t.ImageJob(p);!this.jobLimit||this.jobsInProgress<this.jobLimit?(f.start(),this.jobsInProgress++):this.jobQueue.push(f)},clear:function(){for(var r=0;r<this.jobQueue.length;r++){var l=this.jobQueue[r];typeof l.abort=="function"&&l.abort()}this.jobQueue=[]}};function n(r,l,h){l.errorMsg!==""&&(l.data===null||l.data===void 0)&&l.tries<1+r.tileRetryMax&&r.failedTiles.push(l);var d;r.jobsInProgress--,(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.jobQueue.length>0&&(d=r.jobQueue.shift(),d.start(),r.jobsInProgress++),r.tileRetryMax>0&&r.jobQueue.length===0&&(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.failedTiles.length>0&&(d=r.failedTiles.shift(),setTimeout(function(){d.start()},r.tileRetryDelay),r.jobsInProgress++),h(l.data,l.errorMsg,l.request)}}(i),function(t){t.Tile=function(n,r,l,h,d,p,f,g,y,S,C,k){this.level=n,this.x=r,this.y=l,this.bounds=h,this.sourceBounds=S,this.exists=d,this._url=p,this.postData=C,this.context2D=f,this.loadWithAjax=g,this.ajaxHeaders=y,k===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),k=t.TileSource.prototype.getTileHashKey(n,r,l,p,y,C)),this.cacheKey=k,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(n){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var r=this.getImage();if(!r)return;this.element=t.makeNeutralElement("div"),this.imgElement=r.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==n&&n.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(n,r,l,h,d,p){var f=this.position.times(t.pixelDensityRatio),g=this.size.times(t.pixelDensityRatio),y;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(y=this.getCanvasContext(),!this.loaded||!y){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}n.save(),n.globalAlpha=this.opacity,typeof l=="number"&&l!==1&&(f=f.times(l),g=g.times(l)),h instanceof t.Point&&(f=f.plus(h)),n.globalAlpha===1&&this.hasTransparency&&(d&&(f.x=Math.round(f.x),f.y=Math.round(f.y),g.x=Math.round(g.x),g.y=Math.round(g.y)),n.clearRect(f.x,f.y,g.x,g.y)),r({context:n,tile:this,rendered:y});var S,C;this.sourceBounds?(S=Math.min(this.sourceBounds.width,y.canvas.width),C=Math.min(this.sourceBounds.height,y.canvas.height)):(S=y.canvas.width,C=y.canvas.height),n.translate(f.x+g.x/2,0),this.flipped&&n.scale(-1,1),n.drawImage(y.canvas,0,0,S,C,-g.x/2,f.y,g.x,g.y),n.restore()},getScaleForEdgeSmoothing:function(){var n;if(this.cacheImageRecord)n=this.cacheImageRecord.getRenderedContext();else if(this.context2D)n=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return n.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(n,r,l){var h=Math.max(1,Math.ceil((l.x-r.x)/2)),d=Math.max(1,Math.ceil((l.y-r.y)/2));return new t.Point(h,d).minus(this.position.times(t.pixelDensityRatio).times(n||1).apply(function(p){return p%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(i),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(n,r,l){var h;t.isPlainObject(n)?h=n:h={element:n,location:r,placement:l},this.element=h.element,this.style=h.element.style,this._init(h)},t.Overlay.prototype={_init:function(n){this.location=n.location,this.placement=n.placement===void 0?t.Placement.TOP_LEFT:n.placement,this.onDraw=n.onDraw,this.checkResize=n.checkResize===void 0?!0:n.checkResize,this.width=n.width===void 0?null:n.width,this.height=n.height===void 0?null:n.height,this.rotationMode=n.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(n,r){var l=t.Placement.properties[this.placement];l&&(l.isHorizontallyCentered?n.x-=r.x/2:l.isRight&&(n.x-=r.x),l.isVerticallyCentered?n.y-=r.y/2:l.isBottom&&(n.y-=r.y))},destroy:function(){var n=this.element,r=this.style;n.parentNode&&(n.parentNode.removeChild(n),n.prevElementParent&&(r.display="none",document.body.appendChild(n))),this.onDraw=null,r.top="",r.left="",r.position="",this.width!==null&&(r.width=""),this.height!==null&&(r.height="");var l=t.getCssPropertyWithVendorPrefix("transformOrigin"),h=t.getCssPropertyWithVendorPrefix("transform");l&&h&&(r[l]="",r[h]="")},drawHTML:function(n,r){var l=this.element;l.parentNode!==n&&(l.prevElementParent=l.parentNode,l.prevNextSibling=l.nextSibling,n.appendChild(l),this.style.position="absolute",this.size=t.getElementSize(l));var h=this._getOverlayPositionAndSize(r),d=h.position,p=this.size=h.size,f=h.rotate;if(this.onDraw)this.onDraw(d,p,this.element);else{var g=this.style;g.left=d.x+"px",g.top=d.y+"px",this.width!==null&&(g.width=p.x+"px"),this.height!==null&&(g.height=p.y+"px");var y=t.getCssPropertyWithVendorPrefix("transformOrigin"),S=t.getCssPropertyWithVendorPrefix("transform");y&&S&&(f?(g[y]=this._getTransformOrigin(),g[S]="rotate("+f+"deg)"):(g[y]="",g[S]="")),g.display="block"}},_getOverlayPositionAndSize:function(n){var r=n.pixelFromPoint(this.location,!0),l=this._getSizeInPixels(n);this.adjust(r,l);var h=0;if(n.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var d=new t.Rect(r.x,r.y,l.x,l.y),p=this._getBoundingBox(d,n.getRotation(!0));r=p.getTopLeft(),l=p.getSize()}else h=n.getRotation(!0);return{position:r,size:l,rotate:h}},_getSizeInPixels:function(n){var r=this.size.x,l=this.size.y;if(this.width!==null||this.height!==null){var h=n.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(r=h.x),this.height!==null&&(l=h.y)}if(this.checkResize&&(this.width===null||this.height===null)){var d=this.size=t.getElementSize(this.element);this.width===null&&(r=d.x),this.height===null&&(l=d.y)}return new t.Point(r,l)},_getBoundingBox:function(n,r){var l=this._getPlacementPoint(n);return n.rotate(r,l).getBoundingBox()},_getPlacementPoint:function(n){var r=new t.Point(n.x,n.y),l=t.Placement.properties[this.placement];return l&&(l.isHorizontallyCentered?r.x+=n.width/2:l.isRight&&(r.x+=n.width),l.isVerticallyCentered?r.y+=n.height/2:l.isBottom&&(r.y+=n.height)),r},_getTransformOrigin:function(){var n="",r=t.Placement.properties[this.placement];return r&&(r.isLeft?n="left":r.isRight&&(n="right"),r.isTop?n+=" top":r.isBottom&&(n+=" bottom")),n},update:function(n,r){var l=t.isPlainObject(n)?n:{location:n,placement:r};this._init({location:l.location||this.location,placement:l.placement!==void 0?l.placement:this.placement,onDraw:l.onDraw||this.onDraw,checkResize:l.checkResize||this.checkResize,width:l.width!==void 0?l.width:this.width,height:l.height!==void 0?l.height:this.height,rotationMode:l.rotationMode||this.rotationMode})},getBounds:function(n){t.console.assert(n,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,l=this.height;if(r===null||l===null){var h=n.deltaPointsFromPixelsNoRotate(this.size,!0);r===null&&(r=h.x),l===null&&(l=h.y)}var d=this.location.clone();return this.adjust(d,new t.Point(r,l)),this._adjustBoundsForRotation(n,new t.Rect(d.x,d.y,r,l))},_adjustBoundsForRotation:function(n,r){if(!n||n.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return r;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return r;var l=this._getOverlayPositionAndSize(n);return n.viewerElementToViewportRectangle(new t.Rect(l.position.x,l.position.y,l.size.x,l.size.y))}return r.rotate(-n.getRotation(!0),this._getPlacementPoint(r))}}}(i),function(t){t.Drawer=function(n){t.console.assert(n.viewer,"[Drawer] options.viewer is required");var r=arguments;if(t.isPlainObject(n)||(n={source:r[0],viewport:r[1],element:r[2]}),t.console.assert(n.viewport,"[Drawer] options.viewport is required"),t.console.assert(n.element,"[Drawer] options.element is required"),n.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=n.viewer,this.viewport=n.viewport,this.debugGridColor=typeof n.debugGridColor=="string"?[n.debugGridColor]:n.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,n.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(n.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var l=this._calculateCanvasSize();this.canvas.width=l.x,this.canvas.height=l.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(n,r,l,h){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(n,r,l,h),this},updateOverlay:function(n,r,l){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(n,r,l),this},removeOverlay:function(n){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(n),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(n){var r=this.viewport.pixelFromPointNoRotate(n,!0);return new t.Point(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio)},clipWithPolygons:function(n,r){if(this.useCanvas){var l=this._getContext(r);l.beginPath(),n.forEach(function(h){h.forEach(function(d,p){l[p===0?"moveTo":"lineTo"](d.x,d.y)})}),l.clip()}},setOpacity:function(n){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var r=this.viewer.world,l=0;l<r.getItemCount();l++)r.getItemAt(l).setOpacity(n);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var n=this.viewer.world,r=0,l=0;l<n.getItemCount();l++){var h=n.getItemAt(l).getOpacity();h>r&&(r=h)}return r},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var n=this._calculateCanvasSize();if((this.canvas.width!==n.x||this.canvas.height!==n.y)&&(this.canvas.width=n.x,this.canvas.height=n.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var r=this._calculateSketchCanvasSize();this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(n,r){if(this.useCanvas){var l=this._getContext(n);if(r)l.clearRect(r.x,r.y,r.width,r.height);else{var h=l.canvas;l.clearRect(0,0,h.width,h.height)}}},viewportToDrawerRectangle:function(n){var r=this.viewport.pixelFromPointNoRotate(n.getTopLeft(),!0),l=this.viewport.deltaPixelsFromPointsNoRotate(n.getSize(),!0);return new t.Rect(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio,l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},drawTile:function(n,r,l,h,d,p,f){if(t.console.assert(n,"[Drawer.drawTile] tile is required"),t.console.assert(r,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var g=this._getContext(l);h=h||1,n.drawCanvas(g,r,h,d,p,f)}else n.drawHTML(this.canvas)},_getContext:function(n){var r=this.context;if(n){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var l=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var h=this;this.viewer.addHandler("rotate",function d(){if(h.viewport.getRotation()!==0){h.viewer.removeHandler("rotate",d);var p=h._calculateSketchCanvasSize();h.sketchCanvas.width=p.x,h.sketchCanvas.height=p.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}r=this.sketchContext}return r},saveContext:function(n){this.useCanvas&&this._getContext(n).save()},restoreContext:function(n){this.useCanvas&&this._getContext(n).restore()},setClip:function(n,r){if(this.useCanvas){var l=this._getContext(r);l.beginPath(),l.rect(n.x,n.y,n.width,n.height),l.clip()}},drawRectangle:function(n,r,l){if(this.useCanvas){var h=this._getContext(l);h.save(),h.fillStyle=r,h.fillRect(n.x,n.y,n.width,n.height),h.restore()}},blendSketch:function(n,r,l,h){var d=n;if(t.isPlainObject(d)||(d={opacity:n,scale:r,translate:l,compositeOperation:h}),!(!this.useCanvas||!this.sketchCanvas)){n=d.opacity,h=d.compositeOperation;var p=d.bounds;if(this.context.save(),this.context.globalAlpha=n,h&&(this.context.globalCompositeOperation=h),p)p.x<0&&(p.width+=p.x,p.x=0),p.x+p.width>this.canvas.width&&(p.width=this.canvas.width-p.x),p.y<0&&(p.height+=p.y,p.y=0),p.y+p.height>this.canvas.height&&(p.height=this.canvas.height-p.y),this.context.drawImage(this.sketchCanvas,p.x,p.y,p.width,p.height,p.x,p.y,p.width,p.height);else{r=d.scale||1,l=d.translate;var f=l instanceof t.Point?l:new t.Point(0,0),g=0,y=0;if(l){var S=this.sketchCanvas.width-this.canvas.width,C=this.sketchCanvas.height-this.canvas.height;g=Math.round(S/2),y=Math.round(C/2)}this.context.drawImage(this.sketchCanvas,f.x-g*r,f.y-y*r,(this.canvas.width+2*g)*r,(this.canvas.height+2*y)*r,-g,-y,this.canvas.width+2*g,this.canvas.height+2*y)}this.context.restore()}},drawDebugInfo:function(n,r,l,h){if(this.useCanvas){var d=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,p=this.context;p.save(),p.lineWidth=2*t.pixelDensityRatio,p.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",p.strokeStyle=this.debugGridColor[d],p.fillStyle=this.debugGridColor[d],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),h.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:h.getRotation(!0),point:h.viewport.pixelFromPointNoRotate(h._getRotationPoint(!0),!0)}),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.strokeRect(n.position.x*t.pixelDensityRatio,n.position.y*t.pixelDensityRatio,n.size.x*t.pixelDensityRatio,n.size.y*t.pixelDensityRatio);var f=(n.position.x+n.size.x/2)*t.pixelDensityRatio,g=(n.position.y+n.size.y/2)*t.pixelDensityRatio;p.translate(f,g),p.rotate(Math.PI/180*-this.viewport.getRotation(!0)),p.translate(-f,-g),n.x===0&&n.y===0&&(p.fillText("Zoom: "+this.viewport.getZoom(),n.position.x*t.pixelDensityRatio,(n.position.y-30)*t.pixelDensityRatio),p.fillText("Pan: "+this.viewport.getBounds().toString(),n.position.x*t.pixelDensityRatio,(n.position.y-20)*t.pixelDensityRatio)),p.fillText("Level: "+n.level,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+20)*t.pixelDensityRatio),p.fillText("Column: "+n.x,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+30)*t.pixelDensityRatio),p.fillText("Row: "+n.y,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+40)*t.pixelDensityRatio),p.fillText("Order: "+l+" of "+r,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+50)*t.pixelDensityRatio),p.fillText("Size: "+n.size.toString(),(n.position.x+10)*t.pixelDensityRatio,(n.position.y+60)*t.pixelDensityRatio),p.fillText("Position: "+n.position.toString(),(n.position.x+10)*t.pixelDensityRatio,(n.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.restore()}},debugRect:function(n){if(this.useCanvas){var r=this.context;r.save(),r.lineWidth=2*t.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(n.x*t.pixelDensityRatio,n.y*t.pixelDensityRatio,n.width*t.pixelDensityRatio,n.height*t.pixelDensityRatio),r.restore()}},setImageSmoothingEnabled:function(n){this.useCanvas&&(this._imageSmoothingEnabled=n,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(n){n.msImageSmoothingEnabled=this._imageSmoothingEnabled,n.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(n){var r=this._getContext(n).canvas;return new t.Point(r.width,r.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(n){var r=n.point?n.point.times(t.pixelDensityRatio):this.getCanvasCenter(),l=this._getContext(n.useSketch);l.save(),l.translate(r.x,r.y),this.viewer.viewport.flipped?(l.rotate(Math.PI/180*-n.degrees),l.scale(-1,1)):l.rotate(Math.PI/180*n.degrees),l.translate(-r.x,-r.y)},_flip:function(n){n=n||{};var r=n.point?n.point.times(t.pixelDensityRatio):this.getCanvasCenter(),l=this._getContext(n.useSketch);l.translate(r.x,0),l.scale(-1,1),l.translate(-r.x,0)},_restoreRotationChanges:function(n){var r=this._getContext(n);r.restore()},_calculateCanvasSize:function(){var n=t.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*n),y:Math.round(r.y*n)}},_calculateSketchCanvasSize:function(){var n=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return n;var r=Math.ceil(Math.sqrt(n.x*n.x+n.y*n.y));return{x:r,y:r}}}}(i),function(t){t.Viewport=function(n){var r=arguments;r.length&&r[0]instanceof t.Point&&(n={containerSize:r[0],contentSize:r[1],config:r[2]}),n.config&&(t.extend(!0,n,n.config),delete n.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},n.margins||{}),delete n.margins,n.initialDegrees=n.degrees,delete n.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},n),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:n.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(n){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(n)},resetContentSize:function(n){return t.console.assert(n,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(n instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(n.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(n.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,n.y/n.x),n.x),this},setHomeBounds:function(n,r){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(n,r)},_setContentBounds:function(n,r){t.console.assert(n,"[Viewport._setContentBounds] bounds is required"),t.console.assert(n instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(n.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(n.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=n.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=n.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var n=this._contentAspectRatio/this.getAspectRatio(),r;return this.homeFillsViewer?r=n>=1?n:1:r=n>=1?1:n,r/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var n=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),l=r/this.getAspectRatio();return new t.Rect(n.x-r/2,n.y-l/2,r,l)},goHome:function(n){return this.viewer&&this.viewer.raiseEvent("home",{immediately:n}),this.fitBounds(this.getHomeBounds(),n)},getMinZoom:function(){var n=this.getHomeZoom(),r=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*n;return r},getMaxZoom:function(){var n=this.maxZoomLevel;return n||(n=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,n/=this._contentBounds.width),Math.max(n,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(n){t.console.assert(t.type(n)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},n),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(n){return this.getBoundsNoRotate(n).rotate(-this.getRotation(n))},getBoundsNoRotate:function(n){var r=this.getCenter(n),l=1/this.getZoom(n),h=l/this.getAspectRatio();return new t.Rect(r.x-l/2,r.y-h/2,l,h)},getBoundsWithMargins:function(n){return this.getBoundsNoRotateWithMargins(n).rotate(-this.getRotation(n),this.getCenter(n))},getBoundsNoRotateWithMargins:function(n){var r=this.getBoundsNoRotate(n),l=this._containerInnerSize.x*this.getZoom(n);return r.x-=this._margins.left/l,r.y-=this._margins.top/l,r.width+=(this._margins.left+this._margins.right)/l,r.height+=(this._margins.top+this._margins.bottom)/l,r},getCenter:function(n){var r=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),h,d,p,f,g,y,S,C;return n?r:this.zoomPoint?(h=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),p=1/d,f=p/this.getAspectRatio(),g=new t.Rect(r.x-p/2,r.y-f/2,p,f),y=this._pixelFromPoint(this.zoomPoint,g),S=y.minus(h).rotate(-this.getRotation(!0)),C=S.divide(this._containerInnerSize.x*d),l.plus(C)):l},getZoom:function(n){return n?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(n){return Math.max(Math.min(n,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(n){var r=this.viewportToViewerElementRectangle(n).getBoundingBox(),l=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),h=!1,d=!1;if(!this.wrapHorizontal){var p=r.x+r.width,f=l.x+l.width,g,y,S;r.width>l.width?g=this.visibilityRatio*l.width:g=this.visibilityRatio*r.width,y=l.x-p+g,S=f-r.x-g,g>l.width?(r.x+=(y+S)/2,h=!0):S<0?(r.x+=S,h=!0):y>0&&(r.x+=y,h=!0)}if(!this.wrapVertical){var C=r.y+r.height,k=l.y+l.height,P,R,D;r.height>l.height?P=this.visibilityRatio*l.height:P=this.visibilityRatio*r.height,R=l.y-C+P,D=k-r.y-P,P>l.height?(r.y+=(R+D)/2,d=!0):D<0?(r.y+=D,d=!0):R>0&&(r.y+=R,d=!0)}var q=h||d,G=q?this.viewerElementToViewportRectangle(r):n.clone();return G.xConstrained=h,G.yConstrained=d,G.constraintApplied=q,G},_raiseConstraintsEvent:function(n){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:n})},applyConstraints:function(n){var r=this.getZoom(),l=this._applyZoomConstraints(r);r!==l&&this.zoomTo(l,this.zoomPoint,n);var h=this.getConstrainedBounds(!1);return h.constraintApplied&&(this.fitBounds(h,n),this._raiseConstraintsEvent(n)),this},ensureVisible:function(n){return this.applyConstraints(n)},_fitBounds:function(n,r){r=r||{};var l=r.immediately||!1,h=r.constraints||!1,d=this.getAspectRatio(),p=n.getCenter(),f=new t.Rect(n.x,n.y,n.width,n.height,n.degrees+this.getRotation()).getBoundingBox();f.getAspectRatio()>=d?f.height=f.width/d:f.width=f.height*d,f.x=p.x-f.width/2,f.y=p.y-f.height/2;var g=1/f.width;if(l)return this.panTo(p,!0),this.zoomTo(g,null,!0),h&&this.applyConstraints(!0),this;var y=this.getCenter(!0),S=this.getZoom(!0);this.panTo(y,!0),this.zoomTo(S,null,!0);var C=this.getBounds(),k=this.getZoom();if(k===0||Math.abs(g/k-1)<1e-8)return this.zoomTo(g,null,!0),this.panTo(p,l),h&&this.applyConstraints(!1),this;if(h){this.panTo(p,!1),g=this._applyZoomConstraints(g),this.zoomTo(g,null,!1);var P=this.getConstrainedBounds();this.panTo(y,!0),this.zoomTo(S,null,!0),this.fitBounds(P)}else{var R=f.rotate(-this.getRotation()),D=R.getTopLeft().times(g).minus(C.getTopLeft().times(k)).divide(g-k);this.zoomTo(g,D,l)}return this},fitBounds:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!1})},fitBoundsWithConstraints:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!0})},fitVertically:function(n){var r=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,n)},fitHorizontally:function(n){var r=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,n)},getConstrainedBounds:function(n){var r,l;return r=this.getBounds(n),l=this._applyBoundaryConstraints(r),l},panBy:function(n,r){var l=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(l.plus(n),r)},panTo:function(n,r){return r?(this.centerSpringX.resetTo(n.x),this.centerSpringY.resetTo(n.y)):(this.centerSpringX.springTo(n.x),this.centerSpringY.springTo(n.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:n,immediately:r}),this},zoomBy:function(n,r,l){return this.zoomTo(this.zoomSpring.target.value*n,r,l)},zoomTo:function(n,r,l){var h=this;return this.zoomPoint=r instanceof t.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,l?this._adjustCenterSpringsForZoomPoint(function(){h.zoomSpring.resetTo(n)}):this.zoomSpring.springTo(n),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:n,refPoint:r,immediately:l}),this},setRotation:function(n,r){return this.rotateTo(n,null,r)},getRotation:function(n){return n?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(n,r,l){return this.rotateTo(n,r,l)},rotateTo:function(n,r,l){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===n&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof t.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,l)if(this.rotationPivot){var h=n-this._oldDegrees;if(!h)return this.rotationPivot=null,this;this._rotateAboutPivot(n)}else this.degreesSpring.resetTo(n);else{var d=t.positiveModulo(this.degreesSpring.current.value,360),p=t.positiveModulo(n,360),f=p-d;f>180?p-=360:f<-180&&(p+=360);var g=d-p;this.degreesSpring.resetTo(n+g),this.degreesSpring.springTo(n)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:n,immediately:!!l,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(n,r,l){return this.rotateTo(this.degreesSpring.target.value+n,r,l)},resize:function(n,r){var l=this.getBoundsNoRotate(),h=l,d;this.containerSize.x=n.x,this.containerSize.y=n.y,this._updateContainerInnerSize(),r&&(d=n.x/this.containerSize.x,h.width=l.width*d,h.height=h.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:n,maintain:r});var p=this.fitBounds(h,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:n,maintain:r}),p},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var n=this;this._adjustCenterSpringsForZoomPoint(function(){n.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,r},_rotateAboutPivot:function(n){var r=n===!0,l=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(l.x),this.centerSpringY.shiftBy(l.y),r?this.degreesSpring.update():this.degreesSpring.resetTo(n);var h=this.degreesSpring.current.value-this._oldDegrees,d=l.rotate(h*-1).times(-1);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y)},_adjustCenterSpringsForZoomPoint:function(n){if(this.zoomPoint){var r=this.pixelFromPoint(this.zoomPoint,!0);n();var l=this.pixelFromPoint(this.zoomPoint,!0),h=l.minus(r),d=this.deltaPointsFromPixels(h,!0);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else n()},deltaPixelsFromPointsNoRotate:function(n,r){return n.times(this._containerInnerSize.x*this.getZoom(r))},deltaPixelsFromPoints:function(n,r){return this.deltaPixelsFromPointsNoRotate(n.rotate(this.getRotation(r)),r)},deltaPointsFromPixelsNoRotate:function(n,r){return n.divide(this._containerInnerSize.x*this.getZoom(r))},deltaPointsFromPixels:function(n,r){return this.deltaPointsFromPixelsNoRotate(n,r).rotate(-this.getRotation(r))},pixelFromPointNoRotate:function(n,r){return this._pixelFromPointNoRotate(n,this.getBoundsNoRotate(r))},pixelFromPoint:function(n,r){return this._pixelFromPoint(n,this.getBoundsNoRotate(r))},_pixelFromPointNoRotate:function(n,r){return n.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(n,r){return this._pixelFromPointNoRotate(n.rotate(this.getRotation(!0),this.getCenter(!0)),r)},pointFromPixelNoRotate:function(n,r){var l=this.getBoundsNoRotate(r);return n.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/l.width).plus(l.getTopLeft())},pointFromPixel:function(n,r){return this.pointFromPixelNoRotate(n,r).rotate(-this.getRotation(r),this.getCenter(r))},_viewportToImageDelta:function(n,r){var l=this._contentBoundsNoRotate.width;return new t.Point(n*this._contentSizeNoRotate.x/l,r*this._contentSizeNoRotate.x/l)},viewportToImageCoordinates:function(n,r){if(n instanceof t.Point)return this.viewportToImageCoordinates(n.x,n.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(l===1){var h=this.viewer.world.getItemAt(0);return h.viewportToImageCoordinates(n,r,!0)}}return this._viewportToImageDelta(n-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(n,r){var l=this._contentBoundsNoRotate.width;return new t.Point(n/this._contentSizeNoRotate.x*l,r/this._contentSizeNoRotate.x*l)},imageToViewportCoordinates:function(n,r){if(n instanceof t.Point)return this.imageToViewportCoordinates(n.x,n.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(l===1){var h=this.viewer.world.getItemAt(0);return h.imageToViewportCoordinates(n,r,!0)}}var d=this._imageToViewportDelta(n,r);return d.x+=this._contentBoundsNoRotate.x,d.y+=this._contentBoundsNoRotate.y,d},imageToViewportRectangle:function(n,r,l,h){var d=n;if(d instanceof t.Rect||(d=new t.Rect(n,r,l,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(p===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportRectangle(n,r,l,h,!0)}}var g=this.imageToViewportCoordinates(d.x,d.y),y=this._imageToViewportDelta(d.width,d.height);return new t.Rect(g.x,g.y,y.x,y.y,d.degrees)},viewportToImageRectangle:function(n,r,l,h){var d=n;if(d instanceof t.Rect||(d=new t.Rect(n,r,l,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(p===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageRectangle(n,r,l,h,!0)}}var g=this.viewportToImageCoordinates(d.x,d.y),y=this._viewportToImageDelta(d.width,d.height);return new t.Rect(g.x,g.y,y.x,y.y,d.degrees)},viewerElementToImageCoordinates:function(n){var r=this.pointFromPixel(n,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(n){var r=this.imageToViewportCoordinates(n);return this.pixelFromPoint(r,!0)},windowToImageCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=n.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(n);return r.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(n){return this.pointFromPixel(n,!0)},viewportToViewerElementCoordinates:function(n){return this.pixelFromPoint(n,!0)},viewerElementToViewportRectangle:function(n){return t.Rect.fromSummits(this.pointFromPixel(n.getTopLeft(),!0),this.pointFromPixel(n.getTopRight(),!0),this.pointFromPixel(n.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(n){return t.Rect.fromSummits(this.pixelFromPoint(n.getTopLeft(),!0),this.pixelFromPoint(n.getTopRight(),!0),this.pixelFromPoint(n.getBottomLeft(),!0))},windowToViewportCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=n.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(n);return r.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(r===1){var l=this.viewer.world.getItemAt(0);return l.viewportToImageZoom(n)}}var h=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,f=d/h*p;return n*f},imageToViewportZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(r===1){var l=this.viewer.world.getItemAt(0);return l.imageToViewportZoom(n)}}var h=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,f=h/d/p;return n*f},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(n){return this.flipped===n?this:(this.flipped=n,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:n}),this)}}}(i),function(t){t.TiledImage=function(d){var p=this;t.console.assert(d.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(d.drawer,"[TiledImage] options.drawer is required"),t.console.assert(d.viewer,"[TiledImage] options.viewer is required"),t.console.assert(d.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(d.source,"[TiledImage] options.source is required"),t.console.assert(!d.clip||d.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=d.tileCache,delete d.tileCache,this._drawer=d.drawer,delete d.drawer,this._imageLoader=d.imageLoader,delete d.imageLoader,d.clip instanceof t.Rect&&(this._clip=d.clip.clone()),delete d.clip;var f=d.x||0;delete d.x;var g=d.y||0;delete d.y,this.normHeight=d.source.dimensions.y/d.source.dimensions.x,this.contentAspectX=d.source.dimensions.x/d.source.dimensions.y;var y=1;d.width?(y=d.width,delete d.width,d.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete d.height)):d.height&&(y=d.height/this.normHeight,delete d.height);var S=d.fitBounds;delete d.fitBounds;var C=d.fitBoundsPlacement||i.Placement.CENTER;delete d.fitBoundsPlacement;var k=d.degrees||0;delete d.degrees;var P=d.ajaxHeaders;delete d.ajaxHeaders,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},d),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:g,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:y,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),S&&this.fitBounds(S,C,!0),this._drawingHandler=function(R){p.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:p},R))},this._ownAjaxHeaders={},this.setAjaxHeaders(P,!1)},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(d){d!==this._fullyLoaded&&(this._fullyLoaded=d,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var d=this._xSpring.update(),p=this._ySpring.update(),f=this._scaleSpring.update(),g=this._degreesSpring.update();return d||p||f||g?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(this.getRotation(d),this._getRotationPoint(d))},getBoundsNoRotate:function(d){return d?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(d){var p=this.getBoundsNoRotate(d);if(this._clip){var f=d?this._worldWidthCurrent:this._worldWidthTarget,g=f/this.source.dimensions.x,y=this._clip.times(g);p=new t.Rect(p.x+y.x,p.y+y.y,y.width,y.height)}return p.rotate(this.getRotation(d),this._getRotationPoint(d))},getTileBounds:function(d,p,f){var g=this.source.getNumTiles(d),y=(g.x+p%g.x)%g.x,S=(g.y+f%g.y)%g.y,C=this.source.getTileBounds(d,y,S);return this.getFlip()&&(C.x=1-C.x-C.width),C.x+=(p-y)/g.x,C.y+=this._worldHeightCurrent/this._worldWidthCurrent*((f-S)/g.y),C},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var d=this.imageToWindowCoordinates(new t.Point(0,0)),p=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(p.x-d.x,p.y-d.y)},_viewportToImageDelta:function(d,p,f){var g=f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(d*(this.source.dimensions.x/g),p*(this.source.dimensions.y*this.contentAspectX/g))},viewportToImageCoordinates:function(d,p,f){var g;return d instanceof t.Point?(f=p,g=d):g=new t.Point(d,p),g=g.rotate(-this.getRotation(f),this._getRotationPoint(f)),f?this._viewportToImageDelta(g.x-this._xSpring.current.value,g.y-this._ySpring.current.value):this._viewportToImageDelta(g.x-this._xSpring.target.value,g.y-this._ySpring.target.value)},_imageToViewportDelta:function(d,p,f){var g=f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(d/this.source.dimensions.x*g,p/this.source.dimensions.y/this.contentAspectX*g)},imageToViewportCoordinates:function(d,p,f){d instanceof t.Point&&(f=p,p=d.y,d=d.x);var g=this._imageToViewportDelta(d,p);return f?(g.x+=this._xSpring.current.value,g.y+=this._ySpring.current.value):(g.x+=this._xSpring.target.value,g.y+=this._ySpring.target.value),g.rotate(this.getRotation(f),this._getRotationPoint(f))},imageToViewportRectangle:function(d,p,f,g,y){var S=d;S instanceof t.Rect?y=p:S=new t.Rect(d,p,f,g);var C=this.imageToViewportCoordinates(S.getTopLeft(),y),k=this._imageToViewportDelta(S.width,S.height,y);return new t.Rect(C.x,C.y,k.x,k.y,S.degrees+this.getRotation(y))},viewportToImageRectangle:function(d,p,f,g,y){var S=d;d instanceof t.Rect?y=p:S=new t.Rect(d,p,f,g);var C=this.viewportToImageCoordinates(S.getTopLeft(),y),k=this._viewportToImageDelta(S.width,S.height,y);return new t.Rect(C.x,C.y,k.x,k.y,S.degrees-this.getRotation(y))},viewerElementToImageCoordinates:function(d){var p=this.viewport.pointFromPixel(d,!0);return this.viewportToImageCoordinates(p)},imageToViewerElementCoordinates:function(d){var p=this.imageToViewportCoordinates(d);return this.viewport.pixelFromPoint(p,!0)},windowToImageCoordinates:function(d){var p=d.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(p)},imageToWindowCoordinates:function(d){var p=this.imageToViewerElementCoordinates(d);return p.plus(i.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(d){var p=this._scaleSpring.current.value;return d=d.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((d.x-this._xSpring.current.value)/p,(d.y-this._ySpring.current.value)/p,d.width/p,d.height/p,d.degrees)},viewportToImageZoom:function(d){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return p*d},imageToViewportZoom:function(d){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return d/p},setPosition:function(d,p){var f=this._xSpring.target.value===d.x&&this._ySpring.target.value===d.y;if(p){if(f&&this._xSpring.current.value===d.x&&this._ySpring.current.value===d.y)return;this._xSpring.resetTo(d.x),this._ySpring.resetTo(d.y),this._needsDraw=!0}else{if(f)return;this._xSpring.springTo(d.x),this._ySpring.springTo(d.y),this._needsDraw=!0}f||this._raiseBoundsChange()},setWidth:function(d,p){this._setScale(d,p)},setHeight:function(d,p){this._setScale(d/this.normHeight,p)},setCroppingPolygons:function(d){var p=function(g){return g instanceof t.Point||typeof g.x=="number"&&typeof g.y=="number"},f=function(g){return g.map(function(y){try{if(p(y))return{x:y.x,y:y.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(d))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=d.map(function(g){return f(g)})}catch(g){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(g),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(d,p,f){p=p||t.Placement.CENTER;var g=t.Placement.properties[p],y=this.contentAspectX,S=0,C=0,k=1,P=1;if(this._clip&&(y=this._clip.getAspectRatio(),k=this._clip.width/this.source.dimensions.x,P=this._clip.height/this.source.dimensions.y,d.getAspectRatio()>y?(S=this._clip.x/this._clip.height*d.height,C=this._clip.y/this._clip.height*d.height):(S=this._clip.x/this._clip.width*d.width,C=this._clip.y/this._clip.width*d.width)),d.getAspectRatio()>y){var R=d.height/P,D=0;g.isHorizontallyCentered?D=(d.width-d.height*y)/2:g.isRight&&(D=d.width-d.height*y),this.setPosition(new t.Point(d.x-S+D,d.y-C),f),this.setHeight(R,f)}else{var q=d.width/k,G=0;g.isVerticallyCentered?G=(d.height-d.width/y)/2:g.isBottom&&(G=d.height-d.width/y),this.setPosition(new t.Point(d.x-S,d.y-C+G),f),this.setWidth(q,f)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(d){t.console.assert(!d||d instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),d instanceof t.Rect?this._clip=d.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(d){this.flipped=!!d,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(d){d!==this.opacity&&(this.opacity=d,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(d){this._preload=!!d,this._needsDraw=!0},getRotation:function(d){return d?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(d,p){this._degreesSpring.target.value===d&&this._degreesSpring.isAtTargetValue()||(p?this._degreesSpring.resetTo(d):this._degreesSpring.springTo(d),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(d){return this.getBoundsNoRotate(d).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(d){d!==this.compositeOperation&&(this.compositeOperation=d,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(d,p){if(d===null&&(d={}),!t.isPlainObject(d)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=d,this._updateAjaxHeaders(p)},_updateAjaxHeaders:function(d){if(d===void 0&&(d=!0),t.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=t.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,d){var p,f,g,y;for(var S in this.tilesMatrix){p=this.source.getNumTiles(S);for(var C in this.tilesMatrix[S]){f=(p.x+C%p.x)%p.x;for(var k in this.tilesMatrix[S][C])if(g=(p.y+k%p.y)%p.y,y=this.tilesMatrix[S][C][k],y.loadWithAjax=this.loadTilesWithAjax,y.loadWithAjax){var P=this.source.getTileAjaxHeaders(S,f,g);y.ajaxHeaders=t.extend({},this.ajaxHeaders,P)}else y.ajaxHeaders=null}}for(var R=0;R<this._imageLoader.jobQueue.length;R++){var D=this._imageLoader.jobQueue[R];D.loadWithAjax=D.tile.loadWithAjax,D.ajaxHeaders=D.tile.loadWithAjax?D.tile.ajaxHeaders:null}}},_setScale:function(d,p){var f=this._scaleSpring.target.value===d;if(p){if(f&&this._scaleSpring.current.value===d)return;this._scaleSpring.resetTo(d),this._updateForScale(),this._needsDraw=!0}else{if(f)return;this._scaleSpring.springTo(d),this._updateForScale(),this._needsDraw=!0}f||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var d=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,f=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(p/this.minPixelRatio)/Math.log(2))));return f=Math.max(f,this.source.minLevel||0),d=Math.min(d,f),{lowestLevel:d,highestLevel:f}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var d=this.lastDrawn.pop();d.beingDrawn=!1}var p=this.viewport,f=this._viewportToTiledImageRectangle(p.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var g=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(f=f.intersection(g),f===null)return}for(var y=this._getLevelsInterval(),S=y.lowestLevel,C=y.highestLevel,k=null,P=!1,R=t.now(),D=C;D>=S;D--){var q=!1,G=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(D),!0).x*this._scaleSpring.current.value;if(D===S||!P&&G>=this.minPixelRatio)q=!0,P=!0;else if(!P)continue;var ne=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(D),!1).x*this._scaleSpring.current.value,Z=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Y=this.immediateRender?1:Z,se=Math.min(1,(G-.5)/.5),le=Y/Math.abs(Y-ne);if(k=this._updateLevel(P,q,D,se,le,f,R,k),this._providesCoverage(this.coverage,D))break}this._drawTiles(this.lastDrawn),k&&!k.context2D?(this._loadTile(k,R),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(d,p,f){var g,y;this.wrapHorizontal?(g=t.positiveModulo(p.x,1),y=t.positiveModulo(f.x,1)):(g=Math.max(0,p.x),y=Math.min(1,f.x));var S,C,k=1/this.source.aspectRatio;this.wrapVertical?(S=t.positiveModulo(p.y,k),C=t.positiveModulo(f.y,k)):(S=Math.max(0,p.y),C=Math.min(k,f.y));var P=this.source.getTileAtPoint(d,new t.Point(g,S)),R=this.source.getTileAtPoint(d,new t.Point(y,C)),D=this.source.getNumTiles(d);return this.wrapHorizontal&&(P.x+=D.x*Math.floor(p.x),R.x+=D.x*Math.floor(f.x)),this.wrapVertical&&(P.y+=D.y*Math.floor(p.y/k),R.y+=D.y*Math.floor(f.y/k)),{topLeft:P,bottomRight:R}},_updateLevel:function(d,p,f,g,y,S,C,k){var P=S.getBoundingBox().getTopLeft(),R=S.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:d,level:f,opacity:g,visibility:y,drawArea:S,topleft:P,bottomright:R,currenttime:C,best:k}),this._resetCoverage(this.coverage,f),this._resetCoverage(this.loadingCoverage,f);var D=this._getCornerTiles(f,P,R),q=D.topLeft,G=D.bottomRight,ne=this.source.getNumTiles(f),Z=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(G.x+=1,this.wrapHorizontal||(G.x=Math.min(G.x,ne.x-1)));for(var Y=q.x;Y<=G.x;Y++)for(var se=q.y;se<=G.y;se++){var le;if(this.getFlip()){var ge=(ne.x+Y%ne.x)%ne.x;le=Y+ne.x-ge-ge-1}else le=Y;S.intersection(this.getTileBounds(f,le,se))!==null&&(k=this._updateTile(p,d,le,se,f,g,y,Z,ne,C,k))}return k},_updateTile:function(d,p,f,g,y,S,C,k,P,R,D){var q=this._getTile(f,g,y,R,P,this._worldWidthCurrent,this._worldHeightCurrent),G=p;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:q}),this._setCoverage(this.coverage,y,f,g,!1);var ne=q.loaded||q.loading||this._isCovered(this.loadingCoverage,y,f,g);if(this._setCoverage(this.loadingCoverage,y,f,g,ne),!q.exists||(d&&!G&&(this._isCovered(this.coverage,y,f,g)?this._setCoverage(this.coverage,y,f,g,!0):G=!0),!G))return D;if(this._positionTile(q,this.source.tileOverlap,this.viewport,k,C),!q.loaded)if(q.context2D)this._setTileLoaded(q);else{var Z=this._tileCache.getImageRecord(q.cacheKey);Z&&this._setTileLoaded(q,Z.getData())}if(q.loaded){var Y=this._blendTile(q,f,g,y,S,R);Y&&(this._needsDraw=!0)}else q.loading?this._tilesLoading++:ne||(D=this._compareTiles(D,q));return D},_getTile:function(d,p,f,g,y,S,C){var k,P,R,D,q,G,ne,Z,Y,se,le=this.tilesMatrix,ge=this.source;return le[f]||(le[f]={}),le[f][d]||(le[f][d]={}),(!le[f][d][p]||!le[f][d][p].flipped!=!this.flipped)&&(k=(y.x+d%y.x)%y.x,P=(y.y+p%y.y)%y.y,R=this.getTileBounds(f,d,p),D=ge.getTileBounds(f,k,P,!0),q=ge.tileExists(f,k,P),G=ge.getTileUrl(f,k,P),ne=ge.getTilePostData(f,k,P),this.loadTilesWithAjax?(Z=ge.getTileAjaxHeaders(f,k,P),t.isPlainObject(this.ajaxHeaders)&&(Z=t.extend({},this.ajaxHeaders,Z))):Z=null,Y=ge.getContext2D?ge.getContext2D(f,k,P):void 0,se=new t.Tile(f,d,p,R,q,G,Y,this.loadTilesWithAjax,Z,D,ne,ge.getTileHashKey(f,k,P,G,Z,ne)),this.getFlip()?k===0&&(se.isRightMost=!0):k===y.x-1&&(se.isRightMost=!0),P===y.y-1&&(se.isBottomMost=!0),se.flipped=this.flipped,le[f][d][p]=se),se=le[f][d][p],se.lastTouchTime=g,se},_loadTile:function(d,p){var f=this;d.loading=!0,this._imageLoader.addJob({src:d.getUrl(),tile:d,source:this.source,postData:d.postData,loadWithAjax:d.loadWithAjax,ajaxHeaders:d.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(g,y,S){f._onTileLoad(d,p,g,y,S)},abort:function(){d.loading=!1}})},_onTileLoad:function(d,p,f,g,y){if(f)d.exists=!0;else{t.console.error("Tile %s failed to load: %s - error: %s",d,d.getUrl(),g),this.viewer.raiseEvent("tile-load-failed",{tile:d,tiledImage:this,time:p,message:g,tileRequest:y}),d.loading=!1,d.exists=!1;return}if(p<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",d,d.getUrl()),d.loading=!1;return}var S=this,C=function(){var k=S.source,P=k.getClosestLevel();S._setTileLoaded(d,f,P,y)};this._midDraw?window.setTimeout(C,1):C()},_setTileLoaded:function(d,p,f,g){var y=0,S=!1,C=this;function k(){return S&&t.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),y++,P}function P(){y--,y===0&&(d.loading=!1,d.loaded=!0,d.hasTransparency=C.source.hasTransparency(d.context2D,d.getUrl(),d.ajaxHeaders,d.postData),d.context2D||C._tileCache.cacheTile({data:p,tile:d,cutoff:f,tiledImage:C}),C._needsDraw=!0)}var R=k();this.viewer.raiseEvent("tile-loaded",{tile:d,tiledImage:this,tileRequest:g,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),p},data:p,getCompletionCallback:k}),S=!0,R()},_positionTile:function(d,p,f,g,y){var S=d.bounds.getTopLeft();S.x*=this._scaleSpring.current.value,S.y*=this._scaleSpring.current.value,S.x+=this._xSpring.current.value,S.y+=this._ySpring.current.value;var C=d.bounds.getSize();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value;var k=f.pixelFromPointNoRotate(S,!0),P=f.pixelFromPointNoRotate(S,!1),R=f.deltaPixelsFromPointsNoRotate(C,!0),D=f.deltaPixelsFromPointsNoRotate(C,!1),q=P.plus(D.divide(2)),G=g.squaredDistanceTo(q);p||(R=R.plus(new t.Point(1,1))),d.isRightMost&&this.wrapHorizontal&&(R.x+=.75),d.isBottomMost&&this.wrapVertical&&(R.y+=.75),d.position=k,d.size=R,d.squaredDistance=G,d.visibility=y},_blendTile:function(d,p,f,g,y,S){var C=1e3*this.blendTime,k,P;if(d.blendStart||(d.blendStart=S),k=S-d.blendStart,P=C?Math.min(1,k/C):1,this.alwaysBlend&&(P*=y),d.opacity=P,this.lastDrawn.push(d),P===1)this._setCoverage(this.coverage,g,p,f,!0),this._hasOpaqueTile=!0;else if(k<C)return!0;return!1},_compareTiles:function(d,p){return!d||p.visibility>d.visibility||p.visibility===d.visibility&&p.squaredDistance<d.squaredDistance?p:d},_drawTiles:function(d){if(!(this.opacity===0||d.length===0&&!this.placeholderFillStyle)){var p=d[0],f;p&&(f=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(p.context2D,p.getUrl(),p.ajaxHeaders,p.postData));var g,y,S=this.viewport.getZoom(!0),C=this.viewportToImageZoom(S);d.length>1&&C>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(f=!0,g=p.getScaleForEdgeSmoothing(),y=p.getTranslationForEdgeSmoothing(g,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var k;f&&(g||(k=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(k.x=this._drawer.viewer.container.clientWidth-(k.x+k.width)),k=k.times(t.pixelDensityRatio)),this._drawer._clear(!0,k)),g||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:f}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:f}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var P=!1;if(this._clip){this._drawer.saveContext(f);var R=this.imageToViewportRectangle(this._clip,!0);R=R.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var D=this._drawer.viewportToDrawerRectangle(R);g&&(D=D.times(g)),y&&(D=D.translate(y)),this._drawer.setClip(D,f),P=!0}if(this._croppingPolygons){var q=this;this._drawer.saveContext(f);try{var G=this._croppingPolygons.map(function(ue){return ue.map(function(pe){var we=q.imageToViewportCoordinates(pe.x,pe.y,!0).rotate(-q.getRotation(!0),q._getRotationPoint(!0)),ve=q._drawer.viewportCoordToDrawerCoord(we);return g&&(ve=ve.times(g)),y&&(ve=ve.plus(y)),ve})});this._drawer.clipWithPolygons(G,f)}catch(ue){t.console.error(ue)}P=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var ne=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));g&&(ne=ne.times(g)),y&&(ne=ne.translate(y));var Z=null;typeof this.placeholderFillStyle=="function"?Z=this.placeholderFillStyle(this,this._drawer.context):Z=this.placeholderFillStyle,this._drawer.drawRectangle(ne,Z,f)}var Y=h(this.subPixelRoundingForTransparency),se=!1;if(Y===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)se=!0;else if(Y===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var le=this.viewer&&this.viewer.isAnimating();se=!le}for(var ge=d.length-1;ge>=0;ge--)p=d[ge],this._drawer.drawTile(p,this._drawingHandler,f,g,y,se,this.source),p.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:p});P&&this._drawer.restoreContext(f),g||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(f),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(f)),f&&(g&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:g,translate:y,compositeOperation:this.compositeOperation,bounds:k}),g&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),g||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(d)}},_drawDebugInfo:function(d){if(this.debugMode)for(var p=d.length-1;p>=0;p--){var f=d[p];try{this._drawer.drawDebugInfo(f,d.length,p,this)}catch(g){t.console.error(g)}}},_providesCoverage:function(d,p,f,g){var y,S,C,k;if(!d[p])return!1;if(f===void 0||g===void 0){y=d[p];for(C in y)if(Object.prototype.hasOwnProperty.call(y,C)){S=y[C];for(k in S)if(Object.prototype.hasOwnProperty.call(S,k)&&!S[k])return!1}return!0}return d[p][f]===void 0||d[p][f][g]===void 0||d[p][f][g]===!0},_isCovered:function(d,p,f,g){return f===void 0||g===void 0?this._providesCoverage(d,p+1):this._providesCoverage(d,p+1,2*f,2*g)&&this._providesCoverage(d,p+1,2*f,2*g+1)&&this._providesCoverage(d,p+1,2*f+1,2*g)&&this._providesCoverage(d,p+1,2*f+1,2*g+1)},_setCoverage:function(d,p,f,g,y){if(!d[p]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",p);return}d[p][f]||(d[p][f]={}),d[p][f][g]=y},_resetCoverage:function(d,p){d[p]={}}});var n=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function r(d){return d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function l(d){return r(d)?n:d}function h(d){if(typeof d=="number")return l(d);if(!d||!t.Browser)return n;var p=d[t.Browser.vendor];return r(p)&&(p=d["*"]),l(p)}}(i),function(t){var n=function(l){t.console.assert(l,"[TileCache.cacheTile] options is required"),t.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=l.tile,this.tiledImage=l.tiledImage},r=function(l){t.console.assert(l,"[ImageRecord] options is required"),t.console.assert(l.data,"[ImageRecord] options.data is required"),this._tiles=[],l.create.apply(null,[this,l.data,l.ownerTile]),this._destroyImplementation=l.destroy.bind(null,this),this.getImage=l.getImage.bind(null,this),this.getData=l.getData.bind(null,this),this.getRenderedContext=l.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(l){t.console.assert(l,"[ImageRecord.addTile] tile is required"),this._tiles.push(l)},removeTile:function(l){for(var h=0;h<this._tiles.length;h++)if(this._tiles[h]===l){this._tiles.splice(h,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",l)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(l){l=l||{},this._maxImageCacheCount=l.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(l){t.console.assert(l,"[TileCache.cacheTile] options is required"),t.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(l.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var h=l.cutoff||0,d=this._tilesLoaded.length,p=this._imagesLoaded[l.tile.cacheKey];if(p||(l.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),l.data=l.image),t.console.assert(l.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),p=this._imagesLoaded[l.tile.cacheKey]=new r({data:l.data,ownerTile:l.tile,create:l.tiledImage.source.createTileCache,destroy:l.tiledImage.source.destroyTileCache,getImage:l.tiledImage.source.getTileCacheDataAsImage,getData:l.tiledImage.source.getTileCacheData,getRenderedContext:l.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),p.addTile(l.tile),l.tile.cacheImageRecord=p,this._imagesLoadedCount>this._maxImageCacheCount){for(var f=null,g=-1,y=null,S,C,k,P,R,D,q=this._tilesLoaded.length-1;q>=0;q--)if(D=this._tilesLoaded[q],S=D.tile,!(S.level<=h||S.beingDrawn)){if(!f){f=S,g=q,y=D;continue}P=S.lastTouchTime,C=f.lastTouchTime,R=S.level,k=f.level,(P<C||P===C&&R>k)&&(f=S,g=q,y=D)}f&&g>=0&&(this._unloadTile(y),d=g)}this._tilesLoaded[d]=new n({tile:l.tile,tiledImage:l.tiledImage})},clearTilesFor:function(l){t.console.assert(l,"[TileCache.clearTilesFor] tiledImage is required");for(var h,d=0;d<this._tilesLoaded.length;++d)h=this._tilesLoaded[d],h.tiledImage===l&&(this._unloadTile(h),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(l){return t.console.assert(l,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[l]},_unloadTile:function(l){t.console.assert(l,"[TileCache._unloadTile] tileRecord is required");var h=l.tile,d=l.tiledImage;h.unload(),h.cacheImageRecord=null;var p=this._imagesLoaded[h.cacheKey];p.removeTile(h),p.getTileCount()||(p.destroy(),delete this._imagesLoaded[h.cacheKey],this._imagesLoadedCount--),d.viewer.raiseEvent("tile-unloaded",{tile:h,tiledImage:d})}}}(i),function(t){t.World=function(n){var r=this;t.console.assert(n.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=n.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(l){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(n,r){if(t.console.assert(n,"[World.addItem] item is required"),t.console.assert(n instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},r.index!==void 0){var l=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(l,0,n)}else this._items.push(n);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,n.addHandler("bounds-change",this._delegatedFigureSizes),n.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:n})},getItemAt:function(n){return t.console.assert(n!==void 0,"[World.getItemAt] index is required"),this._items[n]},getIndexOfItem:function(n){return t.console.assert(n,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,n)},getItemCount:function(){return this._items.length},setItemIndex:function(n,r){t.console.assert(n,"[World.setItemIndex] item is required"),t.console.assert(r!==void 0,"[World.setItemIndex] index is required");var l=this.getIndexOfItem(n);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r===l||l===-1||(this._items.splice(l,1),this._items.splice(r,0,n),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:n,previousIndex:l,newIndex:r}))},removeItem:function(n){t.console.assert(n,"[World.removeItem] item is required");var r=t.indexOf(this._items,n);r!==-1&&(n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(n))},removeAll:function(){this.viewer._cancelPendingImages();var n,r;for(r=0;r<this._items.length;r++)n=this._items[r],n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy();var l=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,r=0;r<l.length;r++)n=l[r],this._raiseRemoveItem(n)},resetItems:function(){for(var n=0;n<this._items.length;n++)this._items[n].reset()},update:function(){for(var n=!1,r=0;r<this._items.length;r++)n=this._items[r].update()||n;return n},draw:function(){for(var n=0;n<this._items.length;n++)this._items[n].draw();this._needsDraw=!1},needsDraw:function(){for(var n=0;n<this._items.length;n++)if(this._items[n].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(n){this._autoRefigureSizes=n,n&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(n){n=n||{};var r=n.immediately||!1,l=n.layout||t.DEFAULT_SETTINGS.collectionLayout,h=n.rows||t.DEFAULT_SETTINGS.collectionRows,d=n.columns||t.DEFAULT_SETTINGS.collectionColumns,p=n.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,f=n.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,g=p+f,y;!n.rows&&d?y=d:y=Math.ceil(this._items.length/h);var S=0,C=0,k,P,R,D,q;this.setAutoRefigureSizes(!1);for(var G=0;G<this._items.length;G++)G&&G%y===0&&(l==="horizontal"?(C+=g,S=0):(S+=g,C=0)),k=this._items[G],P=k.getBounds(),P.width>P.height?R=p:R=p*(P.width/P.height),D=R*(P.height/P.width),q=new t.Point(S+(p-R)/2,C+(p-D)/2),k.setPosition(q,r),k.setWidth(R,r),l==="horizontal"?S+=g:C+=g;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var n=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,l=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var h=this._items[0],d=h.getBounds();this._contentFactor=h.getContentSize().x/d.width;for(var p=h.getClippedBounds().getBoundingBox(),f=p.x,g=p.y,y=p.x+p.width,S=p.y+p.height,C=1;C<this._items.length;C++)h=this._items[C],d=h.getBounds(),this._contentFactor=Math.max(this._contentFactor,h.getContentSize().x/d.width),p=h.getClippedBounds().getBoundingBox(),f=Math.min(f,p.x),g=Math.min(g,p.y),y=Math.max(y,p.x+p.width),S=Math.max(S,p.y+p.height);this._homeBounds=new t.Rect(f,g,y-f,S-g),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==l||!this._homeBounds.equals(n)||!this._contentSize.equals(r))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(n){this.raiseEvent("remove-item",{item:n})}})}(i)})(LC);var ej=LC.exports;const vm=Tr(ej);function B0(e){return JSON.parse(JSON.stringify(e))}const V0={middle:!1,top:!1,"left-middle":!1,"right-middle":!1,bottom:!1,"left-top":!1,"right-top":!1,"left-bottom":!1,"right-bottom":!1},tj=["tall","extra-tall","wide","full"];function nj(e){return rj(e,[[".",".","."],[".",".","."],[".",".","."]],ij)}function ij(e,i,t,n){switch(e){case"top":i[0][1]=n.id,t==="wide"&&(i[0][2]=n.id),t==="full"&&(i[0][0]=n.id,i[0][2]=n.id);break;case"left-middle":i[1][0]=n.id,t==="tall"?i[2][0]=n.id:t==="wide"&&(i[1][1]=n.id,i[1][2]=n.id);break;case"right-middle":i[1][2]=n.id,t==="tall"&&(i[2][2]=n.id);break;case"bottom":i[2][1]=n.id,t==="wide"&&(i[2][2]=n.id),t==="full"&&(i[2][0]=n.id,i[2][2]=n.id);break;case"left-top":i[0][0]=n.id,t==="tall"?i[1][0]=n.id:t==="wide"&&(i[0][1]=n.id,i[0][2]=n.id);break;case"right-top":i[0][2]=n.id,t==="tall"&&(i[1][2]=n.id);break;case"left-bottom":i[2][0]=n.id,t==="wide"&&(i[2][1]=n.id,i[2][2]=n.id);break;case"right-bottom":i[2][2]=n.id;break;default:i[1][1]=n.id,i[1][2]=n.id,t==="full"&&(i[1][0]=n.id)}}function rj(e,i,t){const n=document.createElement("div");n.innerHTML=e;let r;n.getElementsByTagName("tei-surface").length>0?r=[n.getElementsByTagName("tei-surface")[0]]:r=n.getElementsByTagName("tei-body")[0].children;const l=function(S){const C=S.getAttribute("rend");return Object.keys(V0).includes(C)?C:"middle"};function h(S){const C=S.getAttribute("style");return tj.includes(C)?C:null}const d=[];let p="",f=0,g=0;try{for(const S of r){const C=B0(i),k=B0(V0),P=S.id,R=S.children,D=S.getAttribute("facs"),q=S.getAttribute("ana");for(const G of R){const ne=l(G),Z=h(G);G.setAttribute("data-entry-id",P),k[ne]?(G.id=k[ne][0].id,k[ne].push(G)):(f++,G.id=`z${f}`,k[ne]=[G]),t(ne,C,Z,G)}for(const G of Object.values(k))G&&(p=p.concat(sj(G,D,q)));d[g]=wf(C[0],d[g]),d[g+1]=wf(C[1],d[g+1]),d[g+2]=wf(C[2],d[g+2]),g+=1}}catch(S){console.error(S)}const y=oj(d);return{html:p,layout:y}}function oj(e){const i=[...e];e[0]&&e[0][0]==="."&&e[0][1]==="."&&i.shift();let t="";for(const n of i){const r=n.join(" ");t+=` '${r}'`}return t}function sj(e,i,t){const n=e[0],r=n.id,l=n.attributes["data-entry-id"].value;let h="";for(let p=0;p<n.classList.length;p++)h=`${h} ${n.classList.item(p)}`;let d=`<div id="${r}" className="${h}" ana="${t}" data-entry-id="${l}" data-facs="${i||""}">`;for(const p of e)p.getAttribute("facs")&&p.setAttribute("data-facs",p.getAttribute("facs")),p.setAttribute("className","block"),p.name==="div"?d=d.concat(`${p.innerHTML} <br/>`):d=d.concat(`${p.outerHTML}`);return d.concat("</div>")}function wf(e,i){if(i){const t=[];for(let n=0;n<4;n++)e[n]!=="."?t[n]=e[n]:t[n]=i[n];return t}return e}function aj(e){const i=[],t=new DOMParser().parseFromString(e,"text/html").querySelectorAll("tei-div[ana], tei-seg[ana]");for(const n of t){const r=n.getAttribute("ana");if(r){const l=r.split(" ").map(h=>h.slice(1));for(const h of l)i.includes(h)||i.push(h)}}return i}function lj(e){const i=new Set,t={};return e.forEach(n=>{t[n.id]=[],n.body.forEach(r=>{if(r.purpose==="classifying"){const l=r.value.slice(1);i.add(l),t[n.id].push(l)}})}),{tagIds:Array.from(i),zoneTagIndex:t}}async function cj(e){if(e.loading)return e;e.loading=!0;const i={...e},t=Object.keys(i.annotationURLs),n=Object.fromEntries(t.map(h=>[h,!1]));if(i.image_zoom_url.endsWith(".json")){const h=await(await fetch(i.image_zoom_url)).json();i.tileSource=new vm.IIIFTileSource(h)}else i.tileSource=new vm.ImageTileSource({type:"image",url:i.image_zoom_url});const{tagIds:r,zoneTagIndex:l}=lj(i.annotations);if(i.tagIds=[...r],i.zoneTagIndex={...l},t.length>0){for await(const h of t){const{htmlURL:d,xmlURL:p}=i.annotationURLs[h];i.transcription||(i.transcription={}),i.transcription[h]={};try{const f=await fetch(d),g=await fetch(p),y=await f.text(),S=await g.text(),C=aj(y),k=uj(y,S);if(k)i.transcription[h]=k,i.tagIds=[...i.tagIds,...C],i.loading=!1,n[h]=!0;else throw new Error(`Unable to load transcription: ${d}`)}catch(f){throw e.loading=!1,f}}if(Object.values(n).filter(h=>!h).length===0)return i}return i.loading=!1,i}function uj(e,i){return{...nj(e),xml:i}}const pg=e=>e.document,dj=e=>e.glossary,hj=e=>e.notes;function*U0(e){const i=yield fetch(e);if(!i.ok)return null;const t=yield i.text(),n=new DOMParser().parseFromString(t,"text/html").querySelectorAll("tei-category"),r={};for(const l of n){const h=l.getAttribute("id");if(h){const d=l.querySelector("tei-catdesc");if(d){const p=d.textContent;r[h]=p}}}return r}function*pj(e){if(typeof e=="string"){const i=yield U0(e);yield ts("DocumentActions.loadTags",i)}else{const i={};for(const t of Object.keys(e))i[t]=yield U0(e[t]);yield ts("DocumentActions.loadTags",i)}}function*fj(e){const i=e.payload.params[0].split("/");if(i.length>1)switch(i[1]){case"ec":{yield gj(),yield mj(),yield yj(),yield bj(),yield vj(i);break}}}function*mj(){const e=yield Nl(pg);e.tags||(yield pj(e.headerUrl))}function*gj(){const e=yield Nl(pg);if(!e.loaded){if(e.variorum){const t={};for(const r of Object.keys(e.manifestURL)){const l=yield fetch(e.manifestURL[r]);t[r]=yield l.json()}const n={type:"variorum",documentData:t};return yield ts("DocumentActions.loadDocument",n),n}const i=yield(yield fetch(e.manifestURL)).json();return yield ts("DocumentActions.loadDocument",i),i}return null}function*vj(e){const i=yield Nl(pg);if(i.loaded){let t,n,r;e.length>2&&(t=e[2],e.length>4&&(n=e[4],e.length>6&&(r=e[6])));const l=[];l.push(t),n&&n!==t&&l.push(n),r&&r!==t&&r!==n&&l.push(r);for(const h of l){const d=i.folioIndex[h];if(d&&!d.loading){const p=yield cj(d);yield ts("DocumentActions.loadFolio",p)}}}}function*yj(){const e=yield Nl(dj);if(!e.loaded&&e.URL){const i=yield(yield fetch(e.URL)).json();yield ts("GlossaryActions.loadGlossary",i)}}function*bj(){const e=yield Nl(hj);if(!e.loaded&&e.URL){const i=yield(yield fetch(e.URL)).text();yield ts("NotesActions.loadNotes",i)}}function*wj(){yield jH("RouteListenerSaga.userNavigation",fj)}function*xj(){yield tH([wj()])}function Sj(e){const i=LH(),t=QT(QH(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),TN(i));return i.run(xj),t}function ym(e,i,...t){e.dispatch({type:i,payload:{params:t,dispatcher:{dispatch:e.dispatch}}})}function*ts(e,...i){return yield eH({type:e,payload:{params:i}})}function Ej(e,i,t){const n=t.payload&&t.payload.params?t.payload.params:[];return i(e,...n,t.payload.dispatcher)}function Tj(e,i){const t=e.split(".");return i[t[1]]}function Su(e,i,t){const n=[];for(const l of Object.keys(i))n.push(`${e}.${l}`);function r(l=t,h,d=n,p=i){return d.includes(h.type)?Ej(l,Tj(h.type,p),h):{...l}}return r}function $n(e){if(typeof e!="string")throw new Error(ua(7));return e.charAt(0).toUpperCase()+e.slice(1)}function da(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return i.reduce(function(n,r){return r==null?n:function(){for(var l=arguments.length,h=new Array(l),d=0;d<l;d++)h[d]=arguments[d];n.apply(this,h),r.apply(this,h)}},function(){})}var Cj=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},FC=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.color,h=l===void 0?"inherit":l,d=e.component,p=d===void 0?"svg":d,f=e.fontSize,g=f===void 0?"medium":f,y=e.htmlColor,S=e.titleAccess,C=e.viewBox,k=C===void 0?"0 0 24 24":C,P=Dt(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return z.createElement(p,Pe({className:jt(n.root,r,h!=="inherit"&&n["color".concat($n(h))],g!=="default"&&g!=="medium"&&n["fontSize".concat($n(g))]),focusable:"false",viewBox:k,color:y,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:i},P),t,S?z.createElement("title",null,S):null)});FC.muiName="SvgIcon";const W0=yn(Cj,{name:"MuiSvgIcon"})(FC);function jl(e,i){var t=function(n,r){return gt.createElement(W0,Pe({ref:r},n),e)};return t.muiName=W0.muiName,gt.memo(gt.forwardRef(t))}function fg(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,t;function n(){for(var r=arguments.length,l=new Array(r),h=0;h<r;h++)l[h]=arguments[h];var d=this,p=function(){e.apply(d,l)};clearTimeout(t),t=setTimeout(p,i)}return n.clear=function(){clearTimeout(t)},n}function kj(e,i){return function(){return null}}function NC(e,i){return z.isValidElement(e)&&i.indexOf(e.type.muiName)!==-1}function Sr(e){return e&&e.ownerDocument||document}function mg(e){var i=Sr(e);return i.defaultView||window}function Pj(e){return function(){return null}}function ns(e,i){typeof e=="function"?e(i):e&&(e.current=i)}function Rj(e,i,t,n,r){return null}function md(e){var i=e.controlled,t=e.default;e.name,e.state;var n=z.useRef(i!==void 0),r=n.current,l=z.useState(t),h=l[0],d=l[1],p=r?i:h,f=z.useCallback(function(g){r||d(g)},[]);return[p,f]}var _j=typeof window<"u"?z.useLayoutEffect:z.useEffect;function so(e){var i=z.useRef(e);return _j(function(){i.current=e}),z.useCallback(function(){return i.current.apply(void 0,arguments)},[])}function Un(e,i){return z.useMemo(function(){return e==null&&i==null?null:function(t){ns(e,t),ns(i,t)}},[e,i])}function Oj(e){var i=z.useState(e),t=i[0],n=i[1],r=e||t;return z.useEffect(function(){t==null&&n("mui-".concat(Math.round(Math.random()*1e5)))},[t]),r}var gd=!0,bm=!1,G0=null,Dj={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Aj(e){var i=e.type,t=e.tagName;return!!(t==="INPUT"&&Dj[i]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Ij(e){e.metaKey||e.altKey||e.ctrlKey||(gd=!0)}function xf(){gd=!1}function Mj(){this.visibilityState==="hidden"&&bm&&(gd=!0)}function zj(e){e.addEventListener("keydown",Ij,!0),e.addEventListener("mousedown",xf,!0),e.addEventListener("pointerdown",xf,!0),e.addEventListener("touchstart",xf,!0),e.addEventListener("visibilitychange",Mj,!0)}function Lj(e){var i=e.target;try{return i.matches(":focus-visible")}catch{}return gd||Aj(i)}function Fj(){bm=!0,window.clearTimeout(G0),G0=window.setTimeout(function(){bm=!1},100)}function HC(){var e=z.useCallback(function(i){var t=lr.findDOMNode(i);t!=null&&zj(t.ownerDocument)},[]);return{isFocusVisible:Lj,onBlurVisible:Fj,ref:e}}const Nj=Object.freeze(Object.defineProperty({__proto__:null,capitalize:$n,createChainedFunction:da,createSvgIcon:jl,debounce:fg,deprecatedPropType:kj,isMuiElement:NC,ownerDocument:Sr,ownerWindow:mg,requirePropFactory:Pj,setRef:ns,unstable_useId:Oj,unsupportedProp:Rj,useControlled:md,useEventCallback:so,useForkRef:Un,useIsFocusVisible:HC},Symbol.toStringTag,{value:"Module"}));function Hj(e){return sT(e)||rT(e)||Gm(e)||aT()}const q0={disabled:!1},Gu=gt.createContext(null);var jj=function(e){return e.scrollTop},ml="unmounted",Vo="exited",Uo="entering",Qs="entered",wm="exiting",ur=function(e){rd(i,e);function i(n,r){var l;l=e.call(this,n,r)||this;var h=r,d=h&&!h.isMounting?n.enter:n.appear,p;return l.appearStatus=null,n.in?d?(p=Vo,l.appearStatus=Uo):p=Qs:n.unmountOnExit||n.mountOnEnter?p=ml:p=Vo,l.state={status:p},l.nextCallback=null,l}i.getDerivedStateFromProps=function(n,r){var l=n.in;return l&&r.status===ml?{status:Vo}:null};var t=i.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(n){var r=null;if(n!==this.props){var l=this.state.status;this.props.in?l!==Uo&&l!==Qs&&(r=Uo):(l===Uo||l===Qs)&&(r=wm)}this.updateStatus(!1,r)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var n=this.props.timeout,r,l,h;return r=l=h=n,n!=null&&typeof n!="number"&&(r=n.exit,l=n.enter,h=n.appear!==void 0?n.appear:l),{exit:r,enter:l,appear:h}},t.updateStatus=function(n,r){if(n===void 0&&(n=!1),r!==null)if(this.cancelNextCallback(),r===Uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:hl.findDOMNode(this);l&&jj(l)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vo&&this.setState({status:ml})},t.performEnter=function(n){var r=this,l=this.props.enter,h=this.context?this.context.isMounting:n,d=this.props.nodeRef?[h]:[hl.findDOMNode(this),h],p=d[0],f=d[1],g=this.getTimeouts(),y=h?g.appear:g.enter;if(!n&&!l||q0.disabled){this.safeSetState({status:Qs},function(){r.props.onEntered(p)});return}this.props.onEnter(p,f),this.safeSetState({status:Uo},function(){r.props.onEntering(p,f),r.onTransitionEnd(y,function(){r.safeSetState({status:Qs},function(){r.props.onEntered(p,f)})})})},t.performExit=function(){var n=this,r=this.props.exit,l=this.getTimeouts(),h=this.props.nodeRef?void 0:hl.findDOMNode(this);if(!r||q0.disabled){this.safeSetState({status:Vo},function(){n.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:wm},function(){n.props.onExiting(h),n.onTransitionEnd(l.exit,function(){n.safeSetState({status:Vo},function(){n.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(n,r){r=this.setNextCallback(r),this.setState(n,r)},t.setNextCallback=function(n){var r=this,l=!0;return this.nextCallback=function(h){l&&(l=!1,r.nextCallback=null,n(h))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(n,r){this.setNextCallback(r);var l=this.props.nodeRef?this.props.nodeRef.current:hl.findDOMNode(this),h=n==null&&!this.props.addEndListener;if(!l||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],f=d[1];this.props.addEndListener(p,f)}n!=null&&setTimeout(this.nextCallback,n)},t.render=function(){var n=this.state.status;if(n===ml)return null;var r=this.props,l=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var h=os(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gt.createElement(Gu.Provider,{value:null},typeof l=="function"?l(n,h):gt.cloneElement(gt.Children.only(l),h))},i}(gt.Component);ur.contextType=Gu;ur.propTypes={};function Js(){}ur.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Js,onEntering:Js,onEntered:Js,onExit:Js,onExiting:Js,onExited:Js};ur.UNMOUNTED=ml;ur.EXITED=Vo;ur.ENTERING=Uo;ur.ENTERED=Qs;ur.EXITING=wm;function gg(e,i){var t=function(r){return i&&z.isValidElement(r)?i(r):r},n=Object.create(null);return e&&z.Children.map(e,function(r){return r}).forEach(function(r){n[r.key]=t(r)}),n}function Bj(e,i){e=e||{},i=i||{};function t(g){return g in i?i[g]:e[g]}var n=Object.create(null),r=[];for(var l in e)l in i?r.length&&(n[l]=r,r=[]):r.push(l);var h,d={};for(var p in i){if(n[p])for(h=0;h<n[p].length;h++){var f=n[p][h];d[n[p][h]]=t(f)}d[p]=t(p)}for(h=0;h<r.length;h++)d[r[h]]=t(r[h]);return d}function Xo(e,i,t){return t[i]!=null?t[i]:e.props[i]}function Vj(e,i){return gg(e.children,function(t){return z.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:Xo(t,"appear",e),enter:Xo(t,"enter",e),exit:Xo(t,"exit",e)})})}function Uj(e,i,t){var n=gg(e.children),r=Bj(i,n);return Object.keys(r).forEach(function(l){var h=r[l];if(z.isValidElement(h)){var d=l in i,p=l in n,f=i[l],g=z.isValidElement(f)&&!f.props.in;p&&(!d||g)?r[l]=z.cloneElement(h,{onExited:t.bind(null,h),in:!0,exit:Xo(h,"exit",e),enter:Xo(h,"enter",e)}):!p&&d&&!g?r[l]=z.cloneElement(h,{in:!1}):p&&d&&z.isValidElement(f)&&(r[l]=z.cloneElement(h,{onExited:t.bind(null,h),in:f.props.in,exit:Xo(h,"exit",e),enter:Xo(h,"enter",e)}))}}),r}var Wj=Object.values||function(e){return Object.keys(e).map(function(i){return e[i]})},Gj={component:"div",childFactory:function(e){return e}},vg=function(e){rd(i,e);function i(n,r){var l;l=e.call(this,n,r)||this;var h=l.handleExited.bind(im(l));return l.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},l}var t=i.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(n,r){var l=r.children,h=r.handleExited,d=r.firstRender;return{children:d?Vj(n,h):Uj(n,l,h),firstRender:!1}},t.handleExited=function(n,r){var l=gg(this.props.children);n.key in l||(n.props.onExited&&n.props.onExited(r),this.mounted&&this.setState(function(h){var d=Pe({},h.children);return delete d[n.key],{children:d}}))},t.render=function(){var n=this.props,r=n.component,l=n.childFactory,h=os(n,["component","childFactory"]),d=this.state.contextValue,p=Wj(this.state.children).map(l);return delete h.appear,delete h.enter,delete h.exit,r===null?gt.createElement(Gu.Provider,{value:d},p):gt.createElement(Gu.Provider,{value:d},gt.createElement(r,h,p))},i}(gt.Component);vg.propTypes={};vg.defaultProps=Gj;var jC=function(e){return e.scrollTop};function ha(e,i){var t=e.timeout,n=e.style,r=n===void 0?{}:n;return{duration:r.transitionDuration||typeof t=="number"?t:t[i.mode]||0,delay:r.transitionDelay}}var qj=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},BC=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.collapsedHeight,h=e.collapsedSize,d=h===void 0?"0px":h,p=e.component,f=p===void 0?"div":p,g=e.disableStrictModeCompat,y=g===void 0?!1:g,S=e.in,C=e.onEnter,k=e.onEntered,P=e.onEntering,R=e.onExit,D=e.onExited,q=e.onExiting,G=e.style,ne=e.timeout,Z=ne===void 0?Rl.standard:ne,Y=e.TransitionComponent,se=Y===void 0?ur:Y,le=Dt(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),ge=ya(),ue=z.useRef(),pe=z.useRef(null),we=z.useRef(),ve=typeof(l||d)=="number"?"".concat(l||d,"px"):l||d;z.useEffect(function(){return function(){clearTimeout(ue.current)}},[]);var Ae=ge.unstable_strictMode&&!y,je=z.useRef(null),xe=Un(i,Ae?je:void 0),me=function(tt){return function(lt,vt){if(tt){var _t=Ae?[je.current,lt]:[lt,vt],St=ss(_t,2),nt=St[0],Bt=St[1];Bt===void 0?tt(nt):tt(nt,Bt)}}},De=me(function(tt,lt){tt.style.height=ve,C&&C(tt,lt)}),Oe=me(function(tt,lt){var vt=pe.current?pe.current.clientHeight:0,_t=ha({style:G,timeout:Z},{mode:"enter"}),St=_t.duration;if(Z==="auto"){var nt=ge.transitions.getAutoHeightDuration(vt);tt.style.transitionDuration="".concat(nt,"ms"),we.current=nt}else tt.style.transitionDuration=typeof St=="string"?St:"".concat(St,"ms");tt.style.height="".concat(vt,"px"),P&&P(tt,lt)}),$=me(function(tt,lt){tt.style.height="auto",k&&k(tt,lt)}),He=me(function(tt){var lt=pe.current?pe.current.clientHeight:0;tt.style.height="".concat(lt,"px"),R&&R(tt)}),ot=me(D),ee=me(function(tt){var lt=pe.current?pe.current.clientHeight:0,vt=ha({style:G,timeout:Z},{mode:"exit"}),_t=vt.duration;if(Z==="auto"){var St=ge.transitions.getAutoHeightDuration(lt);tt.style.transitionDuration="".concat(St,"ms"),we.current=St}else tt.style.transitionDuration=typeof _t=="string"?_t:"".concat(_t,"ms");tt.style.height=ve,q&&q(tt)}),kt=function(tt,lt){var vt=Ae?tt:lt;Z==="auto"&&(ue.current=setTimeout(vt,we.current||0))};return z.createElement(se,Pe({in:S,onEnter:De,onEntered:$,onEntering:Oe,onExit:He,onExited:ot,onExiting:ee,addEndListener:kt,nodeRef:Ae?je:void 0,timeout:Z==="auto"?null:Z},le),function(tt,lt){return z.createElement(f,Pe({className:jt(n.root,n.container,r,{entered:n.entered,exited:!S&&ve==="0px"&&n.hidden}[tt]),style:Pe({minHeight:ve},G),ref:xe},lt),z.createElement("div",{className:n.wrapper,ref:pe},z.createElement("div",{className:n.wrapperInner},t)))})});BC.muiSupportAuto=!0;const Xj=yn(qj,{name:"MuiCollapse"})(BC);var Kj=function(e){var i={};return e.shadows.forEach(function(t,n){i["elevation".concat(n)]={boxShadow:t}}),Pe({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},i)},Yj=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.component,l=r===void 0?"div":r,h=e.square,d=h===void 0?!1:h,p=e.elevation,f=p===void 0?1:p,g=e.variant,y=g===void 0?"elevation":g,S=Dt(e,["classes","className","component","square","elevation","variant"]);return z.createElement(l,Pe({className:jt(t.root,n,y==="outlined"?t.outlined:t["elevation".concat(f)],!d&&t.rounded),ref:i},S))});const vd=yn(Kj,{name:"MuiPaper"})(Yj);var VC=z.createContext({}),Zj=function(e){var i={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],i),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],i)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},$j=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.defaultExpanded,h=l===void 0?!1:l,d=e.disabled,p=d===void 0?!1:d,f=e.expanded,g=e.onChange,y=e.square,S=y===void 0?!1:y,C=e.TransitionComponent,k=C===void 0?Xj:C,P=e.TransitionProps,R=Dt(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),D=md({controlled:f,default:h,name:"Accordion",state:"expanded"}),q=ss(D,2),G=q[0],ne=q[1],Z=z.useCallback(function(pe){ne(!G),g&&g(pe,!G)},[G,g,ne]),Y=z.Children.toArray(t),se=Hj(Y),le=se[0],ge=se.slice(1),ue=z.useMemo(function(){return{expanded:G,disabled:p,toggle:Z}},[G,p,Z]);return z.createElement(vd,Pe({className:jt(n.root,r,G&&n.expanded,p&&n.disabled,!S&&n.rounded),ref:i,square:S},R),z.createElement(VC.Provider,{value:ue},le),z.createElement(k,Pe({in:G,timeout:"auto"},P),z.createElement("div",{"aria-labelledby":le.props.id,id:le.props["aria-controls"],role:"region"},ge)))});yn(Zj,{name:"MuiAccordion"})($j);var Jj=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},Qj=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=Dt(e,["classes","className"]);return z.createElement("div",Pe({className:jt(t.root,n),ref:i},r))});yn(Jj,{name:"MuiAccordionDetails"})(Qj);var eB=typeof window>"u"?z.useEffect:z.useLayoutEffect;function tB(e){var i=e.classes,t=e.pulsate,n=t===void 0?!1:t,r=e.rippleX,l=e.rippleY,h=e.rippleSize,d=e.in,p=e.onExited,f=p===void 0?function(){}:p,g=e.timeout,y=z.useState(!1),S=y[0],C=y[1],k=jt(i.ripple,i.rippleVisible,n&&i.ripplePulsate),P={width:h,height:h,top:-(h/2)+l,left:-(h/2)+r},R=jt(i.child,S&&i.childLeaving,n&&i.childPulsate),D=so(f);return eB(function(){if(!d){C(!0);var q=setTimeout(D,g);return function(){clearTimeout(q)}}},[D,d,g]),z.createElement("span",{className:k,style:P},z.createElement("span",{className:R}))}var xm=550,nB=80,iB=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(xm,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(xm,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},rB=z.forwardRef(function(e,i){var t=e.center,n=t===void 0?!1:t,r=e.classes,l=e.className,h=Dt(e,["center","classes","className"]),d=z.useState([]),p=d[0],f=d[1],g=z.useRef(0),y=z.useRef(null);z.useEffect(function(){y.current&&(y.current(),y.current=null)},[p]);var S=z.useRef(!1),C=z.useRef(null),k=z.useRef(null),P=z.useRef(null);z.useEffect(function(){return function(){clearTimeout(C.current)}},[]);var R=z.useCallback(function(ne){var Z=ne.pulsate,Y=ne.rippleX,se=ne.rippleY,le=ne.rippleSize,ge=ne.cb;f(function(ue){return[].concat(nd(ue),[z.createElement(tB,{key:g.current,classes:r,timeout:xm,pulsate:Z,rippleX:Y,rippleY:se,rippleSize:le})])}),g.current+=1,y.current=ge},[r]),D=z.useCallback(function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2?arguments[2]:void 0,se=Z.pulsate,le=se===void 0?!1:se,ge=Z.center,ue=ge===void 0?n||Z.pulsate:ge,pe=Z.fakeElement,we=pe===void 0?!1:pe;if(ne.type==="mousedown"&&S.current){S.current=!1;return}ne.type==="touchstart"&&(S.current=!0);var ve=we?null:P.current,Ae=ve?ve.getBoundingClientRect():{width:0,height:0,left:0,top:0},je,xe,me;if(ue||ne.clientX===0&&ne.clientY===0||!ne.clientX&&!ne.touches)je=Math.round(Ae.width/2),xe=Math.round(Ae.height/2);else{var De=ne.touches?ne.touches[0]:ne,Oe=De.clientX,$=De.clientY;je=Math.round(Oe-Ae.left),xe=Math.round($-Ae.top)}if(ue)me=Math.sqrt((2*Math.pow(Ae.width,2)+Math.pow(Ae.height,2))/3),me%2===0&&(me+=1);else{var He=Math.max(Math.abs((ve?ve.clientWidth:0)-je),je)*2+2,ot=Math.max(Math.abs((ve?ve.clientHeight:0)-xe),xe)*2+2;me=Math.sqrt(Math.pow(He,2)+Math.pow(ot,2))}ne.touches?k.current===null&&(k.current=function(){R({pulsate:le,rippleX:je,rippleY:xe,rippleSize:me,cb:Y})},C.current=setTimeout(function(){k.current&&(k.current(),k.current=null)},nB)):R({pulsate:le,rippleX:je,rippleY:xe,rippleSize:me,cb:Y})},[n,R]),q=z.useCallback(function(){D({},{pulsate:!0})},[D]),G=z.useCallback(function(ne,Z){if(clearTimeout(C.current),ne.type==="touchend"&&k.current){ne.persist(),k.current(),k.current=null,C.current=setTimeout(function(){G(ne,Z)});return}k.current=null,f(function(Y){return Y.length>0?Y.slice(1):Y}),y.current=Z},[]);return z.useImperativeHandle(i,function(){return{pulsate:q,start:D,stop:G}},[q,D,G]),z.createElement("span",Pe({className:jt(r.root,l),ref:P},h),z.createElement(vg,{component:null,exit:!0},p))});const oB=yn(iB,{flip:!1,name:"MuiTouchRipple"})(z.memo(rB));var sB={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},aB=z.forwardRef(function(e,i){var t=e.action,n=e.buttonRef,r=e.centerRipple,l=r===void 0?!1:r,h=e.children,d=e.classes,p=e.className,f=e.component,g=f===void 0?"button":f,y=e.disabled,S=y===void 0?!1:y,C=e.disableRipple,k=C===void 0?!1:C,P=e.disableTouchRipple,R=P===void 0?!1:P,D=e.focusRipple,q=D===void 0?!1:D,G=e.focusVisibleClassName,ne=e.onBlur,Z=e.onClick,Y=e.onFocus,se=e.onFocusVisible,le=e.onKeyDown,ge=e.onKeyUp,ue=e.onMouseDown,pe=e.onMouseLeave,we=e.onMouseUp,ve=e.onTouchEnd,Ae=e.onTouchMove,je=e.onTouchStart,xe=e.onDragLeave,me=e.tabIndex,De=me===void 0?0:me,Oe=e.TouchRippleProps,$=e.type,He=$===void 0?"button":$,ot=Dt(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ee=z.useRef(null);function kt(){return lr.findDOMNode(ee.current)}var tt=z.useRef(null),lt=z.useState(!1),vt=lt[0],_t=lt[1];S&&vt&&_t(!1);var St=HC(),nt=St.isFocusVisible,Bt=St.onBlurVisible,Gt=St.ref;z.useImperativeHandle(t,function(){return{focusVisible:function(){_t(!0),ee.current.focus()}}},[]),z.useEffect(function(){vt&&q&&!k&&tt.current.pulsate()},[k,q,vt]);function Vt(it,st){var bn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R;return so(function(tn){st&&st(tn);var Wn=bn;return!Wn&&tt.current&&tt.current[it](tn),!0})}var dn=Vt("start",ue),Ft=Vt("stop",xe),wt=Vt("stop",we),I=Vt("stop",function(it){vt&&it.preventDefault(),pe&&pe(it)}),Q=Vt("start",je),Se=Vt("stop",ve),Ve=Vt("stop",Ae),ze=Vt("stop",function(it){vt&&(Bt(it),_t(!1)),ne&&ne(it)},!1),Je=so(function(it){ee.current||(ee.current=it.currentTarget),nt(it)&&(_t(!0),se&&se(it)),Y&&Y(it)}),Xe=function(){var it=kt();return g&&g!=="button"&&!(it.tagName==="A"&&it.href)},Et=z.useRef(!1),Lt=so(function(it){q&&!Et.current&&vt&&tt.current&&it.key===" "&&(Et.current=!0,it.persist(),tt.current.stop(it,function(){tt.current.start(it)})),it.target===it.currentTarget&&Xe()&&it.key===" "&&it.preventDefault(),le&&le(it),it.target===it.currentTarget&&Xe()&&it.key==="Enter"&&!S&&(it.preventDefault(),Z&&Z(it))}),At=so(function(it){q&&it.key===" "&&tt.current&&vt&&!it.defaultPrevented&&(Et.current=!1,it.persist(),tt.current.stop(it,function(){tt.current.pulsate(it)})),ge&&ge(it),Z&&it.target===it.currentTarget&&Xe()&&it.key===" "&&!it.defaultPrevented&&Z(it)}),fe=g;fe==="button"&&ot.href&&(fe="a");var Fe={};fe==="button"?(Fe.type=He,Fe.disabled=S):((fe!=="a"||!ot.href)&&(Fe.role="button"),Fe["aria-disabled"]=S);var L=Un(n,i),N=Un(Gt,ee),W=Un(L,N),J=z.useState(!1),Te=J[0],_e=J[1];z.useEffect(function(){_e(!0)},[]);var mt=Te&&!k&&!S;return z.createElement(fe,Pe({className:jt(d.root,p,vt&&[d.focusVisible,G],S&&d.disabled),onBlur:ze,onClick:Z,onFocus:Je,onKeyDown:Lt,onKeyUp:At,onMouseDown:dn,onMouseLeave:I,onMouseUp:wt,onDragLeave:Ft,onTouchEnd:Se,onTouchMove:Ve,onTouchStart:Q,ref:W,tabIndex:S?-1:De},Fe,ot),h,mt?z.createElement(oB,Pe({ref:tt,center:l},Oe)):null)});const yd=yn(sB,{name:"MuiButtonBase"})(aB);var lB=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Ui(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},cB=z.forwardRef(function(e,i){var t=e.edge,n=t===void 0?!1:t,r=e.children,l=e.classes,h=e.className,d=e.color,p=d===void 0?"default":d,f=e.disabled,g=f===void 0?!1:f,y=e.disableFocusRipple,S=y===void 0?!1:y,C=e.size,k=C===void 0?"medium":C,P=Dt(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return z.createElement(yd,Pe({className:jt(l.root,h,p!=="default"&&l["color".concat($n(p))],g&&l.disabled,k==="small"&&l["size".concat($n(k))],{start:l.edgeStart,end:l.edgeEnd}[n]),centerRipple:!0,focusRipple:!S,disabled:g,ref:i},P),z.createElement("span",{className:l.label},r))});const UC=yn(lB,{name:"MuiIconButton"})(cB);var uB=function(e){var i={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],i),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],i),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",i),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},dB=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.expandIcon,h=e.focusVisibleClassName,d=e.IconButtonProps,p=d===void 0?{}:d,f=e.onClick,g=Dt(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),y=z.useContext(VC),S=y.disabled,C=S===void 0?!1:S,k=y.expanded,P=y.toggle,R=function(D){P&&P(D),f&&f(D)};return z.createElement(yd,Pe({focusRipple:!1,disableRipple:!0,disabled:C,component:"div","aria-expanded":k,className:jt(n.root,r,C&&n.disabled,k&&n.expanded),focusVisibleClassName:jt(n.focusVisible,n.focused,h),onClick:R,ref:i},g),z.createElement("div",{className:jt(n.content,k&&n.expanded)},t),l&&z.createElement(UC,Pe({className:jt(n.expandIcon,k&&n.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),l))});yn(uB,{name:"MuiAccordionSummary"})(dB);var hB={entering:{opacity:1},entered:{opacity:1}},pB={enter:Rl.enteringScreen,exit:Rl.leavingScreen},WC=z.forwardRef(function(e,i){var t=e.children,n=e.disableStrictModeCompat,r=n===void 0?!1:n,l=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,g=e.onExited,y=e.onExiting,S=e.style,C=e.TransitionComponent,k=C===void 0?ur:C,P=e.timeout,R=P===void 0?pB:P,D=Dt(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),q=ya(),G=q.unstable_strictMode&&!r,ne=z.useRef(null),Z=Un(t.ref,i),Y=Un(G?ne:void 0,Z),se=function(Ae){return function(je,xe){if(Ae){var me=G?[ne.current,je]:[je,xe],De=ss(me,2),Oe=De[0],$=De[1];$===void 0?Ae(Oe):Ae(Oe,$)}}},le=se(p),ge=se(function(Ae,je){jC(Ae);var xe=ha({style:S,timeout:R},{mode:"enter"});Ae.style.webkitTransition=q.transitions.create("opacity",xe),Ae.style.transition=q.transitions.create("opacity",xe),h&&h(Ae,je)}),ue=se(d),pe=se(y),we=se(function(Ae){var je=ha({style:S,timeout:R},{mode:"exit"});Ae.style.webkitTransition=q.transitions.create("opacity",je),Ae.style.transition=q.transitions.create("opacity",je),f&&f(Ae)}),ve=se(g);return z.createElement(k,Pe({appear:!0,in:l,nodeRef:G?ne:void 0,onEnter:ge,onEntered:ue,onEntering:le,onExit:we,onExited:ve,onExiting:pe,timeout:R},D),function(Ae,je){return z.cloneElement(t,Pe({style:Pe({opacity:0,visibility:Ae==="exited"&&!l?"hidden":void 0},hB[Ae],S,t.props.style),ref:Y},je))})}),fB=yz(jr(vz,Cz,Hz,Jz,lL,tL,cL,vL,qm,AL));XF("div")(fB,{name:"MuiBox"});var mB=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},X0={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},gB=z.forwardRef(function(e,i){var t=e.align,n=t===void 0?"inherit":t,r=e.classes,l=e.className,h=e.color,d=h===void 0?"initial":h,p=e.component,f=e.display,g=f===void 0?"initial":f,y=e.gutterBottom,S=y===void 0?!1:y,C=e.noWrap,k=C===void 0?!1:C,P=e.paragraph,R=P===void 0?!1:P,D=e.variant,q=D===void 0?"body1":D,G=e.variantMapping,ne=G===void 0?X0:G,Z=Dt(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Y=p||(R?"p":ne[q]||X0[q])||"span";return z.createElement(Y,Pe({className:jt(r.root,l,q!=="inherit"&&r[q],d!=="initial"&&r["color".concat($n(d))],k&&r.noWrap,S&&r.gutterBottom,R&&r.paragraph,n!=="inherit"&&r["align".concat($n(n))],g!=="initial"&&r["display".concat($n(g))]),ref:i},Z))});const Xn=yn(mB,{name:"MuiTypography"})(gB);var vB=function(e){return{root:Pe({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Ui(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Ui(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Ui(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},yB=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.color,h=l===void 0?"default":l,d=e.component,p=d===void 0?"button":d,f=e.disabled,g=f===void 0?!1:f,y=e.disableElevation,S=y===void 0?!1:y,C=e.disableFocusRipple,k=C===void 0?!1:C,P=e.endIcon,R=e.focusVisibleClassName,D=e.fullWidth,q=D===void 0?!1:D,G=e.size,ne=G===void 0?"medium":G,Z=e.startIcon,Y=e.type,se=Y===void 0?"button":Y,le=e.variant,ge=le===void 0?"text":le,ue=Dt(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),pe=Z&&z.createElement("span",{className:jt(n.startIcon,n["iconSize".concat($n(ne))])},Z),we=P&&z.createElement("span",{className:jt(n.endIcon,n["iconSize".concat($n(ne))])},P);return z.createElement(yd,Pe({className:jt(n.root,n[ge],r,h==="inherit"?n.colorInherit:h!=="default"&&n["".concat(ge).concat($n(h))],ne!=="medium"&&[n["".concat(ge,"Size").concat($n(ne))],n["size".concat($n(ne))]],S&&n.disableElevation,g&&n.disabled,q&&n.fullWidth),component:p,disabled:g,focusRipple:!k,focusVisibleClassName:jt(n.focusVisible,R),ref:i,type:se},ue),z.createElement("span",{className:n.label},pe,t,we))});yn(vB,{name:"MuiButton"})(yB);var yg=z.createContext();function bB(){return z.useContext(yg)}function bd(){return z.useContext(yg)}var wB={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},xB=z.forwardRef(function(e,i){var t=e.autoFocus,n=e.checked,r=e.checkedIcon,l=e.classes,h=e.className,d=e.defaultChecked,p=e.disabled,f=e.icon,g=e.id,y=e.inputProps,S=e.inputRef,C=e.name,k=e.onBlur,P=e.onChange,R=e.onFocus,D=e.readOnly,q=e.required,G=e.tabIndex,ne=e.type,Z=e.value,Y=Dt(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),se=md({controlled:n,default:!!d,name:"SwitchBase",state:"checked"}),le=ss(se,2),ge=le[0],ue=le[1],pe=bd(),we=function(me){R&&R(me),pe&&pe.onFocus&&pe.onFocus(me)},ve=function(me){k&&k(me),pe&&pe.onBlur&&pe.onBlur(me)},Ae=function(me){var De=me.target.checked;ue(De),P&&P(me,De)},je=p;pe&&typeof je>"u"&&(je=pe.disabled);var xe=ne==="checkbox"||ne==="radio";return z.createElement(UC,Pe({component:"span",className:jt(l.root,h,ge&&l.checked,je&&l.disabled),disabled:je,tabIndex:null,role:void 0,onFocus:we,onBlur:ve,ref:i},Y),z.createElement("input",Pe({autoFocus:t,checked:n,defaultChecked:d,className:l.input,disabled:je,id:xe&&g,name:C,onChange:Ae,readOnly:D,ref:S,required:q,tabIndex:G,type:ne,value:Z},y)),ge?r:f)});const SB=yn(wB,{name:"PrivateSwitchBase"})(xB),EB=jl(z.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),TB=jl(z.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),CB=jl(z.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));var kB=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},PB=z.createElement(TB,null),RB=z.createElement(EB,null),_B=z.createElement(CB,null),OB=z.forwardRef(function(e,i){var t=e.checkedIcon,n=t===void 0?PB:t,r=e.classes,l=e.color,h=l===void 0?"secondary":l,d=e.icon,p=d===void 0?RB:d,f=e.indeterminate,g=f===void 0?!1:f,y=e.indeterminateIcon,S=y===void 0?_B:y,C=e.inputProps,k=e.size,P=k===void 0?"medium":k,R=Dt(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),D=g?S:p,q=g?S:n;return z.createElement(SB,Pe({type:"checkbox",classes:{root:jt(r.root,r["color".concat($n(h))],g&&r.indeterminate),checked:r.checked,disabled:r.disabled},color:h,inputProps:Pe({"data-indeterminate":g},C),icon:z.cloneElement(D,{fontSize:D.props.fontSize===void 0&&P==="small"?P:D.props.fontSize}),checkedIcon:z.cloneElement(q,{fontSize:q.props.fontSize===void 0&&P==="small"?P:q.props.fontSize}),ref:i},R))});yn(kB,{name:"MuiCheckbox"})(OB);function DB(e){return e=typeof e=="function"?e():e,lr.findDOMNode(e)}var Sf=typeof window<"u"?z.useLayoutEffect:z.useEffect,GC=z.forwardRef(function(e,i){var t=e.children,n=e.container,r=e.disablePortal,l=r===void 0?!1:r,h=e.onRendered,d=z.useState(null),p=d[0],f=d[1],g=Un(z.isValidElement(t)?t.ref:null,i);return Sf(function(){l||f(DB(n)||document.body)},[n,l]),Sf(function(){if(p&&!l)return ns(i,p),function(){ns(i,null)}},[i,p,l]),Sf(function(){h&&(p||l)&&h()},[h,p,l]),l?z.isValidElement(t)?z.cloneElement(t,{ref:g}):t:p&&lr.createPortal(t,p)});function qC(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var i=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),i}function AB(e){var i=Sr(e);return i.body===e?mg(i).innerWidth>i.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Sl(e,i){i?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function K0(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Y0(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,l=[i,t].concat(nd(n)),h=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(d){d.nodeType===1&&l.indexOf(d)===-1&&h.indexOf(d.tagName)===-1&&Sl(d,r)})}function Ef(e,i){var t=-1;return e.some(function(n,r){return i(n)?(t=r,!0):!1}),t}function IB(e,i){var t=[],n=[],r=e.container,l;if(!i.disableScrollLock){if(AB(r)){var h=qC();t.push({value:r.style.paddingRight,key:"padding-right",el:r}),r.style["padding-right"]="".concat(K0(r)+h,"px"),l=Sr(r).querySelectorAll(".mui-fixed"),[].forEach.call(l,function(g){n.push(g.style.paddingRight),g.style.paddingRight="".concat(K0(g)+h,"px")})}var d=r.parentElement,p=d.nodeName==="HTML"&&window.getComputedStyle(d)["overflow-y"]==="scroll"?d:r;t.push({value:p.style.overflow,key:"overflow",el:p}),p.style.overflow="hidden"}var f=function(){l&&[].forEach.call(l,function(g,y){n[y]?g.style.paddingRight=n[y]:g.style.removeProperty("padding-right")}),t.forEach(function(g){var y=g.value,S=g.el,C=g.key;y?S.style.setProperty(C,y):S.style.removeProperty(C)})};return f}function MB(e){var i=[];return[].forEach.call(e.children,function(t){t.getAttribute&&t.getAttribute("aria-hidden")==="true"&&i.push(t)}),i}var zB=function(){function e(){DF(this,e),this.modals=[],this.containers=[]}return Xm(e,[{key:"add",value:function(i,t){var n=this.modals.indexOf(i);if(n!==-1)return n;n=this.modals.length,this.modals.push(i),i.modalRef&&Sl(i.modalRef,!1);var r=MB(t);Y0(t,i.mountNode,i.modalRef,r,!0);var l=Ef(this.containers,function(h){return h.container===t});return l!==-1?(this.containers[l].modals.push(i),n):(this.containers.push({modals:[i],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(i,t){var n=Ef(this.containers,function(l){return l.modals.indexOf(i)!==-1}),r=this.containers[n];r.restore||(r.restore=IB(r,t))}},{key:"remove",value:function(i){var t=this.modals.indexOf(i);if(t===-1)return t;var n=Ef(this.containers,function(h){return h.modals.indexOf(i)!==-1}),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(i),1),this.modals.splice(t,1),r.modals.length===0)r.restore&&r.restore(),i.modalRef&&Sl(i.modalRef,!0),Y0(r.container,i.mountNode,i.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var l=r.modals[r.modals.length-1];l.modalRef&&Sl(l.modalRef,!1)}return t}},{key:"isTopModal",value:function(i){return this.modals.length>0&&this.modals[this.modals.length-1]===i}}]),e}();function LB(e){var i=e.children,t=e.disableAutoFocus,n=t===void 0?!1:t,r=e.disableEnforceFocus,l=r===void 0?!1:r,h=e.disableRestoreFocus,d=h===void 0?!1:h,p=e.getDoc,f=e.isEnabled,g=e.open,y=z.useRef(),S=z.useRef(null),C=z.useRef(null),k=z.useRef(),P=z.useRef(null),R=z.useCallback(function(G){P.current=lr.findDOMNode(G)},[]),D=Un(i.ref,R),q=z.useRef();return z.useEffect(function(){q.current=g},[g]),!q.current&&g&&typeof window<"u"&&(k.current=p().activeElement),z.useEffect(function(){if(g){var G=Sr(P.current);!n&&P.current&&!P.current.contains(G.activeElement)&&(P.current.hasAttribute("tabIndex")||P.current.setAttribute("tabIndex",-1),P.current.focus());var ne=function(){var se=P.current;if(se!==null){if(!G.hasFocus()||l||!f()||y.current){y.current=!1;return}P.current&&!P.current.contains(G.activeElement)&&P.current.focus()}},Z=function(se){l||!f()||se.keyCode!==9||G.activeElement===P.current&&(y.current=!0,se.shiftKey?C.current.focus():S.current.focus())};G.addEventListener("focus",ne,!0),G.addEventListener("keydown",Z,!0);var Y=setInterval(function(){ne()},50);return function(){clearInterval(Y),G.removeEventListener("focus",ne,!0),G.removeEventListener("keydown",Z,!0),d||(k.current&&k.current.focus&&k.current.focus(),k.current=null)}}},[n,l,d,f,g]),z.createElement(z.Fragment,null,z.createElement("div",{tabIndex:0,ref:S,"data-test":"sentinelStart"}),z.cloneElement(i,{ref:D}),z.createElement("div",{tabIndex:0,ref:C,"data-test":"sentinelEnd"}))}var Z0={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},FB=z.forwardRef(function(e,i){var t=e.invisible,n=t===void 0?!1:t,r=e.open,l=Dt(e,["invisible","open"]);return r?z.createElement("div",Pe({"aria-hidden":!0,ref:i},l,{style:Pe({},Z0.root,n?Z0.invisible:{},l.style)})):null});function NB(e){return e=typeof e=="function"?e():e,lr.findDOMNode(e)}function HB(e){return e.children?e.children.props.hasOwnProperty("in"):!1}var jB=new zB,BB=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},VB=z.forwardRef(function(e,i){var t=as(),n=id({name:"MuiModal",props:Pe({},e),theme:t}),r=n.BackdropComponent,l=r===void 0?FB:r,h=n.BackdropProps,d=n.children,p=n.closeAfterTransition,f=p===void 0?!1:p,g=n.container,y=n.disableAutoFocus,S=y===void 0?!1:y,C=n.disableBackdropClick,k=C===void 0?!1:C,P=n.disableEnforceFocus,R=P===void 0?!1:P,D=n.disableEscapeKeyDown,q=D===void 0?!1:D,G=n.disablePortal,ne=G===void 0?!1:G,Z=n.disableRestoreFocus,Y=Z===void 0?!1:Z,se=n.disableScrollLock,le=se===void 0?!1:se,ge=n.hideBackdrop,ue=ge===void 0?!1:ge,pe=n.keepMounted,we=pe===void 0?!1:pe,ve=n.manager,Ae=ve===void 0?jB:ve,je=n.onBackdropClick,xe=n.onClose,me=n.onEscapeKeyDown,De=n.onRendered,Oe=n.open,$=Dt(n,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),He=z.useState(!0),ot=He[0],ee=He[1],kt=z.useRef({}),tt=z.useRef(null),lt=z.useRef(null),vt=Un(lt,i),_t=HB(n),St=function(){return Sr(tt.current)},nt=function(){return kt.current.modalRef=lt.current,kt.current.mountNode=tt.current,kt.current},Bt=function(){Ae.mount(nt(),{disableScrollLock:le}),lt.current.scrollTop=0},Gt=so(function(){var Je=NB(g)||St().body;Ae.add(nt(),Je),lt.current&&Bt()}),Vt=z.useCallback(function(){return Ae.isTopModal(nt())},[Ae]),dn=so(function(Je){tt.current=Je,Je&&(De&&De(),Oe&&Vt()?Bt():Sl(lt.current,!0))}),Ft=z.useCallback(function(){Ae.remove(nt())},[Ae]);if(z.useEffect(function(){return function(){Ft()}},[Ft]),z.useEffect(function(){Oe?Gt():(!_t||!f)&&Ft()},[Oe,Ft,_t,f,Gt]),!we&&!Oe&&(!_t||ot))return null;var wt=function(){ee(!1)},I=function(){ee(!0),f&&Ft()},Q=function(Je){Je.target===Je.currentTarget&&(je&&je(Je),!k&&xe&&xe(Je,"backdropClick"))},Se=function(Je){Je.key!=="Escape"||!Vt()||(me&&me(Je),q||(Je.stopPropagation(),xe&&xe(Je,"escapeKeyDown")))},Ve=BB(t||{zIndex:uT}),ze={};return d.props.tabIndex===void 0&&(ze.tabIndex=d.props.tabIndex||"-1"),_t&&(ze.onEnter=da(wt,d.props.onEnter),ze.onExited=da(I,d.props.onExited)),z.createElement(GC,{ref:dn,container:g,disablePortal:ne},z.createElement("div",Pe({ref:vt,onKeyDown:Se,role:"presentation"},$,{style:Pe({},Ve.root,!Oe&&ot?Ve.hidden:{},$.style)}),ue?null:z.createElement(l,Pe({open:Oe,onClick:Q},h)),z.createElement(LB,{disableEnforceFocus:R,disableAutoFocus:S,disableRestoreFocus:Y,getDoc:St,isEnabled:Vt,open:Oe},z.cloneElement(d,ze))))}),UB=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Ui(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},WB=z.forwardRef(function(e,i){var t=e.absolute,n=t===void 0?!1:t,r=e.classes,l=e.className,h=e.component,d=h===void 0?"hr":h,p=e.flexItem,f=p===void 0?!1:p,g=e.light,y=g===void 0?!1:g,S=e.orientation,C=S===void 0?"horizontal":S,k=e.role,P=k===void 0?d!=="hr"?"separator":void 0:k,R=e.variant,D=R===void 0?"fullWidth":R,q=Dt(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return z.createElement(d,Pe({className:jt(r.root,l,D!=="fullWidth"&&r[D],n&&r.absolute,f&&r.flexItem,y&&r.light,C==="vertical"&&r.vertical),role:P,ref:i},q))});yn(UB,{name:"MuiDivider"})(WB);function bg(e){var i=e.props,t=e.states,n=e.muiFormControl;return t.reduce(function(r,l){return r[l]=i[l],n&&typeof i[l]>"u"&&(r[l]=n[l]),r},{})}function Eu(e,i){return parseInt(e[i],10)||0}var GB=typeof window<"u"?z.useLayoutEffect:z.useEffect,qB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},XB=z.forwardRef(function(e,i){var t=e.onChange,n=e.rows,r=e.rowsMax,l=e.rowsMin,h=e.maxRows,d=e.minRows,p=d===void 0?1:d,f=e.style,g=e.value,y=Dt(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),S=h||r,C=n||l||p,k=z.useRef(g!=null),P=k.current,R=z.useRef(null),D=Un(i,R),q=z.useRef(null),G=z.useRef(0),ne=z.useState({}),Z=ne[0],Y=ne[1],se=z.useCallback(function(){var ge=R.current,ue=window.getComputedStyle(ge),pe=q.current;pe.style.width=ue.width,pe.value=ge.value||e.placeholder||"x",pe.value.slice(-1)===`
`&&(pe.value+=" ");var we=ue["box-sizing"],ve=Eu(ue,"padding-bottom")+Eu(ue,"padding-top"),Ae=Eu(ue,"border-bottom-width")+Eu(ue,"border-top-width"),je=pe.scrollHeight-ve;pe.value="x";var xe=pe.scrollHeight-ve,me=je;C&&(me=Math.max(Number(C)*xe,me)),S&&(me=Math.min(Number(S)*xe,me)),me=Math.max(me,xe);var De=me+(we==="border-box"?ve+Ae:0),Oe=Math.abs(me-je)<=1;Y(function($){return G.current<20&&(De>0&&Math.abs(($.outerHeightStyle||0)-De)>1||$.overflow!==Oe)?(G.current+=1,{overflow:Oe,outerHeightStyle:De}):$})},[S,C,e.placeholder]);z.useEffect(function(){var ge=fg(function(){G.current=0,se()});return window.addEventListener("resize",ge),function(){ge.clear(),window.removeEventListener("resize",ge)}},[se]),GB(function(){se()}),z.useEffect(function(){G.current=0},[g]);var le=function(ge){G.current=0,P||se(),t&&t(ge)};return z.createElement(z.Fragment,null,z.createElement("textarea",Pe({value:g,onChange:le,ref:D,rows:C,style:Pe({height:Z.outerHeightStyle,overflow:Z.overflow?"hidden":null},f)},y)),z.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:q,tabIndex:-1,style:Pe({},qB.shadow,f)}))});function $0(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function XC(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e&&($0(e.value)&&e.value!==""||i&&$0(e.defaultValue)&&e.defaultValue!=="")}var KB=function(e){var i=e.palette.type==="light",t={color:"currentColor",opacity:i?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},r={opacity:i?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Pe({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&:-ms-input-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus:-ms-input-placeholder":r,"&:focus::-ms-input-placeholder":r},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},YB=typeof window>"u"?z.useEffect:z.useLayoutEffect,ZB=z.forwardRef(function(e,i){var t=e["aria-describedby"],n=e.autoComplete,r=e.autoFocus,l=e.classes,h=e.className;e.color;var d=e.defaultValue,p=e.disabled,f=e.endAdornment;e.error;var g=e.fullWidth,y=g===void 0?!1:g,S=e.id,C=e.inputComponent,k=C===void 0?"input":C,P=e.inputProps,R=P===void 0?{}:P,D=e.inputRef;e.margin;var q=e.multiline,G=q===void 0?!1:q,ne=e.name,Z=e.onBlur,Y=e.onChange,se=e.onClick,le=e.onFocus,ge=e.onKeyDown,ue=e.onKeyUp,pe=e.placeholder,we=e.readOnly,ve=e.renderSuffix,Ae=e.rows,je=e.rowsMax,xe=e.rowsMin,me=e.maxRows,De=e.minRows,Oe=e.startAdornment,$=e.type,He=$===void 0?"text":$,ot=e.value,ee=Dt(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),kt=R.value!=null?R.value:ot,tt=z.useRef(kt!=null),lt=tt.current,vt=z.useRef(),_t=z.useCallback(function(fe){},[]),St=Un(R.ref,_t),nt=Un(D,St),Bt=Un(vt,nt),Gt=z.useState(!1),Vt=Gt[0],dn=Gt[1],Ft=bB(),wt=bg({props:e,muiFormControl:Ft,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});wt.focused=Ft?Ft.focused:Vt,z.useEffect(function(){!Ft&&p&&Vt&&(dn(!1),Z&&Z())},[Ft,p,Vt,Z]);var I=Ft&&Ft.onFilled,Q=Ft&&Ft.onEmpty,Se=z.useCallback(function(fe){XC(fe)?I&&I():Q&&Q()},[I,Q]);YB(function(){lt&&Se({value:kt})},[kt,Se,lt]);var Ve=function(fe){if(wt.disabled){fe.stopPropagation();return}le&&le(fe),R.onFocus&&R.onFocus(fe),Ft&&Ft.onFocus?Ft.onFocus(fe):dn(!0)},ze=function(fe){Z&&Z(fe),R.onBlur&&R.onBlur(fe),Ft&&Ft.onBlur?Ft.onBlur(fe):dn(!1)},Je=function(fe){if(!lt){var Fe=fe.target||vt.current;if(Fe==null)throw new Error(ua(1));Se({value:Fe.value})}for(var L=arguments.length,N=new Array(L>1?L-1:0),W=1;W<L;W++)N[W-1]=arguments[W];R.onChange&&R.onChange.apply(R,[fe].concat(N)),Y&&Y.apply(void 0,[fe].concat(N))};z.useEffect(function(){Se(vt.current)},[]);var Xe=function(fe){vt.current&&fe.currentTarget===fe.target&&vt.current.focus(),se&&se(fe)},Et=k,Lt=Pe({},R,{ref:Bt});typeof Et!="string"?Lt=Pe({inputRef:Bt,type:He},Lt,{ref:null}):G?Ae&&!me&&!De&&!je&&!xe?Et="textarea":(Lt=Pe({minRows:Ae||De,rowsMax:je,maxRows:me},Lt),Et=XB):Lt=Pe({type:He},Lt);var At=function(fe){Se(fe.animationName==="mui-auto-fill-cancel"?vt.current:{value:"x"})};return z.useEffect(function(){Ft&&Ft.setAdornedStart(!!Oe)},[Ft,Oe]),z.createElement("div",Pe({className:jt(l.root,l["color".concat($n(wt.color||"primary"))],h,wt.disabled&&l.disabled,wt.error&&l.error,y&&l.fullWidth,wt.focused&&l.focused,Ft&&l.formControl,G&&l.multiline,Oe&&l.adornedStart,f&&l.adornedEnd,wt.margin==="dense"&&l.marginDense),onClick:Xe,ref:i},ee),Oe,z.createElement(yg.Provider,{value:null},z.createElement(Et,Pe({"aria-invalid":wt.error,"aria-describedby":t,autoComplete:n,autoFocus:r,defaultValue:d,disabled:wt.disabled,id:S,onAnimationStart:At,name:ne,placeholder:pe,readOnly:we,required:wt.required,rows:Ae,value:kt,onKeyDown:ge,onKeyUp:ue},Lt,{className:jt(l.input,R.className,wt.disabled&&l.disabled,G&&l.inputMultiline,wt.hiddenLabel&&l.inputHiddenLabel,Oe&&l.inputAdornedStart,f&&l.inputAdornedEnd,He==="search"&&l.inputTypeSearch,wt.margin==="dense"&&l.inputMarginDense),onBlur:ze,onChange:Je,onFocus:Ve}))),f,ve?ve(Pe({},wt,{startAdornment:Oe})):null)});const wg=yn(KB,{name:"MuiInputBase"})(ZB);var $B=function(e){var i=e.palette.type==="light",t=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:n,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:i?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:n}},"&$focused":{backgroundColor:i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},KC=z.forwardRef(function(e,i){var t=e.disableUnderline,n=e.classes,r=e.fullWidth,l=r===void 0?!1:r,h=e.inputComponent,d=h===void 0?"input":h,p=e.multiline,f=p===void 0?!1:p,g=e.type,y=g===void 0?"text":g,S=Dt(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return z.createElement(wg,Pe({classes:Pe({},n,{root:jt(n.root,!t&&n.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:f,ref:i,type:y},S))});KC.muiName="Input";const JB=yn($B,{name:"MuiFilledInput"})(KC);var QB=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},e8=z.forwardRef(function(e,i){e.checked;var t=e.classes,n=e.className,r=e.control,l=e.disabled;e.inputRef;var h=e.label,d=e.labelPlacement,p=d===void 0?"end":d;e.name,e.onChange,e.value;var f=Dt(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),g=bd(),y=l;typeof y>"u"&&typeof r.props.disabled<"u"&&(y=r.props.disabled),typeof y>"u"&&g&&(y=g.disabled);var S={disabled:y};return["checked","name","onChange","value","inputRef"].forEach(function(C){typeof r.props[C]>"u"&&typeof e[C]<"u"&&(S[C]=e[C])}),z.createElement("label",Pe({className:jt(t.root,n,p!=="end"&&t["labelPlacement".concat($n(p))],y&&t.disabled),ref:i},f),z.cloneElement(r,S),z.createElement(Xn,{component:"span",className:jt(t.label,y&&t.disabled)},h))});yn(QB,{name:"MuiFormControlLabel"})(e8);var t8={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},n8=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.row,l=r===void 0?!1:r,h=Dt(e,["classes","className","row"]);return z.createElement("div",Pe({className:jt(t.root,n,l&&t.row),ref:i},h))});yn(t8,{name:"MuiFormGroup"})(n8);var i8=[0,1,2,3,4,5,6,7,8,9,10],r8=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function o8(e,i,t){var n={};r8.forEach(function(r){var l="grid-".concat(t,"-").concat(r);if(r===!0){n[l]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(r==="auto"){n[l]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var h="".concat(Math.round(r/12*1e8)/1e6,"%");n[l]={flexBasis:h,flexGrow:0,maxWidth:h}}),t==="xs"?Pe(e,n):e[i.breakpoints.up(t)]=n}function Tf(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=parseFloat(e);return"".concat(t/i).concat(String(e).replace(String(t),"")||"px")}function s8(e,i){var t={};return i8.forEach(function(n){var r=e.spacing(n);r!==0&&(t["spacing-".concat(i,"-").concat(n)]={margin:"-".concat(Tf(r,2)),width:"calc(100% + ".concat(Tf(r),")"),"& > $item":{padding:Tf(r,2)}})}),t}var a8=function(e){return Pe({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},s8(e,"xs"),e.breakpoints.keys.reduce(function(i,t){return o8(i,e,t),i},{}))},l8=z.forwardRef(function(e,i){var t=e.alignContent,n=t===void 0?"stretch":t,r=e.alignItems,l=r===void 0?"stretch":r,h=e.classes,d=e.className,p=e.component,f=p===void 0?"div":p,g=e.container,y=g===void 0?!1:g,S=e.direction,C=S===void 0?"row":S,k=e.item,P=k===void 0?!1:k,R=e.justify,D=e.justifyContent,q=D===void 0?"flex-start":D,G=e.lg,ne=G===void 0?!1:G,Z=e.md,Y=Z===void 0?!1:Z,se=e.sm,le=se===void 0?!1:se,ge=e.spacing,ue=ge===void 0?0:ge,pe=e.wrap,we=pe===void 0?"wrap":pe,ve=e.xl,Ae=ve===void 0?!1:ve,je=e.xs,xe=je===void 0?!1:je,me=e.zeroMinWidth,De=me===void 0?!1:me,Oe=Dt(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),$=jt(h.root,d,y&&[h.container,ue!==0&&h["spacing-xs-".concat(String(ue))]],P&&h.item,De&&h.zeroMinWidth,C!=="row"&&h["direction-xs-".concat(String(C))],we!=="wrap"&&h["wrap-xs-".concat(String(we))],l!=="stretch"&&h["align-items-xs-".concat(String(l))],n!=="stretch"&&h["align-content-xs-".concat(String(n))],(R||q)!=="flex-start"&&h["justify-content-xs-".concat(String(R||q))],xe!==!1&&h["grid-xs-".concat(String(xe))],le!==!1&&h["grid-sm-".concat(String(le))],Y!==!1&&h["grid-md-".concat(String(Y))],ne!==!1&&h["grid-lg-".concat(String(ne))],Ae!==!1&&h["grid-xl-".concat(String(Ae))]);return z.createElement(f,Pe({className:$,ref:i},Oe))});yn(a8,{name:"MuiGrid"})(l8);function Sm(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var c8={entering:{opacity:1,transform:Sm(1)},entered:{opacity:1,transform:"none"}},YC=z.forwardRef(function(e,i){var t=e.children,n=e.disableStrictModeCompat,r=n===void 0?!1:n,l=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,g=e.onExited,y=e.onExiting,S=e.style,C=e.timeout,k=C===void 0?"auto":C,P=e.TransitionComponent,R=P===void 0?ur:P,D=Dt(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),q=z.useRef(),G=z.useRef(),ne=ya(),Z=ne.unstable_strictMode&&!r,Y=z.useRef(null),se=Un(t.ref,i),le=Un(Z?Y:void 0,se),ge=function(me){return function(De,Oe){if(me){var $=Z?[Y.current,De]:[De,Oe],He=ss($,2),ot=He[0],ee=He[1];ee===void 0?me(ot):me(ot,ee)}}},ue=ge(p),pe=ge(function(me,De){jC(me);var Oe=ha({style:S,timeout:k},{mode:"enter"}),$=Oe.duration,He=Oe.delay,ot;k==="auto"?(ot=ne.transitions.getAutoHeightDuration(me.clientHeight),G.current=ot):ot=$,me.style.transition=[ne.transitions.create("opacity",{duration:ot,delay:He}),ne.transitions.create("transform",{duration:ot*.666,delay:He})].join(","),h&&h(me,De)}),we=ge(d),ve=ge(y),Ae=ge(function(me){var De=ha({style:S,timeout:k},{mode:"exit"}),Oe=De.duration,$=De.delay,He;k==="auto"?(He=ne.transitions.getAutoHeightDuration(me.clientHeight),G.current=He):He=Oe,me.style.transition=[ne.transitions.create("opacity",{duration:He,delay:$}),ne.transitions.create("transform",{duration:He*.666,delay:$||He*.333})].join(","),me.style.opacity="0",me.style.transform=Sm(.75),f&&f(me)}),je=ge(g),xe=function(me,De){var Oe=Z?me:De;k==="auto"&&(q.current=setTimeout(Oe,G.current||0))};return z.useEffect(function(){return function(){clearTimeout(q.current)}},[]),z.createElement(R,Pe({appear:!0,in:l,nodeRef:Z?Y:void 0,onEnter:pe,onEntered:we,onEntering:ue,onExit:Ae,onExited:je,onExiting:ve,addEndListener:xe,timeout:k==="auto"?null:k},D),function(me,De){return z.cloneElement(t,Pe({style:Pe({opacity:0,transform:Sm(.75),visibility:me==="exited"&&!l?"hidden":void 0},c8[me],S,t.props.style),ref:le},De))})});YC.muiSupportAuto=!0;var u8=function(e){var i=e.palette.type==="light",t=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},ZC=z.forwardRef(function(e,i){var t=e.disableUnderline,n=e.classes,r=e.fullWidth,l=r===void 0?!1:r,h=e.inputComponent,d=h===void 0?"input":h,p=e.multiline,f=p===void 0?!1:p,g=e.type,y=g===void 0?"text":g,S=Dt(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return z.createElement(wg,Pe({classes:Pe({},n,{root:jt(n.root,!t&&n.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:f,ref:i,type:y},S))});ZC.muiName="Input";const $C=yn(u8,{name:"MuiInput"})(ZC);var la=z.createContext({}),d8={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},h8=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.component,h=l===void 0?"ul":l,d=e.dense,p=d===void 0?!1:d,f=e.disablePadding,g=f===void 0?!1:f,y=e.subheader,S=Dt(e,["children","classes","className","component","dense","disablePadding","subheader"]),C=z.useMemo(function(){return{dense:p}},[p]);return z.createElement(la.Provider,{value:C},z.createElement(h,Pe({className:jt(n.root,r,p&&n.dense,!g&&n.padding,y&&n.subheader),ref:i},S),y,t))});const JC=yn(d8,{name:"MuiList"})(h8);var p8=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},f8=typeof window>"u"?z.useEffect:z.useLayoutEffect,m8=z.forwardRef(function(e,i){var t=e.alignItems,n=t===void 0?"center":t,r=e.autoFocus,l=r===void 0?!1:r,h=e.button,d=h===void 0?!1:h,p=e.children,f=e.classes,g=e.className,y=e.component,S=e.ContainerComponent,C=S===void 0?"li":S,k=e.ContainerProps;k=k===void 0?{}:k;var P=k.className,R=Dt(k,["className"]),D=e.dense,q=D===void 0?!1:D,G=e.disabled,ne=G===void 0?!1:G,Z=e.disableGutters,Y=Z===void 0?!1:Z,se=e.divider,le=se===void 0?!1:se,ge=e.focusVisibleClassName,ue=e.selected,pe=ue===void 0?!1:ue,we=Dt(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),ve=z.useContext(la),Ae={dense:q||ve.dense||!1,alignItems:n},je=z.useRef(null);f8(function(){l&&(je.current&&je.current.focus())},[l]);var xe=z.Children.toArray(p),me=xe.length&&NC(xe[xe.length-1],["ListItemSecondaryAction"]),De=z.useCallback(function(ot){je.current=lr.findDOMNode(ot)},[]),Oe=Un(De,i),$=Pe({className:jt(f.root,g,Ae.dense&&f.dense,!Y&&f.gutters,le&&f.divider,ne&&f.disabled,d&&f.button,n!=="center"&&f.alignItemsFlexStart,me&&f.secondaryAction,pe&&f.selected),disabled:ne},we),He=y||"li";return d&&($.component=y||"div",$.focusVisibleClassName=jt(f.focusVisible,ge),He=yd),me?(He=!$.component&&!y?"div":He,C==="li"&&(He==="li"?He="div":$.component==="li"&&($.component="div")),z.createElement(la.Provider,{value:Ae},z.createElement(C,Pe({className:jt(f.container,P),ref:Oe},R),z.createElement(He,$,xe),xe.pop()))):z.createElement(la.Provider,{value:Ae},z.createElement(He,Pe({ref:Oe},$),xe))});const ea=yn(p8,{name:"MuiListItem"})(m8);var g8=function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},v8=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=Dt(e,["classes","className"]),l=z.useContext(la);return z.createElement("div",Pe({className:jt(t.root,n,l.alignItems==="flex-start"&&t.alignItemsFlexStart),ref:i},r))});yn(g8,{name:"MuiListItemIcon"})(v8);var y8={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},b8=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.disableTypography,h=l===void 0?!1:l,d=e.inset,p=d===void 0?!1:d,f=e.primary,g=e.primaryTypographyProps,y=e.secondary,S=e.secondaryTypographyProps,C=Dt(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),k=z.useContext(la),P=k.dense,R=f??t;R!=null&&R.type!==Xn&&!h&&(R=z.createElement(Xn,Pe({variant:P?"body2":"body1",className:n.primary,component:"span",display:"block"},g),R));var D=y;return D!=null&&D.type!==Xn&&!h&&(D=z.createElement(Xn,Pe({variant:"body2",className:n.secondary,color:"textSecondary",display:"block"},S),D)),z.createElement("div",Pe({className:jt(n.root,r,P&&n.dense,p&&n.inset,R&&D&&n.multiline),ref:i},C),R,D)});const ll=yn(y8,{name:"MuiListItemText"})(b8);function J0(e,i){var t=0;return typeof i=="number"?t=i:i==="center"?t=e.height/2:i==="bottom"&&(t=e.height),t}function Q0(e,i){var t=0;return typeof i=="number"?t=i:i==="center"?t=e.width/2:i==="right"&&(t=e.width),t}function eS(e){return[e.horizontal,e.vertical].map(function(i){return typeof i=="number"?"".concat(i,"px"):i}).join(" ")}function w8(e,i){for(var t=i,n=0;t&&t!==e;)t=t.parentElement,n+=t.scrollTop;return n}function Cf(e){return typeof e=="function"?e():e}var x8={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},S8=z.forwardRef(function(e,i){var t=e.action,n=e.anchorEl,r=e.anchorOrigin,l=r===void 0?{vertical:"top",horizontal:"left"}:r,h=e.anchorPosition,d=e.anchorReference,p=d===void 0?"anchorEl":d,f=e.children,g=e.classes,y=e.className,S=e.container,C=e.elevation,k=C===void 0?8:C,P=e.getContentAnchorEl,R=e.marginThreshold,D=R===void 0?16:R,q=e.onEnter,G=e.onEntered,ne=e.onEntering,Z=e.onExit,Y=e.onExited,se=e.onExiting,le=e.open,ge=e.PaperProps,ue=ge===void 0?{}:ge,pe=e.transformOrigin,we=pe===void 0?{vertical:"top",horizontal:"left"}:pe,ve=e.TransitionComponent,Ae=ve===void 0?YC:ve,je=e.transitionDuration,xe=je===void 0?"auto":je,me=e.TransitionProps,De=me===void 0?{}:me,Oe=Dt(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),$=z.useRef(),He=z.useCallback(function(nt){if(p==="anchorPosition")return h;var Bt=Cf(n),Gt=Bt&&Bt.nodeType===1?Bt:Sr($.current).body,Vt=Gt.getBoundingClientRect(),dn=nt===0?l.vertical:"center";return{top:Vt.top+J0(Vt,dn),left:Vt.left+Q0(Vt,l.horizontal)}},[n,l.horizontal,l.vertical,h,p]),ot=z.useCallback(function(nt){var Bt=0;if(P&&p==="anchorEl"){var Gt=P(nt);if(Gt&&nt.contains(Gt)){var Vt=w8(nt,Gt);Bt=Gt.offsetTop+Gt.clientHeight/2-Vt||0}}return Bt},[l.vertical,p,P]),ee=z.useCallback(function(nt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:J0(nt,we.vertical)+Bt,horizontal:Q0(nt,we.horizontal)}},[we.horizontal,we.vertical]),kt=z.useCallback(function(nt){var Bt=ot(nt),Gt={width:nt.offsetWidth,height:nt.offsetHeight},Vt=ee(Gt,Bt);if(p==="none")return{top:null,left:null,transformOrigin:eS(Vt)};var dn=He(Bt),Ft=dn.top-Vt.vertical,wt=dn.left-Vt.horizontal,I=Ft+Gt.height,Q=wt+Gt.width,Se=mg(Cf(n)),Ve=Se.innerHeight-D,ze=Se.innerWidth-D;if(Ft<D){var Je=Ft-D;Ft-=Je,Vt.vertical+=Je}else if(I>Ve){var Xe=I-Ve;Ft-=Xe,Vt.vertical+=Xe}if(wt<D){var Et=wt-D;wt-=Et,Vt.horizontal+=Et}else if(Q>ze){var Lt=Q-ze;wt-=Lt,Vt.horizontal+=Lt}return{top:"".concat(Math.round(Ft),"px"),left:"".concat(Math.round(wt),"px"),transformOrigin:eS(Vt)}},[n,p,He,ot,ee,D]),tt=z.useCallback(function(){var nt=$.current;if(nt){var Bt=kt(nt);Bt.top!==null&&(nt.style.top=Bt.top),Bt.left!==null&&(nt.style.left=Bt.left),nt.style.transformOrigin=Bt.transformOrigin}},[kt]),lt=function(nt,Bt){ne&&ne(nt,Bt),tt()},vt=z.useCallback(function(nt){$.current=lr.findDOMNode(nt)},[]);z.useEffect(function(){le&&tt()}),z.useImperativeHandle(t,function(){return le?{updatePosition:function(){tt()}}:null},[le,tt]),z.useEffect(function(){if(le){var nt=fg(function(){tt()});return window.addEventListener("resize",nt),function(){nt.clear(),window.removeEventListener("resize",nt)}}},[le,tt]);var _t=xe;xe==="auto"&&!Ae.muiSupportAuto&&(_t=void 0);var St=S||(n?Sr(Cf(n)).body:void 0);return z.createElement(VB,Pe({container:St,open:le,ref:i,BackdropProps:{invisible:!0},className:jt(g.root,y)},Oe),z.createElement(Ae,Pe({appear:!0,in:le,onEnter:q,onEntered:G,onExit:Z,onExited:Y,onExiting:se,timeout:_t},De,{onEntering:da(lt,De.onEntering)}),z.createElement(vd,Pe({elevation:k,ref:vt},ue,{className:jt(g.paper,ue.className)}),f)))});const QC=yn(x8,{name:"MuiPopover"})(S8);function kf(e,i,t){return e===i?e.firstChild:i&&i.nextElementSibling?i.nextElementSibling:t?null:e.firstChild}function tS(e,i,t){return e===i?t?e.firstChild:e.lastChild:i&&i.previousElementSibling?i.previousElementSibling:t?null:e.lastChild}function e1(e,i){if(i===void 0)return!0;var t=e.innerText;return t===void 0&&(t=e.textContent),t=t.trim().toLowerCase(),t.length===0?!1:i.repeating?t[0]===i.keys[0]:t.indexOf(i.keys.join(""))===0}function cl(e,i,t,n,r,l){for(var h=!1,d=r(e,i,i?t:!1);d;){if(d===e.firstChild){if(h)return;h=!0}var p=n?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!e1(d,l)||p)d=r(e,d,t);else{d.focus();return}}}var E8=typeof window>"u"?z.useEffect:z.useLayoutEffect,T8=z.forwardRef(function(e,i){var t=e.actions,n=e.autoFocus,r=n===void 0?!1:n,l=e.autoFocusItem,h=l===void 0?!1:l,d=e.children,p=e.className,f=e.disabledItemsFocusable,g=f===void 0?!1:f,y=e.disableListWrap,S=y===void 0?!1:y,C=e.onKeyDown,k=e.variant,P=k===void 0?"selectedMenu":k,R=Dt(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),D=z.useRef(null),q=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});E8(function(){r&&D.current.focus()},[r]),z.useImperativeHandle(t,function(){return{adjustStyleForScrollbar:function(le,ge){var ue=!D.current.style.width;if(le.clientHeight<D.current.clientHeight&&ue){var pe="".concat(qC(),"px");D.current.style[ge.direction==="rtl"?"paddingLeft":"paddingRight"]=pe,D.current.style.width="calc(100% + ".concat(pe,")")}return D.current}}},[]);var G=function(le){var ge=D.current,ue=le.key,pe=Sr(ge).activeElement;if(ue==="ArrowDown")le.preventDefault(),cl(ge,pe,S,g,kf);else if(ue==="ArrowUp")le.preventDefault(),cl(ge,pe,S,g,tS);else if(ue==="Home")le.preventDefault(),cl(ge,null,S,g,kf);else if(ue==="End")le.preventDefault(),cl(ge,null,S,g,tS);else if(ue.length===1){var we=q.current,ve=ue.toLowerCase(),Ae=performance.now();we.keys.length>0&&(Ae-we.lastTime>500?(we.keys=[],we.repeating=!0,we.previousKeyMatched=!0):we.repeating&&ve!==we.keys[0]&&(we.repeating=!1)),we.lastTime=Ae,we.keys.push(ve);var je=pe&&!we.repeating&&e1(pe,we);we.previousKeyMatched&&(je||cl(ge,pe,!1,g,kf,we))?le.preventDefault():we.previousKeyMatched=!1}C&&C(le)},ne=z.useCallback(function(le){D.current=lr.findDOMNode(le)},[]),Z=Un(ne,i),Y=-1;z.Children.forEach(d,function(le,ge){z.isValidElement(le)&&(le.props.disabled||(P==="selectedMenu"&&le.props.selected||Y===-1)&&(Y=ge))});var se=z.Children.map(d,function(le,ge){if(ge===Y){var ue={};return h&&(ue.autoFocus=!0),le.props.tabIndex===void 0&&P==="selectedMenu"&&(ue.tabIndex=0),z.cloneElement(le,ue)}return le});return z.createElement(JC,Pe({role:"menu",ref:Z,className:p,onKeyDown:G,tabIndex:r?0:-1},R),se)}),nS={vertical:"top",horizontal:"right"},iS={vertical:"top",horizontal:"left"},C8={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},k8=z.forwardRef(function(e,i){var t=e.autoFocus,n=t===void 0?!0:t,r=e.children,l=e.classes,h=e.disableAutoFocusItem,d=h===void 0?!1:h,p=e.MenuListProps,f=p===void 0?{}:p,g=e.onClose,y=e.onEntering,S=e.open,C=e.PaperProps,k=C===void 0?{}:C,P=e.PopoverClasses,R=e.transitionDuration,D=R===void 0?"auto":R,q=e.TransitionProps;q=q===void 0?{}:q;var G=q.onEntering,ne=Dt(q,["onEntering"]),Z=e.variant,Y=Z===void 0?"selectedMenu":Z,se=Dt(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),le=ya(),ge=n&&!d&&S,ue=z.useRef(null),pe=z.useRef(null),we=function(){return pe.current},ve=function(me,De){ue.current&&ue.current.adjustStyleForScrollbar(me,le),y&&y(me,De),G&&G(me,De)},Ae=function(me){me.key==="Tab"&&(me.preventDefault(),g&&g(me,"tabKeyDown"))},je=-1;z.Children.map(r,function(me,De){z.isValidElement(me)&&(me.props.disabled||(Y!=="menu"&&me.props.selected||je===-1)&&(je=De))});var xe=z.Children.map(r,function(me,De){return De===je?z.cloneElement(me,{ref:function(Oe){pe.current=lr.findDOMNode(Oe),ns(me.ref,Oe)}}):me});return z.createElement(QC,Pe({getContentAnchorEl:we,classes:P,onClose:g,TransitionProps:Pe({onEntering:ve},ne),anchorOrigin:le.direction==="rtl"?nS:iS,transformOrigin:le.direction==="rtl"?nS:iS,PaperProps:Pe({},k,{classes:Pe({},k.classes,{root:l.paper})}),open:S,ref:i,transitionDuration:D},se),z.createElement(T8,Pe({onKeyDown:Ae,actions:ue,autoFocus:n&&(je===-1||d),autoFocusItem:ge,variant:Y},f,{className:jt(l.list,f.className)}),xe))});const P8=yn(C8,{name:"MuiMenu"})(k8);var R8=function(e){return{root:Pe({},e.typography.body1,Ko({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Pe({},e.typography.body2,{minHeight:"auto"})}},_8=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.component,l=r===void 0?"li":r,h=e.disableGutters,d=h===void 0?!1:h,p=e.ListItemClasses,f=e.role,g=f===void 0?"menuitem":f,y=e.selected,S=e.tabIndex,C=Dt(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),k;return e.disabled||(k=S!==void 0?S:-1),z.createElement(ea,Pe({button:!0,role:g,tabIndex:k,component:l,selected:y,disableGutters:d,classes:Pe({dense:t.dense},p),className:jt(t.root,n,y&&t.selected,!d&&t.gutters),ref:i},C))});const ro=yn(R8,{name:"MuiMenuItem"})(_8);var t1=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.disabled,l=e.IconComponent,h=e.inputRef,d=e.variant,p=d===void 0?"standard":d,f=Dt(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return z.createElement(z.Fragment,null,z.createElement("select",Pe({className:jt(t.root,t.select,t[p],n,r&&t.disabled),disabled:r,ref:h||i},f)),e.multiple?null:z.createElement(l,{className:jt(t.icon,t["icon".concat($n(p))],r&&t.disabled)}))});const n1=jl(z.createElement("path",{d:"M7 10l5 5 5-5z"}));var i1=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},O8=z.createElement($C,null),r1=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.IconComponent,l=r===void 0?n1:r,h=e.input,d=h===void 0?O8:h,p=e.inputProps;e.variant;var f=Dt(e,["children","classes","IconComponent","input","inputProps","variant"]),g=bd(),y=bg({props:e,muiFormControl:g,states:["variant"]});return z.cloneElement(d,Pe({inputComponent:t1,inputProps:Pe({children:t,classes:n,IconComponent:l,variant:y.variant,type:void 0},p,d?d.props.inputProps:{}),ref:i},f))});r1.muiName="Select";yn(i1,{name:"MuiNativeSelect"})(r1);var D8=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},A8=z.forwardRef(function(e,i){e.children;var t=e.classes,n=e.className,r=e.label,l=e.labelWidth,h=e.notched,d=e.style,p=Dt(e,["children","classes","className","label","labelWidth","notched","style"]),f=ya(),g=f.direction==="rtl"?"right":"left";if(r!==void 0)return z.createElement("fieldset",Pe({"aria-hidden":!0,className:jt(t.root,n),ref:i,style:d},p),z.createElement("legend",{className:jt(t.legendLabelled,h&&t.legendNotched)},r?z.createElement("span",null,r):z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var y=l>0?l*.75+8:.01;return z.createElement("fieldset",Pe({"aria-hidden":!0,style:Pe(Ko({},"padding".concat($n(g)),8),d),className:jt(t.root,n),ref:i},p),z.createElement("legend",{className:t.legend,style:{width:h?y:.01}},z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const I8=yn(D8,{name:"PrivateNotchedOutline"})(A8);var M8=function(e){var i=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:i}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:i},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},o1=z.forwardRef(function(e,i){var t=e.classes,n=e.fullWidth,r=n===void 0?!1:n,l=e.inputComponent,h=l===void 0?"input":l,d=e.label,p=e.labelWidth,f=p===void 0?0:p,g=e.multiline,y=g===void 0?!1:g,S=e.notched,C=e.type,k=C===void 0?"text":C,P=Dt(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return z.createElement(wg,Pe({renderSuffix:function(R){return z.createElement(I8,{className:t.notchedOutline,label:d,labelWidth:f,notched:typeof S<"u"?S:!!(R.startAdornment||R.filled||R.focused)})},classes:Pe({},t,{root:jt(t.root,t.underline),notchedOutline:null}),fullWidth:r,inputComponent:h,multiline:y,ref:i,type:k},P))});o1.muiName="Input";const z8=yn(M8,{name:"MuiOutlinedInput"})(o1);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Bl=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",L8=function(){for(var e=["Edge","Trident","Firefox"],i=0;i<e.length;i+=1)if(Bl&&navigator.userAgent.indexOf(e[i])>=0)return 1;return 0}();function F8(e){var i=!1;return function(){i||(i=!0,window.Promise.resolve().then(function(){i=!1,e()}))}}function N8(e){var i=!1;return function(){i||(i=!0,setTimeout(function(){i=!1,e()},L8))}}var H8=Bl&&window.Promise,j8=H8?F8:N8;function s1(e){var i={};return e&&i.toString.call(e)==="[object Function]"}function cs(e,i){if(e.nodeType!==1)return[];var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e,null);return i?n[i]:n}function xg(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Vl(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var i=cs(e),t=i.overflow,n=i.overflowX,r=i.overflowY;return/(auto|scroll|overlay)/.test(t+r+n)?e:Vl(xg(e))}function a1(e){return e&&e.referenceNode?e.referenceNode:e}var rS=Bl&&!!(window.MSInputMethodContext&&document.documentMode),oS=Bl&&/MSIE 10/.test(navigator.userAgent);function ba(e){return e===11?rS:e===10?oS:rS||oS}function pa(e){if(!e)return document.documentElement;for(var i=ba(10)?document.body:null,t=e.offsetParent||null;t===i&&e.nextElementSibling;)t=(e=e.nextElementSibling).offsetParent;var n=t&&t.nodeName;return!n||n==="BODY"||n==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(t.nodeName)!==-1&&cs(t,"position")==="static"?pa(t):t}function B8(e){var i=e.nodeName;return i==="BODY"?!1:i==="HTML"||pa(e.firstElementChild)===e}function Em(e){return e.parentNode!==null?Em(e.parentNode):e}function qu(e,i){if(!e||!e.nodeType||!i||!i.nodeType)return document.documentElement;var t=e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING,n=t?e:i,r=t?i:e,l=document.createRange();l.setStart(n,0),l.setEnd(r,0);var h=l.commonAncestorContainer;if(e!==h&&i!==h||n.contains(r))return B8(h)?h:pa(h);var d=Em(e);return d.host?qu(d.host,i):qu(e,Em(i).host)}function fa(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",t=i==="top"?"scrollTop":"scrollLeft",n=e.nodeName;if(n==="BODY"||n==="HTML"){var r=e.ownerDocument.documentElement,l=e.ownerDocument.scrollingElement||r;return l[t]}return e[t]}function V8(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=fa(i,"top"),r=fa(i,"left"),l=t?-1:1;return e.top+=n*l,e.bottom+=n*l,e.left+=r*l,e.right+=r*l,e}function sS(e,i){var t=i==="x"?"Left":"Top",n=t==="Left"?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+n+"Width"])}function aS(e,i,t,n){return Math.max(i["offset"+e],i["scroll"+e],t["client"+e],t["offset"+e],t["scroll"+e],ba(10)?parseInt(t["offset"+e])+parseInt(n["margin"+(e==="Height"?"Top":"Left")])+parseInt(n["margin"+(e==="Height"?"Bottom":"Right")]):0)}function l1(e){var i=e.body,t=e.documentElement,n=ba(10)&&getComputedStyle(t);return{height:aS("Height",i,t,n),width:aS("Width",i,t,n)}}var U8=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")},W8=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),ma=function(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e},Ji=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};function ho(e){return Ji({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Tm(e){var i={};try{if(ba(10)){i=e.getBoundingClientRect();var t=fa(e,"top"),n=fa(e,"left");i.top+=t,i.left+=n,i.bottom+=t,i.right+=n}else i=e.getBoundingClientRect()}catch{}var r={left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top},l=e.nodeName==="HTML"?l1(e.ownerDocument):{},h=l.width||e.clientWidth||r.width,d=l.height||e.clientHeight||r.height,p=e.offsetWidth-h,f=e.offsetHeight-d;if(p||f){var g=cs(e);p-=sS(g,"x"),f-=sS(g,"y"),r.width-=p,r.height-=f}return ho(r)}function Sg(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=ba(10),r=i.nodeName==="HTML",l=Tm(e),h=Tm(i),d=Vl(e),p=cs(i),f=parseFloat(p.borderTopWidth),g=parseFloat(p.borderLeftWidth);t&&r&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));var y=ho({top:l.top-h.top-f,left:l.left-h.left-g,width:l.width,height:l.height});if(y.marginTop=0,y.marginLeft=0,!n&&r){var S=parseFloat(p.marginTop),C=parseFloat(p.marginLeft);y.top-=f-S,y.bottom-=f-S,y.left-=g-C,y.right-=g-C,y.marginTop=S,y.marginLeft=C}return(n&&!t?i.contains(d):i===d&&d.nodeName!=="BODY")&&(y=V8(y,i)),y}function G8(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.ownerDocument.documentElement,n=Sg(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),l=Math.max(t.clientHeight,window.innerHeight||0),h=i?0:fa(t),d=i?0:fa(t,"left"),p={top:h-n.top+n.marginTop,left:d-n.left+n.marginLeft,width:r,height:l};return ho(p)}function c1(e){var i=e.nodeName;if(i==="BODY"||i==="HTML")return!1;if(cs(e,"position")==="fixed")return!0;var t=xg(e);return t?c1(t):!1}function u1(e){if(!e||!e.parentElement||ba())return document.documentElement;for(var i=e.parentElement;i&&cs(i,"transform")==="none";)i=i.parentElement;return i||document.documentElement}function Eg(e,i,t,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l={top:0,left:0},h=r?u1(e):qu(e,a1(i));if(n==="viewport")l=G8(h,r);else{var d=void 0;n==="scrollParent"?(d=Vl(xg(i)),d.nodeName==="BODY"&&(d=e.ownerDocument.documentElement)):n==="window"?d=e.ownerDocument.documentElement:d=n;var p=Sg(d,h,r);if(d.nodeName==="HTML"&&!c1(h)){var f=l1(e.ownerDocument),g=f.height,y=f.width;l.top+=p.top-p.marginTop,l.bottom=g+p.top,l.left+=p.left-p.marginLeft,l.right=y+p.left}else l=p}t=t||0;var S=typeof t=="number";return l.left+=S?t:t.left||0,l.top+=S?t:t.top||0,l.right-=S?t:t.right||0,l.bottom-=S?t:t.bottom||0,l}function q8(e){var i=e.width,t=e.height;return i*t}function d1(e,i,t,n,r){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var h=Eg(t,n,l,r),d={top:{width:h.width,height:i.top-h.top},right:{width:h.right-i.right,height:h.height},bottom:{width:h.width,height:h.bottom-i.bottom},left:{width:i.left-h.left,height:h.height}},p=Object.keys(d).map(function(S){return Ji({key:S},d[S],{area:q8(d[S])})}).sort(function(S,C){return C.area-S.area}),f=p.filter(function(S){var C=S.width,k=S.height;return C>=t.clientWidth&&k>=t.clientHeight}),g=f.length>0?f[0].key:p[0].key,y=e.split("-")[1];return g+(y?"-"+y:"")}function h1(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=n?u1(i):qu(i,a1(t));return Sg(t,r,n)}function p1(e){var i=e.ownerDocument.defaultView,t=i.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0),l={width:e.offsetWidth+r,height:e.offsetHeight+n};return l}function Xu(e){var i={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(t){return i[t]})}function f1(e,i,t){t=t.split("-")[0];var n=p1(e),r={width:n.width,height:n.height},l=["right","left"].indexOf(t)!==-1,h=l?"top":"left",d=l?"left":"top",p=l?"height":"width",f=l?"width":"height";return r[h]=i[h]+i[p]/2-n[p]/2,t===d?r[d]=i[d]-n[f]:r[d]=i[Xu(d)],r}function Ul(e,i){return Array.prototype.find?e.find(i):e.filter(i)[0]}function X8(e,i,t){if(Array.prototype.findIndex)return e.findIndex(function(r){return r[i]===t});var n=Ul(e,function(r){return r[i]===t});return e.indexOf(n)}function m1(e,i,t){var n=t===void 0?e:e.slice(0,X8(e,"name",t));return n.forEach(function(r){r.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var l=r.function||r.fn;r.enabled&&s1(l)&&(i.offsets.popper=ho(i.offsets.popper),i.offsets.reference=ho(i.offsets.reference),i=l(i,r))}),i}function K8(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=h1(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=d1(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=f1(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=m1(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function g1(e,i){return e.some(function(t){var n=t.name,r=t.enabled;return r&&n===i})}function Tg(e){for(var i=[!1,"ms","Webkit","Moz","O"],t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<i.length;n++){var r=i[n],l=r?""+r+t:e;if(typeof document.body.style[l]<"u")return l}return null}function Y8(){return this.state.isDestroyed=!0,g1(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Tg("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function v1(e){var i=e.ownerDocument;return i?i.defaultView:window}function y1(e,i,t,n){var r=e.nodeName==="BODY",l=r?e.ownerDocument.defaultView:e;l.addEventListener(i,t,{passive:!0}),r||y1(Vl(l.parentNode),i,t,n),n.push(l)}function Z8(e,i,t,n){t.updateBound=n,v1(e).addEventListener("resize",t.updateBound,{passive:!0});var r=Vl(e);return y1(r,"scroll",t.updateBound,t.scrollParents),t.scrollElement=r,t.eventsEnabled=!0,t}function $8(){this.state.eventsEnabled||(this.state=Z8(this.reference,this.options,this.state,this.scheduleUpdate))}function J8(e,i){return v1(e).removeEventListener("resize",i.updateBound),i.scrollParents.forEach(function(t){t.removeEventListener("scroll",i.updateBound)}),i.updateBound=null,i.scrollParents=[],i.scrollElement=null,i.eventsEnabled=!1,i}function Q8(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=J8(this.reference,this.state))}function Cg(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Cm(e,i){Object.keys(i).forEach(function(t){var n="";["width","height","top","right","bottom","left"].indexOf(t)!==-1&&Cg(i[t])&&(n="px"),e.style[t]=i[t]+n})}function eV(e,i){Object.keys(i).forEach(function(t){var n=i[t];n!==!1?e.setAttribute(t,i[t]):e.removeAttribute(t)})}function tV(e){return Cm(e.instance.popper,e.styles),eV(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Cm(e.arrowElement,e.arrowStyles),e}function nV(e,i,t,n,r){var l=h1(r,i,e,t.positionFixed),h=d1(t.placement,l,i,e,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return i.setAttribute("x-placement",h),Cm(i,{position:t.positionFixed?"fixed":"absolute"}),t}function iV(e,i){var t=e.offsets,n=t.popper,r=t.reference,l=Math.round,h=Math.floor,d=function(R){return R},p=l(r.width),f=l(n.width),g=["left","right"].indexOf(e.placement)!==-1,y=e.placement.indexOf("-")!==-1,S=p%2===f%2,C=p%2===1&&f%2===1,k=i?g||y||S?l:h:d,P=i?l:d;return{left:k(C&&!y&&i?n.left-1:n.left),top:P(n.top),bottom:P(n.bottom),right:k(n.right)}}var rV=Bl&&/Firefox/i.test(navigator.userAgent);function oV(e,i){var t=i.x,n=i.y,r=e.offsets.popper,l=Ul(e.instance.modifiers,function(G){return G.name==="applyStyle"}).gpuAcceleration;l!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h=l!==void 0?l:i.gpuAcceleration,d=pa(e.instance.popper),p=Tm(d),f={position:r.position},g=iV(e,window.devicePixelRatio<2||!rV),y=t==="bottom"?"top":"bottom",S=n==="right"?"left":"right",C=Tg("transform"),k=void 0,P=void 0;if(y==="bottom"?d.nodeName==="HTML"?P=-d.clientHeight+g.bottom:P=-p.height+g.bottom:P=g.top,S==="right"?d.nodeName==="HTML"?k=-d.clientWidth+g.right:k=-p.width+g.right:k=g.left,h&&C)f[C]="translate3d("+k+"px, "+P+"px, 0)",f[y]=0,f[S]=0,f.willChange="transform";else{var R=y==="bottom"?-1:1,D=S==="right"?-1:1;f[y]=P*R,f[S]=k*D,f.willChange=y+", "+S}var q={"x-placement":e.placement};return e.attributes=Ji({},q,e.attributes),e.styles=Ji({},f,e.styles),e.arrowStyles=Ji({},e.offsets.arrow,e.arrowStyles),e}function b1(e,i,t){var n=Ul(e,function(d){var p=d.name;return p===i}),r=!!n&&e.some(function(d){return d.name===t&&d.enabled&&d.order<n.order});if(!r){var l="`"+i+"`",h="`"+t+"`";console.warn(h+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return r}function sV(e,i){var t;if(!b1(e.instance.modifiers,"arrow","keepTogether"))return e;var n=i.element;if(typeof n=="string"){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],l=e.offsets,h=l.popper,d=l.reference,p=["left","right"].indexOf(r)!==-1,f=p?"height":"width",g=p?"Top":"Left",y=g.toLowerCase(),S=p?"left":"top",C=p?"bottom":"right",k=p1(n)[f];d[C]-k<h[y]&&(e.offsets.popper[y]-=h[y]-(d[C]-k)),d[y]+k>h[C]&&(e.offsets.popper[y]+=d[y]+k-h[C]),e.offsets.popper=ho(e.offsets.popper);var P=d[y]+d[f]/2-k/2,R=cs(e.instance.popper),D=parseFloat(R["margin"+g]),q=parseFloat(R["border"+g+"Width"]),G=P-e.offsets.popper[y]-D-q;return G=Math.max(Math.min(h[f]-k,G),0),e.arrowElement=n,e.offsets.arrow=(t={},ma(t,y,Math.round(G)),ma(t,S,""),t),e}function aV(e){return e==="end"?"start":e==="start"?"end":e}var w1=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Pf=w1.slice(3);function lS(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Pf.indexOf(e),n=Pf.slice(t+1).concat(Pf.slice(0,t));return i?n.reverse():n}var Rf={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function lV(e,i){if(g1(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var t=Eg(e.instance.popper,e.instance.reference,i.padding,i.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],r=Xu(n),l=e.placement.split("-")[1]||"",h=[];switch(i.behavior){case Rf.FLIP:h=[n,r];break;case Rf.CLOCKWISE:h=lS(n);break;case Rf.COUNTERCLOCKWISE:h=lS(n,!0);break;default:h=i.behavior}return h.forEach(function(d,p){if(n!==d||h.length===p+1)return e;n=e.placement.split("-")[0],r=Xu(n);var f=e.offsets.popper,g=e.offsets.reference,y=Math.floor,S=n==="left"&&y(f.right)>y(g.left)||n==="right"&&y(f.left)<y(g.right)||n==="top"&&y(f.bottom)>y(g.top)||n==="bottom"&&y(f.top)<y(g.bottom),C=y(f.left)<y(t.left),k=y(f.right)>y(t.right),P=y(f.top)<y(t.top),R=y(f.bottom)>y(t.bottom),D=n==="left"&&C||n==="right"&&k||n==="top"&&P||n==="bottom"&&R,q=["top","bottom"].indexOf(n)!==-1,G=!!i.flipVariations&&(q&&l==="start"&&C||q&&l==="end"&&k||!q&&l==="start"&&P||!q&&l==="end"&&R),ne=!!i.flipVariationsByContent&&(q&&l==="start"&&k||q&&l==="end"&&C||!q&&l==="start"&&R||!q&&l==="end"&&P),Z=G||ne;(S||D||Z)&&(e.flipped=!0,(S||D)&&(n=h[p+1]),Z&&(l=aV(l)),e.placement=n+(l?"-"+l:""),e.offsets.popper=Ji({},e.offsets.popper,f1(e.instance.popper,e.offsets.reference,e.placement)),e=m1(e.instance.modifiers,e,"flip"))}),e}function cV(e){var i=e.offsets,t=i.popper,n=i.reference,r=e.placement.split("-")[0],l=Math.floor,h=["top","bottom"].indexOf(r)!==-1,d=h?"right":"bottom",p=h?"left":"top",f=h?"width":"height";return t[d]<l(n[p])&&(e.offsets.popper[p]=l(n[p])-t[f]),t[p]>l(n[d])&&(e.offsets.popper[p]=l(n[d])),e}function uV(e,i,t,n){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+r[1],h=r[2];if(!l)return e;if(h.indexOf("%")===0){var d=void 0;switch(h){case"%p":d=t;break;case"%":case"%r":default:d=n}var p=ho(d);return p[i]/100*l}else if(h==="vh"||h==="vw"){var f=void 0;return h==="vh"?f=Math.max(document.documentElement.clientHeight,window.innerHeight||0):f=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f/100*l}else return l}function dV(e,i,t,n){var r=[0,0],l=["right","left"].indexOf(n)!==-1,h=e.split(/(\+|\-)/).map(function(g){return g.trim()}),d=h.indexOf(Ul(h,function(g){return g.search(/,|\s/)!==-1}));h[d]&&h[d].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,f=d!==-1?[h.slice(0,d).concat([h[d].split(p)[0]]),[h[d].split(p)[1]].concat(h.slice(d+1))]:[h];return f=f.map(function(g,y){var S=(y===1?!l:l)?"height":"width",C=!1;return g.reduce(function(k,P){return k[k.length-1]===""&&["+","-"].indexOf(P)!==-1?(k[k.length-1]=P,C=!0,k):C?(k[k.length-1]+=P,C=!1,k):k.concat(P)},[]).map(function(k){return uV(k,S,i,t)})}),f.forEach(function(g,y){g.forEach(function(S,C){Cg(S)&&(r[y]+=S*(g[C-1]==="-"?-1:1))})}),r}function hV(e,i){var t=i.offset,n=e.placement,r=e.offsets,l=r.popper,h=r.reference,d=n.split("-")[0],p=void 0;return Cg(+t)?p=[+t,0]:p=dV(t,l,h,d),d==="left"?(l.top+=p[0],l.left-=p[1]):d==="right"?(l.top+=p[0],l.left+=p[1]):d==="top"?(l.left+=p[0],l.top-=p[1]):d==="bottom"&&(l.left+=p[0],l.top+=p[1]),e.popper=l,e}function pV(e,i){var t=i.boundariesElement||pa(e.instance.popper);e.instance.reference===t&&(t=pa(t));var n=Tg("transform"),r=e.instance.popper.style,l=r.top,h=r.left,d=r[n];r.top="",r.left="",r[n]="";var p=Eg(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed);r.top=l,r.left=h,r[n]=d,i.boundaries=p;var f=i.priority,g=e.offsets.popper,y={primary:function(S){var C=g[S];return g[S]<p[S]&&!i.escapeWithReference&&(C=Math.max(g[S],p[S])),ma({},S,C)},secondary:function(S){var C=S==="right"?"left":"top",k=g[C];return g[S]>p[S]&&!i.escapeWithReference&&(k=Math.min(g[C],p[S]-(S==="right"?g.width:g.height))),ma({},C,k)}};return f.forEach(function(S){var C=["left","top"].indexOf(S)!==-1?"primary":"secondary";g=Ji({},g,y[C](S))}),e.offsets.popper=g,e}function fV(e){var i=e.placement,t=i.split("-")[0],n=i.split("-")[1];if(n){var r=e.offsets,l=r.reference,h=r.popper,d=["bottom","top"].indexOf(t)!==-1,p=d?"left":"top",f=d?"width":"height",g={start:ma({},p,l[p]),end:ma({},p,l[p]+l[f]-h[f])};e.offsets.popper=Ji({},h,g[n])}return e}function mV(e){if(!b1(e.instance.modifiers,"hide","preventOverflow"))return e;var i=e.offsets.reference,t=Ul(e.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(i.bottom<t.top||i.left>t.right||i.top>t.bottom||i.right<t.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function gV(e){var i=e.placement,t=i.split("-")[0],n=e.offsets,r=n.popper,l=n.reference,h=["left","right"].indexOf(t)!==-1,d=["top","left"].indexOf(t)===-1;return r[h?"left":"top"]=l[t]-(d?r[h?"width":"height"]:0),e.placement=Xu(i),e.offsets.popper=ho(r),e}var vV={shift:{order:100,enabled:!0,fn:fV},offset:{order:200,enabled:!0,fn:hV,offset:0},preventOverflow:{order:300,enabled:!0,fn:pV,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:cV},arrow:{order:500,enabled:!0,fn:sV,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:lV,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:gV},hide:{order:800,enabled:!0,fn:mV},computeStyle:{order:850,enabled:!0,fn:oV,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:tV,onLoad:nV,gpuAcceleration:void 0}},yV={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:vV},wd=function(){function e(i,t){var n=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};U8(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=j8(this.update.bind(this)),this.options=Ji({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=i&&i.jquery?i[0]:i,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Ji({},e.Defaults.modifiers,r.modifiers)).forEach(function(h){n.options.modifiers[h]=Ji({},e.Defaults.modifiers[h]||{},r.modifiers?r.modifiers[h]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(h){return Ji({name:h},n.options.modifiers[h])}).sort(function(h,d){return h.order-d.order}),this.modifiers.forEach(function(h){h.enabled&&s1(h.onLoad)&&h.onLoad(n.reference,n.popper,n.options,h,n.state)}),this.update();var l=this.options.eventsEnabled;l&&this.enableEventListeners(),this.state.eventsEnabled=l}return W8(e,[{key:"update",value:function(){return K8.call(this)}},{key:"destroy",value:function(){return Y8.call(this)}},{key:"enableEventListeners",value:function(){return $8.call(this)}},{key:"disableEventListeners",value:function(){return Q8.call(this)}}]),e}();wd.Utils=(typeof window<"u"?window:global).PopperUtils;wd.placements=w1;wd.Defaults=yV;function bV(e,i){var t=i&&i.direction||"ltr";if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function cS(e){return typeof e=="function"?e():e}var wV=typeof window<"u"?z.useLayoutEffect:z.useEffect,xV={},x1=z.forwardRef(function(e,i){var t=e.anchorEl,n=e.children,r=e.container,l=e.disablePortal,h=l===void 0?!1:l,d=e.keepMounted,p=d===void 0?!1:d,f=e.modifiers,g=e.open,y=e.placement,S=y===void 0?"bottom":y,C=e.popperOptions,k=C===void 0?xV:C,P=e.popperRef,R=e.style,D=e.transition,q=D===void 0?!1:D,G=Dt(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),ne=z.useRef(null),Z=Un(ne,i),Y=z.useRef(null),se=Un(Y,P),le=z.useRef(se);wV(function(){le.current=se},[se]),z.useImperativeHandle(P,function(){return Y.current},[]);var ge=z.useState(!0),ue=ge[0],pe=ge[1],we=as(),ve=bV(S,we),Ae=z.useState(ve),je=Ae[0],xe=Ae[1];z.useEffect(function(){Y.current&&Y.current.update()});var me=z.useCallback(function(){if(!(!ne.current||!t||!g)){Y.current&&(Y.current.destroy(),le.current(null));var ee=function(tt){xe(tt.placement)};cS(t);var kt=new wd(cS(t),ne.current,Pe({placement:ve},k,{modifiers:Pe({},h?{}:{preventOverflow:{boundariesElement:"window"}},f,k.modifiers),onCreate:da(ee,k.onCreate),onUpdate:da(ee,k.onUpdate)}));le.current(kt)}},[t,h,f,g,ve,k]),De=z.useCallback(function(ee){ns(Z,ee),me()},[Z,me]),Oe=function(){pe(!1)},$=function(){Y.current&&(Y.current.destroy(),le.current(null))},He=function(){pe(!0),$()};if(z.useEffect(function(){return function(){$()}},[]),z.useEffect(function(){!g&&!q&&$()},[g,q]),!p&&!g&&(!q||ue))return null;var ot={placement:je};return q&&(ot.TransitionProps={in:g,onEnter:Oe,onExited:He}),z.createElement(GC,{disablePortal:h,container:r},z.createElement("div",Pe({ref:De,role:"tooltip"},G,{style:Pe({position:"fixed",top:0,left:0,display:!g&&p&&!q?"none":null},R)}),typeof n=="function"?n(ot):n))});function uS(e,i){return co(i)==="object"&&i!==null?e===i:String(e)===String(i)}function SV(e){return e==null||typeof e=="string"&&!e.trim()}var EV=z.forwardRef(function(e,i){var t=e["aria-label"],n=e.autoFocus,r=e.autoWidth,l=e.children,h=e.classes,d=e.className,p=e.defaultValue,f=e.disabled,g=e.displayEmpty,y=e.IconComponent,S=e.inputRef,C=e.labelId,k=e.MenuProps,P=k===void 0?{}:k,R=e.multiple,D=e.name,q=e.onBlur,G=e.onChange,ne=e.onClose,Z=e.onFocus,Y=e.onOpen,se=e.open,le=e.readOnly,ge=e.renderValue,ue=e.SelectDisplayProps,pe=ue===void 0?{}:ue,we=e.tabIndex;e.type;var ve=e.value,Ae=e.variant,je=Ae===void 0?"standard":Ae,xe=Dt(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),me=md({controlled:ve,default:p,name:"Select"}),De=ss(me,2),Oe=De[0],$=De[1],He=z.useRef(null),ot=z.useState(null),ee=ot[0],kt=ot[1],tt=z.useRef(se!=null),lt=tt.current,vt=z.useState(),_t=vt[0],St=vt[1],nt=z.useState(!1),Bt=nt[0],Gt=nt[1],Vt=Un(i,S);z.useImperativeHandle(Vt,function(){return{focus:function(){ee.focus()},node:He.current,value:Oe}},[ee,Oe]),z.useEffect(function(){n&&ee&&ee.focus()},[n,ee]),z.useEffect(function(){if(ee){var W=Sr(ee).getElementById(C);if(W){var J=function(){getSelection().isCollapsed&&ee.focus()};return W.addEventListener("click",J),function(){W.removeEventListener("click",J)}}}},[C,ee]);var dn=function(W,J){W?Y&&Y(J):ne&&ne(J),lt||(St(r?null:ee.clientWidth),Gt(W))},Ft=function(W){W.button===0&&(W.preventDefault(),ee.focus(),dn(!0,W))},wt=function(W){dn(!1,W)},I=z.Children.toArray(l),Q=function(W){var J=I.map(function(_e){return _e.props.value}).indexOf(W.target.value);if(J!==-1){var Te=I[J];$(Te.props.value),G&&G(W,Te)}},Se=function(W){return function(J){R||dn(!1,J);var Te;if(R){Te=Array.isArray(Oe)?Oe.slice():[];var _e=Oe.indexOf(W.props.value);_e===-1?Te.push(W.props.value):Te.splice(_e,1)}else Te=W.props.value;W.props.onClick&&W.props.onClick(J),Oe!==Te&&($(Te),G&&(J.persist(),Object.defineProperty(J,"target",{writable:!0,value:{value:Te,name:D}}),G(J,W)))}},Ve=function(W){if(!le){var J=[" ","ArrowUp","ArrowDown","Enter"];J.indexOf(W.key)!==-1&&(W.preventDefault(),dn(!0,W))}},ze=ee!==null&&(lt?se:Bt),Je=function(W){!ze&&q&&(W.persist(),Object.defineProperty(W,"target",{writable:!0,value:{value:Oe,name:D}}),q(W))};delete xe["aria-invalid"];var Xe,Et,Lt=[],At=!1;(XC({value:Oe})||g)&&(ge?Xe=ge(Oe):At=!0);var fe=I.map(function(W){if(!z.isValidElement(W))return null;var J;if(R){if(!Array.isArray(Oe))throw new Error(ua(2));J=Oe.some(function(Te){return uS(Te,W.props.value)}),J&&At&&Lt.push(W.props.children)}else J=uS(Oe,W.props.value),J&&At&&(Et=W.props.children);return z.cloneElement(W,{"aria-selected":J?"true":void 0,onClick:Se(W),onKeyUp:function(Te){Te.key===" "&&Te.preventDefault(),W.props.onKeyUp&&W.props.onKeyUp(Te)},role:"option",selected:J,value:void 0,"data-value":W.props.value})});At&&(Xe=R?Lt.join(", "):Et);var Fe=_t;!r&&lt&&ee&&(Fe=ee.clientWidth);var L;typeof we<"u"?L=we:L=f?null:0;var N=pe.id||(D?"mui-component-select-".concat(D):void 0);return z.createElement(z.Fragment,null,z.createElement("div",Pe({className:jt(h.root,h.select,h.selectMenu,h[je],d,f&&h.disabled),ref:kt,tabIndex:L,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ze?"true":void 0,"aria-haspopup":"listbox","aria-label":t,"aria-labelledby":[C,N].filter(Boolean).join(" ")||void 0,onKeyDown:Ve,onMouseDown:f||le?null:Ft,onBlur:Je,onFocus:Z},pe,{id:N}),SV(Xe)?z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Xe),z.createElement("input",Pe({value:Array.isArray(Oe)?Oe.join(","):Oe,name:D,ref:He,"aria-hidden":!0,onChange:Q,tabIndex:-1,className:h.nativeInput,autoFocus:n},xe)),z.createElement(y,{className:jt(h.icon,h["icon".concat($n(je))],ze&&h.iconOpen,f&&h.disabled)}),z.createElement(P8,Pe({id:"menu-".concat(D||""),anchorEl:ee,open:ze,onClose:wt},P,{MenuListProps:Pe({"aria-labelledby":C,role:"listbox",disableListWrap:!0},P.MenuListProps),PaperProps:Pe({},P.PaperProps,{style:Pe({minWidth:Fe},P.PaperProps!=null?P.PaperProps.style:null)})}),fe))}),TV=i1,CV=z.createElement($C,null),kV=z.createElement(JB,null),S1=z.forwardRef(function e(i,t){var n=i.autoWidth,r=n===void 0?!1:n,l=i.children,h=i.classes,d=i.displayEmpty,p=d===void 0?!1:d,f=i.IconComponent,g=f===void 0?n1:f,y=i.id,S=i.input,C=i.inputProps,k=i.label,P=i.labelId,R=i.labelWidth,D=R===void 0?0:R,q=i.MenuProps,G=i.multiple,ne=G===void 0?!1:G,Z=i.native,Y=Z===void 0?!1:Z,se=i.onClose,le=i.onOpen,ge=i.open,ue=i.renderValue,pe=i.SelectDisplayProps,we=i.variant,ve=we===void 0?"standard":we,Ae=Dt(i,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),je=Y?t1:EV,xe=bd(),me=bg({props:i,muiFormControl:xe,states:["variant"]}),De=me.variant||ve,Oe=S||{standard:CV,outlined:z.createElement(z8,{label:k,labelWidth:D}),filled:kV}[De];return z.cloneElement(Oe,Pe({inputComponent:je,inputProps:Pe({children:l,IconComponent:g,variant:De,type:void 0,multiple:ne},Y?{id:y}:{autoWidth:r,displayEmpty:p,labelId:P,MenuProps:q,onClose:se,onOpen:le,open:ge,renderValue:ue,SelectDisplayProps:Pe({id:y},pe)},C,{classes:C?Jm({baseClasses:h,newClasses:C.classes,Component:e}):h},S?S.props.inputProps:{}),ref:t},Ae))});S1.muiName="Select";const km=yn(TV,{name:"MuiSelect"})(S1);function PV(){return U.jsxs("svg",{width:"15",height:"11",viewBox:"0 0 15 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[U.jsxs("g",{clipPath:"url(#clip0_527_47371)",children:[U.jsx("path",{d:"M1.57302 0H6.01747C6.31215 0 6.59477 0.144866 6.80314 0.402728C7.01152 0.660591 7.12858 1.01033 7.12858 1.375V9.625C7.12858 9.98967 7.01152 10.3394 6.80314 10.5973C6.59477 10.8551 6.31215 11 6.01747 11H1.57302C1.27834 11 0.995725 10.8551 0.787351 10.5973C0.578977 10.3394 0.461914 9.98967 0.461914 9.625V1.375C0.461914 1.01033 0.578977 0.660591 0.787351 0.402728C0.995725 0.144866 1.27834 0 1.57302 0ZM1.57302 0.6875C1.42568 0.6875 1.28437 0.759933 1.18019 0.888864C1.076 1.0178 1.01747 1.19266 1.01747 1.375V9.625C1.01747 9.80734 1.076 9.98221 1.18019 10.1111C1.28437 10.2401 1.42568 10.3125 1.57302 10.3125H6.01747C6.16481 10.3125 6.30612 10.2401 6.41031 10.1111C6.51449 9.98221 6.57302 9.80734 6.57302 9.625V1.375C6.57302 1.19266 6.51449 1.0178 6.41031 0.888864C6.30612 0.759933 6.16481 0.6875 6.01747 0.6875H1.57302Z",fill:"white"}),U.jsx("path",{opacity:"0.4",d:"M8.90603 0H13.3505C13.6452 0 13.9278 0.144866 14.1362 0.402728C14.3445 0.660591 14.4616 1.01033 14.4616 1.375V9.625C14.4616 9.98967 14.3445 10.3394 14.1362 10.5973C13.9278 10.8551 13.6452 11 13.3505 11H8.90603C8.61135 11 8.32873 10.8551 8.12036 10.5973C7.91198 10.3394 7.79492 9.98967 7.79492 9.625V1.375C7.79492 1.01033 7.91198 0.660591 8.12036 0.402728C8.32873 0.144866 8.61135 0 8.90603 0ZM8.90603 0.6875C8.75869 0.6875 8.61738 0.759933 8.5132 0.888864C8.40901 1.0178 8.35048 1.19266 8.35048 1.375V9.625C8.35048 9.80734 8.40901 9.98221 8.5132 10.1111C8.61738 10.2401 8.75869 10.3125 8.90603 10.3125H13.3505C13.4978 10.3125 13.6391 10.2401 13.7433 10.1111C13.8475 9.98221 13.906 9.80734 13.906 9.625V1.375C13.906 1.19266 13.8475 1.0178 13.7433 0.888864C13.6391 0.759933 13.4978 0.6875 13.3505 0.6875H8.90603Z",fill:"white"})]}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_527_47371",children:U.jsx("rect",{width:"14",height:"11",fill:"white",transform:"translate(0.461914)"})})})]})}function RV(){return U.jsxs("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[U.jsxs("g",{clipPath:"url(#clip0_527_47381)",children:[U.jsx("path",{opacity:"0.4",d:"M1.11111 0H5.55555C5.85024 0 6.13285 0.144866 6.34123 0.402728C6.5496 0.660591 6.66667 1.01033 6.66667 1.375V9.625C6.66667 9.98967 6.5496 10.3394 6.34123 10.5973C6.13285 10.8551 5.85024 11 5.55555 11H1.11111C0.816426 11 0.533811 10.8551 0.325437 10.5973C0.117063 10.3394 0 9.98967 0 9.625V1.375C0 1.01033 0.117063 0.660591 0.325437 0.402728C0.533811 0.144866 0.816426 0 1.11111 0ZM1.11111 0.6875C0.963768 0.6875 0.822461 0.759933 0.718274 0.888864C0.614087 1.0178 0.555555 1.19266 0.555555 1.375V9.625C0.555555 9.80734 0.614087 9.98221 0.718274 10.1111C0.822461 10.2401 0.963768 10.3125 1.11111 10.3125H5.55555C5.7029 10.3125 5.8442 10.2401 5.94839 10.1111C6.05258 9.98221 6.11111 9.80734 6.11111 9.625V1.375C6.11111 1.19266 6.05258 1.0178 5.94839 0.888864C5.8442 0.759933 5.7029 0.6875 5.55555 0.6875H1.11111Z",fill:"white"}),U.jsx("path",{d:"M8.44412 0H12.8886C13.1832 0 13.4659 0.144866 13.6742 0.402728C13.8826 0.660591 13.9997 1.01033 13.9997 1.375V9.625C13.9997 9.98967 13.8826 10.3394 13.6742 10.5973C13.4659 10.8551 13.1832 11 12.8886 11H8.44412C8.14943 11 7.86682 10.8551 7.65844 10.5973C7.45007 10.3394 7.33301 9.98967 7.33301 9.625V1.375C7.33301 1.01033 7.45007 0.660591 7.65844 0.402728C7.86682 0.144866 8.14943 0 8.44412 0ZM8.44412 0.6875C8.29678 0.6875 8.15547 0.759933 8.05128 0.888864C7.94709 1.0178 7.88856 1.19266 7.88856 1.375V9.625C7.88856 9.80734 7.94709 9.98221 8.05128 10.1111C8.15547 10.2401 8.29678 10.3125 8.44412 10.3125H12.8886C13.0359 10.3125 13.1772 10.2401 13.2814 10.1111C13.3856 9.98221 13.4441 9.80734 13.4441 9.625V1.375C13.4441 1.19266 13.3856 1.0178 13.2814 0.888864C13.1772 0.759933 13.0359 0.6875 12.8886 0.6875H8.44412Z",fill:"white"})]}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_527_47381",children:U.jsx("rect",{width:"14",height:"11",fill:"white"})})})]})}function _V(e){return U.jsx("div",{style:{backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",color:"white"},children:U.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"12px",alignItems:"center"},children:[e.side==="left"?U.jsx(PV,{}):U.jsx(RV,{}),U.jsxs(Xn,{children:["Select"," ",e.side," ","page"]})]})})}var kg={},Pg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var i;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(i=e.ElementType||(e.ElementType={}));function t(n){return n.type===i.Tag||n.type===i.Script||n.type===i.Style}e.isTag=t,e.Root=i.Root,e.Text=i.Text,e.Directive=i.Directive,e.Comment=i.Comment,e.Script=i.Script,e.Style=i.Style,e.Tag=i.Tag,e.CDATA=i.CDATA,e.Doctype=i.Doctype})(Pg);var rn={},vo=ti&&ti.__extends||function(){var e=function(i,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])},e(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(i,t);function n(){this.constructor=i}i.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),El=ti&&ti.__assign||function(){return El=Object.assign||function(e){for(var i,t=1,n=arguments.length;t<n;t++){i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},El.apply(this,arguments)};Object.defineProperty(rn,"__esModule",{value:!0});rn.cloneNode=rn.hasChildren=rn.isDocument=rn.isDirective=rn.isComment=rn.isText=rn.isCDATA=rn.isTag=rn.Element=rn.Document=rn.CDATA=rn.NodeWithChildren=rn.ProcessingInstruction=rn.Comment=rn.Text=rn.DataNode=rn.Node=void 0;var Ai=Pg,Rg=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(i){this.parent=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(i){this.prev=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(i){this.next=i},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(i){return i===void 0&&(i=!1),_g(this,i)},e}();rn.Node=Rg;var xd=function(e){vo(i,e);function i(t){var n=e.call(this)||this;return n.data=t,n}return Object.defineProperty(i.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),i}(Rg);rn.DataNode=xd;var E1=function(e){vo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ai.ElementType.Text,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),i}(xd);rn.Text=E1;var T1=function(e){vo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ai.ElementType.Comment,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),i}(xd);rn.Comment=T1;var C1=function(e){vo(i,e);function i(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=Ai.ElementType.Directive,r}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),i}(xd);rn.ProcessingInstruction=C1;var Sd=function(e){vo(i,e);function i(t){var n=e.call(this)||this;return n.children=t,n}return Object.defineProperty(i.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),i}(Rg);rn.NodeWithChildren=Sd;var k1=function(e){vo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ai.ElementType.CDATA,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),i}(Sd);rn.CDATA=k1;var P1=function(e){vo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ai.ElementType.Root,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),i}(Sd);rn.Document=P1;var R1=function(e){vo(i,e);function i(t,n,r,l){r===void 0&&(r=[]),l===void 0&&(l=t==="script"?Ai.ElementType.Script:t==="style"?Ai.ElementType.Style:Ai.ElementType.Tag);var h=e.call(this,r)||this;return h.name=t,h.attribs=n,h.type=l,h}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(n){var r,l;return{name:n,value:t.attribs[n],namespace:(r=t["x-attribsNamespace"])===null||r===void 0?void 0:r[n],prefix:(l=t["x-attribsPrefix"])===null||l===void 0?void 0:l[n]}})},enumerable:!1,configurable:!0}),i}(Sd);rn.Element=R1;function _1(e){return(0,Ai.isTag)(e)}rn.isTag=_1;function O1(e){return e.type===Ai.ElementType.CDATA}rn.isCDATA=O1;function D1(e){return e.type===Ai.ElementType.Text}rn.isText=D1;function A1(e){return e.type===Ai.ElementType.Comment}rn.isComment=A1;function I1(e){return e.type===Ai.ElementType.Directive}rn.isDirective=I1;function M1(e){return e.type===Ai.ElementType.Root}rn.isDocument=M1;function OV(e){return Object.prototype.hasOwnProperty.call(e,"children")}rn.hasChildren=OV;function _g(e,i){i===void 0&&(i=!1);var t;if(D1(e))t=new E1(e.data);else if(A1(e))t=new T1(e.data);else if(_1(e)){var n=i?_f(e.children):[],r=new R1(e.name,El({},e.attribs),n);n.forEach(function(p){return p.parent=r}),e.namespace!=null&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=El({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=El({},e["x-attribsPrefix"])),t=r}else if(O1(e)){var n=i?_f(e.children):[],l=new k1(n);n.forEach(function(f){return f.parent=l}),t=l}else if(M1(e)){var n=i?_f(e.children):[],h=new P1(n);n.forEach(function(f){return f.parent=h}),e["x-mode"]&&(h["x-mode"]=e["x-mode"]),t=h}else if(I1(e)){var d=new C1(e.name,e.data);e["x-name"]!=null&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),t=d}else throw new Error("Not implemented yet: ".concat(e.type));return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}rn.cloneNode=_g;function _f(e){for(var i=e.map(function(n){return _g(n,!0)}),t=1;t<i.length;t++)i[t].prev=i[t-1],i[t-1].next=i[t];return i}(function(e){var i=ti&&ti.__createBinding||(Object.create?function(d,p,f,g){g===void 0&&(g=f);var y=Object.getOwnPropertyDescriptor(p,f);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(d,g,y)}:function(d,p,f,g){g===void 0&&(g=f),d[g]=p[f]}),t=ti&&ti.__exportStar||function(d,p){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(p,f)&&i(p,d,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Pg,r=rn;t(rn,e);var l={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function d(p,f,g){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof f=="function"&&(g=f,f=l),typeof p=="object"&&(f=p,p=void 0),this.callback=p??null,this.options=f??l,this.elementCB=g??null}return d.prototype.onparserinit=function(p){this.parser=p},d.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},d.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},d.prototype.onerror=function(p){this.handleCallback(p)},d.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},d.prototype.onopentag=function(p,f){var g=this.options.xmlMode?n.ElementType.Tag:void 0,y=new r.Element(p,f,void 0,g);this.addNode(y),this.tagStack.push(y)},d.prototype.ontext=function(p){var f=this.lastNode;if(f&&f.type===n.ElementType.Text)f.data+=p,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{var g=new r.Text(p);this.addNode(g),this.lastNode=g}},d.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=p;return}var f=new r.Comment(p);this.addNode(f),this.lastNode=f},d.prototype.oncommentend=function(){this.lastNode=null},d.prototype.oncdatastart=function(){var p=new r.Text(""),f=new r.CDATA([p]);this.addNode(f),p.parent=f,this.lastNode=p},d.prototype.oncdataend=function(){this.lastNode=null},d.prototype.onprocessinginstruction=function(p,f){var g=new r.ProcessingInstruction(p,f);this.addNode(g)},d.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},d.prototype.addNode=function(p){var f=this.tagStack[this.tagStack.length-1],g=f.children[f.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),f.children.push(p),g&&(p.prev=g,g.next=p),p.parent=f,this.lastNode=null},d}();e.DomHandler=h,e.default=h})(kg);var dS="html",hS="head",Tu="body",DV=/<([a-zA-Z]+[0-9]?)/,pS=/<head[^]*>/i,fS=/<body[^]*>/i,Ku=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Pm=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},mS=typeof window=="object"&&window.DOMParser;if(typeof mS=="function"){var AV=new mS,IV="text/html";Pm=function(e,i){return i&&(e="<"+i+">"+e+"</"+i+">"),AV.parseFromString(e,IV)},Ku=Pm}if(typeof document=="object"&&document.implementation){var Cu=document.implementation.createHTMLDocument();Ku=function(e,i){if(i){var t=Cu.documentElement.querySelector(i);return t.innerHTML=e,Cu}return Cu.documentElement.innerHTML=e,Cu}}var Of=typeof document=="object"?document.createElement("template"):{},Rm;Of.content&&(Rm=function(e){return Of.innerHTML=e,Of.content.childNodes});function MV(e){var i,t=e.match(DV);t&&t[1]&&(i=t[1].toLowerCase());var n,r,l;switch(i){case dS:return n=Pm(e),pS.test(e)||(r=n.querySelector(hS),r&&r.parentNode.removeChild(r)),fS.test(e)||(r=n.querySelector(Tu),r&&r.parentNode.removeChild(r)),n.querySelectorAll(dS);case hS:case Tu:return n=Ku(e),l=n.querySelectorAll(i),fS.test(e)&&pS.test(e)?l[0].parentNode.childNodes:l;default:return Rm?Rm(e):(r=Ku(e,Tu).querySelector(Tu),r.childNodes)}}var zV=MV,Og={},z1={};z1.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var Ed=kg,LV=z1,gS=LV.CASE_SENSITIVE_TAG_NAMES,FV=Ed.Comment,NV=Ed.Element,HV=Ed.ProcessingInstruction,jV=Ed.Text,L1={},Df;for(var Af=0,BV=gS.length;Af<BV;Af++)Df=gS[Af],L1[Df.toLowerCase()]=Df;function VV(e){return L1[e]}function F1(e){for(var i={},t,n=0,r=e.length;n<r;n++)t=e[n],i[t.name]=t.value;return i}function UV(e){e=e.toLowerCase();var i=VV(e);return i||e}function N1(e,i,t){i=i||null;for(var n=[],r,l=0,h=e.length;l<h;l++){var d=e[l],p;switch(d.nodeType){case 1:r=UV(d.nodeName),p=new NV(r,F1(d.attributes)),p.children=N1(r==="template"?d.content.childNodes:d.childNodes,p);break;case 3:p=new jV(d.nodeValue);break;case 8:p=new FV(d.nodeValue);break;default:continue}var f=n[l-1]||null;f&&(f.next=p),p.parent=i,p.prev=f,p.next=null,n.push(p)}return t&&(p=new HV(t.substring(0,t.indexOf(" ")).toLowerCase(),t),p.next=n[0]||null,p.parent=i,n.unshift(p),n[1]&&(n[1].prev=n[0])),n}Og.formatAttributes=F1;Og.formatDOM=N1;var WV=zV,GV=Og,qV=GV.formatDOM,XV=/<(![a-zA-Z\s]+)>/;function KV(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(e==="")return[];var i=e.match(XV),t;return i&&i[1]&&(t=i[1]),qV(WV(e),null,t)}var YV=KV,Qi={},Td={},ZV=0;Td.SAME=ZV;var $V=1;Td.CAMELCASE=$V;Td.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(Qi,"__esModule",{value:!0});function JV(e,i){return QV(e)||e7(e,i)||t7(e,i)||n7()}function QV(e){if(Array.isArray(e))return e}function e7(e,i){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],r=!0,l=!1,h,d;try{for(t=t.call(e);!(r=(h=t.next()).done)&&(n.push(h.value),!(i&&n.length===i));r=!0);}catch(p){l=!0,d=p}finally{try{!r&&t.return!=null&&t.return()}finally{if(l)throw d}}return n}}function t7(e,i){if(e){if(typeof e=="string")return vS(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vS(e,i)}}function vS(e,i){(i==null||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function n7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H1=0,yo=1,Cd=2,kd=3,Dg=4,j1=5,B1=6;function i7(e){return ui.hasOwnProperty(e)?ui[e]:null}function ki(e,i,t,n,r,l,h){this.acceptsBooleans=i===Cd||i===kd||i===Dg,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=e,this.type=i,this.sanitizeURL=l,this.removeEmptyString=h}var ui={},r7=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];r7.forEach(function(e){ui[e]=new ki(e,H1,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=JV(e,2),t=i[0],n=i[1];ui[t]=new ki(t,yo,!1,n,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ui[e]=new ki(e,Cd,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ui[e]=new ki(e,Cd,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){ui[e]=new ki(e,kd,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ui[e]=new ki(e,kd,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ui[e]=new ki(e,Dg,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ui[e]=new ki(e,B1,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ui[e]=new ki(e,j1,!1,e.toLowerCase(),null,!1,!1)});var Ag=/[\-\:]([a-z])/g,Ig=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var i=e.replace(Ag,Ig);ui[i]=new ki(i,yo,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var i=e.replace(Ag,Ig);ui[i]=new ki(i,yo,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(Ag,Ig);ui[i]=new ki(i,yo,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ui[e]=new ki(e,yo,!1,e.toLowerCase(),null,!1,!1)});var o7="xlinkHref";ui[o7]=new ki("xlinkHref",yo,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ui[e]=new ki(e,yo,!1,e.toLowerCase(),null,!0,!0)});var Mg=Td,s7=Mg.CAMELCASE,a7=Mg.SAME,yS=Mg.possibleStandardNames,l7=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",c7=l7+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",u7=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+c7+"]*$")),d7=Object.keys(yS).reduce(function(e,i){var t=yS[i];return t===a7?e[i]=i:t===s7?e[i.toLowerCase()]=i:e[i]=t,e},{});Qi.BOOLEAN=kd;Qi.BOOLEANISH_STRING=Cd;Qi.NUMERIC=j1;Qi.OVERLOADED_BOOLEAN=Dg;Qi.POSITIVE_NUMERIC=B1;Qi.RESERVED=H1;Qi.STRING=yo;Qi.getPropertyInfo=i7;Qi.isCustomAttribute=u7;Qi.possibleStandardNames=d7;var zg={},Lg={exports:{}},bS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,h7=/\n/g,p7=/^\s*/,f7=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,m7=/^:\s*/,g7=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,v7=/^[;\s]*/,y7=/^\s+|\s+$/g,b7=`
`,wS="/",xS="*",qo="",w7="comment",x7="declaration",S7=function(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];i=i||{};var t=1,n=1;function r(k){var P=k.match(h7);P&&(t+=P.length);var R=k.lastIndexOf(b7);n=~R?k.length-R:n+k.length}function l(){var k={line:t,column:n};return function(P){return P.position=new h(k),f(),P}}function h(k){this.start=k,this.end={line:t,column:n},this.source=i.source}h.prototype.content=e;function d(k){var P=new Error(i.source+":"+t+":"+n+": "+k);if(P.reason=k,P.filename=i.source,P.line=t,P.column=n,P.source=e,!i.silent)throw P}function p(k){var P=k.exec(e);if(P){var R=P[0];return r(R),e=e.slice(R.length),P}}function f(){p(p7)}function g(k){var P;for(k=k||[];P=y();)P!==!1&&k.push(P);return k}function y(){var k=l();if(!(wS!=e.charAt(0)||xS!=e.charAt(1))){for(var P=2;qo!=e.charAt(P)&&(xS!=e.charAt(P)||wS!=e.charAt(P+1));)++P;if(P+=2,qo===e.charAt(P-1))return d("End of comment missing");var R=e.slice(2,P-2);return n+=2,r(R),e=e.slice(P),n+=2,k({type:w7,comment:R})}}function S(){var k=l(),P=p(f7);if(P){if(y(),!p(m7))return d("property missing ':'");var R=p(g7),D=k({type:x7,property:SS(P[0].replace(bS,qo)),value:R?SS(R[0].replace(bS,qo)):qo});return p(v7),D}}function C(){var k=[];g(k);for(var P;P=S();)P!==!1&&(k.push(P),g(k));return k}return f(),C()};function SS(e){return e?e.replace(y7,qo):qo}var E7=S7;function V1(e,i){var t=null;if(!e||typeof e!="string")return t;for(var n,r=E7(e),l=typeof i=="function",h,d,p=0,f=r.length;p<f;p++)n=r[p],h=n.property,d=n.value,l?i(h,d,n):d&&(t||(t={}),t[h]=d);return t}Lg.exports=V1;Lg.exports.default=V1;var T7=Lg.exports;const U1=Tr(T7),C7=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),k7=Bm(C7);var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.camelCase=void 0;var P7=/^--[a-zA-Z0-9-]+$/,R7=/-([a-z])/g,_7=/^[^-]+$/,O7=/^-(webkit|moz|ms|o|khtml)-/,D7=/^-(ms)-/,A7=function(e){return!e||_7.test(e)||P7.test(e)},I7=function(e,i){return i.toUpperCase()},ES=function(e,i){return"".concat(i,"-")},M7=function(e,i){return i===void 0&&(i={}),A7(e)?e:(e=e.toLowerCase(),i.reactCompat?e=e.replace(D7,ES):e=e.replace(O7,ES),e.replace(R7,I7))};Pd.camelCase=M7;var z7=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zg,"__esModule",{value:!0});var L7=z7(k7),F7=Pd;function N7(e,i){var t={};return!e||typeof e!="string"||(0,L7.default)(e,function(n,r){n&&r&&(t[(0,F7.camelCase)(n,i)]=r)}),t}zg.default=N7;var H7=gt,j7=zg.default;function B7(e,i){if(!e||typeof e!="object")throw new TypeError("First argument must be an object");var t=typeof i=="function",n={},r={};for(var l in e){var h=e[l];if(t&&(n=i(l,h),n&&n.length===2)){r[n[0]]=n[1];continue}typeof h=="string"&&(r[h]=l)}return r}var V7=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function U7(e,i){return e.indexOf("-")===-1?i&&typeof i.is=="string":!V7.has(e)}var W7={reactCompat:!0};function G7(e,i){if(e!=null)try{i.style=j7(e,W7)}catch{i.style={}}}var q7=H7.version.split(".")[0]>=16,W1=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function X7(e){return!W1.has(e.name)}function K7(e){return e}var G1={PRESERVE_CUSTOM_ATTRIBUTES:q7,ELEMENTS_WITH_NO_TEXT_CHILDREN:W1,invertObject:B7,isCustomComponent:U7,setStyleProp:G7,canTextBeChildOfNode:X7,returnFirstArg:K7},gl=Qi,TS=G1,Y7=["checked","value"],Z7=["input","select","textarea"],$7={reset:!0,submit:!0},q1=function(e,i){e=e||{};var t,n,r,l,h,d={},p=e.type&&$7[e.type];for(t in e){if(r=e[t],gl.isCustomAttribute(t)){d[t]=r;continue}if(n=t.toLowerCase(),l=CS(n),l){switch(h=gl.getPropertyInfo(l),Y7.indexOf(l)!==-1&&Z7.indexOf(i)!==-1&&!p&&(l=CS("default"+n)),d[l]=r,h&&h.type){case gl.BOOLEAN:d[l]=!0;break;case gl.OVERLOADED_BOOLEAN:r===""&&(d[l]=!0);break}continue}TS.PRESERVE_CUSTOM_ATTRIBUTES&&(d[t]=r)}return TS.setStyleProp(e.style,d),d};function CS(e){return gl.possibleStandardNames[e]}var J7=gt,Q7=q1,Il=G1,eU=Il.setStyleProp,tU=Il.canTextBeChildOfNode;function X1(e,i){i=i||{};for(var t=i.library||J7,n=t.cloneElement,r=t.createElement,l=t.isValidElement,h=[],d,p,f=typeof i.replace=="function",g=i.transform||Il.returnFirstArg,y,S,C,k=i.trim,P=0,R=e.length;P<R;P++){if(d=e[P],f&&(y=i.replace(d),l(y))){R>1&&(y=n(y,{key:y.key||P})),h.push(g(y,d,P));continue}if(d.type==="text"){if(p=!d.data.trim().length,p&&d.parent&&!tU(d.parent)||k&&p)continue;h.push(g(d.data,d,P));continue}switch(S=d.attribs,nU(d)?eU(S.style,S):S&&(S=Q7(S,d.name)),C=null,d.type){case"script":case"style":d.children[0]&&(S.dangerouslySetInnerHTML={__html:d.children[0].data});break;case"tag":d.name==="textarea"&&d.children[0]?S.defaultValue=d.children[0].data:d.children&&d.children.length&&(C=X1(d.children,i));break;default:continue}R>1&&(S.key=P),h.push(g(r(d.name,S,C),d,P))}return h.length===1?h[0]:h}function nU(e){return Il.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&Il.isCustomComponent(e.name,e.attribs)}var iU=X1,Rd=kg,oa=YV,rU=q1,K1=iU;oa=typeof oa.default=="function"?oa.default:oa;var oU={lowerCaseAttributeNames:!1};function Er(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");return e===""?[]:(i=i||{},K1(oa(e,i.htmlparser2||oU),i))}Er.domToReact=K1;Er.htmlToDOM=oa;Er.attributesToProps=rU;Er.Comment=Rd.Comment;Er.Element=Rd.Element;Er.ProcessingInstruction=Rd.ProcessingInstruction;Er.Text=Rd.Text;var sU=Er;Er.default=Er;const Wi=Tr(sU);Wi.domToReact;Wi.htmlToDOM;Wi.attributesToProps;Wi.Comment;Wi.Element;Wi.ProcessingInstruction;Wi.Text;const kS=["http","https","mailto","tel"];function aU(e){const i=(e||"").trim(),t=i.charAt(0);if(t==="#"||t==="/")return i;const n=i.indexOf(":");if(n===-1)return i;let r=-1;for(;++r<kS.length;){const l=kS[r];if(n===l.length&&i.slice(0,l.length).toLowerCase()===l)return i}return r=i.indexOf("?"),r!==-1&&n>r||(r=i.indexOf("#"),r!==-1&&n>r)?i:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lU=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const Y1=Tr(lU);function Tl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?PS(e.position):"start"in e||"end"in e?PS(e):"line"in e||"column"in e?_m(e):""}function _m(e){return RS(e&&e.line)+":"+RS(e&&e.column)}function PS(e){return _m(e&&e.start)+"-"+_m(e&&e.end)}function RS(e){return e&&typeof e=="number"?e:1}class er extends Error{constructor(i,t,n){const r=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(n=t,t=void 0),typeof n=="string"){const h=n.indexOf(":");h===-1?r[1]=n:(r[0]=n.slice(0,h),r[1]=n.slice(h+1))}t&&("type"in t||"position"in t?t.position&&(l=t.position):"start"in t||"end"in t?l=t:("line"in t||"column"in t)&&(l.start=t)),this.name=Tl(t)||"1:1",this.message=typeof i=="object"?i.message:i,this.stack="",typeof i=="object"&&i.stack&&(this.stack=i.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}er.prototype.file="";er.prototype.name="";er.prototype.reason="";er.prototype.message="";er.prototype.stack="";er.prototype.fatal=null;er.prototype.column=null;er.prototype.line=null;er.prototype.source=null;er.prototype.ruleId=null;er.prototype.position=null;const wr={basename:cU,dirname:uU,extname:dU,join:hU,sep:"/"};function cU(e,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');Wl(e);let t=0,n=-1,r=e.length,l;if(i===void 0||i.length===0||i.length>e.length){for(;r--;)if(e.charCodeAt(r)===47){if(l){t=r+1;break}}else n<0&&(l=!0,n=r+1);return n<0?"":e.slice(t,n)}if(i===e)return"";let h=-1,d=i.length-1;for(;r--;)if(e.charCodeAt(r)===47){if(l){t=r+1;break}}else h<0&&(l=!0,h=r+1),d>-1&&(e.charCodeAt(r)===i.charCodeAt(d--)?d<0&&(n=r):(d=-1,n=h));return t===n?n=h:n<0&&(n=e.length),e.slice(t,n)}function uU(e){if(Wl(e),e.length===0)return".";let i=-1,t=e.length,n;for(;--t;)if(e.charCodeAt(t)===47){if(n){i=t;break}}else n||(n=!0);return i<0?e.charCodeAt(0)===47?"/":".":i===1&&e.charCodeAt(0)===47?"//":e.slice(0,i)}function dU(e){Wl(e);let i=e.length,t=-1,n=0,r=-1,l=0,h;for(;i--;){const d=e.charCodeAt(i);if(d===47){if(h){n=i+1;break}continue}t<0&&(h=!0,t=i+1),d===46?r<0?r=i:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||t<0||l===0||l===1&&r===t-1&&r===n+1?"":e.slice(r,t)}function hU(...e){let i=-1,t;for(;++i<e.length;)Wl(e[i]),e[i]&&(t=t===void 0?e[i]:t+"/"+e[i]);return t===void 0?".":pU(t)}function pU(e){Wl(e);const i=e.charCodeAt(0)===47;let t=fU(e,!i);return t.length===0&&!i&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),i?"/"+t:t}function fU(e,i){let t="",n=0,r=-1,l=0,h=-1,d,p;for(;++h<=e.length;){if(h<e.length)d=e.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(r===h-1||l===1))if(r!==h-1&&l===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(p=t.lastIndexOf("/"),p!==t.length-1){p<0?(t="",n=0):(t=t.slice(0,p),n=t.length-1-t.lastIndexOf("/")),r=h,l=0;continue}}else if(t.length>0){t="",n=0,r=h,l=0;continue}}i&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+e.slice(r+1,h):t=e.slice(r+1,h),n=h-r-1;r=h,l=0}else d===46&&l>-1?l++:l=-1}return t}function Wl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mU={cwd:gU};function gU(){return"/"}function Om(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function vU(e){if(typeof e=="string")e=new URL(e);else if(!Om(e)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(e.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return yU(e)}function yU(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const i=e.pathname;let t=-1;for(;++t<i.length;)if(i.charCodeAt(t)===37&&i.charCodeAt(t+1)===50){const n=i.charCodeAt(t+2);if(n===70||n===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(i)}const If=["history","path","basename","stem","extname","dirname"];class Z1{constructor(i){let t;i?typeof i=="string"||bU(i)?t={value:i}:Om(i)?t={path:i}:t=i:t={},this.data={},this.messages=[],this.history=[],this.cwd=mU.cwd(),this.value,this.stored,this.result,this.map;let n=-1;for(;++n<If.length;){const l=If[n];l in t&&t[l]!==void 0&&t[l]!==null&&(this[l]=l==="history"?[...t[l]]:t[l])}let r;for(r in t)If.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(i){Om(i)&&(i=vU(i)),zf(i,"path"),this.path!==i&&this.history.push(i)}get dirname(){return typeof this.path=="string"?wr.dirname(this.path):void 0}set dirname(i){_S(this.basename,"dirname"),this.path=wr.join(i||"",this.basename)}get basename(){return typeof this.path=="string"?wr.basename(this.path):void 0}set basename(i){zf(i,"basename"),Mf(i,"basename"),this.path=wr.join(this.dirname||"",i)}get extname(){return typeof this.path=="string"?wr.extname(this.path):void 0}set extname(i){if(Mf(i,"extname"),_S(this.dirname,"extname"),i){if(i.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wr.join(this.dirname,this.stem+(i||""))}get stem(){return typeof this.path=="string"?wr.basename(this.path,this.extname):void 0}set stem(i){zf(i,"stem"),Mf(i,"stem"),this.path=wr.join(this.dirname||"",i+(this.extname||""))}toString(i){return(this.value||"").toString(i||void 0)}message(i,t,n){const r=new er(i,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(i,t,n){const r=this.message(i,t,n);return r.fatal=null,r}fail(i,t,n){const r=this.message(i,t,n);throw r.fatal=!0,r}}function Mf(e,i){if(e&&e.includes(wr.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+wr.sep+"`")}function zf(e,i){if(!e)throw new Error("`"+i+"` cannot be empty")}function _S(e,i){if(!e)throw new Error("Setting `"+i+"` requires `path` to be set too")}function bU(e){return Y1(e)}function OS(e){if(e)throw e}var Fu=Object.prototype.hasOwnProperty,$1=Object.prototype.toString,DS=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,IS=function(e){return typeof Array.isArray=="function"?Array.isArray(e):$1.call(e)==="[object Array]"},MS=function(e){if(!e||$1.call(e)!=="[object Object]")return!1;var i=Fu.call(e,"constructor"),t=e.constructor&&e.constructor.prototype&&Fu.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!t)return!1;var n;for(n in e);return typeof n>"u"||Fu.call(e,n)},zS=function(e,i){DS&&i.name==="__proto__"?DS(e,i.name,{enumerable:!0,configurable:!0,value:i.newValue,writable:!0}):e[i.name]=i.newValue},LS=function(e,i){if(i==="__proto__")if(Fu.call(e,i)){if(AS)return AS(e,i).value}else return;return e[i]},wU=function e(){var i,t,n,r,l,h,d=arguments[0],p=1,f=arguments.length,g=!1;for(typeof d=="boolean"&&(g=d,d=arguments[1]||{},p=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});p<f;++p)if(i=arguments[p],i!=null)for(t in i)n=LS(d,t),r=LS(i,t),d!==r&&(g&&r&&(MS(r)||(l=IS(r)))?(l?(l=!1,h=n&&IS(n)?n:[]):h=n&&MS(n)?n:{},zS(d,{name:t,newValue:e(g,h,r)})):typeof r<"u"&&zS(d,{name:t,newValue:r}));return d};const FS=Tr(wU);function Dm(e){if(typeof e!="object"||e===null)return!1;const i=Object.getPrototypeOf(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xU(){const e=[],i={run:t,use:n};return i;function t(...r){let l=-1;const h=r.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);d(null,...r);function d(p,...f){const g=e[++l];let y=-1;if(p){h(p);return}for(;++y<r.length;)(f[y]===null||f[y]===void 0)&&(f[y]=r[y]);r=f,g?SU(g,d)(...f):h(null,...f)}}function n(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),i}}function SU(e,i){let t;return n;function n(...h){const d=e.length>h.length;let p;d&&h.push(r);try{p=e.apply(this,h)}catch(f){const g=f;if(d&&t)throw g;return r(g)}d||(p&&p.then&&typeof p.then=="function"?p.then(l,r):p instanceof Error?r(p):l(p))}function r(h,...d){t||(t=!0,i(h,...d))}function l(h){r(null,h)}}const EU=Q1().freeze(),J1={}.hasOwnProperty;function Q1(){const e=xU(),i=[];let t={},n,r=-1;return l.data=h,l.Parser=void 0,l.Compiler=void 0,l.freeze=d,l.attachers=i,l.use=p,l.parse=f,l.stringify=g,l.run=y,l.runSync=S,l.process=C,l.processSync=k,l;function l(){const P=Q1();let R=-1;for(;++R<i.length;)P.use(...i[R]);return P.data(FS(!0,{},t)),P}function h(P,R){return typeof P=="string"?arguments.length===2?(Nf("data",n),t[P]=R,l):J1.call(t,P)&&t[P]||null:P?(Nf("data",n),t=P,l):t}function d(){if(n)return l;for(;++r<i.length;){const[P,...R]=i[r];if(R[0]===!1)continue;R[0]===!0&&(R[0]=void 0);const D=P.call(l,...R);typeof D=="function"&&e.use(D)}return n=!0,r=Number.POSITIVE_INFINITY,l}function p(P,...R){let D;if(Nf("use",n),P!=null)if(typeof P=="function")Z(P,...R);else if(typeof P=="object")Array.isArray(P)?ne(P):G(P);else throw new TypeError("Expected usable value, not `"+P+"`");return D&&(t.settings=Object.assign(t.settings||{},D)),l;function q(Y){if(typeof Y=="function")Z(Y);else if(typeof Y=="object")if(Array.isArray(Y)){const[se,...le]=Y;Z(se,...le)}else G(Y);else throw new TypeError("Expected usable value, not `"+Y+"`")}function G(Y){ne(Y.plugins),Y.settings&&(D=Object.assign(D||{},Y.settings))}function ne(Y){let se=-1;if(Y!=null)if(Array.isArray(Y))for(;++se<Y.length;){const le=Y[se];q(le)}else throw new TypeError("Expected a list of plugins, not `"+Y+"`")}function Z(Y,se){let le=-1,ge;for(;++le<i.length;)if(i[le][0]===Y){ge=i[le];break}ge?(Dm(ge[1])&&Dm(se)&&(se=FS(!0,ge[1],se)),ge[1]=se):i.push([...arguments])}}function f(P){l.freeze();const R=ul(P),D=l.Parser;return Lf("parse",D),NS(D,"parse")?new D(String(R),R).parse():D(String(R),R)}function g(P,R){l.freeze();const D=ul(R),q=l.Compiler;return Ff("stringify",q),HS(P),NS(q,"compile")?new q(P,D).compile():q(P,D)}function y(P,R,D){if(HS(P),l.freeze(),!D&&typeof R=="function"&&(D=R,R=void 0),!D)return new Promise(q);q(null,D);function q(G,ne){e.run(P,ul(R),Z);function Z(Y,se,le){se=se||P,Y?ne(Y):G?G(se):D(null,se,le)}}}function S(P,R){let D,q;return l.run(P,R,G),jS("runSync","run",q),D;function G(ne,Z){OS(ne),D=Z,q=!0}}function C(P,R){if(l.freeze(),Lf("process",l.Parser),Ff("process",l.Compiler),!R)return new Promise(D);D(null,R);function D(q,G){const ne=ul(P);l.run(l.parse(ne),ne,(Y,se,le)=>{if(Y||!se||!le)Z(Y);else{const ge=l.stringify(se,le);ge==null||(kU(ge)?le.value=ge:le.result=ge),Z(Y,le)}});function Z(Y,se){Y||!se?G(Y):q?q(se):R(null,se)}}}function k(P){let R;l.freeze(),Lf("processSync",l.Parser),Ff("processSync",l.Compiler);const D=ul(P);return l.process(D,q),jS("processSync","process",R),D;function q(G){R=!0,OS(G)}}}function NS(e,i){return typeof e=="function"&&e.prototype&&(TU(e.prototype)||i in e.prototype)}function TU(e){let i;for(i in e)if(J1.call(e,i))return!0;return!1}function Lf(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Ff(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Nf(e,i){if(i)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HS(e){if(!Dm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function jS(e,i,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+i+"` instead")}function ul(e){return CU(e)?e:new Z1(e)}function CU(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kU(e){return typeof e=="string"||Y1(e)}const PU={};function RU(e,i){const t=PU,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return ek(e,n,r)}function ek(e,i,t){if(_U(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(i&&"alt"in e&&e.alt)return e.alt;if("children"in e)return BS(e.children,i,t)}return Array.isArray(e)?BS(e,i,t):""}function BS(e,i,t){const n=[];let r=-1;for(;++r<e.length;)n[r]=ek(e[r],i,t);return n.join("")}function _U(e){return!!(e&&typeof e=="object")}function Gi(e,i,t,n){const r=e.length;let l=0,h;if(i<0?i=-i>r?0:r+i:i=i>r?r:i,t=t>0?t:0,n.length<1e4)h=Array.from(n),h.unshift(i,t),e.splice(...h);else for(t&&e.splice(i,t);l<n.length;)h=n.slice(l,l+1e4),h.unshift(i,0),e.splice(...h),l+=1e4,i+=1e4}function $i(e,i){return e.length>0?(Gi(e,e.length,0,i),e):i}const VS={}.hasOwnProperty;function tk(e){const i={};let t=-1;for(;++t<e.length;)OU(i,e[t]);return i}function OU(e,i){let t;for(t in i){const n=(VS.call(e,t)?e[t]:void 0)||(e[t]={}),r=i[t];let l;if(r)for(l in r){VS.call(n,l)||(n[l]=[]);const h=r[l];DU(n[l],Array.isArray(h)?h:h?[h]:[])}}}function DU(e,i){let t=-1;const n=[];for(;++t<i.length;)(i[t].add==="after"?e:n).push(i[t]);Gi(e,0,0,n)}const AU=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ci=bo(/[A-Za-z]/),vi=bo(/[\dA-Za-z]/),IU=bo(/[#-'*+\--9=?A-Z^-~]/);function Yu(e){return e!==null&&(e<32||e===127)}const Am=bo(/\d/),MU=bo(/[\dA-Fa-f]/),zU=bo(/[!-/:-@[-`{-~]/);function zt(e){return e!==null&&e<-2}function On(e){return e!==null&&(e<0||e===32)}function on(e){return e===-2||e===-1||e===32}const _d=bo(AU),is=bo(/\s/);function bo(e){return i;function i(t){return t!==null&&e.test(String.fromCharCode(t))}}function cn(e,i,t,n){const r=n?n-1:Number.POSITIVE_INFINITY;let l=0;return h;function h(p){return on(p)?(e.enter(t),d(p)):i(p)}function d(p){return on(p)&&l++<r?(e.consume(p),d):(e.exit(t),i(p))}}const LU={tokenize:FU};function FU(e){const i=e.attempt(this.parser.constructs.contentInitial,n,r);let t;return i;function n(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),cn(e,i,"linePrefix")}function r(d){return e.enter("paragraph"),l(d)}function l(d){const p=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,h(d)}function h(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return zt(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),h)}}const NU={tokenize:HU},US={tokenize:jU};function HU(e){const i=this,t=[];let n=0,r,l,h;return d;function d(G){if(n<t.length){const ne=t[n];return i.containerState=ne[1],e.attempt(ne[0].continuation,p,f)(G)}return f(G)}function p(G){if(n++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,r&&q();const ne=i.events.length;let Z=ne,Y;for(;Z--;)if(i.events[Z][0]==="exit"&&i.events[Z][1].type==="chunkFlow"){Y=i.events[Z][1].end;break}D(n);let se=ne;for(;se<i.events.length;)i.events[se][1].end=Object.assign({},Y),se++;return Gi(i.events,Z+1,0,i.events.slice(ne)),i.events.length=se,f(G)}return d(G)}function f(G){if(n===t.length){if(!r)return S(G);if(r.currentConstruct&&r.currentConstruct.concrete)return k(G);i.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(US,g,y)(G)}function g(G){return r&&q(),D(n),S(G)}function y(G){return i.parser.lazy[i.now().line]=n!==t.length,h=i.now().offset,k(G)}function S(G){return i.containerState={},e.attempt(US,C,k)(G)}function C(G){return n++,t.push([i.currentConstruct,i.containerState]),S(G)}function k(G){if(G===null){r&&q(),D(0),e.consume(G);return}return r=r||i.parser.flow(i.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:r}),P(G)}function P(G){if(G===null){R(e.exit("chunkFlow"),!0),D(0),e.consume(G);return}return zt(G)?(e.consume(G),R(e.exit("chunkFlow")),n=0,i.interrupt=void 0,d):(e.consume(G),P)}function R(G,ne){const Z=i.sliceStream(G);if(ne&&Z.push(null),G.previous=l,l&&(l.next=G),l=G,r.defineSkip(G.start),r.write(Z),i.parser.lazy[G.start.line]){let Y=r.events.length;for(;Y--;)if(r.events[Y][1].start.offset<h&&(!r.events[Y][1].end||r.events[Y][1].end.offset>h))return;const se=i.events.length;let le=se,ge,ue;for(;le--;)if(i.events[le][0]==="exit"&&i.events[le][1].type==="chunkFlow"){if(ge){ue=i.events[le][1].end;break}ge=!0}for(D(n),Y=se;Y<i.events.length;)i.events[Y][1].end=Object.assign({},ue),Y++;Gi(i.events,le+1,0,i.events.slice(se)),i.events.length=Y}}function D(G){let ne=t.length;for(;ne-- >G;){const Z=t[ne];i.containerState=Z[1],Z[0].exit.call(i,e)}t.length=G}function q(){r.write([null]),l=void 0,r=void 0,i.containerState._closeFlow=void 0}}function jU(e,i,t){return cn(e,e.attempt(this.parser.constructs.document,i,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zu(e){if(e===null||On(e)||is(e))return 1;if(_d(e))return 2}function Od(e,i,t){const n=[];let r=-1;for(;++r<e.length;){const l=e[r].resolveAll;l&&!n.includes(l)&&(i=l(i,t),n.push(l))}return i}const Im={name:"attention",tokenize:VU,resolveAll:BU};function BU(e,i){let t=-1,n,r,l,h,d,p,f,g;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(n=t;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&i.sliceSerialize(e[n][1]).charCodeAt(0)===i.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[n][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;p=e[n][1].end.offset-e[n][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const y=Object.assign({},e[n][1].end),S=Object.assign({},e[t][1].start);WS(y,-p),WS(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:y,end:Object.assign({},e[n][1].end)},d={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:S},l={type:p>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[t][1].start)},r={type:p>1?"strong":"emphasis",start:Object.assign({},h.start),end:Object.assign({},d.end)},e[n][1].end=Object.assign({},h.start),e[t][1].start=Object.assign({},d.end),f=[],e[n][1].end.offset-e[n][1].start.offset&&(f=$i(f,[["enter",e[n][1],i],["exit",e[n][1],i]])),f=$i(f,[["enter",r,i],["enter",h,i],["exit",h,i],["enter",l,i]]),f=$i(f,Od(i.parser.constructs.insideSpan.null,e.slice(n+1,t),i)),f=$i(f,[["exit",l,i],["enter",d,i],["exit",d,i],["exit",r,i]]),e[t][1].end.offset-e[t][1].start.offset?(g=2,f=$i(f,[["enter",e[t][1],i],["exit",e[t][1],i]])):g=0,Gi(e,n-1,t-n+3,f),t=n+f.length-g-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function VU(e,i){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,r=Zu(n);let l;return h;function h(p){return l=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===l)return e.consume(p),d;const f=e.exit("attentionSequence"),g=Zu(p),y=!g||g===2&&r||t.includes(p),S=!r||r===2&&g||t.includes(n);return f._open=!!(l===42?y:y&&(r||!S)),f._close=!!(l===42?S:S&&(g||!y)),i(p)}}function WS(e,i){e.column+=i,e.offset+=i,e._bufferIndex+=i}const UU={name:"autolink",tokenize:WU};function WU(e,i,t){let n=0;return r;function r(C){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(C),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(C){return Ci(C)?(e.consume(C),h):f(C)}function h(C){return C===43||C===45||C===46||vi(C)?(n=1,d(C)):f(C)}function d(C){return C===58?(e.consume(C),n=0,p):(C===43||C===45||C===46||vi(C))&&n++<32?(e.consume(C),d):(n=0,f(C))}function p(C){return C===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(C),e.exit("autolinkMarker"),e.exit("autolink"),i):C===null||C===32||C===60||Yu(C)?t(C):(e.consume(C),p)}function f(C){return C===64?(e.consume(C),g):IU(C)?(e.consume(C),f):t(C)}function g(C){return vi(C)?y(C):t(C)}function y(C){return C===46?(e.consume(C),n=0,g):C===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(C),e.exit("autolinkMarker"),e.exit("autolink"),i):S(C)}function S(C){if((C===45||vi(C))&&n++<63){const k=C===45?S:y;return e.consume(C),k}return t(C)}}const Gl={tokenize:GU,partial:!0};function GU(e,i,t){return n;function n(l){return on(l)?cn(e,r,"linePrefix")(l):r(l)}function r(l){return l===null||zt(l)?i(l):t(l)}}const nk={name:"blockQuote",tokenize:qU,continuation:{tokenize:XU},exit:KU};function qU(e,i,t){const n=this;return r;function r(h){if(h===62){const d=n.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(h),e.exit("blockQuoteMarker"),l}return t(h)}function l(h){return on(h)?(e.enter("blockQuotePrefixWhitespace"),e.consume(h),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),i):(e.exit("blockQuotePrefix"),i(h))}}function XU(e,i,t){const n=this;return r;function r(h){return on(h)?cn(e,l,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):l(h)}function l(h){return e.attempt(nk,i,t)(h)}}function KU(e){e.exit("blockQuote")}const ik={name:"characterEscape",tokenize:YU};function YU(e,i,t){return n;function n(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),r}function r(l){return zU(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),i):t(l)}}const GS=document.createElement("i");function Fg(e){const i="&"+e+";";GS.innerHTML=i;const t=GS.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===i?!1:t}const rk={name:"characterReference",tokenize:ZU};function ZU(e,i,t){const n=this;let r=0,l,h;return d;function d(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),p}function p(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),l=31,h=vi,g(y))}function f(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,h=MU,g):(e.enter("characterReferenceValue"),l=7,h=Am,g(y))}function g(y){if(y===59&&r){const S=e.exit("characterReferenceValue");return h===vi&&!Fg(n.sliceSerialize(S))?t(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),i)}return h(y)&&r++<l?(e.consume(y),g):t(y)}}const qS={tokenize:JU,partial:!0},XS={name:"codeFenced",tokenize:$U,concrete:!0};function $U(e,i,t){const n=this,r={tokenize:Z,partial:!0};let l=0,h=0,d;return p;function p(Y){return f(Y)}function f(Y){const se=n.events[n.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,d=Y,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(Y)}function g(Y){return Y===d?(h++,e.consume(Y),g):h<3?t(Y):(e.exit("codeFencedFenceSequence"),on(Y)?cn(e,y,"whitespace")(Y):y(Y))}function y(Y){return Y===null||zt(Y)?(e.exit("codeFencedFence"),n.interrupt?i(Y):e.check(qS,P,ne)(Y)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),S(Y))}function S(Y){return Y===null||zt(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(Y)):on(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),cn(e,C,"whitespace")(Y)):Y===96&&Y===d?t(Y):(e.consume(Y),S)}function C(Y){return Y===null||zt(Y)?y(Y):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(Y))}function k(Y){return Y===null||zt(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(Y)):Y===96&&Y===d?t(Y):(e.consume(Y),k)}function P(Y){return e.attempt(r,ne,R)(Y)}function R(Y){return e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),D}function D(Y){return l>0&&on(Y)?cn(e,q,"linePrefix",l+1)(Y):q(Y)}function q(Y){return Y===null||zt(Y)?e.check(qS,P,ne)(Y):(e.enter("codeFlowValue"),G(Y))}function G(Y){return Y===null||zt(Y)?(e.exit("codeFlowValue"),q(Y)):(e.consume(Y),G)}function ne(Y){return e.exit("codeFenced"),i(Y)}function Z(Y,se,le){let ge=0;return ue;function ue(je){return Y.enter("lineEnding"),Y.consume(je),Y.exit("lineEnding"),pe}function pe(je){return Y.enter("codeFencedFence"),on(je)?cn(Y,we,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(je):we(je)}function we(je){return je===d?(Y.enter("codeFencedFenceSequence"),ve(je)):le(je)}function ve(je){return je===d?(ge++,Y.consume(je),ve):ge>=h?(Y.exit("codeFencedFenceSequence"),on(je)?cn(Y,Ae,"whitespace")(je):Ae(je)):le(je)}function Ae(je){return je===null||zt(je)?(Y.exit("codeFencedFence"),se(je)):le(je)}}}function JU(e,i,t){const n=this;return r;function r(h){return h===null?t(h):(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l)}function l(h){return n.parser.lazy[n.now().line]?t(h):i(h)}}const Hf={name:"codeIndented",tokenize:eW},QU={tokenize:tW,partial:!0};function eW(e,i,t){const n=this;return r;function r(f){return e.enter("codeIndented"),cn(e,l,"linePrefix",5)(f)}function l(f){const g=n.events[n.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(f):t(f)}function h(f){return f===null?p(f):zt(f)?e.attempt(QU,h,p)(f):(e.enter("codeFlowValue"),d(f))}function d(f){return f===null||zt(f)?(e.exit("codeFlowValue"),h(f)):(e.consume(f),d)}function p(f){return e.exit("codeIndented"),i(f)}}function tW(e,i,t){const n=this;return r;function r(h){return n.parser.lazy[n.now().line]?t(h):zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),r):cn(e,l,"linePrefix",5)(h)}function l(h){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(h):zt(h)?r(h):t(h)}}const nW={name:"codeText",tokenize:oW,resolve:iW,previous:rW};function iW(e){let i=e.length-4,t=3,n,r;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[i][1].type==="lineEnding"||e[i][1].type==="space")){for(n=t;++n<i;)if(e[n][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[i][1].type="codeTextPadding",t+=2,i-=2;break}}for(n=t-1,i++;++n<=i;)r===void 0?n!==i&&e[n][1].type!=="lineEnding"&&(r=n):(n===i||e[n][1].type==="lineEnding")&&(e[r][1].type="codeTextData",n!==r+2&&(e[r][1].end=e[n-1][1].end,e.splice(r+2,n-r-2),i-=n-r-2,n=r+2),r=void 0);return e}function rW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oW(e,i,t){let n=0,r,l;return h;function h(y){return e.enter("codeText"),e.enter("codeTextSequence"),d(y)}function d(y){return y===96?(e.consume(y),n++,d):(e.exit("codeTextSequence"),p(y))}function p(y){return y===null?t(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),p):y===96?(l=e.enter("codeTextSequence"),r=0,g(y)):zt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),p):(e.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||zt(y)?(e.exit("codeTextData"),p(y)):(e.consume(y),f)}function g(y){return y===96?(e.consume(y),r++,g):r===n?(e.exit("codeTextSequence"),e.exit("codeText"),i(y)):(l.type="codeTextData",f(y))}}function ok(e){const i={};let t=-1,n,r,l,h,d,p,f;for(;++t<e.length;){for(;t in i;)t=i[t];if(n=e[t],t&&n[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(p=n[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(n[0]==="enter")n[1].contentType&&(Object.assign(i,sW(e,t)),t=i[t],f=!0);else if(n[1]._container){for(l=t,r=void 0;l--&&(h=e[l],h[1].type==="lineEnding"||h[1].type==="lineEndingBlank");)h[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),h[1].type="lineEnding",r=l);r&&(n[1].end=Object.assign({},e[r][1].start),d=e.slice(r,t),d.unshift(n),Gi(e,r,t-r+1,d))}}return!f}function sW(e,i){const t=e[i][1],n=e[i][2];let r=i-1;const l=[],h=t._tokenizer||n.parser[t.contentType](t.start),d=h.events,p=[],f={};let g,y,S=-1,C=t,k=0,P=0;const R=[P];for(;C;){for(;e[++r][1]!==C;);l.push(r),C._tokenizer||(g=n.sliceStream(C),C.next||g.push(null),y&&h.defineSkip(C.start),C._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),C._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),y=C,C=C.next}for(C=t;++S<d.length;)d[S][0]==="exit"&&d[S-1][0]==="enter"&&d[S][1].type===d[S-1][1].type&&d[S][1].start.line!==d[S][1].end.line&&(P=S+1,R.push(P),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(h.events=[],C?(C._tokenizer=void 0,C.previous=void 0):R.pop(),S=R.length;S--;){const D=d.slice(R[S],R[S+1]),q=l.pop();p.unshift([q,q+D.length-1]),Gi(e,q,2,D)}for(S=-1;++S<p.length;)f[k+p[S][0]]=k+p[S][1],k+=p[S][1]-p[S][0]-1;return f}const aW={tokenize:uW,resolve:cW},lW={tokenize:dW,partial:!0};function cW(e){return ok(e),e}function uW(e,i){let t;return n;function n(d){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),r(d)}function r(d){return d===null?l(d):zt(d)?e.check(lW,h,l)(d):(e.consume(d),r)}function l(d){return e.exit("chunkContent"),e.exit("content"),i(d)}function h(d){return e.consume(d),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function dW(e,i,t){const n=this;return r;function r(h){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),cn(e,l,"linePrefix")}function l(h){if(h===null||zt(h))return t(h);const d=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(h):e.interrupt(n.parser.constructs.flow,t,i)(h)}}function sk(e,i,t,n,r,l,h,d,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(D){return D===60?(e.enter(n),e.enter(r),e.enter(l),e.consume(D),e.exit(l),S):D===null||D===32||D===41||Yu(D)?t(D):(e.enter(n),e.enter(h),e.enter(d),e.enter("chunkString",{contentType:"string"}),P(D))}function S(D){return D===62?(e.enter(l),e.consume(D),e.exit(l),e.exit(r),e.exit(n),i):(e.enter(d),e.enter("chunkString",{contentType:"string"}),C(D))}function C(D){return D===62?(e.exit("chunkString"),e.exit(d),S(D)):D===null||D===60||zt(D)?t(D):(e.consume(D),D===92?k:C)}function k(D){return D===60||D===62||D===92?(e.consume(D),C):C(D)}function P(D){return!g&&(D===null||D===41||On(D))?(e.exit("chunkString"),e.exit(d),e.exit(h),e.exit(n),i(D)):g<f&&D===40?(e.consume(D),g++,P):D===41?(e.consume(D),g--,P):D===null||D===32||D===40||Yu(D)?t(D):(e.consume(D),D===92?R:P)}function R(D){return D===40||D===41||D===92?(e.consume(D),P):P(D)}}function ak(e,i,t,n,r,l){const h=this;let d=0,p;return f;function f(C){return e.enter(n),e.enter(r),e.consume(C),e.exit(r),e.enter(l),g}function g(C){return d>999||C===null||C===91||C===93&&!p||C===94&&!d&&"_hiddenFootnoteSupport"in h.parser.constructs?t(C):C===93?(e.exit(l),e.enter(r),e.consume(C),e.exit(r),e.exit(n),i):zt(C)?(e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===null||C===91||C===93||zt(C)||d++>999?(e.exit("chunkString"),g(C)):(e.consume(C),p||(p=!on(C)),C===92?S:y)}function S(C){return C===91||C===92||C===93?(e.consume(C),d++,y):y(C)}}function lk(e,i,t,n,r,l){let h;return d;function d(S){return S===34||S===39||S===40?(e.enter(n),e.enter(r),e.consume(S),e.exit(r),h=S===40?41:S,p):t(S)}function p(S){return S===h?(e.enter(r),e.consume(S),e.exit(r),e.exit(n),i):(e.enter(l),f(S))}function f(S){return S===h?(e.exit(l),p(h)):S===null?t(S):zt(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),cn(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||zt(S)?(e.exit("chunkString"),f(S)):(e.consume(S),S===92?y:g)}function y(S){return S===h||S===92?(e.consume(S),g):g(S)}}function Cl(e,i){let t;return n;function n(r){return zt(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t=!0,n):on(r)?cn(e,n,t?"linePrefix":"lineSuffix")(r):i(r)}}function ar(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hW={name:"definition",tokenize:fW},pW={tokenize:mW,partial:!0};function fW(e,i,t){const n=this;let r;return l;function l(C){return e.enter("definition"),h(C)}function h(C){return ak.call(n,e,d,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function d(C){return r=ar(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),C===58?(e.enter("definitionMarker"),e.consume(C),e.exit("definitionMarker"),p):t(C)}function p(C){return On(C)?Cl(e,f)(C):f(C)}function f(C){return sk(e,g,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function g(C){return e.attempt(pW,y,y)(C)}function y(C){return on(C)?cn(e,S,"whitespace")(C):S(C)}function S(C){return C===null||zt(C)?(e.exit("definition"),n.parser.defined.push(r),i(C)):t(C)}}function mW(e,i,t){return n;function n(d){return On(d)?Cl(e,r)(d):t(d)}function r(d){return lk(e,l,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return on(d)?cn(e,h,"whitespace")(d):h(d)}function h(d){return d===null||zt(d)?i(d):t(d)}}const gW={name:"hardBreakEscape",tokenize:vW};function vW(e,i,t){return n;function n(l){return e.enter("hardBreakEscape"),e.consume(l),r}function r(l){return zt(l)?(e.exit("hardBreakEscape"),i(l)):t(l)}}const yW={name:"headingAtx",tokenize:wW,resolve:bW};function bW(e,i){let t=e.length-2,n=3,r,l;return e[n][1].type==="whitespace"&&(n+=2),t-2>n&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&e[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(r={type:"atxHeadingText",start:e[n][1].start,end:e[t][1].end},l={type:"chunkText",start:e[n][1].start,end:e[t][1].end,contentType:"text"},Gi(e,n,t-n+1,[["enter",r,i],["enter",l,i],["exit",l,i],["exit",r,i]])),e}function wW(e,i,t){let n=0;return r;function r(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&n++<6?(e.consume(g),h):g===null||On(g)?(e.exit("atxHeadingSequence"),d(g)):t(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),p(g)):g===null||zt(g)?(e.exit("atxHeading"),i(g)):on(g)?cn(e,d,"whitespace")(g):(e.enter("atxHeadingText"),f(g))}function p(g){return g===35?(e.consume(g),p):(e.exit("atxHeadingSequence"),d(g))}function f(g){return g===null||g===35||On(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),f)}}const xW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KS=["pre","script","style","textarea"],SW={name:"htmlFlow",tokenize:kW,resolveTo:CW,concrete:!0},EW={tokenize:RW,partial:!0},TW={tokenize:PW,partial:!0};function CW(e){let i=e.length;for(;i--&&!(e[i][0]==="enter"&&e[i][1].type==="htmlFlow"););return i>1&&e[i-2][1].type==="linePrefix"&&(e[i][1].start=e[i-2][1].start,e[i+1][1].start=e[i-2][1].start,e.splice(i-2,2)),e}function kW(e,i,t){const n=this;let r,l,h,d,p;return f;function f(ee){return g(ee)}function g(ee){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ee),y}function y(ee){return ee===33?(e.consume(ee),S):ee===47?(e.consume(ee),l=!0,P):ee===63?(e.consume(ee),r=3,n.interrupt?i:$):Ci(ee)?(e.consume(ee),h=String.fromCharCode(ee),R):t(ee)}function S(ee){return ee===45?(e.consume(ee),r=2,C):ee===91?(e.consume(ee),r=5,d=0,k):Ci(ee)?(e.consume(ee),r=4,n.interrupt?i:$):t(ee)}function C(ee){return ee===45?(e.consume(ee),n.interrupt?i:$):t(ee)}function k(ee){const kt="CDATA[";return ee===kt.charCodeAt(d++)?(e.consume(ee),d===kt.length?n.interrupt?i:we:k):t(ee)}function P(ee){return Ci(ee)?(e.consume(ee),h=String.fromCharCode(ee),R):t(ee)}function R(ee){if(ee===null||ee===47||ee===62||On(ee)){const kt=ee===47,tt=h.toLowerCase();return!kt&&!l&&KS.includes(tt)?(r=1,n.interrupt?i(ee):we(ee)):xW.includes(h.toLowerCase())?(r=6,kt?(e.consume(ee),D):n.interrupt?i(ee):we(ee)):(r=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(ee):l?q(ee):G(ee))}return ee===45||vi(ee)?(e.consume(ee),h+=String.fromCharCode(ee),R):t(ee)}function D(ee){return ee===62?(e.consume(ee),n.interrupt?i:we):t(ee)}function q(ee){return on(ee)?(e.consume(ee),q):ue(ee)}function G(ee){return ee===47?(e.consume(ee),ue):ee===58||ee===95||Ci(ee)?(e.consume(ee),ne):on(ee)?(e.consume(ee),G):ue(ee)}function ne(ee){return ee===45||ee===46||ee===58||ee===95||vi(ee)?(e.consume(ee),ne):Z(ee)}function Z(ee){return ee===61?(e.consume(ee),Y):on(ee)?(e.consume(ee),Z):G(ee)}function Y(ee){return ee===null||ee===60||ee===61||ee===62||ee===96?t(ee):ee===34||ee===39?(e.consume(ee),p=ee,se):on(ee)?(e.consume(ee),Y):le(ee)}function se(ee){return ee===p?(e.consume(ee),p=null,ge):ee===null||zt(ee)?t(ee):(e.consume(ee),se)}function le(ee){return ee===null||ee===34||ee===39||ee===47||ee===60||ee===61||ee===62||ee===96||On(ee)?Z(ee):(e.consume(ee),le)}function ge(ee){return ee===47||ee===62||on(ee)?G(ee):t(ee)}function ue(ee){return ee===62?(e.consume(ee),pe):t(ee)}function pe(ee){return ee===null||zt(ee)?we(ee):on(ee)?(e.consume(ee),pe):t(ee)}function we(ee){return ee===45&&r===2?(e.consume(ee),xe):ee===60&&r===1?(e.consume(ee),me):ee===62&&r===4?(e.consume(ee),He):ee===63&&r===3?(e.consume(ee),$):ee===93&&r===5?(e.consume(ee),Oe):zt(ee)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(EW,ot,ve)(ee)):ee===null||zt(ee)?(e.exit("htmlFlowData"),ve(ee)):(e.consume(ee),we)}function ve(ee){return e.check(TW,Ae,ot)(ee)}function Ae(ee){return e.enter("lineEnding"),e.consume(ee),e.exit("lineEnding"),je}function je(ee){return ee===null||zt(ee)?ve(ee):(e.enter("htmlFlowData"),we(ee))}function xe(ee){return ee===45?(e.consume(ee),$):we(ee)}function me(ee){return ee===47?(e.consume(ee),h="",De):we(ee)}function De(ee){if(ee===62){const kt=h.toLowerCase();return KS.includes(kt)?(e.consume(ee),He):we(ee)}return Ci(ee)&&h.length<8?(e.consume(ee),h+=String.fromCharCode(ee),De):we(ee)}function Oe(ee){return ee===93?(e.consume(ee),$):we(ee)}function $(ee){return ee===62?(e.consume(ee),He):ee===45&&r===2?(e.consume(ee),$):we(ee)}function He(ee){return ee===null||zt(ee)?(e.exit("htmlFlowData"),ot(ee)):(e.consume(ee),He)}function ot(ee){return e.exit("htmlFlow"),i(ee)}}function PW(e,i,t){const n=this;return r;function r(h){return zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):t(h)}function l(h){return n.parser.lazy[n.now().line]?t(h):i(h)}}function RW(e,i,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Gl,i,t)}}const _W={name:"htmlText",tokenize:OW};function OW(e,i,t){const n=this;let r,l,h;return d;function d($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),p}function p($){return $===33?(e.consume($),f):$===47?(e.consume($),Z):$===63?(e.consume($),G):Ci($)?(e.consume($),le):t($)}function f($){return $===45?(e.consume($),g):$===91?(e.consume($),l=0,k):Ci($)?(e.consume($),q):t($)}function g($){return $===45?(e.consume($),C):t($)}function y($){return $===null?t($):$===45?(e.consume($),S):zt($)?(h=y,me($)):(e.consume($),y)}function S($){return $===45?(e.consume($),C):y($)}function C($){return $===62?xe($):$===45?S($):y($)}function k($){const He="CDATA[";return $===He.charCodeAt(l++)?(e.consume($),l===He.length?P:k):t($)}function P($){return $===null?t($):$===93?(e.consume($),R):zt($)?(h=P,me($)):(e.consume($),P)}function R($){return $===93?(e.consume($),D):P($)}function D($){return $===62?xe($):$===93?(e.consume($),D):P($)}function q($){return $===null||$===62?xe($):zt($)?(h=q,me($)):(e.consume($),q)}function G($){return $===null?t($):$===63?(e.consume($),ne):zt($)?(h=G,me($)):(e.consume($),G)}function ne($){return $===62?xe($):G($)}function Z($){return Ci($)?(e.consume($),Y):t($)}function Y($){return $===45||vi($)?(e.consume($),Y):se($)}function se($){return zt($)?(h=se,me($)):on($)?(e.consume($),se):xe($)}function le($){return $===45||vi($)?(e.consume($),le):$===47||$===62||On($)?ge($):t($)}function ge($){return $===47?(e.consume($),xe):$===58||$===95||Ci($)?(e.consume($),ue):zt($)?(h=ge,me($)):on($)?(e.consume($),ge):xe($)}function ue($){return $===45||$===46||$===58||$===95||vi($)?(e.consume($),ue):pe($)}function pe($){return $===61?(e.consume($),we):zt($)?(h=pe,me($)):on($)?(e.consume($),pe):ge($)}function we($){return $===null||$===60||$===61||$===62||$===96?t($):$===34||$===39?(e.consume($),r=$,ve):zt($)?(h=we,me($)):on($)?(e.consume($),we):(e.consume($),Ae)}function ve($){return $===r?(e.consume($),r=void 0,je):$===null?t($):zt($)?(h=ve,me($)):(e.consume($),ve)}function Ae($){return $===null||$===34||$===39||$===60||$===61||$===96?t($):$===47||$===62||On($)?ge($):(e.consume($),Ae)}function je($){return $===47||$===62||On($)?ge($):t($)}function xe($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),i):t($)}function me($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),De}function De($){return on($)?cn(e,Oe,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):Oe($)}function Oe($){return e.enter("htmlTextData"),h($)}}const Ng={name:"labelEnd",tokenize:LW,resolveTo:zW,resolveAll:MW},DW={tokenize:FW},AW={tokenize:NW},IW={tokenize:HW};function MW(e){let i=-1;for(;++i<e.length;){const t=e[i][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(i+1,t.type==="labelImage"?4:2),t.type="data",i++)}return e}function zW(e,i){let t=e.length,n=0,r,l,h,d;for(;t--;)if(r=e[t][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(h){if(e[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=t,r.type!=="labelLink")){n=2;break}}else r.type==="labelEnd"&&(h=t);const p={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},f={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[h][1].end)},g={type:"labelText",start:Object.assign({},e[l+n+2][1].end),end:Object.assign({},e[h-2][1].start)};return d=[["enter",p,i],["enter",f,i]],d=$i(d,e.slice(l+1,l+n+3)),d=$i(d,[["enter",g,i]]),d=$i(d,Od(i.parser.constructs.insideSpan.null,e.slice(l+n+4,h-3),i)),d=$i(d,[["exit",g,i],e[h-2],e[h-1],["exit",f,i]]),d=$i(d,e.slice(h+1)),d=$i(d,[["exit",p,i]]),Gi(e,l,e.length,d),e}function LW(e,i,t){const n=this;let r=n.events.length,l,h;for(;r--;)if((n.events[r][1].type==="labelImage"||n.events[r][1].type==="labelLink")&&!n.events[r][1]._balanced){l=n.events[r][1];break}return d;function d(S){return l?l._inactive?y(S):(h=n.parser.defined.includes(ar(n.sliceSerialize({start:l.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(S),e.exit("labelMarker"),e.exit("labelEnd"),p):t(S)}function p(S){return S===40?e.attempt(DW,g,h?g:y)(S):S===91?e.attempt(AW,g,h?f:y)(S):h?g(S):y(S)}function f(S){return e.attempt(IW,g,y)(S)}function g(S){return i(S)}function y(S){return l._balanced=!0,t(S)}}function FW(e,i,t){return n;function n(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),r}function r(y){return On(y)?Cl(e,l)(y):l(y)}function l(y){return y===41?g(y):sk(e,h,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function h(y){return On(y)?Cl(e,p)(y):g(y)}function d(y){return t(y)}function p(y){return y===34||y===39||y===40?lk(e,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function f(y){return On(y)?Cl(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),i):t(y)}}function NW(e,i,t){const n=this;return r;function r(d){return ak.call(n,e,l,h,"reference","referenceMarker","referenceString")(d)}function l(d){return n.parser.defined.includes(ar(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?i(d):t(d)}function h(d){return t(d)}}function HW(e,i,t){return n;function n(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),r}function r(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),i):t(l)}}const jW={name:"labelStartImage",tokenize:BW,resolveAll:Ng.resolveAll};function BW(e,i,t){const n=this;return r;function r(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),h):t(d)}function h(d){return d===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(d):i(d)}}const VW={name:"labelStartLink",tokenize:UW,resolveAll:Ng.resolveAll};function UW(e,i,t){const n=this;return r;function r(h){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelLink"),l}function l(h){return h===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(h):i(h)}}const jf={name:"lineEnding",tokenize:WW};function WW(e,i){return t;function t(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),cn(e,i,"linePrefix")}}const Nu={name:"thematicBreak",tokenize:GW};function GW(e,i,t){let n=0,r;return l;function l(f){return e.enter("thematicBreak"),h(f)}function h(f){return r=f,d(f)}function d(f){return f===r?(e.enter("thematicBreakSequence"),p(f)):n>=3&&(f===null||zt(f))?(e.exit("thematicBreak"),i(f)):t(f)}function p(f){return f===r?(e.consume(f),n++,p):(e.exit("thematicBreakSequence"),on(f)?cn(e,d,"whitespace")(f):d(f))}}const Di={name:"list",tokenize:KW,continuation:{tokenize:YW},exit:$W},qW={tokenize:JW,partial:!0},XW={tokenize:ZW,partial:!0};function KW(e,i,t){const n=this,r=n.events[n.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,h=0;return d;function d(C){const k=n.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!n.containerState.marker||C===n.containerState.marker:Am(C)){if(n.containerState.type||(n.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),C===42||C===45?e.check(Nu,t,f)(C):f(C);if(!n.interrupt||C===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(C)}return t(C)}function p(C){return Am(C)&&++h<10?(e.consume(C),p):(!n.interrupt||h<2)&&(n.containerState.marker?C===n.containerState.marker:C===41||C===46)?(e.exit("listItemValue"),f(C)):t(C)}function f(C){return e.enter("listItemMarker"),e.consume(C),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||C,e.check(Gl,n.interrupt?t:g,e.attempt(qW,S,y))}function g(C){return n.containerState.initialBlankLine=!0,l++,S(C)}function y(C){return on(C)?(e.enter("listItemPrefixWhitespace"),e.consume(C),e.exit("listItemPrefixWhitespace"),S):t(C)}function S(C){return n.containerState.size=l+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,i(C)}}function YW(e,i,t){const n=this;return n.containerState._closeFlow=void 0,e.check(Gl,r,l);function r(d){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,cn(e,i,"listItemIndent",n.containerState.size+1)(d)}function l(d){return n.containerState.furtherBlankLines||!on(d)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,h(d)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(XW,i,h)(d))}function h(d){return n.containerState._closeFlow=!0,n.interrupt=void 0,cn(e,e.attempt(Di,i,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function ZW(e,i,t){const n=this;return cn(e,r,"listItemIndent",n.containerState.size+1);function r(l){const h=n.events[n.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===n.containerState.size?i(l):t(l)}}function $W(e){e.exit(this.containerState.type)}function JW(e,i,t){const n=this;return cn(e,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const h=n.events[n.events.length-1];return!on(l)&&h&&h[1].type==="listItemPrefixWhitespace"?i(l):t(l)}}const YS={name:"setextUnderline",tokenize:eG,resolveTo:QW};function QW(e,i){let t=e.length,n,r,l;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){n=t;break}e[t][1].type==="paragraph"&&(r=t)}else e[t][1].type==="content"&&e.splice(t,1),!l&&e[t][1].type==="definition"&&(l=t);const h={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",l?(e.splice(r,0,["enter",h,i]),e.splice(l+1,0,["exit",e[n][1],i]),e[n][1].end=Object.assign({},e[l][1].end)):e[n][1]=h,e.push(["exit",h,i]),e}function eG(e,i,t){const n=this;let r;return l;function l(f){let g=n.events.length,y;for(;g--;)if(n.events[g][1].type!=="lineEnding"&&n.events[g][1].type!=="linePrefix"&&n.events[g][1].type!=="content"){y=n.events[g][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||y)?(e.enter("setextHeadingLine"),r=f,h(f)):t(f)}function h(f){return e.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===r?(e.consume(f),d):(e.exit("setextHeadingLineSequence"),on(f)?cn(e,p,"lineSuffix")(f):p(f))}function p(f){return f===null||zt(f)?(e.exit("setextHeadingLine"),i(f)):t(f)}}const tG={tokenize:nG};function nG(e){const i=this,t=e.attempt(Gl,n,e.attempt(this.parser.constructs.flowInitial,r,cn(e,e.attempt(this.parser.constructs.flow,r,e.attempt(aW,r)),"linePrefix")));return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),i.currentConstruct=void 0,t}function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i.currentConstruct=void 0,t}}const iG={resolveAll:uk()},rG=ck("string"),oG=ck("text");function ck(e){return{tokenize:i,resolveAll:uk(e==="text"?sG:void 0)};function i(t){const n=this,r=this.parser.constructs[e],l=t.attempt(r,h,d);return h;function h(g){return f(g)?l(g):d(g)}function d(g){if(g===null){t.consume(g);return}return t.enter("data"),t.consume(g),p}function p(g){return f(g)?(t.exit("data"),l(g)):(t.consume(g),p)}function f(g){if(g===null)return!0;const y=r[g];let S=-1;if(y)for(;++S<y.length;){const C=y[S];if(!C.previous||C.previous.call(n,n.previous))return!0}return!1}}}function uk(e){return i;function i(t,n){let r=-1,l;for(;++r<=t.length;)l===void 0?t[r]&&t[r][1].type==="data"&&(l=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==l+2&&(t[l][1].end=t[r-1][1].end,t.splice(l+2,r-l-2),r=l+2),l=void 0);return e?e(t,n):t}}function sG(e,i){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const n=e[t-1][1],r=i.sliceStream(n);let l=r.length,h=-1,d=0,p;for(;l--;){const f=r[l];if(typeof f=="string"){for(h=f.length;f.charCodeAt(h-1)===32;)d++,h--;if(h)break;h=-1}else if(f===-2)p=!0,d++;else if(f!==-1){l++;break}}if(d){const f={type:t===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-d,offset:n.end.offset-d,_index:n.start._index+l,_bufferIndex:l?h:n.start._bufferIndex+h},end:Object.assign({},n.end)};n.end=Object.assign({},f.start),n.start.offset===n.end.offset?Object.assign(n,f):(e.splice(t,0,["enter",f,i],["exit",f,i]),t+=2)}t++}return e}function aG(e,i,t){let n=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},l=[];let h=[],d=[];const p={consume:q,enter:G,exit:ne,attempt:se(Z),check:se(Y),interrupt:se(Y,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:C,sliceSerialize:S,now:k,defineSkip:P,write:y};let g=i.tokenize.call(f,p);return i.resolveAll&&l.push(i),f;function y(pe){return h=$i(h,pe),R(),h[h.length-1]!==null?[]:(le(i,0),f.events=Od(l,f.events,f),f.events)}function S(pe,we){return cG(C(pe),we)}function C(pe){return lG(h,pe)}function k(){const{line:pe,column:we,offset:ve,_index:Ae,_bufferIndex:je}=n;return{line:pe,column:we,offset:ve,_index:Ae,_bufferIndex:je}}function P(pe){r[pe.line]=pe.column,ue()}function R(){let pe;for(;n._index<h.length;){const we=h[n._index];if(typeof we=="string")for(pe=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===pe&&n._bufferIndex<we.length;)D(we.charCodeAt(n._bufferIndex));else D(we)}}function D(pe){g=g(pe)}function q(pe){zt(pe)?(n.line++,n.column=1,n.offset+=pe===-3?2:1,ue()):pe!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===h[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=pe}function G(pe,we){const ve=we||{};return ve.type=pe,ve.start=k(),f.events.push(["enter",ve,f]),d.push(ve),ve}function ne(pe){const we=d.pop();return we.end=k(),f.events.push(["exit",we,f]),we}function Z(pe,we){le(pe,we.from)}function Y(pe,we){we.restore()}function se(pe,we){return ve;function ve(Ae,je,xe){let me,De,Oe,$;return Array.isArray(Ae)?ot(Ae):"tokenize"in Ae?ot([Ae]):He(Ae);function He(lt){return vt;function vt(_t){const St=_t!==null&&lt[_t],nt=_t!==null&&lt.null,Bt=[...Array.isArray(St)?St:St?[St]:[],...Array.isArray(nt)?nt:nt?[nt]:[]];return ot(Bt)(_t)}}function ot(lt){return me=lt,De=0,lt.length===0?xe:ee(lt[De])}function ee(lt){return vt;function vt(_t){return $=ge(),Oe=lt,lt.partial||(f.currentConstruct=lt),lt.name&&f.parser.constructs.disable.null.includes(lt.name)?tt():lt.tokenize.call(we?Object.assign(Object.create(f),we):f,p,kt,tt)(_t)}}function kt(lt){return pe(Oe,$),je}function tt(lt){return $.restore(),++De<me.length?ee(me[De]):xe}}}function le(pe,we){pe.resolveAll&&!l.includes(pe)&&l.push(pe),pe.resolve&&Gi(f.events,we,f.events.length-we,pe.resolve(f.events.slice(we),f)),pe.resolveTo&&(f.events=pe.resolveTo(f.events,f))}function ge(){const pe=k(),we=f.previous,ve=f.currentConstruct,Ae=f.events.length,je=Array.from(d);return{restore:xe,from:Ae};function xe(){n=pe,f.previous=we,f.currentConstruct=ve,f.events.length=Ae,d=je,ue()}}function ue(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function lG(e,i){const t=i.start._index,n=i.start._bufferIndex,r=i.end._index,l=i.end._bufferIndex;let h;if(t===r)h=[e[t].slice(n,l)];else{if(h=e.slice(t,r),n>-1){const d=h[0];typeof d=="string"?h[0]=d.slice(n):h.shift()}l>0&&h.push(e[r].slice(0,l))}return h}function cG(e,i){let t=-1;const n=[];let r;for(;++t<e.length;){const l=e[t];let h;if(typeof l=="string")h=l;else switch(l){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=i?" ":"	";break}case-1:{if(!i&&r)continue;h=" ";break}default:h=String.fromCharCode(l)}r=l===-2,n.push(h)}return n.join("")}const uG={42:Di,43:Di,45:Di,48:Di,49:Di,50:Di,51:Di,52:Di,53:Di,54:Di,55:Di,56:Di,57:Di,62:nk},dG={91:hW},hG={[-2]:Hf,[-1]:Hf,32:Hf},pG={35:yW,42:Nu,45:[YS,Nu],60:SW,61:YS,95:Nu,96:XS,126:XS},fG={38:rk,92:ik},mG={[-5]:jf,[-4]:jf,[-3]:jf,33:jW,38:rk,42:Im,60:[UU,_W],91:VW,92:[gW,ik],93:Ng,95:Im,96:nW},gG={null:[Im,iG]},vG={null:[42,95]},yG={null:[]},bG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vG,contentInitial:dG,disable:yG,document:uG,flow:pG,flowInitial:hG,insideSpan:gG,string:fG,text:mG},Symbol.toStringTag,{value:"Module"}));function wG(e){const i=tk([bG,...(e||{}).extensions||[]]),t={defined:[],lazy:{},constructs:i,content:n(LU),document:n(NU),flow:n(tG),string:n(rG),text:n(oG)};return t;function n(r){return l;function l(h){return aG(t,r,h)}}}const ZS=/[\0\t\n\r]/g;function xG(){let e=1,i="",t=!0,n;return r;function r(l,h,d){const p=[];let f,g,y,S,C;for(l=i+l.toString(h),y=0,i="",t&&(l.charCodeAt(0)===65279&&y++,t=void 0);y<l.length;){if(ZS.lastIndex=y,f=ZS.exec(l),S=f&&f.index!==void 0?f.index:l.length,C=l.charCodeAt(S),!f){i=l.slice(y);break}if(C===10&&y===S&&n)p.push(-3),n=void 0;else switch(n&&(p.push(-5),n=void 0),y<S&&(p.push(l.slice(y,S)),e+=S-y),C){case 0:{p.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,p.push(-2);e++<g;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:n=!0,e=1}y=S+1}return d&&(n&&p.push(-5),i&&p.push(i),p.push(null)),p}}function SG(e){for(;!ok(e););return e}function dk(e,i){const t=Number.parseInt(e,i);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCharCode(t)}const EG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hk(e){return e.replace(EG,TG)}function TG(e,i,t){if(i)return i;if(t.charCodeAt(0)===35){const n=t.charCodeAt(1),r=n===120||n===88;return dk(t.slice(r?2:1),r?16:10)}return Fg(t)||e}const pk={}.hasOwnProperty,CG=function(e,i,t){return typeof i!="string"&&(t=i,i=void 0),kG(t)(SG(wG(t).document().write(xG()(e,i,!0))))};function kG(e){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Ve),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:d(wt),blockQuote:d(Bt),characterEscape:pe,characterReference:pe,codeFenced:d(Gt),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:d(Gt,p),codeText:d(Vt,p),codeTextData:pe,data:pe,codeFlowValue:pe,definition:d(dn),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:d(Ft),hardBreakEscape:d(I),hardBreakTrailing:d(I),htmlFlow:d(Q,p),htmlFlowData:pe,htmlText:d(Q,p),htmlTextData:pe,image:d(Se),label:p,link:d(Ve),listItem:d(Je),listItemValue:k,listOrdered:d(ze,C),listUnordered:d(ze),paragraph:d(Xe),reference:tt,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:d(wt),strong:d(Et),thematicBreak:d(At)},exit:{atxHeading:g(),atxHeadingSequence:se,autolink:g(),autolinkEmail:nt,autolinkProtocol:St,blockQuote:g(),characterEscapeValue:we,characterReferenceMarkerHexadecimal:vt,characterReferenceMarkerNumeric:vt,characterReferenceValue:_t,codeFenced:g(q),codeFencedFence:D,codeFencedFenceInfo:P,codeFencedFenceMeta:R,codeFlowValue:we,codeIndented:g(G),codeText:g(me),codeTextData:we,data:we,definition:g(),definitionDestinationString:Y,definitionLabelString:ne,definitionTitleString:Z,emphasis:g(),hardBreakEscape:g(Ae),hardBreakTrailing:g(Ae),htmlFlow:g(je),htmlFlowData:we,htmlText:g(xe),htmlTextData:we,image:g(Oe),label:He,labelText:$,lineEnding:ve,link:g(De),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:lt,resourceDestinationString:ot,resourceTitleString:ee,resource:kt,setextHeading:g(ue),setextHeadingLineSequence:ge,setextHeadingText:le,strong:g(),thematicBreak:g()}};fk(i,(e||{}).mdastExtensions||[]);const t={};return n;function n(fe){let Fe={type:"root",children:[]};const L={stack:[Fe],tokenStack:[],config:i,enter:f,exit:y,buffer:p,resume:S,setData:l,getData:h},N=[];let W=-1;for(;++W<fe.length;)if(fe[W][1].type==="listOrdered"||fe[W][1].type==="listUnordered")if(fe[W][0]==="enter")N.push(W);else{const J=N.pop();W=r(fe,J,W)}for(W=-1;++W<fe.length;){const J=i[fe[W][0]];pk.call(J,fe[W][1].type)&&J[fe[W][1].type].call(Object.assign({sliceSerialize:fe[W][2].sliceSerialize},L),fe[W][1])}if(L.tokenStack.length>0){const J=L.tokenStack[L.tokenStack.length-1];(J[1]||$S).call(L,void 0,J[0])}for(Fe.position={start:eo(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:eo(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<i.transforms.length;)Fe=i.transforms[W](Fe)||Fe;return Fe}function r(fe,Fe,L){let N=Fe-1,W=-1,J=!1,Te,_e,mt,it;for(;++N<=L;){const st=fe[N];if(st[1].type==="listUnordered"||st[1].type==="listOrdered"||st[1].type==="blockQuote"?(st[0]==="enter"?W++:W--,it=void 0):st[1].type==="lineEndingBlank"?st[0]==="enter"&&(Te&&!it&&!W&&!mt&&(mt=N),it=void 0):st[1].type==="linePrefix"||st[1].type==="listItemValue"||st[1].type==="listItemMarker"||st[1].type==="listItemPrefix"||st[1].type==="listItemPrefixWhitespace"||(it=void 0),!W&&st[0]==="enter"&&st[1].type==="listItemPrefix"||W===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(Te){let bn=N;for(_e=void 0;bn--;){const tn=fe[bn];if(tn[1].type==="lineEnding"||tn[1].type==="lineEndingBlank"){if(tn[0]==="exit")continue;_e&&(fe[_e][1].type="lineEndingBlank",J=!0),tn[1].type="lineEnding",_e=bn}else if(!(tn[1].type==="linePrefix"||tn[1].type==="blockQuotePrefix"||tn[1].type==="blockQuotePrefixWhitespace"||tn[1].type==="blockQuoteMarker"||tn[1].type==="listItemIndent"))break}mt&&(!_e||mt<_e)&&(Te._spread=!0),Te.end=Object.assign({},_e?fe[_e][1].start:st[1].end),fe.splice(_e||N,0,["exit",Te,st[2]]),N++,L++}st[1].type==="listItemPrefix"&&(Te={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0},fe.splice(N,0,["enter",Te,st[2]]),N++,L++,mt=void 0,it=!0)}}return fe[Fe][1]._spread=J,L}function l(fe,Fe){t[fe]=Fe}function h(fe){return t[fe]}function d(fe,Fe){return L;function L(N){f.call(this,fe(N),N),Fe&&Fe.call(this,N)}}function p(){this.stack.push({type:"fragment",children:[]})}function f(fe,Fe,L){return this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([Fe,L]),fe.position={start:eo(Fe.start)},fe}function g(fe){return Fe;function Fe(L){fe&&fe.call(this,L),y.call(this,L)}}function y(fe,Fe){const L=this.stack.pop(),N=this.tokenStack.pop();if(N)N[0].type!==fe.type&&(Fe?Fe.call(this,fe,N[0]):(N[1]||$S).call(this,fe,N[0]));else throw new Error("Cannot close `"+fe.type+"` ("+Tl({start:fe.start,end:fe.end})+"): it’s not open");return L.position.end=eo(fe.end),L}function S(){return RU(this.stack.pop())}function C(){l("expectingFirstListItemValue",!0)}function k(fe){if(h("expectingFirstListItemValue")){const Fe=this.stack[this.stack.length-2];Fe.start=Number.parseInt(this.sliceSerialize(fe),10),l("expectingFirstListItemValue")}}function P(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.lang=fe}function R(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.meta=fe}function D(){h("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function q(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function G(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=fe.replace(/(\r?\n|\r)$/g,"")}function ne(fe){const Fe=this.resume(),L=this.stack[this.stack.length-1];L.label=Fe,L.identifier=ar(this.sliceSerialize(fe)).toLowerCase()}function Z(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=fe}function Y(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=fe}function se(fe){const Fe=this.stack[this.stack.length-1];if(!Fe.depth){const L=this.sliceSerialize(fe).length;Fe.depth=L}}function le(){l("setextHeadingSlurpLineEnding",!0)}function ge(fe){const Fe=this.stack[this.stack.length-1];Fe.depth=this.sliceSerialize(fe).charCodeAt(0)===61?1:2}function ue(){l("setextHeadingSlurpLineEnding")}function pe(fe){const Fe=this.stack[this.stack.length-1];let L=Fe.children[Fe.children.length-1];(!L||L.type!=="text")&&(L=Lt(),L.position={start:eo(fe.start)},Fe.children.push(L)),this.stack.push(L)}function we(fe){const Fe=this.stack.pop();Fe.value+=this.sliceSerialize(fe),Fe.position.end=eo(fe.end)}function ve(fe){const Fe=this.stack[this.stack.length-1];if(h("atHardBreak")){const L=Fe.children[Fe.children.length-1];L.position.end=eo(fe.end),l("atHardBreak");return}!h("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(Fe.type)&&(pe.call(this,fe),we.call(this,fe))}function Ae(){l("atHardBreak",!0)}function je(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=fe}function xe(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=fe}function me(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=fe}function De(){const fe=this.stack[this.stack.length-1];if(h("inReference")){const Fe=h("referenceType")||"shortcut";fe.type+="Reference",fe.referenceType=Fe,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;l("referenceType")}function Oe(){const fe=this.stack[this.stack.length-1];if(h("inReference")){const Fe=h("referenceType")||"shortcut";fe.type+="Reference",fe.referenceType=Fe,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;l("referenceType")}function $(fe){const Fe=this.sliceSerialize(fe),L=this.stack[this.stack.length-2];L.label=hk(Fe),L.identifier=ar(Fe).toLowerCase()}function He(){const fe=this.stack[this.stack.length-1],Fe=this.resume(),L=this.stack[this.stack.length-1];if(l("inReference",!0),L.type==="link"){const N=fe.children;L.children=N}else L.alt=Fe}function ot(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=fe}function ee(){const fe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=fe}function kt(){l("inReference")}function tt(){l("referenceType","collapsed")}function lt(fe){const Fe=this.resume(),L=this.stack[this.stack.length-1];L.label=Fe,L.identifier=ar(this.sliceSerialize(fe)).toLowerCase(),l("referenceType","full")}function vt(fe){l("characterReferenceType",fe.type)}function _t(fe){const Fe=this.sliceSerialize(fe),L=h("characterReferenceType");let N;L?(N=dk(Fe,L==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):N=Fg(Fe);const W=this.stack.pop();W.value+=N,W.position.end=eo(fe.end)}function St(fe){we.call(this,fe);const Fe=this.stack[this.stack.length-1];Fe.url=this.sliceSerialize(fe)}function nt(fe){we.call(this,fe);const Fe=this.stack[this.stack.length-1];Fe.url="mailto:"+this.sliceSerialize(fe)}function Bt(){return{type:"blockquote",children:[]}}function Gt(){return{type:"code",lang:null,meta:null,value:""}}function Vt(){return{type:"inlineCode",value:""}}function dn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ft(){return{type:"emphasis",children:[]}}function wt(){return{type:"heading",depth:void 0,children:[]}}function I(){return{type:"break"}}function Q(){return{type:"html",value:""}}function Se(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function ze(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Je(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function Et(){return{type:"strong",children:[]}}function Lt(){return{type:"text",value:""}}function At(){return{type:"thematicBreak"}}}function eo(e){return{line:e.line,column:e.column,offset:e.offset}}function fk(e,i){let t=-1;for(;++t<i.length;){const n=i[t];Array.isArray(n)?fk(e,n):PG(e,n)}}function PG(e,i){let t;for(t in i)if(pk.call(i,t)){if(t==="canContainEols"){const n=i[t];n&&e[t].push(...n)}else if(t==="transforms"){const n=i[t];n&&e[t].push(...n)}else if(t==="enter"||t==="exit"){const n=i[t];n&&Object.assign(e[t],n)}}}function $S(e,i){throw e?new Error("Cannot close `"+e.type+"` ("+Tl({start:e.start,end:e.end})+"): a different token (`"+i.type+"`, "+Tl({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+Tl({start:i.start,end:i.end})+") is still open")}function RG(e){Object.assign(this,{Parser:i=>{const t=this.data("settings");return CG(i,Object.assign({},t,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function _G(e,i){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(i),!0)};return e.patch(i,t),e.applyData(i,t)}function OG(e,i){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(i,t),[e.applyData(i,t),{type:"text",value:`
`}]}function DG(e,i){const t=i.value?i.value+`
`:"",n=i.lang?i.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,r={};n&&(r.className=["language-"+n]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return i.meta&&(l.data={meta:i.meta}),e.patch(i,l),l=e.applyData(i,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(i,l),l}function AG(e,i){const t={type:"element",tagName:"del",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function IG(e,i){const t={type:"element",tagName:"em",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function wa(e){const i=[];let t=-1,n=0,r=0;for(;++t<e.length;){const l=e.charCodeAt(t);let h="";if(l===37&&vi(e.charCodeAt(t+1))&&vi(e.charCodeAt(t+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(h=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(t+1);l<56320&&d>56319&&d<57344?(h=String.fromCharCode(l,d),r=1):h="�"}else h=String.fromCharCode(l);h&&(i.push(e.slice(n,t),encodeURIComponent(h)),n=t+r+1,h=""),r&&(t+=r,r=0)}return i.join("")+e.slice(n)}function mk(e,i){const t=String(i.identifier).toUpperCase(),n=wa(t.toLowerCase()),r=e.footnoteOrder.indexOf(t);let l;r===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,l=e.footnoteOrder.length):(e.footnoteCounts[t]++,l=r+1);const h=e.footnoteCounts[t],d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+n,id:e.clobberPrefix+"fnref-"+n+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(i,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(i,p),e.applyData(i,p)}function MG(e,i){const t=e.footnoteById;let n=1;for(;n in t;)n++;const r=String(n);return t[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:i.children}],position:i.position},mk(e,{type:"footnoteReference",identifier:r,position:i.position})}function zG(e,i){const t={type:"element",tagName:"h"+i.depth,properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function LG(e,i){if(e.dangerous){const t={type:"raw",value:i.value};return e.patch(i,t),e.applyData(i,t)}return null}function gk(e,i){const t=i.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return{type:"text",value:"!["+i.alt+n};const r=e.all(i),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const h=r[r.length-1];return h&&h.type==="text"?h.value+=n:r.push({type:"text",value:n}),r}function FG(e,i){const t=e.definition(i.identifier);if(!t)return gk(e,i);const n={src:wa(t.url||""),alt:i.alt};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(i,r),e.applyData(i,r)}function NG(e,i){const t={src:wa(i.url)};i.alt!==null&&i.alt!==void 0&&(t.alt=i.alt),i.title!==null&&i.title!==void 0&&(t.title=i.title);const n={type:"element",tagName:"img",properties:t,children:[]};return e.patch(i,n),e.applyData(i,n)}function HG(e,i){const t={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};e.patch(i,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(i,n),e.applyData(i,n)}function jG(e,i){const t=e.definition(i.identifier);if(!t)return gk(e,i);const n={href:wa(t.url||"")};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(i)};return e.patch(i,r),e.applyData(i,r)}function BG(e,i){const t={href:wa(i.url)};i.title!==null&&i.title!==void 0&&(t.title=i.title);const n={type:"element",tagName:"a",properties:t,children:e.all(i)};return e.patch(i,n),e.applyData(i,n)}function VG(e,i,t){const n=e.all(i),r=t?UG(t):vk(i),l={},h=[];if(typeof i.checked=="boolean"){const g=n[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},n.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<n.length;){const g=n[d];(r||d!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?h.push(...g.children):h.push(g)}const p=n[n.length-1];p&&(r||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:h};return e.patch(i,f),e.applyData(i,f)}function UG(e){let i=!1;if(e.type==="list"){i=e.spread||!1;const t=e.children;let n=-1;for(;!i&&++n<t.length;)i=vk(t[n])}return i}function vk(e){return e.spread??e.children.length>1}function WG(e,i){const t={},n=e.all(i);let r=-1;for(typeof i.start=="number"&&i.start!==1&&(t.start=i.start);++r<n.length;){const h=n[r];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const l={type:"element",tagName:i.ordered?"ol":"ul",properties:t,children:e.wrap(n,!0)};return e.patch(i,l),e.applyData(i,l)}function GG(e,i){const t={type:"element",tagName:"p",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function qG(e,i){const t={type:"root",children:e.wrap(e.all(i))};return e.patch(i,t),e.applyData(i,t)}function XG(e,i){const t={type:"element",tagName:"strong",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}const Hg=yk("start"),jg=yk("end");function KG(e){return{start:Hg(e),end:jg(e)}}function yk(e){return i;function i(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}function YG(e,i){const t=e.all(i),n=t.shift(),r=[];if(n){const h={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(i.children[0],h),r.push(h)}if(t.length>0){const h={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},d=Hg(i.children[1]),p=jg(i.children[i.children.length-1]);d.line&&p.line&&(h.position={start:d,end:p}),r.push(h)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(i,l),e.applyData(i,l)}function ZG(e,i,t){const n=t?t.children:void 0,r=(n?n.indexOf(i):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,h=l?l.length:i.children.length;let d=-1;const p=[];for(;++d<h;){const g=i.children[d],y={},S=l?l[d]:void 0;S&&(y.align=S);let C={type:"element",tagName:r,properties:y,children:[]};g&&(C.children=e.all(g),e.patch(g,C),C=e.applyData(i,C)),p.push(C)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(i,f),e.applyData(i,f)}function $G(e,i){const t={type:"element",tagName:"td",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}const JS=9,QS=32;function JG(e){const i=String(e),t=/\r?\n|\r/g;let n=t.exec(i),r=0;const l=[];for(;n;)l.push(eE(i.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=t.exec(i);return l.push(eE(i.slice(r),r>0,!1)),l.join("")}function eE(e,i,t){let n=0,r=e.length;if(i){let l=e.codePointAt(n);for(;l===JS||l===QS;)n++,l=e.codePointAt(n)}if(t){let l=e.codePointAt(r-1);for(;l===JS||l===QS;)r--,l=e.codePointAt(r-1)}return r>n?e.slice(n,r):""}function QG(e,i){const t={type:"text",value:JG(String(i.value))};return e.patch(i,t),e.applyData(i,t)}function eq(e,i){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(i,t),e.applyData(i,t)}const tq={blockquote:_G,break:OG,code:DG,delete:AG,emphasis:IG,footnoteReference:mk,footnote:MG,heading:zG,html:LG,imageReference:FG,image:NG,inlineCode:HG,linkReference:jG,link:BG,listItem:VG,list:WG,paragraph:GG,root:qG,strong:XG,table:YG,tableCell:$G,tableRow:ZG,text:QG,thematicBreak:eq,toml:ku,yaml:ku,definition:ku,footnoteDefinition:ku};function ku(){return null}const Bg=function(e){if(e==null)return oq;if(typeof e=="string")return rq(e);if(typeof e=="object")return Array.isArray(e)?nq(e):iq(e);if(typeof e=="function")return Dd(e);throw new Error("Expected function, string, or object as test")};function nq(e){const i=[];let t=-1;for(;++t<e.length;)i[t]=Bg(e[t]);return Dd(n);function n(...r){let l=-1;for(;++l<i.length;)if(i[l].call(this,...r))return!0;return!1}}function iq(e){return Dd(i);function i(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function rq(e){return Dd(i);function i(t){return t&&t.type===e}}function Dd(e){return i;function i(t,...n){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...n))}}function oq(){return!0}const sq=!0,tE=!1,aq="skip",bk=function(e,i,t,n){typeof i=="function"&&typeof t!="function"&&(n=t,t=i,i=null);const r=Bg(i),l=n?-1:1;h(e,void 0,[])();function h(d,p,f){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(S?"<"+S+">":""))+")"})}return y;function y(){let S=[],C,k,P;if((!i||r(d,p,f[f.length-1]||null))&&(S=lq(t(d,f)),S[0]===tE))return S;if(d.children&&S[0]!==aq)for(k=(n?d.children.length:-1)+l,P=f.concat(d);k>-1&&k<d.children.length;){if(C=h(d.children[k],k,P)(),C[0]===tE)return C;k=typeof C[1]=="number"?C[1]:k+l}return S}}};function lq(e){return Array.isArray(e)?e:typeof e=="number"?[sq,e]:[e]}const Vg=function(e,i,t,n){typeof i=="function"&&typeof t!="function"&&(n=t,t=i,i=null),bk(e,i,r,n);function r(l,h){const d=h[h.length-1];return t(l,d?d.children.indexOf(l):null,d)}};function cq(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const nE={}.hasOwnProperty;function uq(e){const i=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Vg(e,"definition",n=>{const r=iE(n.identifier);r&&!nE.call(i,r)&&(i[r]=n)}),t;function t(n){const r=iE(n);return r&&nE.call(i,r)?i[r]:null}}function iE(e){return String(e||"").toUpperCase()}const $u={}.hasOwnProperty;function dq(e,i){const t=i||{},n=t.allowDangerousHtml||!1,r={};return h.dangerous=n,h.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,h.footnoteLabel=t.footnoteLabel||"Footnotes",h.footnoteLabelTagName=t.footnoteLabelTagName||"h2",h.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},h.footnoteBackLabel=t.footnoteBackLabel||"Back to content",h.unknownHandler=t.unknownHandler,h.passThrough=t.passThrough,h.handlers={...tq,...t.handlers},h.definition=uq(e),h.footnoteById=r,h.footnoteOrder=[],h.footnoteCounts={},h.patch=hq,h.applyData=pq,h.one=d,h.all=p,h.wrap=mq,h.augment=l,Vg(e,"footnoteDefinition",f=>{const g=String(f.identifier).toUpperCase();$u.call(r,g)||(r[g]=f)}),h;function l(f,g){if(f&&"data"in f&&f.data){const y=f.data;y.hName&&(g.type!=="element"&&(g={type:"element",tagName:"",properties:{},children:[]}),g.tagName=y.hName),g.type==="element"&&y.hProperties&&(g.properties={...g.properties,...y.hProperties}),"children"in g&&g.children&&y.hChildren&&(g.children=y.hChildren)}if(f){const y="type"in f?f:{position:f};cq(y)||(g.position={start:Hg(y),end:jg(y)})}return g}function h(f,g,y,S){return Array.isArray(y)&&(S=y,y={}),l(f,{type:"element",tagName:g,properties:y||{},children:S||[]})}function d(f,g){return wk(h,f,g)}function p(f){return Ug(h,f)}}function hq(e,i){e.position&&(i.position=KG(e))}function pq(e,i){let t=i;if(e&&e.data){const n=e.data.hName,r=e.data.hChildren,l=e.data.hProperties;typeof n=="string"&&(t.type==="element"?t.tagName=n:t={type:"element",tagName:n,properties:{},children:[]}),t.type==="element"&&l&&(t.properties={...t.properties,...l}),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function wk(e,i,t){const n=i&&i.type;if(!n)throw new Error("Expected node, got `"+i+"`");return $u.call(e.handlers,n)?e.handlers[n](e,i,t):e.passThrough&&e.passThrough.includes(n)?"children"in i?{...i,children:Ug(e,i)}:i:e.unknownHandler?e.unknownHandler(e,i,t):fq(e,i)}function Ug(e,i){const t=[];if("children"in i){const n=i.children;let r=-1;for(;++r<n.length;){const l=wk(e,n[r],i);if(l){if(r&&n[r-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const h=l.children[0];h&&h.type==="text"&&(h.value=h.value.replace(/^\s+/,""))}Array.isArray(l)?t.push(...l):t.push(l)}}}return t}function fq(e,i){const t=i.data||{},n="value"in i&&!($u.call(t,"hProperties")||$u.call(t,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:Ug(e,i)};return e.patch(i,n),e.applyData(i,n)}function mq(e,i){const t=[];let n=-1;for(i&&t.push({type:"text",value:`
`});++n<e.length;)n&&t.push({type:"text",value:`
`}),t.push(e[n]);return i&&e.length>0&&t.push({type:"text",value:`
`}),t}function gq(e){const i=[];let t=-1;for(;++t<e.footnoteOrder.length;){const n=e.footnoteById[e.footnoteOrder[t]];if(!n)continue;const r=e.all(n),l=String(n.identifier).toUpperCase(),h=wa(l.toLowerCase());let d=0;const p=[];for(;++d<=e.footnoteCounts[l];){const y={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"↩"}]};d>1&&y.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(d)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(y)}const f=r[r.length-1];if(f&&f.type==="element"&&f.tagName==="p"){const y=f.children[f.children.length-1];y&&y.type==="text"?y.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...p)}else r.push(...p);const g={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+h},children:e.wrap(r,!0)};e.patch(n,g),i.push(g)}if(i.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(i,!0)},{type:"text",value:`
`}]}}function xk(e,i){const t=dq(e,i),n=t.one(e,null),r=gq(t);return r&&n.children.push({type:"text",value:`
`},r),Array.isArray(n)?{type:"root",children:n}:n}const vq=function(e,i){return e&&"run"in e?yq(e,i):bq(e||i)};function yq(e,i){return(t,n,r)=>{e.run(xk(t,i),n,l=>{r(l)})}}function bq(e){return i=>xk(i,e)}class ql{constructor(i,t,n){this.property=i,this.normal=t,n&&(this.space=n)}}ql.prototype.property={};ql.prototype.normal={};ql.prototype.space=null;function Sk(e,i){const t={},n={};let r=-1;for(;++r<e.length;)Object.assign(t,e[r].property),Object.assign(n,e[r].normal);return new ql(t,n,i)}function Mm(e){return e.toLowerCase()}class tr{constructor(i,t){this.property=i,this.attribute=t}}tr.prototype.space=null;tr.prototype.boolean=!1;tr.prototype.booleanish=!1;tr.prototype.overloadedBoolean=!1;tr.prototype.number=!1;tr.prototype.commaSeparated=!1;tr.prototype.spaceSeparated=!1;tr.prototype.commaOrSpaceSeparated=!1;tr.prototype.mustUseProperty=!1;tr.prototype.defined=!1;let wq=0;const $t=us(),qn=us(),Ek=us(),$e=us(),An=us(),ca=us(),Vi=us();function us(){return 2**++wq}const zm=Object.freeze(Object.defineProperty({__proto__:null,boolean:$t,booleanish:qn,commaOrSpaceSeparated:Vi,commaSeparated:ca,number:$e,overloadedBoolean:Ek,spaceSeparated:An},Symbol.toStringTag,{value:"Module"})),Bf=Object.keys(zm);class Wg extends tr{constructor(i,t,n,r){let l=-1;if(super(i,t),rE(this,"space",r),typeof n=="number")for(;++l<Bf.length;){const h=Bf[l];rE(this,Bf[l],(n&zm[h])===zm[h])}}}Wg.prototype.defined=!0;function rE(e,i,t){t&&(e[i]=t)}const xq={}.hasOwnProperty;function xa(e){const i={},t={};let n;for(n in e.properties)if(xq.call(e.properties,n)){const r=e.properties[n],l=new Wg(n,e.transform(e.attributes||{},n),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(l.mustUseProperty=!0),i[n]=l,t[Mm(n)]=n,t[Mm(l.attribute)]=n}return new ql(i,t,e.space)}const Tk=xa({space:"xlink",transform(e,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ck=xa({space:"xml",transform(e,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function kk(e,i){return i in e?e[i]:i}function Pk(e,i){return kk(e,i.toLowerCase())}const Rk=xa({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Pk,properties:{xmlns:null,xmlnsXLink:null}}),_k=xa({transform(e,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:qn,ariaAutoComplete:null,ariaBusy:qn,ariaChecked:qn,ariaColCount:$e,ariaColIndex:$e,ariaColSpan:$e,ariaControls:An,ariaCurrent:null,ariaDescribedBy:An,ariaDetails:null,ariaDisabled:qn,ariaDropEffect:An,ariaErrorMessage:null,ariaExpanded:qn,ariaFlowTo:An,ariaGrabbed:qn,ariaHasPopup:null,ariaHidden:qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:An,ariaLevel:$e,ariaLive:null,ariaModal:qn,ariaMultiLine:qn,ariaMultiSelectable:qn,ariaOrientation:null,ariaOwns:An,ariaPlaceholder:null,ariaPosInSet:$e,ariaPressed:qn,ariaReadOnly:qn,ariaRelevant:null,ariaRequired:qn,ariaRoleDescription:An,ariaRowCount:$e,ariaRowIndex:$e,ariaRowSpan:$e,ariaSelected:qn,ariaSetSize:$e,ariaSort:null,ariaValueMax:$e,ariaValueMin:$e,ariaValueNow:$e,ariaValueText:null,role:null}}),Sq=xa({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Pk,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ca,acceptCharset:An,accessKey:An,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:An,autoFocus:$t,autoPlay:$t,blocking:An,capture:null,charSet:null,checked:$t,cite:null,className:An,cols:$e,colSpan:null,content:null,contentEditable:qn,controls:$t,controlsList:An,coords:$e|ca,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:Ek,draggable:qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:An,height:$e,hidden:$t,high:$e,href:null,hrefLang:null,htmlFor:An,httpEquiv:An,id:null,imageSizes:null,imageSrcSet:null,inert:$t,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:An,itemRef:An,itemScope:$t,itemType:An,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:$e,manifest:null,max:null,maxLength:$e,media:null,method:null,min:null,minLength:$e,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:$e,pattern:null,ping:An,placeholder:null,playsInline:$t,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:An,required:$t,reversed:$t,rows:$e,rowSpan:$e,sandbox:An,scope:null,scoped:$t,seamless:$t,selected:$t,shadowRootClonable:$t,shadowRootDelegatesFocus:$t,shadowRootMode:null,shape:null,size:$e,sizes:null,slot:null,span:$e,spellCheck:qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$e,step:null,style:null,tabIndex:$e,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:qn,width:$e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:An,axis:null,background:null,bgColor:null,border:$e,borderColor:null,bottomMargin:$e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:$e,leftMargin:$e,link:null,longDesc:null,lowSrc:null,marginHeight:$e,marginWidth:$e,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:$e,rules:null,scheme:null,scrolling:qn,standby:null,summary:null,text:null,topMargin:$e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:$e,security:null,unselectable:null}}),Eq=xa({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:kk,properties:{about:Vi,accentHeight:$e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$e,amplitude:$e,arabicForm:null,ascent:$e,attributeName:null,attributeType:null,azimuth:$e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$e,by:null,calcMode:null,capHeight:$e,className:An,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$e,diffuseConstant:$e,direction:null,display:null,dur:null,divisor:$e,dominantBaseline:null,download:$t,dx:null,dy:null,edgeMode:null,editable:null,elevation:$e,enableBackground:null,end:null,event:null,exponent:$e,externalResourcesRequired:null,fill:null,fillOpacity:$e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ca,g2:ca,glyphName:ca,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$e,horizOriginX:$e,horizOriginY:$e,id:null,ideographic:$e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$e,k:$e,k1:$e,k2:$e,k3:$e,k4:$e,kernelMatrix:Vi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$e,overlineThickness:$e,paintOrder:null,panose1:null,path:null,pathLength:$e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:An,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$e,pointsAtY:$e,pointsAtZ:$e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vi,rev:Vi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vi,requiredFeatures:Vi,requiredFonts:Vi,requiredFormats:Vi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$e,specularExponent:$e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$e,strikethroughThickness:$e,string:null,stroke:null,strokeDashArray:Vi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$e,strokeOpacity:$e,strokeWidth:null,style:null,surfaceScale:$e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vi,tabIndex:$e,tableValues:null,target:null,targetX:$e,targetY:$e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$e,underlineThickness:$e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$e,values:null,vAlphabetic:$e,vMathematical:$e,vectorEffect:null,vHanging:$e,vIdeographic:$e,version:null,vertAdvY:$e,vertOriginX:$e,vertOriginY:$e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Tq=/^data[-\w.:]+$/i,oE=/-[a-z]/g,Cq=/[A-Z]/g;function kq(e,i){const t=Mm(i);let n=i,r=tr;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Tq.test(i)){if(i.charAt(4)==="-"){const l=i.slice(5).replace(oE,Rq);n="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=i.slice(4);if(!oE.test(l)){let h=l.replace(Cq,Pq);h.charAt(0)!=="-"&&(h="-"+h),i="data"+h}}r=Wg}return new r(n,i)}function Pq(e){return"-"+e.toLowerCase()}function Rq(e){return e.charAt(1).toUpperCase()}const sE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_q=Sk([Ck,Tk,Rk,_k,Sq],"html"),Oq=Sk([Ck,Tk,Rk,_k,Eq],"svg");function Dq(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return i=>{Vg(i,"element",(t,n,r)=>{const l=r;let h;if(e.allowedElements?h=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(h=e.disallowedElements.includes(t.tagName)),!h&&e.allowElement&&typeof n=="number"&&(h=!e.allowElement(t,n,l)),h&&typeof n=="number")return e.unwrapDisallowed&&t.children?l.children.splice(n,1,...t.children):l.children.splice(n,1),n})}}var Ok={exports:{}},Tn={},aE;function Aq(){if(aE)return Tn;aE=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),i=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function P(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case e:switch(R=R.type,R){case t:case r:case n:case f:case g:return R;default:switch(R=R&&R.$$typeof,R){case d:case h:case p:case S:case y:case l:return R;default:return D}}case i:return D}}}return Tn.ContextConsumer=h,Tn.ContextProvider=l,Tn.Element=e,Tn.ForwardRef=p,Tn.Fragment=t,Tn.Lazy=S,Tn.Memo=y,Tn.Portal=i,Tn.Profiler=r,Tn.StrictMode=n,Tn.Suspense=f,Tn.SuspenseList=g,Tn.isAsyncMode=function(){return!1},Tn.isConcurrentMode=function(){return!1},Tn.isContextConsumer=function(R){return P(R)===h},Tn.isContextProvider=function(R){return P(R)===l},Tn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Tn.isForwardRef=function(R){return P(R)===p},Tn.isFragment=function(R){return P(R)===t},Tn.isLazy=function(R){return P(R)===S},Tn.isMemo=function(R){return P(R)===y},Tn.isPortal=function(R){return P(R)===i},Tn.isProfiler=function(R){return P(R)===r},Tn.isStrictMode=function(R){return P(R)===n},Tn.isSuspense=function(R){return P(R)===f},Tn.isSuspenseList=function(R){return P(R)===g},Tn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===r||R===n||R===f||R===g||R===C||typeof R=="object"&&R!==null&&(R.$$typeof===S||R.$$typeof===y||R.$$typeof===l||R.$$typeof===h||R.$$typeof===p||R.$$typeof===k||R.getModuleId!==void 0)},Tn.typeOf=P,Tn}Ok.exports=Aq();var Iq=Ok.exports;const Mq=Tr(Iq);function zq(e){const i=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof i=="string"&&i.replace(/[ \t\n\f\r]/g,"")===""}function Lq(e){return e.join(" ").trim()}function Fq(e,i){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Lm={}.hasOwnProperty,Nq=new Set(["table","thead","tbody","tfoot","tr"]);function Dk(e,i){const t=[];let n=-1,r;for(;++n<i.children.length;)r=i.children[n],r.type==="element"?t.push(Hq(e,r,n,i)):r.type==="text"?(i.type!=="element"||!Nq.has(i.tagName)||!zq(r))&&t.push(r.value):r.type==="raw"&&!e.options.skipHtml&&t.push(r.value);return t}function Hq(e,i,t,n){const r=e.options,l=r.transformLinkUri===void 0?aU:r.transformLinkUri,h=e.schema,d=i.tagName,p={};let f=h,g;if(h.space==="html"&&d==="svg"&&(f=Oq,e.schema=f),i.properties)for(g in i.properties)Lm.call(i.properties,g)&&Bq(p,g,i.properties[g],e);(d==="ol"||d==="ul")&&e.listDepth++;const y=Dk(e,i);(d==="ol"||d==="ul")&&e.listDepth--,e.schema=h;const S=i.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},C=r.components&&Lm.call(r.components,d)?r.components[d]:d,k=typeof C=="string"||C===gt.Fragment;if(!Mq.isValidElementType(C))throw new TypeError(`Component for name \`${d}\` not defined or is not renderable`);if(p.key=t,d==="a"&&r.linkTarget&&(p.target=typeof r.linkTarget=="function"?r.linkTarget(String(p.href||""),i.children,typeof p.title=="string"?p.title:null):r.linkTarget),d==="a"&&l&&(p.href=l(String(p.href||""),i.children,typeof p.title=="string"?p.title:null)),!k&&d==="code"&&n.type==="element"&&n.tagName!=="pre"&&(p.inline=!0),!k&&(d==="h1"||d==="h2"||d==="h3"||d==="h4"||d==="h5"||d==="h6")&&(p.level=Number.parseInt(d.charAt(1),10)),d==="img"&&r.transformImageUri&&(p.src=r.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!k&&d==="li"&&n.type==="element"){const P=jq(i);p.checked=P&&P.properties?!!P.properties.checked:null,p.index=Vf(n,i),p.ordered=n.tagName==="ol"}return!k&&(d==="ol"||d==="ul")&&(p.ordered=d==="ol",p.depth=e.listDepth),(d==="td"||d==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),k||(p.isHeader=d==="th")),!k&&d==="tr"&&n.type==="element"&&(p.isHeader=n.tagName==="thead"),r.sourcePos&&(p["data-sourcepos"]=Wq(S)),!k&&r.rawSourcePos&&(p.sourcePosition=i.position),!k&&r.includeElementIndex&&(p.index=Vf(n,i),p.siblingCount=Vf(n)),k||(p.node=i),y.length>0?gt.createElement(C,p,y):gt.createElement(C,p)}function jq(e){let i=-1;for(;++i<e.children.length;){const t=e.children[i];if(t.type==="element"&&t.tagName==="input")return t}return null}function Vf(e,i){let t=-1,n=0;for(;++t<e.children.length&&e.children[t]!==i;)e.children[t].type==="element"&&n++;return n}function Bq(e,i,t,n){const r=kq(n.schema,i);let l=t;l==null||l!==l||(Array.isArray(l)&&(l=r.commaSeparated?Fq(l):Lq(l)),r.property==="style"&&typeof l=="string"&&(l=Vq(l)),r.space&&r.property?e[Lm.call(sE,r.property)?sE[r.property]:r.property]=l:r.attribute&&(e[r.attribute]=l))}function Vq(e){const i={};try{U1(e,t)}catch{}return i;function t(n,r){const l=n.slice(0,4)==="-ms-"?`ms-${n.slice(4)}`:n;i[l.replace(/-([a-z])/g,Uq)]=r}}function Uq(e,i){return i.toUpperCase()}function Wq(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const lE={}.hasOwnProperty,Gq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Pu={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Ju(e){for(const l in Pu)if(lE.call(Pu,l)&&lE.call(e,l)){const h=Pu[l];console.warn(`[react-markdown] Warning: please ${h.to?`use \`${h.to}\` instead of`:"remove"} \`${l}\` (see <${Gq}#${h.id}> for more info)`),delete Pu[l]}const i=EU().use(RG).use(e.remarkPlugins||[]).use(vq,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Dq,e),t=new Z1;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const n=i.runSync(i.parse(t),t);if(n.type!=="root")throw new TypeError("Expected a `root` node");let r=gt.createElement(gt.Fragment,{},Dk({options:e,schema:_q,listDepth:0},n));return e.className&&(r=gt.createElement("div",{className:e.className},r)),r}Ju.propTypes={children:bt.string,className:bt.string,allowElement:bt.func,allowedElements:bt.arrayOf(bt.string),disallowedElements:bt.arrayOf(bt.string),unwrapDisallowed:bt.bool,remarkPlugins:bt.arrayOf(bt.oneOfType([bt.object,bt.func,bt.arrayOf(bt.oneOfType([bt.bool,bt.string,bt.object,bt.func,bt.arrayOf(bt.any)]))])),rehypePlugins:bt.arrayOf(bt.oneOfType([bt.object,bt.func,bt.arrayOf(bt.oneOfType([bt.bool,bt.string,bt.object,bt.func,bt.arrayOf(bt.any)]))])),sourcePos:bt.bool,rawSourcePos:bt.bool,skipHtml:bt.bool,includeElementIndex:bt.bool,transformLinkUri:bt.oneOfType([bt.func,bt.bool]),linkTarget:bt.oneOfType([bt.func,bt.string]),transformImageUri:bt.func,components:bt.object};var Bn={},Gg={},Xl={},Kl={},Ak="Expected a function",cE=NaN,qq="[object Symbol]",Xq=/^\s+|\s+$/g,Kq=/^[-+]0x[0-9a-f]+$/i,Yq=/^0b[01]+$/i,Zq=/^0o[0-7]+$/i,$q=parseInt,Jq=typeof ti=="object"&&ti&&ti.Object===Object&&ti,Qq=typeof self=="object"&&self&&self.Object===Object&&self,eX=Jq||Qq||Function("return this")(),tX=Object.prototype,nX=tX.toString,iX=Math.max,rX=Math.min,Uf=function(){return eX.Date.now()};function oX(e,i,t){var n,r,l,h,d,p,f=0,g=!1,y=!1,S=!0;if(typeof e!="function")throw new TypeError(Ak);i=uE(i)||0,Qu(t)&&(g=!!t.leading,y="maxWait"in t,l=y?iX(uE(t.maxWait)||0,i):l,S="trailing"in t?!!t.trailing:S);function C(Y){var se=n,le=r;return n=r=void 0,f=Y,h=e.apply(le,se),h}function k(Y){return f=Y,d=setTimeout(D,i),g?C(Y):h}function P(Y){var se=Y-p,le=Y-f,ge=i-se;return y?rX(ge,l-le):ge}function R(Y){var se=Y-p,le=Y-f;return p===void 0||se>=i||se<0||y&&le>=l}function D(){var Y=Uf();if(R(Y))return q(Y);d=setTimeout(D,P(Y))}function q(Y){return d=void 0,S&&n?C(Y):(n=r=void 0,h)}function G(){d!==void 0&&clearTimeout(d),f=0,n=p=r=d=void 0}function ne(){return d===void 0?h:q(Uf())}function Z(){var Y=Uf(),se=R(Y);if(n=arguments,r=this,p=Y,se){if(d===void 0)return k(p);if(y)return d=setTimeout(D,i),C(p)}return d===void 0&&(d=setTimeout(D,i)),h}return Z.cancel=G,Z.flush=ne,Z}function sX(e,i,t){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(Ak);return Qu(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),oX(e,i,{leading:n,maxWait:i,trailing:r})}function Qu(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function aX(e){return!!e&&typeof e=="object"}function lX(e){return typeof e=="symbol"||aX(e)&&nX.call(e)==qq}function uE(e){if(typeof e=="number")return e;if(lX(e))return cE;if(Qu(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=Qu(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(Xq,"");var t=Yq.test(e);return t||Zq.test(e)?$q(e.slice(2),t?2:8):Kq.test(e)?cE:+e}var cX=sX,Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.addPassiveEventListener=function(e,i,t){var n=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,l)}catch{}return r}();e.addEventListener(i,t,n?{passive:!0}:!1)};Yl.removePassiveEventListener=function(e,i,t){e.removeEventListener(i,t)};Object.defineProperty(Kl,"__esModule",{value:!0});var uX=cX,dX=pX(uX),hX=Yl;function pX(e){return e&&e.__esModule?e:{default:e}}var fX=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,dX.default)(e,i)},Fn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,i){if(e){var t=fX(function(n){Fn.scrollHandler(e)},i);Fn.scrollSpyContainers.push(e),(0,hX.addPassiveEventListener)(e,"scroll",t)}},isMounted:function(e){return Fn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var i=window.pageYOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var i=window.pageXOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var i=Fn.scrollSpyContainers[Fn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];i.forEach(function(t){return t(Fn.currentPositionX(e),Fn.currentPositionY(e))})},addStateHandler:function(e){Fn.spySetState.push(e)},addSpyHandler:function(e,i){var t=Fn.scrollSpyContainers[Fn.scrollSpyContainers.indexOf(i)];t.spyCallbacks||(t.spyCallbacks=[]),t.spyCallbacks.push(e),e(Fn.currentPositionX(i),Fn.currentPositionY(i))},updateStates:function(){Fn.spySetState.forEach(function(e){return e()})},unmount:function(e,i){Fn.scrollSpyContainers.forEach(function(t){return t.spyCallbacks&&t.spyCallbacks.length&&t.spyCallbacks.indexOf(i)>-1&&t.spyCallbacks.splice(t.spyCallbacks.indexOf(i),1)}),Fn.spySetState&&Fn.spySetState.length&&Fn.spySetState.indexOf(e)>-1&&Fn.spySetState.splice(Fn.spySetState.indexOf(e),1),document.removeEventListener("scroll",Fn.scrollHandler)},update:function(){return Fn.scrollSpyContainers.forEach(function(e){return Fn.scrollHandler(e)})}};Kl.default=Fn;var Sa={},Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});var mX=function(e,i){var t=e.indexOf("#")===0?e.substring(1):e,n=t?"#"+t:"",r=window&&window.location,l=n?r.pathname+r.search+n:r.pathname+r.search;i?history.pushState(history.state,"",l):history.replaceState(history.state,"",l)},gX=function(){return window.location.hash.replace(/^#/,"")},vX=function(e){return function(i){return e.contains?e!=i&&e.contains(i):!!(e.compareDocumentPosition(i)&16)}},yX=function(e){return getComputedStyle(e).position!=="static"},Wf=function(e,i){for(var t=e.offsetTop,n=e.offsetParent;n&&!i(n);)t+=n.offsetTop,n=n.offsetParent;return{offsetTop:t,offsetParent:n}},bX=function(e,i,t){if(t)return e===document?i.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?i.offsetLeft:i.offsetLeft-e.offsetLeft;if(e===document)return i.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(yX(e)){if(i.offsetParent!==e){var n=function(p){return p===e||p===document},r=Wf(i,n),l=r.offsetTop,h=r.offsetParent;if(h!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return l}return i.offsetTop}if(i.offsetParent===e.offsetParent)return i.offsetTop-e.offsetTop;var d=function(p){return p===document};return Wf(i,d).offsetTop-Wf(e,d).offsetTop};Zl.default={updateHash:mX,getHash:gX,filterElementInContainer:vX,scrollOffset:bX};var Ad={},qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});var wX=Yl,xX=["mousedown","mousewheel","touchmove","keydown"];Xg.default={subscribe:function(e){return typeof document<"u"&&xX.forEach(function(i){return(0,wX.addPassiveEventListener)(document,i,e)})}};var $l={};Object.defineProperty($l,"__esModule",{value:!0});var Fm={registered:{},scrollEvent:{register:function(e,i){Fm.registered[e]=i},remove:function(e){Fm.registered[e]=null}}};$l.default=Fm;Object.defineProperty(Ad,"__esModule",{value:!0});var SX=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},EX=Zl;Id(EX);var TX=qg,dE=Id(TX),CX=Xg,kX=Id(CX),PX=$l,xr=Id(PX);function Id(e){return e&&e.__esModule?e:{default:e}}var Ik=function(e){return dE.default[e.smooth]||dE.default.defaultEasing},RX=function(e){return typeof e=="function"?e:function(){return e}},_X=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Nm=function(){return _X()||function(e,i,t){window.setTimeout(e,t||1e3/60,new Date().getTime())}}(),Mk=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},zk=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollLeft;var t=window.pageXOffset!==void 0,n=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft},Lk=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollTop;var t=window.pageXOffset!==void 0,n=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop},OX=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollWidth-i.offsetWidth;var t=document.body,n=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)},DX=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollHeight-i.offsetHeight;var t=document.body,n=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},AX=function e(i,t,n){var r=t.data;if(!t.ignoreCancelEvents&&r.cancel){xr.default.registered.end&&xr.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=n),r.progress=n-r.start,r.percent=r.progress>=r.duration?1:i(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?t.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:t.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var l=e.bind(null,i,t);Nm.call(window,l);return}xr.default.registered.end&&xr.default.registered.end(r.to,r.target,r.currentPosition)},Kg=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Jl=function(e,i,t,n){if(i.data=i.data||Mk(),window.clearTimeout(i.data.delayTimeout),kX.default.subscribe(function(){i.data.cancel=!0}),Kg(i),i.data.start=null,i.data.cancel=!1,i.data.startPosition=i.horizontal?zk(i):Lk(i),i.data.targetPosition=i.absolute?e:e+i.data.startPosition,i.data.startPosition===i.data.targetPosition){xr.default.registered.end&&xr.default.registered.end(i.data.to,i.data.target,i.data.currentPosition);return}i.data.delta=Math.round(i.data.targetPosition-i.data.startPosition),i.data.duration=RX(i.duration)(i.data.delta),i.data.duration=isNaN(parseFloat(i.data.duration))?1e3:parseFloat(i.data.duration),i.data.to=t,i.data.target=n;var r=Ik(i),l=AX.bind(null,r,i);if(i&&i.delay>0){i.data.delayTimeout=window.setTimeout(function(){xr.default.registered.begin&&xr.default.registered.begin(i.data.to,i.data.target),Nm.call(window,l)},i.delay);return}xr.default.registered.begin&&xr.default.registered.begin(i.data.to,i.data.target),Nm.call(window,l)},Md=function(e){return e=SX({},e),e.data=e.data||Mk(),e.absolute=!0,e},IX=function(e){Jl(0,Md(e))},MX=function(e,i){Jl(e,Md(i))},zX=function(e){e=Md(e),Kg(e),Jl(e.horizontal?OX(e):DX(e),e)},LX=function(e,i){i=Md(i),Kg(i);var t=i.horizontal?zk(i):Lk(i);Jl(e+t,i)};Ad.default={animateTopScroll:Jl,getAnimationType:Ik,scrollToTop:IX,scrollToBottom:zX,scrollTo:MX,scrollMore:LX};Object.defineProperty(Sa,"__esModule",{value:!0});var FX=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},NX=Zl,HX=Yg(NX),jX=Ad,BX=Yg(jX),VX=$l,Ru=Yg(VX);function Yg(e){return e&&e.__esModule?e:{default:e}}var _u={},hE=void 0;Sa.default={unmount:function(){_u={}},register:function(e,i){_u[e]=i},unregister:function(e){delete _u[e]},get:function(e){return _u[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return hE=e},getActiveLink:function(){return hE},scrollTo:function(e,i){var t=this.get(e);if(!t){console.warn("target Element not found");return}i=FX({},i,{absolute:!1});var n=i.containerId,r=i.container,l=void 0;n?l=document.getElementById(n):r&&r.nodeType?l=r:l=document,i.absolute=!0;var h=i.horizontal,d=HX.default.scrollOffset(l,t,h)+(i.offset||0);if(!i.smooth){Ru.default.registered.begin&&Ru.default.registered.begin(e,t),l===document?i.horizontal?window.scrollTo(d,0):window.scrollTo(0,d):l.scrollTop=d,Ru.default.registered.end&&Ru.default.registered.end(e,t);return}BX.default.animateTopScroll(d,i,e,t)}};var zd={};Object.defineProperty(zd,"__esModule",{value:!0});var UX=Zl,Gf=WX(UX);function WX(e){return e&&e.__esModule?e:{default:e}}var GX={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,i){this.containers[e]=i},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,i=this.getHash();i?window.setTimeout(function(){e.scrollTo(i,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,i){var t=this.scroller,n=t.get(e);if(n&&(i||e!==t.getActiveLink())){var r=this.containers[e]||document;t.scrollTo(e,{container:r})}},getHash:function(){return Gf.default.getHash()},changeHash:function(e,i){this.isInitialized()&&Gf.default.getHash()!==e&&Gf.default.updateHash(e,i)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};zd.default=GX;Object.defineProperty(Xl,"__esModule",{value:!0});var Ou=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qX=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),XX=gt,pE=Ql(XX),KX=Kl,Du=Ql(KX),YX=Sa,ZX=Ql(YX),$X=ga,Mn=Ql($X),JX=zd,to=Ql(JX);function Ql(e){return e&&e.__esModule?e:{default:e}}function QX(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function eK(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function tK(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var fE={to:Mn.default.string.isRequired,containerId:Mn.default.string,container:Mn.default.object,activeClass:Mn.default.string,activeStyle:Mn.default.object,spy:Mn.default.bool,horizontal:Mn.default.bool,smooth:Mn.default.oneOfType([Mn.default.bool,Mn.default.string]),offset:Mn.default.number,delay:Mn.default.number,isDynamic:Mn.default.bool,onClick:Mn.default.func,duration:Mn.default.oneOfType([Mn.default.number,Mn.default.func]),absolute:Mn.default.bool,onSetActive:Mn.default.func,onSetInactive:Mn.default.func,ignoreCancelEvents:Mn.default.bool,hashSpy:Mn.default.bool,saveHashHistory:Mn.default.bool,spyThrottle:Mn.default.number};Xl.default=function(e,i){var t=i||ZX.default,n=function(l){tK(h,l);function h(d){QX(this,h);var p=eK(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d));return r.call(p),p.state={active:!1},p}return qX(h,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,p=this.props.container;return d&&!p?document.getElementById(d):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();Du.default.isMounted(d)||Du.default.mount(d,this.props.spyThrottle),this.props.hashSpy&&(to.default.isMounted()||to.default.mount(t),to.default.mapContainer(this.props.to,d)),Du.default.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){Du.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var p={};this.state&&this.state.active?p=Ou({},this.props.style,this.props.activeStyle):p=Ou({},this.props.style);var f=Ou({},this.props);for(var g in fE)f.hasOwnProperty(g)&&delete f[g];return f.className=d,f.style=p,f.onClick=this.handleClick,pE.default.createElement(e,f)}}]),h}(pE.default.PureComponent),r=function(){var l=this;this.scrollTo=function(h,d){t.scrollTo(h,Ou({},l.state,d))},this.handleClick=function(h){l.props.onClick&&l.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),l.scrollTo(l.props.to,l.props)},this.spyHandler=function(h,d){var p=l.getScrollSpyContainer();if(!(to.default.isMounted()&&!to.default.isInitialized())){var f=l.props.horizontal,g=l.props.to,y=null,S=void 0,C=void 0;if(f){var k=0,P=0,R=0;if(p.getBoundingClientRect){var D=p.getBoundingClientRect();R=D.left}if(!y||l.props.isDynamic){if(y=t.get(g),!y)return;var q=y.getBoundingClientRect();k=q.left-R+h,P=k+q.width}var G=h-l.props.offset;S=G>=Math.floor(k)&&G<Math.floor(P),C=G<Math.floor(k)||G>=Math.floor(P)}else{var ne=0,Z=0,Y=0;if(p.getBoundingClientRect){var se=p.getBoundingClientRect();Y=se.top}if(!y||l.props.isDynamic){if(y=t.get(g),!y)return;var le=y.getBoundingClientRect();ne=le.top-Y+d,Z=ne+le.height}var ge=d-l.props.offset;S=ge>=Math.floor(ne)&&ge<Math.floor(Z),C=ge<Math.floor(ne)||ge>=Math.floor(Z)}var ue=t.getActiveLink();if(C){if(g===ue&&t.setActiveLink(void 0),l.props.hashSpy&&to.default.getHash()===g){var pe=l.props.saveHashHistory,we=pe===void 0?!1:pe;to.default.changeHash("",we)}l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive(g,y))}if(S&&(ue!==g||l.state.active===!1)){t.setActiveLink(g);var ve=l.props.saveHashHistory,Ae=ve===void 0?!1:ve;l.props.hashSpy&&to.default.changeHash(g,Ae),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(g,y))}}}};return n.propTypes=fE,n.defaultProps={offset:0},n};Object.defineProperty(Gg,"__esModule",{value:!0});var nK=gt,mE=Fk(nK),iK=Xl,rK=Fk(iK);function Fk(e){return e&&e.__esModule?e:{default:e}}function oK(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function gE(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function sK(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var aK=function(e){sK(i,e);function i(){var t,n,r,l;oK(this,i);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return l=(n=(r=gE(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(d))),r),r.render=function(){return mE.default.createElement("a",r.props,r.props.children)},n),gE(r,l)}return i}(mE.default.Component);Gg.default=(0,rK.default)(aK);var Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});var lK=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),cK=gt,vE=Nk(cK),uK=Xl,dK=Nk(uK);function Nk(e){return e&&e.__esModule?e:{default:e}}function hK(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function pK(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function fK(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var mK=function(e){fK(i,e);function i(){return hK(this,i),pK(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return lK(i,[{key:"render",value:function(){return vE.default.createElement("input",this.props,this.props.children)}}]),i}(vE.default.Component);Zg.default=(0,dK.default)(mK);var $g={},Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});var gK=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vK=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),yK=gt,yE=Fd(yK),bK=hl;Fd(bK);var wK=Sa,bE=Fd(wK),xK=ga,wE=Fd(xK);function Fd(e){return e&&e.__esModule?e:{default:e}}function SK(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function EK(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function TK(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}Ld.default=function(e){var i=function(t){TK(n,t);function n(r){SK(this,n);var l=EK(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return l.childBindings={domNode:null},l}return vK(n,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(r){this.props.name!==r.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;bE.default.unregister(this.props.name)}},{key:"registerElems",value:function(r){bE.default.register(r,this.childBindings.domNode)}},{key:"render",value:function(){return yE.default.createElement(e,gK({},this.props,{parentBindings:this.childBindings}))}}]),n}(yE.default.Component);return i.propTypes={name:wE.default.string,id:wE.default.string},i};Object.defineProperty($g,"__esModule",{value:!0});var xE=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},CK=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),kK=gt,SE=Jg(kK),PK=Ld,RK=Jg(PK),_K=ga,EE=Jg(_K);function Jg(e){return e&&e.__esModule?e:{default:e}}function OK(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function DK(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function AK(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var Hk=function(e){AK(i,e);function i(){return OK(this,i),DK(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return CK(i,[{key:"render",value:function(){var t=this,n=xE({},this.props);return n.parentBindings&&delete n.parentBindings,SE.default.createElement("div",xE({},n,{ref:function(r){t.props.parentBindings.domNode=r}}),this.props.children)}}]),i}(SE.default.Component);Hk.propTypes={name:EE.default.string,id:EE.default.string};$g.default=(0,RK.default)(Hk);var qf=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},TE=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}();function CE(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function kE(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function PE(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var Au=gt,Ho=Kl,Xf=Sa,Nn=ga,no=zd,RE={to:Nn.string.isRequired,containerId:Nn.string,container:Nn.object,activeClass:Nn.string,spy:Nn.bool,smooth:Nn.oneOfType([Nn.bool,Nn.string]),offset:Nn.number,delay:Nn.number,isDynamic:Nn.bool,onClick:Nn.func,duration:Nn.oneOfType([Nn.number,Nn.func]),absolute:Nn.bool,onSetActive:Nn.func,onSetInactive:Nn.func,ignoreCancelEvents:Nn.bool,hashSpy:Nn.bool,spyThrottle:Nn.number},IK={Scroll:function(e,i){console.warn("Helpers.Scroll is deprecated since v1.7.0");var t=i||Xf,n=function(l){PE(h,l);function h(d){CE(this,h);var p=kE(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d));return r.call(p),p.state={active:!1},p}return TE(h,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,p=this.props.container;return d?document.getElementById(d):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();Ho.isMounted(d)||Ho.mount(d,this.props.spyThrottle),this.props.hashSpy&&(no.isMounted()||no.mount(t),no.mapContainer(this.props.to,d)),this.props.spy&&Ho.addStateHandler(this.stateHandler),Ho.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){Ho.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var p=qf({},this.props);for(var f in RE)p.hasOwnProperty(f)&&delete p[f];return p.className=d,p.onClick=this.handleClick,Au.createElement(e,p)}}]),h}(Au.Component),r=function(){var l=this;this.scrollTo=function(h,d){t.scrollTo(h,qf({},l.state,d))},this.handleClick=function(h){l.props.onClick&&l.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),l.scrollTo(l.props.to,l.props)},this.stateHandler=function(){t.getActiveLink()!==l.props.to&&(l.state!==null&&l.state.active&&l.props.onSetInactive&&l.props.onSetInactive(),l.setState({active:!1}))},this.spyHandler=function(h){var d=l.getScrollSpyContainer();if(!(no.isMounted()&&!no.isInitialized())){var p=l.props.to,f=null,g=0,y=0,S=0;if(d.getBoundingClientRect){var C=d.getBoundingClientRect();S=C.top}if(!f||l.props.isDynamic){if(f=t.get(p),!f)return;var k=f.getBoundingClientRect();g=k.top-S+h,y=g+k.height}var P=h-l.props.offset,R=P>=Math.floor(g)&&P<Math.floor(y),D=P<Math.floor(g)||P>=Math.floor(y),q=t.getActiveLink();if(D)return p===q&&t.setActiveLink(void 0),l.props.hashSpy&&no.getHash()===p&&no.changeHash(),l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive()),Ho.updateStates();if(R&&q!==p)return t.setActiveLink(p),l.props.hashSpy&&no.changeHash(p),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(p)),Ho.updateStates()}}};return n.propTypes=RE,n.defaultProps={offset:0},n},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var i=function(t){PE(n,t);function n(r){CE(this,n);var l=kE(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return l.childBindings={domNode:null},l}return TE(n,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(r){this.props.name!==r.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Xf.unregister(this.props.name)}},{key:"registerElems",value:function(r){Xf.register(r,this.childBindings.domNode)}},{key:"render",value:function(){return Au.createElement(e,qf({},this.props,{parentBindings:this.childBindings}))}}]),n}(Au.Component);return i.propTypes={name:Nn.string,id:Nn.string},i}},MK=IK;Object.defineProperty(Bn,"__esModule",{value:!0});Bn.Helpers=Bn.ScrollElement=Bn.ScrollLink=Bn.animateScroll=Bn.scrollSpy=Bn.Events=Bn.scroller=Bn.Element=Bn.Button=Zk=Bn.Link=void 0;var zK=Gg,jk=Cr(zK),LK=Zg,Bk=Cr(LK),FK=$g,Vk=Cr(FK),NK=Sa,Uk=Cr(NK),HK=$l,Wk=Cr(HK),jK=Kl,Gk=Cr(jK),BK=Ad,qk=Cr(BK),VK=Xl,Xk=Cr(VK),UK=Ld,Kk=Cr(UK),WK=MK,Yk=Cr(WK);function Cr(e){return e&&e.__esModule?e:{default:e}}var Zk=Bn.Link=jk.default;Bn.Button=Bk.default;Bn.Element=Vk.default;Bn.scroller=Uk.default;Bn.Events=Wk.default;Bn.scrollSpy=Gk.default;Bn.animateScroll=qk.default;Bn.ScrollLink=Xk.default;Bn.ScrollElement=Kk.default;Bn.Helpers=Yk.default;Bn.default={Link:jk.default,Button:Bk.default,Element:Vk.default,scroller:Uk.default,Events:Wk.default,scrollSpy:Gk.default,animateScroll:qk.default,ScrollLink:Xk.default,ScrollElement:Kk.default,Helpers:Yk.default};const kl=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","Z"];class _E extends z.Component{renderAlphaLinks(){const i=[];for(let t=0;t<kl.length;t++){const n=kl[t],r=`alpha-${t}`;i.push(U.jsxs("span",{children:[U.jsx(Zk,{to:r,offset:-120,containerId:"glossaryViewInner",smooth:"true",children:n})," "]},`link-${r}`))}return U.jsxs("div",{style:{display:"inline"},children:[U.jsx("input",{id:"glossary-filter",className:"searchBox",placeholder:"Filter by Entry",onChange:this.props.onFilterChange,value:this.props.filterTerm}),U.jsxs("div",{className:"alphaNav",children:[U.jsx("span",{style:{color:"black"},children:"Go to: "}),i]})]})}render(){return U.jsx("div",{className:"glossaryNav",children:this.renderAlphaLinks()})}}var $k={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OE=gt.createContext&&gt.createContext($k),lo=function(){return lo=Object.assign||function(e){for(var i,t=1,n=arguments.length;t<n;t++){i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lo.apply(this,arguments)},GK=function(e,i){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)i.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};function Jk(e){return e&&e.map(function(i,t){return gt.createElement(i.tag,lo({key:t},i.attr),Jk(i.child))})}function ni(e){return function(i){return gt.createElement(qK,lo({attr:lo({},e.attr)},i),Jk(e.child))}}function qK(e){var i=function(t){var n=e.attr,r=e.size,l=e.title,h=GK(e,["attr","size","title"]),d=r||t.size||"1em",p;return t.className&&(p=t.className),e.className&&(p=(p?p+" ":"")+e.className),gt.createElement("svg",lo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,h,{className:p,style:lo(lo({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&gt.createElement("title",null,l),e.children)};return OE!==void 0?gt.createElement(OE.Consumer,null,function(t){return i(t)}):i($k)}function XK(e){return ni({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"}}]})(e)}function KK(e){return ni({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}}]})(e)}function YK(e){return ni({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}}]})(e)}function Qk(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"}}]})(e)}function eP(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"}}]})(e)}function ZK(e){return ni({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function $K(e){return ni({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function DE(e){return ni({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function AE(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function tP(e){return ni({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.75 6.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"}},{tag:"path",attr:{d:"M2.5 1h8.44a1.5 1.5 0 0 1 1.06.44l10.25 10.25a1.5 1.5 0 0 1 0 2.12l-8.44 8.44a1.5 1.5 0 0 1-2.12 0L1.44 12A1.497 1.497 0 0 1 1 10.94V2.5A1.5 1.5 0 0 1 2.5 1Zm0 1.5v8.44l10.25 10.25 8.44-8.44L10.94 2.5Z"}}]})(e)}function JK(e){return ni({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}}]})(e)}function QK(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M249.38 336L170 256l79.38-80m-68.35 80H342"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}]})(e)}function eY(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.62 336L342 256l-79.38-80m68.35 80H170"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 448c106 0 192-86 192-192S362 64 256 64 64 150 64 256s86 192 192 192z"}}]})(e)}function tY(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"44",d:"M416 128L192 384l-96-96"}}]})(e)}function nY(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 184l144 144 144-144"}}]})(e)}function iY(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 328l144-144 144 144"}}]})(e)}function rY(e){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 112a80 80 0 00-160 0v96"}},{tag:"rect",attr:{width:"320",height:"272",x:"96",y:"208",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"}}]})(e)}function oY(){return U.jsxs("svg",{className:"document-pages-icon",width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[U.jsxs("g",{id:"fluent:document-one-page-20-regular",clipPath:"url(#clip0_288_13990)",children:[U.jsx("path",{id:"Vector",d:"M2.16667 0H8.83333C9.27536 0 9.69928 0.210714 10.0118 0.585786C10.3244 0.960859 10.5 1.46957 10.5 2V14C10.5 14.5304 10.3244 15.0391 10.0118 15.4142C9.69928 15.7893 9.27536 16 8.83333 16H2.16667C1.72464 16 1.30072 15.7893 0.988155 15.4142C0.675595 15.0391 0.5 14.5304 0.5 14V2C0.5 1.46957 0.675595 0.960859 0.988155 0.585786C1.30072 0.210714 1.72464 0 2.16667 0ZM2.16667 1C1.94565 1 1.73369 1.10536 1.57741 1.29289C1.42113 1.48043 1.33333 1.73478 1.33333 2V14C1.33333 14.2652 1.42113 14.5196 1.57741 14.7071C1.73369 14.8946 1.94565 15 2.16667 15H8.83333C9.05435 15 9.26631 14.8946 9.42259 14.7071C9.57887 14.5196 9.66667 14.2652 9.66667 14V2C9.66667 1.73478 9.57887 1.48043 9.42259 1.29289C9.26631 1.10536 9.05435 1 8.83333 1H2.16667ZM8 4.5C8.00003 4.61703 7.96586 4.73036 7.90343 4.82026C7.84099 4.91016 7.75426 4.97094 7.65833 4.992L7.58333 5H3.41667C3.31255 5.00023 3.21212 4.95367 3.13518 4.86949C3.05824 4.78531 3.01035 4.66961 3.00094 4.54518C2.99153 4.42074 3.02129 4.29659 3.08435 4.19717C3.14741 4.09775 3.23921 4.03026 3.34167 4.008L3.41667 4H7.58333C7.69384 4 7.79982 4.05268 7.87796 4.14645C7.9561 4.24021 8 4.36739 8 4.5ZM8 8C8.00003 8.11703 7.96586 8.23036 7.90343 8.32026C7.84099 8.41016 7.75426 8.47093 7.65833 8.492L7.58333 8.5H3.41667C3.31255 8.50023 3.21212 8.45367 3.13518 8.36949C3.05824 8.28531 3.01035 8.16961 3.00094 8.04518C2.99153 7.92074 3.02129 7.79659 3.08435 7.69717C3.14741 7.59775 3.23921 7.53026 3.34167 7.508L3.41667 7.5H7.58333C7.69384 7.5 7.79982 7.55268 7.87796 7.64645C7.9561 7.74021 8 7.86739 8 8ZM8 11.5C8.00003 11.617 7.96586 11.7304 7.90343 11.8203C7.84099 11.9102 7.75426 11.9709 7.65833 11.992L7.58333 12H3.41667C3.31255 12.0002 3.21212 11.9537 3.13518 11.8695C3.05824 11.7853 3.01035 11.6696 3.00094 11.5452C2.99153 11.4207 3.02129 11.2966 3.08435 11.1972C3.14741 11.0977 3.23921 11.0303 3.34167 11.008L3.41667 11H7.58333C7.69384 11 7.79982 11.0527 7.87796 11.1464C7.9561 11.2402 8 11.3674 8 11.5Z"}),U.jsx("path",{id:"Vector_2",d:"M13.1667 0H19.8333C20.2754 0 20.6993 0.210714 21.0118 0.585786C21.3244 0.960859 21.5 1.46957 21.5 2V14C21.5 14.5304 21.3244 15.0391 21.0118 15.4142C20.6993 15.7893 20.2754 16 19.8333 16H13.1667C12.7246 16 12.3007 15.7893 11.9882 15.4142C11.6756 15.0391 11.5 14.5304 11.5 14V2C11.5 1.46957 11.6756 0.960859 11.9882 0.585786C12.3007 0.210714 12.7246 0 13.1667 0ZM13.1667 1C12.9457 1 12.7337 1.10536 12.5774 1.29289C12.4211 1.48043 12.3333 1.73478 12.3333 2V14C12.3333 14.2652 12.4211 14.5196 12.5774 14.7071C12.7337 14.8946 12.9457 15 13.1667 15H19.8333C20.0543 15 20.2663 14.8946 20.4226 14.7071C20.5789 14.5196 20.6667 14.2652 20.6667 14V2C20.6667 1.73478 20.5789 1.48043 20.4226 1.29289C20.2663 1.10536 20.0543 1 19.8333 1H13.1667ZM19 4.5C19 4.61703 18.9659 4.73036 18.9034 4.82026C18.841 4.91016 18.7543 4.97094 18.6583 4.992L18.5833 5H14.4167C14.3125 5.00023 14.2121 4.95367 14.1352 4.86949C14.0582 4.78531 14.0103 4.66961 14.0009 4.54518C13.9915 4.42074 14.0213 4.29659 14.0843 4.19717C14.1474 4.09775 14.2392 4.03026 14.3417 4.008L14.4167 4H18.5833C18.6938 4 18.7998 4.05268 18.878 4.14645C18.9561 4.24021 19 4.36739 19 4.5ZM19 8C19 8.11703 18.9659 8.23036 18.9034 8.32026C18.841 8.41016 18.7543 8.47093 18.6583 8.492L18.5833 8.5H14.4167C14.3125 8.50023 14.2121 8.45367 14.1352 8.36949C14.0582 8.28531 14.0103 8.16961 14.0009 8.04518C13.9915 7.92074 14.0213 7.79659 14.0843 7.69717C14.1474 7.59775 14.2392 7.53026 14.3417 7.508L14.4167 7.5H18.5833C18.6938 7.5 18.7998 7.55268 18.878 7.64645C18.9561 7.74021 19 7.86739 19 8ZM19 11.5C19 11.617 18.9659 11.7304 18.9034 11.8203C18.841 11.9102 18.7543 11.9709 18.6583 11.992L18.5833 12H14.4167C14.3125 12.0002 14.2121 11.9537 14.1352 11.8695C14.0582 11.7853 14.0103 11.6696 14.0009 11.5452C13.9915 11.4207 14.0213 11.2966 14.0843 11.1972C14.1474 11.0977 14.2392 11.0303 14.3417 11.008L14.4167 11H18.5833C18.6938 11 18.7998 11.0527 18.878 11.1464C18.9561 11.2402 19 11.3674 19 11.5Z"})]}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_288_13990",children:U.jsx("rect",{width:"21",height:"16",transform:"translate(0.5)"})})})]})}const ta={};ta.transcriptionTypeLabels={f:"Facsimile",glossary:"Glossary",notes:"Notes"};const sY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAbCAYAAAGrR/egAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFxEAABYlAXDOav8AAAW+SURBVEhL3ZcJTJRHFIDX1tZ6NI02adPEVu2pYlsvWqFVY0mlVQubNrZqxC5WkVMBVxQUrSKiGGMFigIaDFFA8cSjWkWEpkKVAOsBTZQiKsgh4LHicn6d/f8FdqELiNKoX7I78978M2/e/DPvf6OgDcw0aqHG0Bjs7cGHmzLZt3itkKr1KonODCvTfuMKSyu2navE871xKK3flxr0dH5YE+aKERXi8eGrJbG5Y+EpGkQR+prRWAXHkZT/QdNTP9jFw/0iSnR12M+YTcjxEhSfqLAZPYVJfb8wPNVMx6dqRMc7vdADXnxeqna80/SpYGsnVZs6KUbqFQ0UP5Bl/TqkyFUhmK5KU6cK/V9NCfcTv5TkfOql0sHWFq/jN6R6I3Kn+jNS0fOV16HkD+ZOnkHdzb8knYurI7lSrZmO+2REpzq1zz3o9pKh3kzXGIueK9bDHdwOGBQyrYw1vhczu/aRaGUsO8SRsBMaxh0tFRZr6W+1TjKsVDuSuP8QM5aphNSAt72ChF2XSA0aS/j2WDY5jSfisk4awxytjDnNnyiVRZlxFGmPcLi0hkOzXyHrlqRm/syvhK0CekzTH9oKLOzDJH2mlzWHC6WqWUyMmV86o5YWB8CUthe/azaIGf43Y11jKDUIdpcZBJnHa+j672JEMWTvXtCrj1y/ekdqevwe1QhP+nQXI/cUcc+gEzx+Q39Gi6WrEuE4FU40R90Whtrepo9CK49C/cfiuf6CQdLguiNPlK3Pk/cgF6nsKC0MVeFnY0viuhmyeHEzJ69rKUyYh3doJOFrVCzNquKWZi+W6hjKuM3sZYHs3Z+Ire/Pch8zmBoqOsrXHkcpSd/JnnJIdFFQXguv2unTJEF9Dt9ZxXErPZroAll11k2F7RR7ek32lBVmMDFUcMARtyT9B7iSiaPicFN4iUXTMjM0UWqvzQ5jsF82aVFu3BVyqro/ycVSE4tdl8sVM5gYCv7Gi8uGek7EByhcDkv1kDkuzFrgzrf26yV518J++JwqpPScM46qeQQGTcfZW56MOYwMGV54m8Gz87TYDF3Hs2fokam/DUmroHtvWJfR5it+sp2qFsdgdzCoxC89R5wGEUqfE/H6mDhfmoOw5HvYKPLgCnFHMuLJdqpeTLZcxIXz2bAnVCRoItnWf+mGOEJCAqRdgmsina01fWtP/varyofNwonu/cBGhKi7JeA3UtyCXoaVp8RdVkTlFjwdZ6pa3MJLb0o3cZk6cUMVss4obzCifaeq8jgW5sGYKSoiW16qxHcwZc3nLNqXS/F9g6od6nQV5MaOIkrsqLquCeftO1WcvJYAtTU2fhFEuASQ1TQRsVoVB3BVjGZDShmVQpS0GX6op1swZPBQhip9CDxhSC11ZeT/tpoh7w6ij+ItBo+JJqNaHiznVyX244fz8QgLhlqsIPLQTf3oJsnLw9COUwWc8HHFZbQPSeXlaGJXYPnpQcSuFrOvJm+rBQqvQ+RrhXVtKg4WSpQbTiLilEzxPgJcp/HOrCT0L1JXepZEzx74psnNQsPVlJ2kiaSlib/9Ubo7o4q/YlA8PG069SB9JbPVdkyIEYdVUF+WRUqYkhF7RUSqzSR0wEcEpFSgT3PO+PZl7JoYTt+Q97m0yHUXiVcHMGFMPNfEVs2LW8WAbv6clp4QR+VCNM4/LhQ7IZiN638hJHwjnpPeYLjKmzCNaZh+GNpwSktG4AJWTfdhjziTjWgLM4i1HsbqLct52yKcrAdy9LkSZsWwz4LYkd04GQ3bPaZiabuIbZVCLE4jLnAYfaOLpNaGhjsc+UnBwMiLwpJM+Rl/HN4ciMOCnZyvNig7gXmn7uVyMOYYUQf+EWm0EfU6dFeSWbTED//UG9Qan/byZLZu8MPZeQ5znbawK0naqDIiQBSkRKH28UWd1HgHuYtm5VKWuLvjNMeJ+GwN6duTOXc8B0PW2inaDRRPI8+gU/AvCRLk8OxchHwAAAAASUVORK5CYII=",aY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAASCAYAAAHpiZZSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFa8AABWvAQS7x0sAAAmkSURBVFhH7Zl5VFT3Fccfi2DkgFI1RpOcY416rKaWWmuNaeyC5DTEDZQcjaiNUGtEmugIYhVZVKIYDYoS3FCjBxeqYpEEK3HDKqKEzShEIEAwLEHWAQYG59vfve8NDDAKuFT/4HPOzPstb/m9++6725PwBOCTbDSXIL0dygMxd8qhOnKH26GObpCkwVi33gUeqt+KtoT6gnOArkrMalGTvhvanAPySR6XJ3OSg7lNYpMGW0v5fPlHJqCYGulbePleUz5C8KZ1WDNFQvqeQNy9Esn72fT7G+43qrn9/7kdEnQ7bmxioRvjPwErlFYLvPrK75WecXghQQFrkdPQBCshFmvLqehvLaGyked5ISQaJ88vMP7nEu7RoBAXLSTh45lwD7rBYiMtINGFLfESOxRB6vsrfCNESBqhKbkO1OfTkYwkWQBNGrwwJ5I1hMf4/xnz8EVkhSuN1gTEFyFXabfluk5pGBCnAQaG3lJ67RGLSORGw32gpxA9UAfPqDwe0y+CHonf6NnctlMt40Xk3T7G44Vo4HFDaHyc42lc0gIj9xbwIpz7LeK5j/kawHHxbM2CknH4R2URdBAhOYo3mbZKnxeRfxh+X5/lriS93rwIkoS8XwXP6SkRv1HK8fIi8iH1G4X+i+N47DN7CTHiEDrWbP11/SKePc/FIp4XFGGQavhxy8R5D1B2EqvPVIpeDUwnbwUyQxBVUC3UJBSHsgzsmFCbmDuVuOw9BBcL66FLXI0l+9OBK6uxM0nY4cRAbE/W4NdClcjEkDqRmSkUhy5UqfgUjstcxH81RttMFNs6/E6ywXei5aZ6i6bZ/JCqfbtfhShxyqLEMPheATL2eeDNqLsoPL8Zy/+rY9tI7wCq8ppVkKkrhdWCGEBTAct50VALJ0bvBVl/eje0OfvgcrSUd20WRuAl2Vi+ZzodSA5GZq3c7zljJ29l6uEcmqC0BSyMauwZPhdl1G+8iLURGTj6xhDcqeM9GHqvDIVRce8i5q67pswSFWx/CbLBBNlhgrwysdl3Hm/1kF2md5BsMxmDZmEIz603Cq3RYo2ZFTQ32wrjAL+nRDthPG/E+X2KH5R2Z2goScHLYdlKr2t02wwDuoVhwGMJY/C8MKXVMQ5uFBBmQOUjjFmnycP8P21S2g+jDv6DlnDrbLgchDwKLIwN5ia4IILP5E/Mkd2gw/s9RBohwvSYBb2QWqNDH4vVHHz077UKhpZFFoYOvT2ExxGMHvBHkK+xcw3g/vj5vig9PRl7swyFEYvbu2bguHity79eDJ+EGiSteg/uUblI3eSGNxccgubGRsyO/Uk4s1T8ZuopcZwa3q878Dn9544R//cwwnq42GrhYTtMbDUtwgiZ0Sr2uv75dNSKbdqu6cI33sd0c1lY8Wvo1nWYJplyn2BhrDdxFrsRyfCPlxOOrbbWHBWlVzXiK4+XuC2arRg8t0UzfvmyyNckOzRoryEgXETeCsXH/9JKGF5rzuPvkwbx+eg3TXUaid7TcV5EYWWXfRGWKnYrT4LjthuoTQnFtOgSqLMim/eXpCEoFa541siVfP4t3gPFf2OzMPLjtiDOwJPVFJ4Qx1jgNEUKuoZ2wnAymcl9goURZCKhiQLo0mOI+E4LC5f9NIya6DlIrSR/JfPlwj64K8uKkYWRje1H5SDbZ8QsIf1SrAg4yX2irTBUq+Kx0N4LlLrqubT84cIQwQQmfGLoiks6LQw9tcWnsDkDnRCGqQnMzMwgTY3gwdTNNvwU8hKDEXKjArfD5Ce55FjrXESvGeNH0vw47Bg7DCnCh989+Q7v/6HQkLITbYTBNqMMY/kpTwQ9sAcJo+U1AZLCFvE57TeL8XbCAHa5SliRoGv3mtSXJ/Nx1n3duV95xgeSeU8kHCYhPEwznjty4Tn5hNLuHHt9eiutrsPC6EamWxjdGOUZKkYuDtkNxQCyo+N9EZtDlvTRIIdFuSDZacoHyVZTTkj2mvJCstkPqkI9LjW39sH7zxIsRzthe5oy+MjUcb7pP8gTZ0WoU52xFwuEfGyHLcc5Iw7yaWKgGIki9JqBSLEwlx7mMKUHJhwtFUWbuReN+dYvoAfN8W8SQlOqoFH8UF3cIrxka6nMTUTw5VLUGvFR2gte+MUrVsp+Ej7YncylssTAMXitt/7cEuy8onCTq60y5LCpACvPOyPweA470dIuKEZmpDscXlHOMcQZK2L0M6W4sHwdtrr6Yr2XK4bT/KvvwDM2Cem7lmISX3Mg/uC6D9/q70k4fqq2kPOniouMGtlRAXDi/cXvtQl4N/quMleEbyI+x18Hi/VtmCDP9x6KsYFXxZwOpdfC8YFy3ItD7XCICp61eRwsUIWmfU1TRltTiJP/UK4nWaFP/x3izgUixKRPEBRZUdGCoMIFRVhUvKBrar8/CKeZX+CgPx1rCpO1tJY2ikHBBhU1mgMOEY5SpSciUwOtkQdM4SlVflKrxWRmCCcwVA6jJKZDssI5YjNa/icaL3I4S5UiCmmpWkRhrWHFSE+HFkOEvBVF5+G2MhhLT9BOeooR77EKG9yPiCC6gXMCqjBR9EdUXfHDnGWT4HZGkaqIBKnixNEgYaAYXCgrOIdPtyyG/ZGWLwBCnZG4IwTubxxBocgh6GMLRYtUlSKoMkVRI1WnKIyWLcYSuUpFVHWgGHWlnHxRKY8SsFZ0RjFyDnDUqa9u6WljMZxBX5TkhI1I5o9l/vF1YiwVITa9YC600iH8NlsC9SlXWTEMchciM/xVDLAhDXwLGy8VG7UabRUjP3IcRvYVx4xZiZPZdIsJWEmKsf8W6kTiR98GKPnjr1tt6EgxKDHMS4vArA+XQhX9oApYBacEhopBqQGVIDk9IBTFmBKehcrMMHy21gGbkpQ5gVqYfpVqNByi6NrGKOFSZZcUg9Hgp4zj8Ld1x+l2T78FTWUqtjmQ3Huhd7/tbDXqnoRibDAzgeS0H/laJZcPEnnbmnio6SbSgmFp4oevhBKwc8nYhr5WppAmbUO62ojFUMfCrY8Ttp3/ETTdjmbFqBadAuwb8SJ8tl7CDyyQAkRNHIGfSSPxUeRNLo9QsZ1KJFxwJ4qOwX6UN/75rxLkxE3FmIe6klguxmfvdcEY13lYm6Sky+Xn4PmuF2asuIp64d+vdFIxjFkM2ZWocfvAcrgN/j2CUnhArPMqdga8Dzt/+jhWiZSnbTGa1Cj+ty/Mem1hxWgs/xKrJQvMPkX33ARN5m44Smaw2NgFxWjnSrrpgFyu21NO3ZXafZfoSDGeEt2K8Zg82azEEA3K0p6LrKSbbvQA/wNGF2xMO2U8SgAAAABJRU5ErkJggg==",lY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAQCAYAAAFLg1xnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABURAZUCwyYAAAk6SURBVFhH7ZkLUBXnFceXhwg1UkWrrVWrdpqk1alNxmgntrY0RpumEbVANYCIQUTLqFGBiqAEQQHRgWhMMdRHCQkQRYxRY0Q0xQdgfBFFBSI+UBRFEJCLl8v995yz914v8ijqdcZO+c3c3e/b3bv77dmz5/ufswosgJzEI+OOdID7QFUxtkRNwfnkINny7qoQWVd8/hdUpDtL23XNHhy5eQ/1OqBUq1dP8qTQSfSohgb56yehuiBJ3VpbBFzJosZdBPimYMwCH6ApH1OX/xOvhH0hh4RllMM2PJv+TSfR6w+jy9tpUBR1UKZ1j36oOJ1B/b7SB11o2Itu6m3KBYCoaYG0LARKtsI1ZBc2J01DfuY0Ocf1NGe5aMSo51FSrZqA+dC7D6oagF6ODmikEbA5rK2UliaZGv2NofXk8ECMGAfSFhZ5NpaArKhAW7wR9s95QXN7F370wVnEOavji1k7D5ekBbjTcb9dmYftN4Fx8cdlWyX9Qudlmx6nk9IfQWPGouQesLO8Xrap+xql3fDFTNOxijIed7b+FW5TPoWeHpHysbs1wmhn0aZJsJ+2XQ7S0C/cyQ8bLgKDFmbLNmZExJFmAwl6811alkjbSOLpOoSuzjEN5NVhP6YlvRtEw56ZtDyH+O5dpC8DsZ4s7eaPRk9e9FRQLdIeMpCy5ImwsbWTDRbjRh5GRh41dCwHv41s7aHdFKQVsnM8IGTYQIyMUN/ojsBPpFSrPi0jYhB2E3PYXWqghW231YYtwKXPQnFeWnWY3Ntf4ha7EEdRczfavTIYZdwQg+RJ2GG34tBjdC3mbm4UZu2rQmHqbBzRNmLljGTZfuNLX+y4CjX+ERyN2e04FrLrcWRmg6iRoQzBsfvkOJXGZlGCXZKjN7tlWMY17JjugBoK/Iz10r0Gg+jFTTmmMmYG0cHKNpourKUXy5bCMrDB1Z53Y9uSrkDNcfRZdx73ynMw4B8luHW6dYNUnNqC0CPAyY/84Rx/AhWHE/DnHbdwYeMCTEj61nCUyqrZo/HGnDRpv/ObqTRJAFl+r+O49lEN0gS32Axa69oxCD2mswlYd6oGKFiNxML6tg3SFhzdFMfeht6zhSVemdZo1yD/byjQN8n8E2O5SV9YH+5haFmWFxYtxZn416AMX2DYYqAhB3Z0H1drDf0OYOO62dBSUZbTCRQrG9yit+dNbis22H6bd+mwiPvdnOTA+tvHxGg/SyLRhwZE9XCX/gsjPpH9Rq58tZq294VXsD/1dAj65R9le+Ti6bIWavIx1lcNgim+0XRtYO6fBtD/BonQuLrLB7PHjce0hAIs2TwLL9F1JoSrMYaNcSLyZZyooI42F460b8SSz2Vf1vz+KOWgZ6B39Bb8wEGRGCacWStjTjyragExxvVUpETYQAk/RAK16RpW5Mk+lUYNunhuQ+XuZTCFvcYaOPR6X5rX9idgHwW6xT1/Iv3MVW4GaUFoLmHwyBRpqp7RhjEIjwVjZR0dNg9HA8NY5grBMfNRnzUdcd9QwCNeWRgg6xWjvcD3b26M5JcH4oqZTHnYGD3d1so6oWdXenz1mPRRgfRPxdijlgYtxihPQ3KpegcmY+gaDkKxo1lEr4GdZwYKkybB5HGa23CcqUr9ysLt+LItY9w6jWFhOdJM2/AeLds2Rm6EBw4e3YuA7Cok+/wNFwzbmdt7vDtkDOFKujzti2SE9oxxn2aWpTt5vgeqt05p3xgNByPAYaM2KwTdfTKhrT0Lzx210NVdh1NCIWInfk/+EOniSMum1o1BRHgMo2Ulfmo9RPoek4fTsgG/6zJU+iZqTtFN9EIxt79LgVsIC7Y7CPSMQO1XHTOG0TMOBA5BUVX7xqijObS73QRSUoCDrYuMuYUxZNkG1RdUUfSscTj8Vw88w4yHjfGotGMMNYD67Sbh84xxLM7ZIrPJw3TqjE7aRJyD4yinKs1m2WcVygd55n4aSfLThsMdp1ethbyWNEoY5LTrSULhk9CKczRBW7IJE627INaQgzdqipHoYgV770zJbXny5fyWJ2BGU3USH7p2g88uyherj8lkzPkuwzkvT8qc9/K5K7/diOmKIwYv/pp6NKF/txPBLn0xdLOx1GWOBpf3rIR/3+FYKklDpeTGPHk7x5+kvk6KBqxopHDAXMkSZWNeQHhADfKivBA41hdZxuruuU/gt3IJ5ufQdHHpU/gEBMA/1aB97uzHrHGL4BGRC86Eqw764g8DR8Iv/oxJiVXs88Dofv0wNfoQbvCGgliMGTwDwR9f4MIxbqY5iyjgvJuFwQPnKBOBwDm4Kh8vY9Mvfoi/v38I16Xw0L5zNGTNQx/S2HPSLqKGE/Dz6+Dk8BbW5N0hOUNQvs6CgnN2FhWct7Ow4Nyd5QTn7ywwOIdHeTrcbaww8V9X0WRM5ol2IocejfXZCKV5i6WeYmuP7jMypVLNMpULiC2mM5KsXMVm2cqFRZX7Il+5yMgSlitFrNykOMJUFYuC4yKJuYoTSNpyTd4ob4XaIpG5XKB8dOcgavIQ4RmI1/2/JiOWIt0vGkvm5qAO17Bj/lsYYLxfs98Q92XIogfK+QIXXozKkOECDCtEKcIwTfmiFKUYw/vT23IOsnBuJH79/PfV63h+gKPl5rXQ/+Ice2aKulQLOMw5UZn8VYBlNxdeWXrztwojLMH5iwHL8ObOkSZFHlahZr7RmnPoSMssh/WUVClNC5TIcYmQkzn2Q07ouFTYvJZFUHLHZUNO8NS4wZDZKdHjEiIne4/kHJQEcnmRE0EpMTKmaYUH+xjOQdw9Ggnv0Nfg7OeKxKi52C//rcK/F7pg0eRAHOIyXCtw/mRJ53gY3YEFGDQlBplFPAD9YzrHNUlQufTJSaqx/Mlwsspl0CdwDurrGnAg1PDm2HRFN69UXD4QDiu7t5EpHqOTKqGUP/hn54g+c3ZL6GW4FMLfRmRfj36GkgijlZJqh51D0EjJhL+rKMqLGDUiFEFrfTHapDluInfdLPxc9g/H5AlxWJYchzfW5Bv2t8ZdnFzhjZeeexXvfGYcm0pVbhg8RxnGTr/fz14FrqYyFneOsm0YM7y/6VqK13rk3TBGj8eNHGWoMxryzFr5tKeef7yUdfgzH9Nh53hsGu+hfO97cPDebnKMTtrmf1KQdtJJS4D/ACf1pRCRRDX9AAAAAElFTkSuQmCC",cY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAUCAYAAAE8S7kiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABXWARG5gq8AAAjbSURBVFhH7VkLUFXXFX0FBayaUhirzSTqxPysE2zScUJNzIgitRotAbGQGDRpsBGjVT4CSlAkShQBLaig0vhJTBs1piJRRENBPvKRB7wPj+c0yKeIn1gbK4rCW9373Ps+IBDQR6zRNbPfvfudc++5++6zz91rHwXuEh1u0ExyUzplGCrlEwmXSJT0U117GPqCZFSq1R1v0DOoVCqT3L0Je3xsgVZ69OaLpLaQfCML4wqJjkQjjDtvAMq+boROXwy1RgsD6eYnuHZePukIlXyUoNfrTY/PuGsTegLLQS2FIR5AvAYGvwqG0ZqWWnFown/FEbggHwmN6fIJw2hle68zrpMU6ppQmuItBq3O3wRNVUH7B7hX+F4Gt3zlltJucAf/z8VRMehRzHAaicWDR2Kh0zPwHbMckSHP4JUnJ4n28NB3MM73LxjzrJfQBwz7HUbPXYAJb8TDbfQyRD7nh+eGKjCWZOEwbzh6hGN+fCYmr9yPV94/hH42gfCwce98cKc/fom0cEcMX3ocX8WHmwb3fylWtPPgAZlN8AyaKfSgkL/DxzUUEbHZmLMyWfz39OtrsPjxVTiycKgYfG9uibA2+mAxJn9w5HbLjeDBewMevDtYvmpLuacTzproKqy7EobJeFPIG0Ghb5wG1gJPl75C3xpP69+QTWpxmrXRG9euVuKp7TVCV32ShDpaDzk2GBwfvC4aY8QIs/FnMVKhgMLVX9YZSsSuLRJniR5v4bJBI2IIOIcnua8s2bQMczwxOKZ4LeW44vWUYys9+jFTX4ViLrSFfxZxpq3eh34W92mlb5XJ+J2vmRsU9gPpHwOC6TyDP3cMMt7OK1S07/qn9NeF0u1CX1XQJvSsBF8ohryAhB2LuLVL42eNojFeDkCYxxzxNZWgwuLfeIv77dBcpeFLZeMJZQni/7FBnwi1O+NVWh18h/xE9P+8sEx8WNh49nZe4nTxv9vaLHH9Dybm7wQPjf8hoLKy8rZFrTthPDS+rbUOscVCN+FiVjRo2bEeag7jtZQKWbE++tT4wnUvYcmJm6g/Fo20r4nllGxFUF4b/pWTiPBTQPlHMci7RQRJvx9un11AQaI/Ei1tZeO367DmzTegJ7VkxWyEF/1baiPsmeOK6BMN0G6egS3qm9jo/jTymqihaT8iP6MrWvOxOq0MKIrB7I05QMH7UMxJJS55HJuO1aMsxQe7sk9juaMDTpVrkeQ5AIVKLWba26BEqYJuXxDSSsuhyd6A2EzpwXpsfP722dLJt3V4dEk2UsKcJZ346jyX3VB3MD53wwqUSF9ACRaeTw/zEp+caAvjt3iuwWU+MSgRtvofSHCbiwZSM7wmiL5CZseT0RH4m4ZoZ0sWPi1spB63EPOFCkoy/uN8LZwHyX1JNp9UYrrdZChVGoQMsDffJ3AXj9QL45O9cIOONy+qMHLbWRyOn4VWbrjRgMd++XGPjPdOO4Ol68KEeiU3DCE5ZuNTvAJAE4oGzkDg1irET5SMP7XWFYXnuEGCga7ryvjdJysxeMoKqDRqaXqrtbLxaiRMt0VZRRfT3vRWSBwTKnD9UgYcnANEJ0bBVk9E/FYB5+HPyv+0YB71HTzqV5J6vUFcOykkGW5/bejC85WoOxol+kXt3QqvZflyI7DNbynGT3gCiinBQl8vG8+YMtZJXKMmm7szfld2Mc4UpcKO+ip+HUEvocpkvJrO7frZiPtUVPZytTd6vq9g8vwd4oH+1N0JHmjjH2Q8dPz/Gbgs0dvlqzdiRDvH8wevHau3EPuBj2AjV2UNzSID4DKHVZNfa4I+qlw56Mtkuq9wpqYep7f6iMoEf7hNGYuVxIjbHM+1rI6pngltN3D5SJg8GX6Mn/5sMzRykwnXziN/x+twXH0IGX+SJg1nRcbSj4QWUQLiDInbOUsyloIovxMkgethnC4yOGXkuhinjUAjcr/YiwXzFmGpF10/wh3+xzrslnR0/LfliHt3ovzcLK7wjyqCObm0hBJbZsUjNTgOfv4vSv0p6xKlJcaNAqyPOYANoePx8lPUNnUVDpw1UIr/JWaMH2Ua4/cbMlHPNSaCITsUoz9Mx0frn8cLj0vtb+/UovHEKriMGCRd84edqLrSirO1DR0cX4XqmnREDXPCQPneijeTkFNCJEWjRXVuAqa/moB1ixzgYMv32YbicjURmRDY97c1PU/gLqUps2P0MOLtMPCRRJRzp9bviHh2PGWCXHc3ZoPMBXgDgPkAb/4wJ+DNAMELGMQNeGOA+QFvCjFH6NrxEmfg2mC71NkS3xHxzCl4s8GSV5ihEpkm7wOYsk3iGrwhwXyDN6OYc3Bt0Zh658W8iNUpe6GzeCGGnAj8YmUajnAnImJccxQpOaPlKywZ4YP1B8/I9ctbogbJKTrXITlNZ8czTynd4oVBC5KRWaiERk3Rr66CvnATXrUPRGpumSjOcvrONUpO4XkTLH6aLd7bSTo5WkS6WoOcOA/86L3daG2jSUroXcQzeuJ4Yr7GCrcAMWCudDML5mo3M2FjxVvCJVH5ZlbM1W+rOT5VS8o5HI30wc9pAj/vF4aSZg7a7hxPEU/Mmivogl0ziGFzJZ1ZNlfTmWmbHX8O+yePwbLln0Ivb3B2BPOw9o7PEkVn5mTSotC545mdp69whkNAHDmeIpwdb7l0E2HlwrTZ8RpRnQ/qb4PAtGKUGx1vIUZY3/HNF1GwbjxsHYeDiDvhKuoyE+E9dAGOCStbRP2H9x65BsQb+lwH4n3I8EKpvfZoLN4d6oKoUta/gTJ1Pp5wcsG0w71zPFcO0JSB4KD58E2TJ2LNIYROdYbCxa9dGcUMHfb4jYPDuHcop5G2pJVJ0/BW+Cpk1rN2WhBty4hH00G4j/HE28lF9KGSkBflAt8PdqLiP6Tkh9+R47kmVV17GJFOAzAxeC9OnlZRROtRnDQTDlNW4sCpCugK2kc8TwbdvmD0t5mE1RllqBBEPhdxU23gHnscbYZOIt4q6GSpv7/QyVL/PeKeZPVWwUPH3xXuX8c/xH0A4H+sQgIhfdYH4gAAAABJRU5ErkJggg==";function IE(e){return U.jsx(x1,{anchorEl:e.anchorEl,open:e.open,style:e.marginStyle,children:U.jsx(WC,{in:e.open,children:U.jsxs(vd,{className:"helpContainer",children:[U.jsx("div",{onClick:e.onClose,className:"closeX",children:U.jsx("span",{className:"fa fa-window-close"})}),U.jsxs("div",{children:[U.jsx(Xn,{variant:"h6",component:"h2",children:"Toolbar Buttons"}),U.jsxs(JC,{children:[U.jsxs(ea,{children:[U.jsx("span",{className:"fa fa-lock"}),U.jsx(ll,{primary:"Toggle Sync Views"})]}),U.jsxs(ea,{children:[U.jsx("span",{className:"fa fa-book"}),U.jsx(ll,{primary:"Toggle Book Mode"})]}),U.jsxs(ea,{children:[U.jsx("span",{className:"fa fa-code"}),U.jsx(ll,{primary:"Toggle XML Mode"})]}),U.jsxs(ea,{children:[U.jsxs("span",{className:"horizontal-buttons",children:[U.jsx(Qk,{}),U.jsx(eP,{})]}),U.jsx(ll,{primary:"Go Forward / Back"})]}),U.jsxs(ea,{children:[U.jsx("span",{className:"fa fa-hand-point-right"}),U.jsx(ll,{primary:"Jump to folio"})]}),U.jsxs("div",{className:"readingGuide",children:[U.jsx(Xn,{variant:"h6",component:"h2",children:"Reading Guide"}),U.jsxs("table",{children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{children:U.jsx(Xn,{variant:"overline",component:"span",children:"Syntax"})}),U.jsx("th",{children:U.jsx(Xn,{variant:"overline",component:"span",children:"Meaning"})})]})}),U.jsxs("tbody",{children:[U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:cY,alt:"howtouse-ups"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Text is under the paper strip"})})]}),U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:aY,alt:"howtouse-curly"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Expanded version implied by abbreviation marks"})})]}),U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:lY,alt:"howtouse-square"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Editorial interventions and corrections"})})]}),U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:sY,alt:"howtouse-asterisk"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Editorial Comments"})})]})]})]})]})]}),U.jsxs(Xn,{children:["See  ",U.jsx("a",{href:"#/content/how-to-use",children:"How to Use"}),"  for more information."]})]})]})})})}function uY(e){const[i,t]=z.useState(""),n=!!e.anchorEl,r=n?`${e.side}_jumpInput`:void 0,l=p=>{p.preventDefault();const f=new FormData(p.target).get("folioID");e.submitHandler(f,e.side),e.blurHandler(),t("")},h=p=>{t(p.target.value)},d=z.useRef(null);return z.useEffect(()=>{d.current&&d.current.focus()},[d,n]),U.jsx(QC,{id:r,open:n,anchorEl:e.anchorEl,onClose:e.blurHandler,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:U.jsx("form",{onSubmit:l,children:U.jsx("input",{id:r,name:"folioID",onBlur:e.blurHandler,onChange:h,placeholder:"Page Name (e.g. '3r')",ref:d,type:"text",value:i})})})}function dY(e){return U.jsxs("button",{className:e.isActive?"active":"",onClick:e.onClick,type:"button",children:[e.isActive&&U.jsx(KK,{}),e.name]})}function hY(e){const{tagsLeft:i,tagsRight:t,toggleTag:n}=z.useContext(cd),r=z.useMemo(()=>e.side==="right"?t:i,[e.side,t,i]);return U.jsxs("div",{className:"tag-bar",children:[U.jsxs("div",{className:"tag-list",children:[U.jsxs("span",{className:"tag-label",children:[U.jsx(tP,{}),"Tags"]}),e.folio.tagIds.map(l=>{let h;return e.document.variorum?h=e.document.tags[e.folio.doc_id]?e.document.tags[e.folio.doc_id][l]:void 0:h=e.document.tags[l],h?U.jsx(dY,{isActive:r.includes(l),name:h,onClick:()=>n(l,e.side)},l):null})]}),U.jsx("button",{className:"tag-bar-close",onClick:e.toggleTags,type:"button",children:U.jsx(YK,{})})]})}const pY={anchorEl:null};function ME(e){return U.jsxs(U.Fragment,{children:[U.jsx("span",{title:"Go back",onClick:e.changeCurrentFolio,"data-id":e.documentView[e.side].previousFolioShortID,className:e.documentView[e.side].hasPrevious?"nav-arrow":"disabled nav-arrow",children:U.jsx(QK,{})}),U.jsx("span",{title:"Go forward",onClick:e.changeCurrentFolio,"data-id":e.documentView[e.side].nextFolioShortID,className:e.documentView[e.side].hasNext?"nav-arrow":"disabled nav-arrow",children:U.jsx(eY,{})})]})}function zE(e){return U.jsx("button",{className:"grid-view-button",style:{cursor:e.documentView[e.side].transcriptionType!=="g"?"pointer":"default",padding:"0 15px"},title:e.documentView[e.side].transcriptionType!=="g"&&"Return to Grid View",onClick:e.documentView[e.side].transcriptionType!=="g"&&e.onGoToGrid,type:"button",children:U.jsx(XK,{})})}function Kf(e){return U.jsx("button",{className:`toggle-button ${e.active?"active":""}`,onClick:e.onClick,title:"Toggle XML Mode",type:"button",children:U.jsx(e.icon,{})})}function fY(e){var i;const[t,n]=z.useState({...pY}),[r,l]=z.useState(!1),[h,d]=z.useState(!1),[p,f]=z.useState(!1),g=z.useRef(null),y=z.useRef(null),S=()=>{n({anchorEl:null})},C=He=>{He.target.value===void 0||He.target.value===0||e.documentViewActions.changeTranscriptionType(e.side,He.target.value)},k=()=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},P=()=>{l(!r)},R=()=>{d(!h)},D=()=>f(!p),q=()=>{e.documentView.bookMode||(e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"left",e.documentView.left.transcriptionType),e.documentViewActions.changeCurrentFolio(e.documentView.left.nextFolioShortID,"right",e.documentView.left.transcriptionType)),e.documentViewActions.setBookMode(e.documentView.left.iiifShortID,!e.documentView.bookMode)},G=()=>{e.documentViewActions.setXMLMode(e.side,!e.documentView[e.side].isXMLMode)},ne=()=>{if(e.documentView.bookMode){q();return}e.documentView.linkedMode===!1&&(e.side==="left"?e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"right",e.documentView.right.transcriptionType):e.documentViewActions.changeCurrentFolio(e.documentView.right.iiifShortID,"left",e.documentView.left.transcriptionType)),e.documentViewActions.setLinkedMode(!e.documentView.linkedMode)},Z=He=>{const{documentViewActions:ot,documentView:ee,side:kt}=e;if(typeof He.currentTarget.dataset.id>"u"||He.currentTarget.dataset.id.length===0)return;const tt=He.currentTarget.dataset.id;ot.changeCurrentFolio(tt,kt,ee[kt].transcriptionType)},Y=He=>{n({anchorEl:He.currentTarget})},{side:se,document:le,documentView:ge,documentViewActions:ue,onFilterChange:pe}=e,we=ge[se].transcriptionType==="f"?{color:"white"}:{color:"black"},ve=ge[se].transcriptionType==="f"?"dark":"light",Ae=ge[se].transcriptionType==="glossary"?{visibility:"hidden"}:{visibility:"visible"},je={display:"flex"},xe=ge[se].transcriptionType==="f",me=(i=le.folioIndex[ge[se].iiifShortID])==null?void 0:i.name,De=se==="left"?{marginRight:"55px"}:{marginRight:"15px"},Oe=me?le.folioByName[me]:null,$=z.useMemo(()=>Oe?.tagIds&&Oe.tagIds.length>0&&le.tags&&Object.keys(le.tags).length>0,[Oe,le]);return ge?U.jsxs("div",{children:[U.jsx("div",{className:"navigationComponent",children:ge[se].transcriptionType!=="glossary"?U.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbs",style:Ae,children:[U.jsxs("div",{className:"toolbar-side toolbar-left",children:[U.jsx(zE,{documentView:ge,onGoToGrid:k,side:se}),U.jsxs("div",{className:"folio-path",style:{display:"flex",overflowX:"hidden",justifyContent:"flex-end"},children:[U.jsx("span",{className:"document-title",title:e.documentName||le.documentName,children:e.documentName||le.documentName}),U.jsx("span",{children:"/"}),U.jsx("div",{onClick:Y,className:"folioName",style:{flexShrink:"0",minWidth:"40px"},title:me,children:me})]}),U.jsx(ME,{changeCurrentFolio:Z,side:se,documentView:ge})]}),U.jsxs("div",{className:"toolbar-side toolbar-right",children:[U.jsxs("div",{className:"book-mode-toggles",title:"Toggle book mode",onClick:q,children:[U.jsx("button",{className:e.documentView.bookMode?"selected":"",type:"button",children:U.jsx(JK,{})}),U.jsx("button",{className:e.documentView.bookMode?"":"selected",type:"button",children:U.jsx(oY,{})})]}),U.jsxs("label",{className:"lockmode-container",children:[U.jsx("input",{onChange:ne,title:"Toggle coordination of views",type:"checkbox",value:e.documentView.linkedMode}),U.jsx("span",{className:"switch",children:U.jsx("span",{className:"slider",children:U.jsx(rY,{})})})]}),U.jsx("div",{className:"vertical-separator"}),U.jsxs(km,{className:ve,style:{...we,marginRight:15,fontSize:"max(16px, 1rem)"},value:ge[se].transcriptionType,id:"doc-type",onClick:C,children:[Object.keys(e.document.folios.find(He=>He.id===e.documentView[e.side].iiifShortID).annotationURLs).map(He=>U.jsx(ro,{value:He,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(ot=>ot.id===e.documentView[e.side].iiifShortID).doc_id][He]:e.document.transcriptionTypes[He]},He)),U.jsx(ro,{value:"f",children:ta.transcriptionTypeLabels.f},"f"),e.glossary&&U.jsx(ro,{value:"glossary",children:ta.transcriptionTypeLabels.glossary},"glossary"),e.notes&&U.jsx(ro,{value:"notes",children:ta.transcriptionTypeLabels.notes},"notes")]}),!xe&&U.jsx(Kf,{onClick:G,active:e.documentView[e.side].isXMLMode,icon:DE}),U.jsx("div",{className:"vertical-separator"}),$&&U.jsx(Kf,{active:p,onClick:D,icon:tP}),U.jsxs("button",{title:"Toggle folio help",className:`toggle-button ${r?"active":""}`,onClick:P,ref:g,type:"button",children:[U.jsx(AE,{}),U.jsx(IE,{marginStyle:De,anchorEl:g.current,open:r,onClose:P})]})]}),U.jsx(uY,{side:se,anchorEl:t.anchorEl,submitHandler:ue.jumpToFolio,blurHandler:S})]}):U.jsx(_E,{onFilterChange:pe,value:e.value})}),p&&U.jsx(hY,{document:e.document,folio:Oe,toggleTags:D,side:se}),U.jsxs("div",{className:"navigationComponentNarrow",children:[ge[se].transcriptionType!=="glossary"?U.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbsNarrow",style:Ae,children:[U.jsx(zE,{documentView:ge,onGoToGrid:k,side:se})," ",!xe&&U.jsx(Kf,{onClick:G,active:e.documentView[e.side].isXMLMode,icon:DE}),xe&&U.jsx(ME,{changeCurrentFolio:Z,side:se,documentView:ge})]}):U.jsx(_E,{onFilterChange:pe,value:e.value}),U.jsxs("div",{id:"doc-type-help",style:je,ref:y,children:[U.jsxs(km,{className:ve,style:{...we,marginRight:15,fontSize:"max(16px, 1rem)"},value:ge[se].transcriptionType,id:"doc-type",onClick:C,children:[Object.keys(e.document.folios.find(He=>He.id===e.documentView[e.side].iiifShortID).annotationURLs).map(He=>U.jsx(ro,{value:He,title:He,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(ot=>ot.id===e.documentView[e.side].iiifShortID).doc_id][He]:e.document.transcriptionTypes[He]},He)),U.jsx(ro,{value:"f",children:ta.transcriptionTypeLabels.f},"f"),e.glossary&&U.jsx(ro,{value:"glossary",children:ta.transcriptionTypeLabels.glossary},"glossary")]}),U.jsx("span",{title:"Toggle folio help",onClick:R,className:"helpIcon",children:U.jsx(AE,{})}),U.jsx(IE,{marginStyle:De,anchorEl:y.current,open:h,onClose:R})]})]})]}):U.jsx("div",{children:"Unknown Transcription Type"})}function mY(e){return{document:e.document,glossary:!!e.glossary.URL,notes:!!e.notes.URL}}const rs=qi(mY)(fY);class gY extends z.Component{constructor(){super(),Vn(this,"onFilterChange",i=>{const t=i.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}renderGlossary(){const{glossary:i}=this.props.glossary,t=this.state.filterTerm.toLowerCase(),n=Object.values(i.entries),r=(d,p,f)=>{const g=d.split(f);for(const y of g)if(y.startsWith(p))return!0;return!1},l=[];let h=0;for(const d of n){if(t.length===0&&d.headWord[0]===kl[h]){const y=`alpha-${h}`;l.push(U.jsxs(Xn,{variant:"h4",id:y,children:["—",kl[h]," ","—"]},`gloss-heading-${kl[h]}`)),h++}const p=d.headWord.toLowerCase(),f=d.alternateSpellings.toLowerCase(),g=d.modernSpelling.toLowerCase();if(t.length===0||t.length!==0&&r(p,t," ")||t.length!==0&&r(g,t," ")||t.length!==0&&r(f,t,", ")){const y=vY(d),S=y[y.length-1].endsWith("."),C=d.alternateSpellings?`, ${d.alternateSpellings}`:"",k=d.meanings[0].partOfSpeech,P=k?`${k}:`:"",R=k?",":":",D=d.modernSpelling?` (mod. ${d.modernSpelling})`:"",q=S?"":",",G=d.seeAlso?`${q} see also <span>&#8594;</span>${d.seeAlso} `:"",ne=d.synonym?`, syn. <span>&#8594;</span>${d.synonym}`:"",Z=d.antonym?`, ant. <span>&#8594;</span>${d.antonym}`:"";l.push(U.jsxs(Xn,{gutterBottom:!0,children:[U.jsx("u",{children:d.headWord}),C,D,R," ",P," ",y.map(Y=>Wi(Y)),Wi(G),Wi(ne),Wi(Z)]},`gloss-${d.headWord}`))}}return l}render(){return this.props.glossary.loaded?U.jsxs("div",{id:"glossaryView",style:{position:"relative",overflow:"auto"},children:[U.jsx(rs,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),U.jsx("div",{id:"glossaryViewInner",children:U.jsxs("div",{id:"glossaryContent",children:[U.jsx(Xn,{variant:"h2",className:"title",children:"Glossary"}),this.props.glossary.glossary.title&&U.jsx("div",{className:"subtitle MuiTypography-root MuiTypography-body1",children:U.jsx(Ju,{children:this.props.glossary.glossary.title})}),U.jsx("div",{className:"cite-instructions",children:this.props.glossary.glossary.citation&&U.jsxs(U.Fragment,{children:[U.jsx(Xn,{className:"cite-header",children:"How to Cite"}),U.jsx("div",{className:"MuiTypography-root MuiTypography-body1",children:U.jsx(Ju,{children:this.props.glossary.glossary.citation})})]})}),this.renderGlossary()]})})]}):null}}function vY(e){const i=[];for(let t=0;t<e.meanings.length;t++){const n=e.meanings[t],r=n.references?` [${n.references}]`:"",l=e.meanings.length>1?`${t+1}. `:"",h=t<e.meanings.length-1?" ":"";i.push(`${l}${n.meaning}${r}${h}`)}return i}function yY(e){return{glossary:e.glossary}}const bY=qi(yY)(gY);class Hm extends z.Component{constructor(i){super(i),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const i=this.getParentElement(this.scrollComponent);i.scrollTop=i.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let i=!1;const t={get passive(){i=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch{}return i}eventListenerOptions(){let i=this.props.useCapture;return this.isPassiveSupported()?i={useCapture:this.props.useCapture,passive:!0}:i={passive:!1},i}setDefaultLoader(i){this.defaultLoader=i}detachMousewheelListener(){let i=window;this.props.useWindow===!1&&(i=this.scrollComponent.parentNode),i.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let i=window;this.props.useWindow===!1&&(i=this.getParentElement(this.scrollComponent)),i.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),i.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(i){return(this.props.getScrollParent&&this.props.getScrollParent())??(i&&i.parentNode)}filterProps(i){return i}attachScrollListener(){const i=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!i)return;let t=window;this.props.useWindow===!1&&(t=i),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(i){i.deltaY===1&&!this.isPassiveSupported()&&i.preventDefault()}scrollListener(){const i=this.scrollComponent,t=window,n=this.getParentElement(i);let r;if(this.props.useWindow){const l=document.documentElement||document.body.parentNode||document.body,h=t.pageYOffset!==void 0?t.pageYOffset:l.scrollTop;this.props.isReverse?r=h:r=this.calculateOffset(i,h)}else this.props.isReverse?r=n.scrollTop:r=i.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&i&&i.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(i,t){return i?this.calculateTopPosition(i)+(i.offsetHeight-t-window.innerHeight):0}calculateTopPosition(i){return i?i.offsetTop+this.calculateTopPosition(i.offsetParent):0}render(){const i=this.filterProps(this.props),{children:t,element:n,hasMore:r,initialLoad:l,isReverse:h,loader:d,loadMore:p,pageStart:f,ref:g,threshold:y,useCapture:S,useWindow:C,getScrollParent:k,...P}=i;P.ref=D=>{this.scrollComponent=D,g&&g(D)};const R=[t];return r&&(d?h?R.unshift(d):R.push(d):this.defaultLoader&&(h?R.unshift(this.defaultLoader):R.push(this.defaultLoader))),gt.createElement(n,P,R)}}Vn(Hm,"propTypes",{children:bt.node.isRequired,element:bt.node,hasMore:bt.bool,initialLoad:bt.bool,isReverse:bt.bool,loader:bt.node,loadMore:bt.func.isRequired,pageStart:bt.number,ref:bt.func,getScrollParent:bt.func,threshold:bt.number,useCapture:bt.bool,useWindow:bt.bool}),Vn(Hm,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});class wY extends gt.Component{constructor(i,t){super(i,t),Vn(this,"onJumpToChange",n=>{const r=n.target.value;this.setState({...this.state,jumpToBuffer:r})}),Vn(this,"onJumpTo",n=>{const{jumpToBuffer:r}=this.state,{side:l,document:h,documentViewActions:d}=this.props;if(n.preventDefault(),h.folioByName[r]){const p=h.folioByName[r];p&&d.changeCurrentFolio(p.id,l)}this.setState({...this.state,jumpToBuffer:""})}),Vn(this,"onSelectDoc",n=>{if(!n.target.value||n.target.value==0)return;n.target.value&&n.target.value!=="none"?this.setState({...this.state,currentDoc:n.target.value}):this.setState({...this.state,currentDoc:null});const{documentView:r}=this.props,l=r[this.props.side].iiifShortID,h=this.generateThumbs(l,n.target.value!=="none"?this.props.document.folios.filter(f=>f.doc_id===n.target.value):this.props.document.folios),d=h.length>this.loadIncrement?this.loadIncrement:h.length,p=h.slice(0,d);this.setState({thumbs:h,visibleThumbs:p})}),Vn(this,"onClickThumb",(n,r)=>{this.props.documentViewActions.changeCurrentFolio(n,this.props.side,"f")}),Vn(this,"moreThumbs",()=>{const{thumbs:n}=this.state;let{visibleThumbs:r}=this.state;const l=r.length+this.loadIncrement;n.length>=l?r=n.slice(0,l):r=n,this.setState({visibleThumbs:r})}),this.generateThumbs=this.generateThumbs.bind(this),this.loadIncrement=10,this.state={jumpToBuffer:"",thumbs:"",visibleThumbs:[],currentDoc:i.selectedDoc||null}}componentDidUpdate(i){const{documentView:t}=this.props,n=t[this.props.side].iiifShortID,r=this.props.documentView[this.props.side].iiifShortID;if(n!==r){const l=this.generateThumbs(r,this.state.currentDoc?this.props.document.folios.filter(p=>p.doc_id===this.state.currentDoc):this.props.document.folios),h=l.length>this.loadIncrement?this.loadIncrement:l.length,d=l.slice(0,h);this.setState({thumbs:l,visibleThumbs:d})}}renderToolbar(){return U.jsxs("div",{className:"imageGridToolbar",children:[U.jsx("span",{className:"fas fa-th",style:{paddingLeft:"15px"}}),this.props.document.variorum?this.renderDocSelect():U.jsx("div",{className:"doc-select",style:{marginTop:"5px"},children:this.props.document.documentName}),U.jsx("div",{className:"jump-to",children:U.jsxs("form",{onSubmit:this.onJumpTo,children:[U.jsx("span",{children:"Jump to: "}),U.jsx("input",{id:"jump-to-input",placeholder:"Page Name (e.g. '3r')",onChange:this.onJumpToChange,value:this.state.jumpToBuffer}),U.jsx("button",{id:"jump-to-button",onClick:this.onJumpTo,children:U.jsx("span",{style:{color:"black"},className:"fa fa-hand-point-right"})})]})})]})}renderDocSelect(){return U.jsx("div",{className:"doc-select",children:U.jsx(km,{id:"doc-filter",className:"dark",style:{color:"white",fontSize:"max(16px, 1rem)"},value:this.state.currentDoc||Object.keys(this.props.document.derivativeNames)[0],onClick:this.onSelectDoc,children:Object.keys(this.props.document.derivativeNames).map(i=>U.jsx(ro,{value:i,children:this.props.document.derivativeNames[i]},i))})})}componentDidMount(){const{documentView:i}=this.props,t=i[this.props.side].iiifShortID,n=this.generateThumbs(t,this.props.document.variorum&&this.state.currentDoc?this.props.document.folios.filter(h=>h.doc_id===this.state.currentDoc):this.props.document.folios),r=n.length>this.loadIncrement?this.loadIncrement:n.length,l=n.slice(0,r);this.setState({thumbs:n,visibleThumbs:l})}generateThumbs(i,t){return t.map((n,r)=>U.jsxs("li",{className:"thumbnail",children:[U.jsx("figure",{children:U.jsx("a",{id:n.id,onClick:this.onClickThumb.bind(this,n.id),children:U.jsx("img",{src:n.image_thumbnail_url,alt:n.name,style:{maxWidth:"130px",maxHeight:"130px"},onError:({currentTarget:l})=>{l.onerror=null,n.image_zoom_url&&l.src!==`${n.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`&&(l.src=`${n.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`)}})})}),U.jsx("figcaption",{className:"thumbnail-caption",children:n.name})]},`thumb-${r}`))}hasMore(){return this.state.visibleThumbs.length!==this.state.thumbs.length}render(){let i="imageGridComponent";i=`${i} ${this.props.side}`;let{visibleThumbs:t}=this.state;return t.constructor.toString().includes("Array")||(t=[]),U.jsxs("div",{className:i,children:[this.renderToolbar(),U.jsx(Hm,{element:"ul",loadMore:this.moreThumbs,hasMore:this.hasMore(),useWindow:!1,children:t})]})}}function xY(e){return{document:e.document}}const SY=qi(xY)(wY);var nP={exports:{}};(function(e,i){(function(t,n){e.exports=n()})(ti,function(){var t=Object.defineProperty,n=(s,c,o)=>c in s?t(s,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[c]=o,r=(s,c,o)=>(n(s,typeof c!="symbol"?c+"":c,o),o),l,h,d,p,f,g,y,S={},C=[],k=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(s,c){for(var o in c)s[o]=c[o];return s}function R(s){var c=s.parentNode;c&&c.removeChild(s)}function D(s,c,o){var a,u,m,v={};for(m in c)m=="key"?a=c[m]:m=="ref"?u=c[m]:v[m]=c[m];if(arguments.length>2&&(v.children=arguments.length>3?l.call(arguments,2):o),typeof s=="function"&&s.defaultProps!=null)for(m in s.defaultProps)v[m]===void 0&&(v[m]=s.defaultProps[m]);return q(s,v,a,u,null)}function q(s,c,o,a,u){var m={type:s,props:c,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u??++d};return u==null&&h.vnode!=null&&h.vnode(m),m}function G(){return{current:null}}function ne(s){return s.children}function Z(s,c){this.props=s,this.context=c}function Y(s,c){if(c==null)return s.__?Y(s.__,s.__.__k.indexOf(s)+1):null;for(var o;c<s.__k.length;c++)if((o=s.__k[c])!=null&&o.__e!=null)return o.__e;return typeof s.type=="function"?Y(s):null}function se(s){var c,o;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,c=0;c<s.__k.length;c++)if((o=s.__k[c])!=null&&o.__e!=null){s.__e=s.__c.base=o.__e;break}return se(s)}}function le(s){(!s.__d&&(s.__d=!0)&&p.push(s)&&!ge.__r++||g!==h.debounceRendering)&&((g=h.debounceRendering)||f)(ge)}function ge(){for(var s;ge.__r=p.length;)s=p.sort(function(c,o){return c.__v.__b-o.__v.__b}),p=[],s.some(function(c){var o,a,u,m,v,b;c.__d&&(v=(m=(o=c).__v).__e,(b=o.__P)&&(a=[],(u=P({},m)).__v=m.__v+1,Oe(b,m,u,o.__n,b.ownerSVGElement!==void 0,m.__h!=null?[v]:null,a,v??Y(m),m.__h),$(a,m),m.__e!=v&&se(m)))})}function ue(s,c,o,a,u,m,v,b,w,x){var E,O,A,j,X,ae,ie,he=a&&a.__k||C,M=he.length;for(o.__k=[],E=0;E<c.length;E++)if((j=o.__k[E]=(j=c[E])==null||typeof j=="boolean"?null:typeof j=="string"||typeof j=="number"||typeof j=="bigint"?q(null,j,null,null,j):Array.isArray(j)?q(ne,{children:j},null,null,null):j.__b>0?q(j.type,j.props,j.key,null,j.__v):j)!=null){if(j.__=o,j.__b=o.__b+1,(A=he[E])===null||A&&j.key==A.key&&j.type===A.type)he[E]=void 0;else for(O=0;O<M;O++){if((A=he[O])&&j.key==A.key&&j.type===A.type){he[O]=void 0;break}A=null}Oe(s,j,A=A||S,u,m,v,b,w,x),X=j.__e,(O=j.ref)&&A.ref!=O&&(ie||(ie=[]),A.ref&&ie.push(A.ref,null,j),ie.push(O,j.__c||X,j)),X!=null?(ae==null&&(ae=X),typeof j.type=="function"&&j.__k===A.__k?j.__d=w=pe(j,w,s):w=ve(s,j,A,he,X,w),typeof o.type=="function"&&(o.__d=w)):w&&A.__e==w&&w.parentNode!=s&&(w=Y(A))}for(o.__e=ae,E=M;E--;)he[E]!=null&&(typeof o.type=="function"&&he[E].__e!=null&&he[E].__e==o.__d&&(o.__d=Y(a,E+1)),ee(he[E],he[E]));if(ie)for(E=0;E<ie.length;E++)ot(ie[E],ie[++E],ie[++E])}function pe(s,c,o){for(var a,u=s.__k,m=0;u&&m<u.length;m++)(a=u[m])&&(a.__=s,c=typeof a.type=="function"?pe(a,c,o):ve(o,a,a,u,a.__e,c));return c}function we(s,c){return c=c||[],s==null||typeof s=="boolean"||(Array.isArray(s)?s.some(function(o){we(o,c)}):c.push(s)),c}function ve(s,c,o,a,u,m){var v,b,w;if(c.__d!==void 0)v=c.__d,c.__d=void 0;else if(o==null||u!=m||u.parentNode==null)e:if(m==null||m.parentNode!==s)s.appendChild(u),v=null;else{for(b=m,w=0;(b=b.nextSibling)&&w<a.length;w+=2)if(b==u)break e;s.insertBefore(u,m),v=m}return v!==void 0?v:u.nextSibling}function Ae(s,c,o,a,u){var m;for(m in o)m==="children"||m==="key"||m in c||xe(s,m,null,o[m],a);for(m in c)u&&typeof c[m]!="function"||m==="children"||m==="key"||m==="value"||m==="checked"||o[m]===c[m]||xe(s,m,c[m],o[m],a)}function je(s,c,o){c[0]==="-"?s.setProperty(c,o):s[c]=o==null?"":typeof o!="number"||k.test(c)?o:o+"px"}function xe(s,c,o,a,u){var m;e:if(c==="style")if(typeof o=="string")s.style.cssText=o;else{if(typeof a=="string"&&(s.style.cssText=a=""),a)for(c in a)o&&c in o||je(s.style,c,"");if(o)for(c in o)a&&o[c]===a[c]||je(s.style,c,o[c])}else if(c[0]==="o"&&c[1]==="n")m=c!==(c=c.replace(/Capture$/,"")),c=c.toLowerCase()in s?c.toLowerCase().slice(2):c.slice(2),s.l||(s.l={}),s.l[c+m]=o,o?a||s.addEventListener(c,m?De:me,m):s.removeEventListener(c,m?De:me,m);else if(c!=="dangerouslySetInnerHTML"){if(u)c=c.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(c!=="href"&&c!=="list"&&c!=="form"&&c!=="tabIndex"&&c!=="download"&&c in s)try{s[c]=o??"";break e}catch{}typeof o=="function"||(o!=null&&(o!==!1||c[0]==="a"&&c[1]==="r")?s.setAttribute(c,o):s.removeAttribute(c))}}function me(s){this.l[s.type+!1](h.event?h.event(s):s)}function De(s){this.l[s.type+!0](h.event?h.event(s):s)}function Oe(s,c,o,a,u,m,v,b,w){var x,E,O,A,j,X,ae,ie,he,M,oe,be=c.type;if(c.constructor!==void 0)return null;o.__h!=null&&(w=o.__h,b=c.__e=o.__e,c.__h=null,m=[b]),(x=h.__b)&&x(c);try{e:if(typeof be=="function"){if(ie=c.props,he=(x=be.contextType)&&a[x.__c],M=x?he?he.props.value:x.__:a,o.__c?ae=(E=c.__c=o.__c).__=E.__E:("prototype"in be&&be.prototype.render?c.__c=E=new be(ie,M):(c.__c=E=new Z(ie,M),E.constructor=be,E.render=kt),he&&he.sub(E),E.props=ie,E.state||(E.state={}),E.context=M,E.__n=a,O=E.__d=!0,E.__h=[]),E.__s==null&&(E.__s=E.state),be.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=P({},E.__s)),P(E.__s,be.getDerivedStateFromProps(ie,E.__s))),A=E.props,j=E.state,O)be.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(be.getDerivedStateFromProps==null&&ie!==A&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(ie,M),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(ie,E.__s,M)===!1||c.__v===o.__v){E.props=ie,E.state=E.__s,c.__v!==o.__v&&(E.__d=!1),E.__v=c,c.__e=o.__e,c.__k=o.__k,c.__k.forEach(function(ye){ye&&(ye.__=c)}),E.__h.length&&v.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(ie,E.__s,M),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(A,j,X)})}E.context=M,E.props=ie,E.state=E.__s,(x=h.__r)&&x(c),E.__d=!1,E.__v=c,E.__P=s,x=E.render(E.props,E.state,E.context),E.state=E.__s,E.getChildContext!=null&&(a=P(P({},a),E.getChildContext())),O||E.getSnapshotBeforeUpdate==null||(X=E.getSnapshotBeforeUpdate(A,j)),oe=x!=null&&x.type===ne&&x.key==null?x.props.children:x,ue(s,Array.isArray(oe)?oe:[oe],c,o,a,u,m,v,b,w),E.base=c.__e,c.__h=null,E.__h.length&&v.push(E),ae&&(E.__E=E.__=null),E.__e=!1}else m==null&&c.__v===o.__v?(c.__k=o.__k,c.__e=o.__e):c.__e=He(o.__e,c,o,a,u,m,v,w);(x=h.diffed)&&x(c)}catch(ye){c.__v=null,(w||m!=null)&&(c.__e=b,c.__h=!!w,m[m.indexOf(b)]=null),h.__e(ye,c,o)}}function $(s,c){h.__c&&h.__c(c,s),s.some(function(o){try{s=o.__h,o.__h=[],s.some(function(a){a.call(o)})}catch(a){h.__e(a,o.__v)}})}function He(s,c,o,a,u,m,v,b){var w,x,E,O=o.props,A=c.props,j=c.type,X=0;if(j==="svg"&&(u=!0),m!=null){for(;X<m.length;X++)if((w=m[X])&&"setAttribute"in w==!!j&&(j?w.localName===j:w.nodeType===3)){s=w,m[X]=null;break}}if(s==null){if(j===null)return document.createTextNode(A);s=u?document.createElementNS("http://www.w3.org/2000/svg",j):document.createElement(j,A.is&&A),m=null,b=!1}if(j===null)O===A||b&&s.data===A||(s.data=A);else{if(m=m&&l.call(s.childNodes),x=(O=o.props||S).dangerouslySetInnerHTML,E=A.dangerouslySetInnerHTML,!b){if(m!=null)for(O={},X=0;X<s.attributes.length;X++)O[s.attributes[X].name]=s.attributes[X].value;(E||x)&&(E&&(x&&E.__html==x.__html||E.__html===s.innerHTML)||(s.innerHTML=E&&E.__html||""))}if(Ae(s,A,O,u,b),E)c.__k=[];else if(X=c.props.children,ue(s,Array.isArray(X)?X:[X],c,o,a,u&&j!=="foreignObject",m,v,m?m[0]:o.__k&&Y(o,0),b),m!=null)for(X=m.length;X--;)m[X]!=null&&R(m[X]);b||("value"in A&&(X=A.value)!==void 0&&(X!==O.value||X!==s.value||j==="progress"&&!X)&&xe(s,"value",X,O.value,!1),"checked"in A&&(X=A.checked)!==void 0&&X!==s.checked&&xe(s,"checked",X,O.checked,!1))}return s}function ot(s,c,o){try{typeof s=="function"?s(c):s.current=c}catch(a){h.__e(a,o)}}function ee(s,c,o){var a,u;if(h.unmount&&h.unmount(s),(a=s.ref)&&(a.current&&a.current!==s.__e||ot(a,null,c)),(a=s.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(m){h.__e(m,c)}a.base=a.__P=null}if(a=s.__k)for(u=0;u<a.length;u++)a[u]&&ee(a[u],c,typeof s.type!="function");o||s.__e==null||R(s.__e),s.__e=s.__d=void 0}function kt(s,c,o){return this.constructor(s,o)}function tt(s,c,o){var a,u,m;h.__&&h.__(s,c),u=(a=typeof o=="function")?null:o&&o.__k||c.__k,m=[],Oe(c,s=(!a&&o||c).__k=D(ne,null,[s]),u||S,S,c.ownerSVGElement!==void 0,!a&&o?[o]:u?null:c.firstChild?l.call(c.childNodes):null,m,!a&&o?o:u?u.__e:c.firstChild,a),$(m,s)}function lt(s,c){tt(s,c,lt)}function vt(s,c,o){var a,u,m,v=P({},s.props);for(m in c)m=="key"?a=c[m]:m=="ref"?u=c[m]:v[m]=c[m];return arguments.length>2&&(v.children=arguments.length>3?l.call(arguments,2):o),q(s.type,v,a||s.key,u||s.ref,null)}function _t(s,c){var o={__c:c="__cC"+y++,__:s,Consumer:function(a,u){return a.children(u)},Provider:function(a){var u,m;return this.getChildContext||(u=[],(m={})[c]=this,this.getChildContext=function(){return m},this.shouldComponentUpdate=function(v){this.props.value!==v.value&&u.some(le)},this.sub=function(v){u.push(v);var b=v.componentWillUnmount;v.componentWillUnmount=function(){u.splice(u.indexOf(v),1),b&&b.call(v)}}),a.children}};return o.Provider.__=o.Consumer.contextType=o}l=C.slice,h={__e:function(s,c){for(var o,a,u;c=c.__;)if((o=c.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(s)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(s),u=o.__d),u)return o.__E=o}catch(m){s=m}throw s}},d=0,Z.prototype.setState=function(s,c){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof s=="function"&&(s=s(P({},o),this.props)),s&&P(o,s),s!=null&&this.__v&&(c&&this.__h.push(c),le(this))},Z.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),le(this))},Z.prototype.render=ne,p=[],f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ge.__r=0,y=0;var St,nt,Bt,Gt=0,Vt=[],dn=h.__b,Ft=h.__r,wt=h.diffed,I=h.__c,Q=h.unmount;function Se(s,c){h.__h&&h.__h(nt,s,Gt||c),Gt=0;var o=nt.__H||(nt.__H={__:[],__h:[]});return s>=o.__.length&&o.__.push({}),o.__[s]}function Ve(s){return Gt=1,ze(it,s)}function ze(s,c,o){var a=Se(St++,2);return a.t=s,a.__c||(a.__=[o?o(c):it(void 0,c),function(u){var m=a.t(a.__[0],u);a.__[0]!==m&&(a.__=[m,a.__[1]],a.__c.setState({}))}],a.__c=nt),a.__}function Je(s,c){var o=Se(St++,3);!h.__s&&mt(o.__H,c)&&(o.__=s,o.__H=c,nt.__H.__h.push(o))}function Xe(s,c){var o=Se(St++,4);!h.__s&&mt(o.__H,c)&&(o.__=s,o.__H=c,nt.__h.push(o))}function Et(s){return Gt=5,At(function(){return{current:s}},[])}function Lt(s,c,o){Gt=6,Xe(function(){typeof s=="function"?s(c()):s&&(s.current=c())},o==null?o:o.concat(s))}function At(s,c){var o=Se(St++,7);return mt(o.__H,c)&&(o.__=s(),o.__H=c,o.__h=s),o.__}function fe(s,c){return Gt=8,At(function(){return s},c)}function Fe(s){var c=nt.context[s.__c],o=Se(St++,9);return o.c=s,c?(o.__==null&&(o.__=!0,c.sub(nt)),c.props.value):s.__}function L(s,c){h.useDebugValue&&h.useDebugValue(c?c(s):s)}function N(s){var c=Se(St++,10),o=Ve();return c.__=s,nt.componentDidCatch||(nt.componentDidCatch=function(a){c.__&&c.__(a),o[1](a)}),[o[0],function(){o[1](void 0)}]}function W(){var s;for(Vt.sort(function(c,o){return c.__v.__b-o.__v.__b});s=Vt.pop();)if(s.__P)try{s.__H.__h.forEach(Te),s.__H.__h.forEach(_e),s.__H.__h=[]}catch(c){s.__H.__h=[],h.__e(c,s.__v)}}h.__b=function(s){nt=null,dn&&dn(s)},h.__r=function(s){Ft&&Ft(s),St=0;var c=(nt=s.__c).__H;c&&(c.__h.forEach(Te),c.__h.forEach(_e),c.__h=[])},h.diffed=function(s){wt&&wt(s);var c=s.__c;c&&c.__H&&c.__H.__h.length&&(Vt.push(c)!==1&&Bt===h.requestAnimationFrame||((Bt=h.requestAnimationFrame)||function(o){var a,u=function(){clearTimeout(m),J&&cancelAnimationFrame(a),setTimeout(o)},m=setTimeout(u,100);J&&(a=requestAnimationFrame(u))})(W)),nt=null},h.__c=function(s,c){c.some(function(o){try{o.__h.forEach(Te),o.__h=o.__h.filter(function(a){return!a.__||_e(a)})}catch(a){c.some(function(u){u.__h&&(u.__h=[])}),c=[],h.__e(a,o.__v)}}),I&&I(s,c)},h.unmount=function(s){Q&&Q(s);var c,o=s.__c;o&&o.__H&&(o.__H.__.forEach(function(a){try{Te(a)}catch(u){c=u}}),c&&h.__e(c,o.__v))};var J=typeof requestAnimationFrame=="function";function Te(s){var c=nt,o=s.__c;typeof o=="function"&&(s.__c=void 0,o()),nt=c}function _e(s){var c=nt;s.__c=s.__(),nt=c}function mt(s,c){return!s||s.length!==c.length||c.some(function(o,a){return o!==s[a]})}function it(s,c){return typeof c=="function"?c(s):c}function st(s,c){for(var o in c)s[o]=c[o];return s}function bn(s,c){for(var o in s)if(o!=="__source"&&!(o in c))return!0;for(var a in c)if(a!=="__source"&&s[a]!==c[a])return!0;return!1}function tn(s){this.props=s}function Wn(s,c){function o(u){var m=this.props.ref,v=m==u.ref;return!v&&m&&(m.call?m(null):m.current=null),c?!c(this.props,u)||!v:bn(this.props,u)}function a(u){return this.shouldComponentUpdate=o,D(s,u)}return a.displayName="Memo("+(s.displayName||s.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(tn.prototype=new Z).isPureReactComponent=!0,tn.prototype.shouldComponentUpdate=function(s,c){return bn(this.props,s)||bn(this.state,c)};var Vr=h.__b;h.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),Vr&&Vr(s)};var wo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pr(s){function c(o,a){var u=st({},o);return delete u.ref,s(u,(a=o.ref||a)&&(typeof a!="object"||"current"in a)?a:null)}return c.$$typeof=wo,c.render=c,c.prototype.isReactComponent=c.__f=!0,c.displayName="ForwardRef("+(s.displayName||s.name)+")",c}var at=function(s,c){return s==null?null:we(we(s).map(c))},tc={map:at,forEach:at,count:function(s){return s?we(s).length:0},only:function(s){var c=we(s);if(c.length!==1)throw"Children.only";return c[0]},toArray:we},Hd=h.__e;h.__e=function(s,c,o){if(s.then){for(var a,u=c;u=u.__;)if((a=u.__c)&&a.__c)return c.__e==null&&(c.__e=o.__e,c.__k=o.__k),a.__c(s,c)}Hd(s,c,o)};var yi=h.unmount;function Rr(){this.__u=0,this.t=null,this.__b=null}function ds(s){var c=s.__.__c;return c&&c.__e&&c.__e(s)}function hs(s){var c,o,a;function u(m){if(c||(c=s()).then(function(v){o=v.default||v},function(v){a=v}),a)throw a;if(!o)throw c;return D(o,m)}return u.displayName="Lazy",u.__f=!0,u}function Pi(){this.u=null,this.o=null}h.unmount=function(s){var c=s.__c;c&&c.__R&&c.__R(),c&&s.__h===!0&&(s.type=null),yi&&yi(s)},(Rr.prototype=new Z).__c=function(s,c){var o=c.__c,a=this;a.t==null&&(a.t=[]),a.t.push(o);var u=ds(a.__v),m=!1,v=function(){m||(m=!0,o.__R=null,u?u(b):b())};o.__R=v;var b=function(){if(!--a.__u){if(a.state.__e){var x=a.state.__e;a.__v.__k[0]=function O(A,j,X){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function(ae){return O(ae,j,X)}),A.__c&&A.__c.__P===j&&(A.__e&&X.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=X)),A}(x,x.__c.__P,x.__c.__O)}var E;for(a.setState({__e:a.__b=null});E=a.t.pop();)E.forceUpdate()}},w=c.__h===!0;a.__u++||w||a.setState({__e:a.__b=a.__v.__k[0]}),s.then(v,v)},Rr.prototype.componentWillUnmount=function(){this.t=[]},Rr.prototype.render=function(s,c){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=function m(v,b,w){return v&&(v.__c&&v.__c.__H&&(v.__c.__H.__.forEach(function(x){typeof x.__c=="function"&&x.__c()}),v.__c.__H=null),(v=st({},v)).__c!=null&&(v.__c.__P===w&&(v.__c.__P=b),v.__c=null),v.__k=v.__k&&v.__k.map(function(x){return m(x,b,w)})),v}(this.__b,o,a.__O=a.__P)}this.__b=null}var u=c.__e&&D(ne,null,s.fallback);return u&&(u.__h=null),[D(ne,null,c.__e?null:s.children),u]};var Ea=function(s,c,o){if(++o[1]===o[0]&&s.o.delete(c),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.o.size))for(o=s.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;s.u=o=o[2]}};function di(s){return this.getChildContext=function(){return s.context},s.children}function nc(s){var c=this,o=s.i;c.componentWillUnmount=function(){tt(null,c.l),c.l=null,c.i=null},c.i&&c.i!==o&&c.componentWillUnmount(),s.__v?(c.l||(c.i=o,c.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(a){this.childNodes.push(a),c.i.appendChild(a)},insertBefore:function(a,u){this.childNodes.push(a),c.i.appendChild(a)},removeChild:function(a){this.childNodes.splice(this.childNodes.indexOf(a)>>>1,1),c.i.removeChild(a)}}),tt(D(di,{context:c.context},s.__v),c.l)):c.l&&c.componentWillUnmount()}function dr(s,c){return D(nc,{__v:s,i:c})}(Pi.prototype=new Z).__e=function(s){var c=this,o=ds(c.__v),a=c.o.get(s);return a[0]++,function(u){var m=function(){c.props.revealOrder?(a.push(u),Ea(c,s,a)):u()};o?o(m):m()}},Pi.prototype.render=function(s){this.u=null,this.o=new Map;var c=we(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&c.reverse();for(var o=c.length;o--;)this.o.set(c[o],this.u=[1,0,this.u]);return s.children},Pi.prototype.componentDidUpdate=Pi.prototype.componentDidMount=function(){var s=this;this.o.forEach(function(c,o){Ea(s,o,c)})};var Ta=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ic=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ps=typeof document<"u",ii=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(s)};function Ca(s,c,o){return c.__k==null&&(c.textContent=""),tt(s,c),typeof o=="function"&&o(),s?s.__c:null}function rc(s,c,o){return lt(s,c),typeof o=="function"&&o(),s?s.__c:null}Z.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(Z.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(c){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:c})}})});var fs=h.event;function jd(){}function ka(){return this.cancelBubble}function oc(){return this.defaultPrevented}h.event=function(s){return fs&&(s=fs(s)),s.persist=jd,s.isPropagationStopped=ka,s.isDefaultPrevented=oc,s.nativeEvent=s};var xo,sc={configurable:!0,get:function(){return this.class}},Mi=h.vnode;h.vnode=function(s){var c=s.type,o=s.props,a=o;if(typeof c=="string"){var u=c.indexOf("-")===-1;for(var m in a={},o){var v=o[m];ps&&m==="children"&&c==="noscript"||m==="value"&&"defaultValue"in o&&v==null||(m==="defaultValue"&&"value"in o&&o.value==null?m="value":m==="download"&&v===!0?v="":/ondoubleclick/i.test(m)?m="ondblclick":/^onchange(textarea|input)/i.test(m+c)&&!ii(o.type)?m="oninput":/^onfocus$/i.test(m)?m="onfocusin":/^onblur$/i.test(m)?m="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(m)?m=m.toLowerCase():u&&ic.test(m)?m=m.replace(/[A-Z0-9]/,"-$&").toLowerCase():v===null&&(v=void 0),a[m]=v)}c=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=we(o.children).forEach(function(b){b.props.selected=a.value.indexOf(b.props.value)!=-1})),c=="select"&&a.defaultValue!=null&&(a.value=we(o.children).forEach(function(b){b.props.selected=a.multiple?a.defaultValue.indexOf(b.props.value)!=-1:a.defaultValue==b.props.value})),s.props=a,o.class!=o.className&&(sc.enumerable="className"in o,o.className!=null&&(a.class=o.className),Object.defineProperty(a,"className",sc))}s.$$typeof=Ta,Mi&&Mi(s)};var So=h.__r;h.__r=function(s){So&&So(s),xo=s.__c};var ms={ReactCurrentDispatcher:{current:{readContext:function(s){return xo.__n[s.__c].props.value}}}},ac="17.0.2";function Pa(s){return D.bind(null,s)}function _r(s){return!!s&&s.$$typeof===Ta}function Ra(s){return _r(s)?vt.apply(null,arguments):s}function Eo(s){return!!s.__k&&(tt(null,s),!0)}function _a(s){return s&&(s.base||s.nodeType===1&&s)||null}var Or=function(s,c){return s(c)},gs=function(s,c){return s(c)},lc=ne,Ne={useState:Ve,useReducer:ze,useEffect:Je,useLayoutEffect:Xe,useRef:Et,useImperativeHandle:Lt,useMemo:At,useCallback:fe,useContext:Fe,useDebugValue:L,version:"17.0.2",Children:tc,render:Ca,hydrate:rc,unmountComponentAtNode:Eo,createPortal:dr,createElement:D,createContext:_t,createFactory:Pa,cloneElement:Ra,createRef:G,Fragment:ne,isValidElement:_r,findDOMNode:_a,Component:Z,PureComponent:tn,memo:Wn,forwardRef:Pr,flushSync:gs,unstable_batchedUpdates:Or,StrictMode:ne,Suspense:Rr,SuspenseList:Pi,lazy:hs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ms},vs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ne,version:ac,Children:tc,render:Ca,hydrate:rc,unmountComponentAtNode:Eo,createPortal:dr,createFactory:Pa,cloneElement:Ra,isValidElement:_r,findDOMNode:_a,PureComponent:tn,memo:Wn,forwardRef:Pr,flushSync:gs,unstable_batchedUpdates:Or,StrictMode:lc,Suspense:Rr,SuspenseList:Pi,lazy:hs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ms,createElement:D,createContext:_t,createRef:G,Fragment:ne,Component:Z,useState:Ve,useReducer:ze,useEffect:Je,useLayoutEffect:Xe,useRef:Et,useImperativeHandle:Lt,useMemo:At,useCallback:fe,useContext:Fe,useDebugValue:L,useErrorBoundary:N}),hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ti<"u"?ti:typeof self<"u"?self:{};function pr(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Cn(s){if(s.__esModule)return s;var c=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(o){var a=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(c,o,a.get?a:{enumerable:!0,get:function(){return s[o]}})}),c}var nr={exports:{}};function Ur(){}Ur.prototype={on:function(s,c,o){var a=this.e||(this.e={});return(a[s]||(a[s]=[])).push({fn:c,ctx:o}),this},once:function(s,c,o){var a=this;function u(){a.off(s,u),c.apply(o,arguments)}return u._=c,this.on(s,u,o)},emit:function(s){var c=[].slice.call(arguments,1),o=((this.e||(this.e={}))[s]||[]).slice(),a=0,u=o.length;for(a;a<u;a++)o[a].fn.apply(o[a].ctx,c);return this},off:function(s,c){var o=this.e||(this.e={}),a=o[s],u=[];if(a&&c)for(var m=0,v=a.length;m<v;m++)a[m].fn!==c&&a[m].fn._!==c&&u.push(a[m]);return u.length?o[s]=u:delete o[s],this}},nr.exports=Ur,nr.exports.TinyEmitter=Ur;var Dr=nr.exports,Ar={exports:{}},ys={},Wr=Cn(vs),To={exports:{}},Co="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cc=Co,Bd=cc;function bs(){}function Oa(){}Oa.resetWarningCache=bs;var Da=function(){function s(a,u,m,v,b,w){if(w!==Bd){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function c(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:c,element:s,elementType:s,instanceOf:c,node:s,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:Oa,resetWarningCache:bs};return o.PropTypes=o,o};To.exports=Da();function ws(s){var c,o,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s))for(c=0;c<s.length;c++)s[c]&&(o=ws(s[c]))&&(a&&(a+=" "),a+=o);else for(c in s)s[c]&&(a&&(a+=" "),a+=c);return a}function uc(){for(var s,c,o=0,a="";o<arguments.length;)(s=arguments[o++])&&(c=ws(s))&&(a&&(a+=" "),a+=c);return a}var xs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",clsx:uc,default:uc}),Ss=Cn(xs),wn={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.dontSetMe=Pt,Ri.findInArray=ir,Ri.int=Vd,Ri.isFunction=fr,Ri.isNum=ko;function ir(s,c){for(var o=0,a=s.length;o<a;o++)if(c.apply(c,[s[o],o,s]))return s[o]}function fr(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function ko(s){return typeof s=="number"&&!isNaN(s)}function Vd(s){return parseInt(s,10)}function Pt(s,c,o){if(s[c])return new Error("Invalid prop ".concat(c," passed to ").concat(o," - do not set this, set it on the child."))}var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.browserPrefixToKey=Ia,rr.browserPrefixToStyle=Po,rr.default=void 0,rr.getPrefix=Aa;var Gr=["Moz","Webkit","O","ms"];function Aa(){var s,c,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var a=(s=window.document)===null||s===void 0||(c=s.documentElement)===null||c===void 0?void 0:c.style;if(!a||o in a)return"";for(var u=0;u<Gr.length;u++)if(Ia(o,Gr[u])in a)return Gr[u];return""}function Ia(s,c){return c?"".concat(c).concat(mr(s)):s}function Po(s,c){return c?"-".concat(c.toLowerCase(),"-").concat(s):s}function mr(s){for(var c="",o=!0,a=0;a<s.length;a++)o?(c+=s[a].toUpperCase(),o=!1):s[a]==="-"?o=!0:c+=s[a];return c}var Ro=Aa();rr.default=Ro;function _o(s){return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_o(s)}Object.defineProperty(wn,"__esModule",{value:!0}),wn.addClassName=pc,wn.addEvent=zn,wn.addUserSelectStyles=Zd,wn.createCSSTransform=qd,wn.createSVGTransform=Xd,wn.getTouch=Kd,wn.getTouchIdentifier=Yd,wn.getTranslation=Ma,wn.innerHeight=dc,wn.innerWidth=Gd,wn.matchesSelector=Qt,wn.matchesSelectorAndParentsTo=en,wn.offsetXYFromParent=hc,wn.outerHeight=Ud,wn.outerWidth=Wd,wn.removeClassName=za,wn.removeEvent=bi,wn.removeUserSelectStyles=$d;var T=Ri,_=K(rr);function H(s){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return(H=function(a){return a?o:c})(s)}function K(s,c){if(s&&s.__esModule)return s;if(s===null||_o(s)!=="object"&&typeof s!="function")return{default:s};var o=H(c);if(o&&o.has(s))return o.get(s);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var v=u?Object.getOwnPropertyDescriptor(s,m):null;v&&(v.get||v.set)?Object.defineProperty(a,m,v):a[m]=s[m]}return a.default=s,o&&o.set(s,a),a}function de(s,c){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);c&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),o.push.apply(o,a)}return o}function Ce(s){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{};c%2?de(Object(o),!0).forEach(function(a){Le(s,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):de(Object(o)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}return s}function Le(s,c,o){return c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}var Tt="";function Qt(s,c){return Tt||(Tt=(0,T.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,T.isFunction)(s[o])})),(0,T.isFunction)(s[Tt])?s[Tt](c):!1}function en(s,c,o){var a=s;do{if(Qt(a,c))return!0;if(a===o)return!1;a=a.parentNode}while(a);return!1}function zn(s,c,o,a){if(s){var u=Ce({capture:!0},a);s.addEventListener?s.addEventListener(c,o,u):s.attachEvent?s.attachEvent("on"+c,o):s["on"+c]=o}}function bi(s,c,o,a){if(s){var u=Ce({capture:!0},a);s.removeEventListener?s.removeEventListener(c,o,u):s.detachEvent?s.detachEvent("on"+c,o):s["on"+c]=null}}function Ud(s){var c=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return c+=(0,T.int)(o.borderTopWidth),c+=(0,T.int)(o.borderBottomWidth),c}function Wd(s){var c=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return c+=(0,T.int)(o.borderLeftWidth),c+=(0,T.int)(o.borderRightWidth),c}function dc(s){var c=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return c-=(0,T.int)(o.paddingTop),c-=(0,T.int)(o.paddingBottom),c}function Gd(s){var c=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return c-=(0,T.int)(o.paddingLeft),c-=(0,T.int)(o.paddingRight),c}function hc(s,c,o){var a=c===c.ownerDocument.body,u=a?{left:0,top:0}:c.getBoundingClientRect(),m=(s.clientX+c.scrollLeft-u.left)/o,v=(s.clientY+c.scrollTop-u.top)/o;return{x:m,y:v}}function qd(s,c){var o=Ma(s,c,"px");return Le({},(0,_.browserPrefixToKey)("transform",_.default),o)}function Xd(s,c){var o=Ma(s,c,"");return o}function Ma(s,c,o){var a=s.x,u=s.y,m="translate(".concat(a).concat(o,",").concat(u).concat(o,")");if(c){var v="".concat(typeof c.x=="string"?c.x:c.x+o),b="".concat(typeof c.y=="string"?c.y:c.y+o);m="translate(".concat(v,", ").concat(b,")")+m}return m}function Kd(s,c){return s.targetTouches&&(0,T.findInArray)(s.targetTouches,function(o){return c===o.identifier})||s.changedTouches&&(0,T.findInArray)(s.changedTouches,function(o){return c===o.identifier})}function Yd(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function Zd(s){if(s){var c=s.getElementById("react-draggable-style-el");c||(c=s.createElement("style"),c.type="text/css",c.id="react-draggable-style-el",c.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,c.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(c)),s.body&&pc(s.body,"react-draggable-transparent-selection")}}function $d(s){if(s)try{if(s.body&&za(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{var c=(s.defaultView||window).getSelection();c&&c.type!=="Caret"&&c.removeAllRanges()}}catch{}}function pc(s,c){s.classList?s.classList.add(c):s.className.match(new RegExp("(?:^|\\s)".concat(c,"(?!\\S)")))||(s.className+=" ".concat(c))}function za(s,c){s.classList?s.classList.remove(c):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(c,"(?!\\S)"),"g"),"")}var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.canDragX=eh,Xi.canDragY=th,Xi.createCoreData=nh,Xi.createDraggableData=ih,Xi.getBoundPosition=Jd,Xi.getControlPosition=fc,Xi.snapToGrid=Qd;var wi=Ri,qr=wn;function Jd(s,c,o){if(!s.props.bounds)return[c,o];var a=s.props.bounds;a=typeof a=="string"?a:rh(a);var u=La(s);if(typeof a=="string"){var m=u.ownerDocument,v=m.defaultView,b;if(a==="parent"?b=u.parentNode:b=m.querySelector(a),!(b instanceof v.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var w=b,x=v.getComputedStyle(u),E=v.getComputedStyle(w);a={left:-u.offsetLeft+(0,wi.int)(E.paddingLeft)+(0,wi.int)(x.marginLeft),top:-u.offsetTop+(0,wi.int)(E.paddingTop)+(0,wi.int)(x.marginTop),right:(0,qr.innerWidth)(w)-(0,qr.outerWidth)(u)-u.offsetLeft+(0,wi.int)(E.paddingRight)-(0,wi.int)(x.marginRight),bottom:(0,qr.innerHeight)(w)-(0,qr.outerHeight)(u)-u.offsetTop+(0,wi.int)(E.paddingBottom)-(0,wi.int)(x.marginBottom)}}return(0,wi.isNum)(a.right)&&(c=Math.min(c,a.right)),(0,wi.isNum)(a.bottom)&&(o=Math.min(o,a.bottom)),(0,wi.isNum)(a.left)&&(c=Math.max(c,a.left)),(0,wi.isNum)(a.top)&&(o=Math.max(o,a.top)),[c,o]}function Qd(s,c,o){var a=Math.round(c/s[0])*s[0],u=Math.round(o/s[1])*s[1];return[a,u]}function eh(s){return s.props.axis==="both"||s.props.axis==="x"}function th(s){return s.props.axis==="both"||s.props.axis==="y"}function fc(s,c,o){var a=typeof c=="number"?(0,qr.getTouch)(s,c):null;if(typeof c=="number"&&!a)return null;var u=La(o),m=o.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,qr.offsetXYFromParent)(a||s,m,o.props.scale)}function nh(s,c,o){var a=s.state,u=!(0,wi.isNum)(a.lastX),m=La(s);return u?{node:m,deltaX:0,deltaY:0,lastX:c,lastY:o,x:c,y:o}:{node:m,deltaX:c-a.lastX,deltaY:o-a.lastY,lastX:a.lastX,lastY:a.lastY,x:c,y:o}}function ih(s,c){var o=s.props.scale;return{node:c.node,x:s.state.x+c.deltaX/o,y:s.state.y+c.deltaY/o,deltaX:c.deltaX/o,deltaY:c.deltaY/o,lastX:s.state.x,lastY:s.state.y}}function rh(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}function La(s){var c=s.findDOMNode();if(!c)throw new Error("<DraggableCore>: Unmounted during event!");return c}var Es={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.default=mc;function mc(){}function Cs(s){return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Cs(s)}Object.defineProperty(Es,"__esModule",{value:!0}),Es.default=void 0;var Fa=It(Wr),xi=Ge(To.exports),ks=Ge(Wr),Yn=wn,or=Xi,Ps=Ri,Ee=Ge(Ts);function Ge(s){return s&&s.__esModule?s:{default:s}}function yt(s){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return(yt=function(a){return a?o:c})(s)}function It(s,c){if(s&&s.__esModule)return s;if(s===null||Cs(s)!=="object"&&typeof s!="function")return{default:s};var o=yt(c);if(o&&o.has(s))return o.get(s);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var v=u?Object.getOwnPropertyDescriptor(s,m):null;v&&(v.get||v.set)?Object.defineProperty(a,m,v):a[m]=s[m]}return a.default=s,o&&o.set(s,a),a}function qt(s,c){return Li(s)||Ei(s,c)||zi(s,c)||mn()}function mn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zi(s,c){if(s){if(typeof s=="string")return Si(s,c);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Si(s,c)}}function Si(s,c){(c==null||c>s.length)&&(c=s.length);for(var o=0,a=new Array(c);o<c;o++)a[o]=s[o];return a}function Ei(s,c){var o=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(o!=null){var a=[],u=!0,m=!1,v,b;try{for(o=o.call(s);!(u=(v=o.next()).done)&&(a.push(v.value),!(c&&a.length===c));u=!0);}catch(w){m=!0,b=w}finally{try{!u&&o.return!=null&&o.return()}finally{if(m)throw b}}return a}}function Li(s){if(Array.isArray(s))return s}function Na(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function Ir(s,c){for(var o=0;o<c.length;o++){var a=c[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}function oh(s,c,o){return c&&Ir(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),s}function TP(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&sh(s,c)}function sh(s,c){return sh=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},sh(s,c)}function CP(s){var c=PP();return function(){var o=gc(s),a;if(c){var u=gc(this).constructor;a=Reflect.construct(o,arguments,u)}else a=o.apply(this,arguments);return kP(this,a)}}function kP(s,c){if(c&&(Cs(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(s)}function hi(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function PP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gc(s){return gc=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},gc(s)}function Ki(s,c,o){return c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}var sr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Xr=sr.mouse,vc=function(s){TP(o,s);var c=CP(o);function o(){var a;Na(this,o);for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=c.call.apply(c,[this].concat(m)),Ki(hi(a),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Ki(hi(a),"mounted",!1),Ki(hi(a),"handleDragStart",function(b){if(a.props.onMouseDown(b),!a.props.allowAnyClick&&typeof b.button=="number"&&b.button!==0)return!1;var w=a.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var x=w.ownerDocument;if(!(a.props.disabled||!(b.target instanceof x.defaultView.Node)||a.props.handle&&!(0,Yn.matchesSelectorAndParentsTo)(b.target,a.props.handle,w)||a.props.cancel&&(0,Yn.matchesSelectorAndParentsTo)(b.target,a.props.cancel,w))){b.type==="touchstart"&&b.preventDefault();var E=(0,Yn.getTouchIdentifier)(b);a.setState({touchIdentifier:E});var O=(0,or.getControlPosition)(b,E,hi(a));if(O!=null){var A=O.x,j=O.y,X=(0,or.createCoreData)(hi(a),A,j);(0,Ee.default)("DraggableCore: handleDragStart: %j",X),(0,Ee.default)("calling",a.props.onStart);var ae=a.props.onStart(b,X);ae===!1||a.mounted===!1||(a.props.enableUserSelectHack&&(0,Yn.addUserSelectStyles)(x),a.setState({dragging:!0,lastX:A,lastY:j}),(0,Yn.addEvent)(x,Xr.move,a.handleDrag),(0,Yn.addEvent)(x,Xr.stop,a.handleDragStop))}}}),Ki(hi(a),"handleDrag",function(b){var w=(0,or.getControlPosition)(b,a.state.touchIdentifier,hi(a));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(a.props.grid)){var O=x-a.state.lastX,A=E-a.state.lastY,j=(0,or.snapToGrid)(a.props.grid,O,A),X=qt(j,2);if(O=X[0],A=X[1],!O&&!A)return;x=a.state.lastX+O,E=a.state.lastY+A}var ae=(0,or.createCoreData)(hi(a),x,E);(0,Ee.default)("DraggableCore: handleDrag: %j",ae);var ie=a.props.onDrag(b,ae);if(ie===!1||a.mounted===!1){try{a.handleDragStop(new MouseEvent("mouseup"))}catch{var he=document.createEvent("MouseEvents");he.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.handleDragStop(he)}return}a.setState({lastX:x,lastY:E})}}),Ki(hi(a),"handleDragStop",function(b){if(a.state.dragging){var w=(0,or.getControlPosition)(b,a.state.touchIdentifier,hi(a));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(a.props.grid)){var O=x-a.state.lastX||0,A=E-a.state.lastY||0,j=(0,or.snapToGrid)(a.props.grid,O,A),X=qt(j,2);O=X[0],A=X[1],x=a.state.lastX+O,E=a.state.lastY+A}var ae=(0,or.createCoreData)(hi(a),x,E),ie=a.props.onStop(b,ae);if(ie===!1||a.mounted===!1)return!1;var he=a.findDOMNode();he&&a.props.enableUserSelectHack&&(0,Yn.removeUserSelectStyles)(he.ownerDocument),(0,Ee.default)("DraggableCore: handleDragStop: %j",ae),a.setState({dragging:!1,lastX:NaN,lastY:NaN}),he&&((0,Ee.default)("DraggableCore: Removing handlers"),(0,Yn.removeEvent)(he.ownerDocument,Xr.move,a.handleDrag),(0,Yn.removeEvent)(he.ownerDocument,Xr.stop,a.handleDragStop))}}}),Ki(hi(a),"onMouseDown",function(b){return Xr=sr.mouse,a.handleDragStart(b)}),Ki(hi(a),"onMouseUp",function(b){return Xr=sr.mouse,a.handleDragStop(b)}),Ki(hi(a),"onTouchStart",function(b){return Xr=sr.touch,a.handleDragStart(b)}),Ki(hi(a),"onTouchEnd",function(b){return Xr=sr.touch,a.handleDragStop(b)}),a}return oh(o,[{key:"componentDidMount",value:function(){this.mounted=!0;var a=this.findDOMNode();a&&(0,Yn.addEvent)(a,sr.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.findDOMNode();if(a){var u=a.ownerDocument;(0,Yn.removeEvent)(u,sr.mouse.move,this.handleDrag),(0,Yn.removeEvent)(u,sr.touch.move,this.handleDrag),(0,Yn.removeEvent)(u,sr.mouse.stop,this.handleDragStop),(0,Yn.removeEvent)(u,sr.touch.stop,this.handleDragStop),(0,Yn.removeEvent)(a,sr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Yn.removeUserSelectStyles)(u)}}},{key:"findDOMNode",value:function(){var a,u,m;return(a=this.props)!==null&&a!==void 0&&a.nodeRef?(u=this.props)===null||u===void 0||(m=u.nodeRef)===null||m===void 0?void 0:m.current:ks.default.findDOMNode(this)}},{key:"render",value:function(){return Fa.cloneElement(Fa.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(Fa.Component);Es.default=vc,Ki(vc,"displayName","DraggableCore"),Ki(vc,"propTypes",{allowAnyClick:xi.default.bool,disabled:xi.default.bool,enableUserSelectHack:xi.default.bool,offsetParent:function(s,c){if(s[c]&&s[c].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:xi.default.arrayOf(xi.default.number),handle:xi.default.string,cancel:xi.default.string,nodeRef:xi.default.object,onStart:xi.default.func,onDrag:xi.default.func,onStop:xi.default.func,onMouseDown:xi.default.func,scale:xi.default.number,className:Ps.dontSetMe,style:Ps.dontSetMe,transform:Ps.dontSetMe}),Ki(vc,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(s){function c(Ue){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qe){return typeof Qe}:function(Qe){return Qe&&typeof Symbol=="function"&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe},c(Ue)}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),s.default=void 0;var o=X(Wr),a=A(To.exports),u=A(Wr),m=A(Ss),v=wn,b=Xi,w=Ri,x=A(Es),E=A(Ts),O=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function A(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}function j(Ue){if(typeof WeakMap!="function")return null;var Qe=new WeakMap,rt=new WeakMap;return(j=function(et){return et?rt:Qe})(Ue)}function X(Ue,Qe){if(Ue&&Ue.__esModule)return Ue;if(Ue===null||c(Ue)!=="object"&&typeof Ue!="function")return{default:Ue};var rt=j(Qe);if(rt&&rt.has(Ue))return rt.get(Ue);var et={},ct=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mt in Ue)if(Mt!=="default"&&Object.prototype.hasOwnProperty.call(Ue,Mt)){var xn=ct?Object.getOwnPropertyDescriptor(Ue,Mt):null;xn&&(xn.get||xn.set)?Object.defineProperty(et,Mt,xn):et[Mt]=Ue[Mt]}return et.default=Ue,rt&&rt.set(Ue,et),et}function ae(){return ae=Object.assign||function(Ue){for(var Qe=1;Qe<arguments.length;Qe++){var rt=arguments[Qe];for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(Ue[et]=rt[et])}return Ue},ae.apply(this,arguments)}function ie(Ue,Qe){if(Ue==null)return{};var rt=he(Ue,Qe),et,ct;if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(Ue);for(ct=0;ct<Mt.length;ct++)et=Mt[ct],!(Qe.indexOf(et)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Ue,et)||(rt[et]=Ue[et]))}return rt}function he(Ue,Qe){if(Ue==null)return{};var rt={},et=Object.keys(Ue),ct,Mt;for(Mt=0;Mt<et.length;Mt++)ct=et[Mt],!(Qe.indexOf(ct)>=0)&&(rt[ct]=Ue[ct]);return rt}function M(Ue,Qe){var rt=Object.keys(Ue);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(Ue);Qe&&(et=et.filter(function(ct){return Object.getOwnPropertyDescriptor(Ue,ct).enumerable})),rt.push.apply(rt,et)}return rt}function oe(Ue){for(var Qe=1;Qe<arguments.length;Qe++){var rt=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?M(Object(rt),!0).forEach(function(et){ht(Ue,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(rt)):M(Object(rt)).forEach(function(et){Object.defineProperty(Ue,et,Object.getOwnPropertyDescriptor(rt,et))})}return Ue}function be(Ue,Qe){return Ye(Ue)||qe(Ue,Qe)||ke(Ue,Qe)||ye()}function ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ke(Ue,Qe){if(Ue){if(typeof Ue=="string")return Re(Ue,Qe);var rt=Object.prototype.toString.call(Ue).slice(8,-1);if(rt==="Object"&&Ue.constructor&&(rt=Ue.constructor.name),rt==="Map"||rt==="Set")return Array.from(Ue);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return Re(Ue,Qe)}}function Re(Ue,Qe){(Qe==null||Qe>Ue.length)&&(Qe=Ue.length);for(var rt=0,et=new Array(Qe);rt<Qe;rt++)et[rt]=Ue[rt];return et}function qe(Ue,Qe){var rt=Ue==null?null:typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(rt!=null){var et=[],ct=!0,Mt=!1,xn,Ln;try{for(rt=rt.call(Ue);!(ct=(xn=rt.next()).done)&&(et.push(xn.value),!(Qe&&et.length===Qe));ct=!0);}catch(un){Mt=!0,Ln=un}finally{try{!ct&&rt.return!=null&&rt.return()}finally{if(Mt)throw Ln}}return et}}function Ye(Ue){if(Array.isArray(Ue))return Ue}function ut(Ue,Qe){if(!(Ue instanceof Qe))throw new TypeError("Cannot call a class as a function")}function ft(Ue,Qe){for(var rt=0;rt<Qe.length;rt++){var et=Qe[rt];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ue,et.key,et)}}function dt(Ue,Qe,rt){return Qe&&ft(Ue.prototype,Qe),rt&&ft(Ue,rt),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue}function Ot(Ue,Qe){if(typeof Qe!="function"&&Qe!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),Qe&&Rt(Ue,Qe)}function Rt(Ue,Qe){return Rt=Object.setPrototypeOf||function(rt,et){return rt.__proto__=et,rt},Rt(Ue,Qe)}function Kt(Ue){var Qe=hn();return function(){var rt=Pn(Ue),et;if(Qe){var ct=Pn(this).constructor;et=Reflect.construct(rt,arguments,ct)}else et=rt.apply(this,arguments);return Xt(this,et)}}function Xt(Ue,Qe){if(Qe&&(c(Qe)==="object"||typeof Qe=="function"))return Qe;if(Qe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(Ue)}function Zt(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue}function hn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pn(Ue){return Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(Qe){return Qe.__proto__||Object.getPrototypeOf(Qe)},Pn(Ue)}function ht(Ue,Qe,rt){return Qe in Ue?Object.defineProperty(Ue,Qe,{value:rt,enumerable:!0,configurable:!0,writable:!0}):Ue[Qe]=rt,Ue}var nn=function(Ue){Ot(rt,Ue);var Qe=Kt(rt);function rt(et){var ct;return ut(this,rt),ct=Qe.call(this,et),ht(Zt(ct),"onDragStart",function(Mt,xn){(0,E.default)("Draggable: onDragStart: %j",xn);var Ln=ct.props.onStart(Mt,(0,b.createDraggableData)(Zt(ct),xn));if(Ln===!1)return!1;ct.setState({dragging:!0,dragged:!0})}),ht(Zt(ct),"onDrag",function(Mt,xn){if(!ct.state.dragging)return!1;(0,E.default)("Draggable: onDrag: %j",xn);var Ln=(0,b.createDraggableData)(Zt(ct),xn),un={x:Ln.x,y:Ln.y};if(ct.props.bounds){var Yi=un.x,Oi=un.y;un.x+=ct.state.slackX,un.y+=ct.state.slackY;var ji=(0,b.getBoundPosition)(Zt(ct),un.x,un.y),F=be(ji,2),ce=F[0],Ie=F[1];un.x=ce,un.y=Ie,un.slackX=ct.state.slackX+(Yi-un.x),un.slackY=ct.state.slackY+(Oi-un.y),Ln.x=un.x,Ln.y=un.y,Ln.deltaX=un.x-ct.state.x,Ln.deltaY=un.y-ct.state.y}var Ke=ct.props.onDrag(Mt,Ln);if(Ke===!1)return!1;ct.setState(un)}),ht(Zt(ct),"onDragStop",function(Mt,xn){if(!ct.state.dragging)return!1;var Ln=ct.props.onStop(Mt,(0,b.createDraggableData)(Zt(ct),xn));if(Ln===!1)return!1;(0,E.default)("Draggable: onDragStop: %j",xn);var un={dragging:!1,slackX:0,slackY:0},Yi=!!ct.props.position;if(Yi){var Oi=ct.props.position,ji=Oi.x,F=Oi.y;un.x=ji,un.y=F}ct.setState(un)}),ct.state={dragging:!1,dragged:!1,x:et.position?et.position.x:et.defaultPosition.x,y:et.position?et.position.y:et.defaultPosition.y,prevPropsPosition:oe({},et.position),slackX:0,slackY:0,isElementSVG:!1},et.position&&!(et.onDrag||et.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ct}return dt(rt,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var et,ct,Mt;return(et=(ct=this.props)===null||ct===void 0||(Mt=ct.nodeRef)===null||Mt===void 0?void 0:Mt.current)!==null&&et!==void 0?et:u.default.findDOMNode(this)}},{key:"render",value:function(){var et,ct=this.props;ct.axis,ct.bounds;var Mt=ct.children,xn=ct.defaultPosition,Ln=ct.defaultClassName,un=ct.defaultClassNameDragging,Yi=ct.defaultClassNameDragged,Oi=ct.position,ji=ct.positionOffset;ct.scale;var F=ie(ct,O),ce={},Ie=null,Ke=!!Oi,We=!Ke||this.state.dragging,Ct=Oi||xn,pt={x:(0,b.canDragX)(this)&&We?this.state.x:Ct.x,y:(0,b.canDragY)(this)&&We?this.state.y:Ct.y};this.state.isElementSVG?Ie=(0,v.createSVGTransform)(pt,ji):ce=(0,v.createCSSTransform)(pt,ji);var pn=(0,m.default)(Mt.props.className||"",Ln,(et={},ht(et,un,this.state.dragging),ht(et,Yi,this.state.dragged),et));return o.createElement(x.default,ae({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(Mt),{className:pn,style:oe(oe({},Mt.props.style),ce),transform:Ie}))}}],[{key:"getDerivedStateFromProps",value:function(et,ct){var Mt=et.position,xn=ct.prevPropsPosition;return Mt&&(!xn||Mt.x!==xn.x||Mt.y!==xn.y)?((0,E.default)("Draggable: getDerivedStateFromProps %j",{position:Mt,prevPropsPosition:xn}),{x:Mt.x,y:Mt.y,prevPropsPosition:oe({},Mt)}):null}}]),rt}(o.Component);s.default=nn,ht(nn,"displayName","Draggable"),ht(nn,"propTypes",oe(oe({},x.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe})),ht(nn,"defaultProps",oe(oe({},x.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(ys);var av=ys,lv=av.default,RP=av.DraggableCore;Ar.exports=lv,Ar.exports.default=lv,Ar.exports.DraggableCore=RP;var _P=Ar.exports,OP=["second","minute","hour","day","week","month","year"];function DP(s,c){if(c===0)return["just now","right now"];var o=OP[Math.floor(c/2)];return s>1&&(o+="s"),[s+" "+o+" ago","in "+s+" "+o]}var AP=["秒","分钟","小时","天","周","个月","年"];function IP(s,c){if(c===0)return["刚刚","片刻后"];var o=AP[~~(c/2)];return[s+" "+o+"前",s+" "+o+"后"]}var ah={},Hn=function(s,c){ah[s]=c},cv=function(s){return ah[s]||ah.en_US},Oo=[60,60,24,7,365/7/12,12];function uv(s){return s instanceof Date?s:!isNaN(s)||/^\d+$/.test(s)?new Date(parseInt(s)):(s=(s||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(s))}function dv(s,c){var o=s<0?1:0;s=Math.abs(s);for(var a=s,u=0;s>=Oo[u]&&u<Oo.length;u++)s/=Oo[u];return s=Math.floor(s),u*=2,s>(u===0?9:1)&&(u+=1),c(s,u,a)[o].replace("%s",s.toString())}function hv(s,c){var o=c?uv(c):new Date;return(+o-+uv(s))/1e3}function MP(s){for(var c=1,o=0,a=Math.abs(s);s>=Oo[o]&&o<Oo.length;o++)s/=Oo[o],c*=Oo[o];return a=a%c,a=a?c-a:c,Math.ceil(a)}var zP=function(s,c,o){var a=hv(s,o&&o.relativeDate);return dv(a,cv(c))},pv="timeago-id";function LP(s){return s.getAttribute("datetime")}function FP(s,c){s.setAttribute(pv,c)}function fv(s){return parseInt(s.getAttribute(pv))}var lh={},ch=function(s){clearTimeout(s),delete lh[s]};function mv(s,c,o,a){ch(fv(s));var u=a.relativeDate,m=a.minInterval,v=hv(c,u);s.innerText=dv(v,o);var b=setTimeout(function(){mv(s,c,o,a)},Math.min(Math.max(MP(v),m||1)*1e3,2147483647));lh[b]=0,FP(s,b)}function gv(s){s?ch(fv(s)):Object.keys(lh).forEach(ch)}function NP(s,c,o){var a=s.length?s:[s];return a.forEach(function(u){mv(u,LP(u),cv(c),o||{})}),a}Hn("en_US",DP),Hn("zh_CN",IP);var HP=globalThis&&globalThis.__extends||function(){var s=function(c,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var m in u)u.hasOwnProperty(m)&&(a[m]=u[m])},s(c,o)};return function(c,o){s(c,o);function a(){this.constructor=c}c.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),uh=globalThis&&globalThis.__assign||function(){return uh=Object.assign||function(s){for(var c,o=1,a=arguments.length;o<a;o++){c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s},uh.apply(this,arguments)},jP=globalThis&&globalThis.__rest||function(s,c){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&c.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)c.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(s,a[u])&&(o[a[u]]=s[a[u]]);return o},BP=function(s){return""+(s instanceof Date?s.getTime():s)},VP=function(s){HP(c,s);function c(){var o=s!==null&&s.apply(this,arguments)||this;return o.dom=null,o}return c.prototype.componentDidMount=function(){this.renderTimeAgo()},c.prototype.componentDidUpdate=function(){this.renderTimeAgo()},c.prototype.renderTimeAgo=function(){var o=this.props,a=o.live,u=o.datetime,m=o.locale,v=o.opts;gv(this.dom),a!==!1&&(this.dom.setAttribute("datetime",BP(u)),NP(this.dom,m,v))},c.prototype.componentWillUnmount=function(){gv(this.dom)},c.prototype.render=function(){var o=this,a=this.props,u=a.datetime;a.live;var m=a.locale,v=a.opts,b=jP(a,["datetime","live","locale","opts"]);return D("time",uh({ref:function(w){o.dom=w}},b),zP(u,m,v))},c.defaultProps={live:!0,className:""},c}(tn);function UP(s,c){const o=a=>{s.current&&!s.current.contains(event.target)&&c()};Je(()=>(document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)))}var vv=Object.prototype.toString,yv=function(s){var c=vv.call(s),o=c==="[object Arguments]";return o||(o=c!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&vv.call(s.callee)==="[object Function]"),o},bv;if(!Object.keys){var yc=Object.prototype.hasOwnProperty,wv=Object.prototype.toString,WP=yv,xv=Object.prototype.propertyIsEnumerable,GP=!xv.call({toString:null},"toString"),qP=xv.call(function(){},"prototype"),bc=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dh=function(s){var c=s.constructor;return c&&c.prototype===s},XP={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},KP=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!XP["$"+s]&&yc.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{dh(window[s])}catch{return!0}}catch{return!0}return!1}(),YP=function(s){if(typeof window>"u"||!KP)return dh(s);try{return dh(s)}catch{return!1}};bv=function(s){var c=s!==null&&typeof s=="object",o=wv.call(s)==="[object Function]",a=WP(s),u=c&&wv.call(s)==="[object String]",m=[];if(!c&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var v=qP&&o;if(u&&s.length>0&&!yc.call(s,0))for(var b=0;b<s.length;++b)m.push(String(b));if(a&&s.length>0)for(var w=0;w<s.length;++w)m.push(String(w));else for(var x in s)!(v&&x==="prototype")&&yc.call(s,x)&&m.push(String(x));if(GP)for(var E=YP(s),O=0;O<bc.length;++O)!(E&&bc[O]==="constructor")&&yc.call(s,bc[O])&&m.push(bc[O]);return m}}var ZP=bv,$P=Array.prototype.slice,JP=yv,Sv=Object.keys,wc=Sv?function(s){return Sv(s)}:ZP,Ev=Object.keys;wc.shim=function(){if(Object.keys){var s=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);s||(Object.keys=function(c){return JP(c)?Ev($P.call(c)):Ev(c)})}else Object.keys=wc;return Object.keys||wc};var QP=wc,Tv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},c=Symbol("test"),o=Object(c);if(typeof c=="string"||Object.prototype.toString.call(c)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;s[c]=a;for(c in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var u=Object.getOwnPropertySymbols(s);if(u.length!==1||u[0]!==c||!Object.prototype.propertyIsEnumerable.call(s,c))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(s,c);if(m.value!==a||m.enumerable!==!0)return!1}return!0},Cv=typeof Symbol<"u"&&Symbol,eR=Tv,kv=function(){return typeof Cv!="function"||typeof Symbol!="function"||typeof Cv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:eR()},Pv={foo:{}},tR=Object,nR=function(){return{__proto__:Pv}.foo===Pv.foo&&!({__proto__:null}instanceof tR)},iR="Function.prototype.bind called on incompatible ",hh=Array.prototype.slice,rR=Object.prototype.toString,oR="[object Function]",sR=function(s){var c=this;if(typeof c!="function"||rR.call(c)!==oR)throw new TypeError(iR+c);for(var o=hh.call(arguments,1),a,u=function(){if(this instanceof a){var x=c.apply(this,o.concat(hh.call(arguments)));return Object(x)===x?x:this}else return c.apply(s,o.concat(hh.call(arguments)))},m=Math.max(0,c.length-o.length),v=[],b=0;b<m;b++)v.push("$"+b);if(a=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(u),c.prototype){var w=function(){};w.prototype=c.prototype,a.prototype=new w,w.prototype=null}return a},aR=sR,ph=Function.prototype.bind||aR,lR=ph,Rv=lR.call(Function.call,Object.prototype.hasOwnProperty),sn,Rs=SyntaxError,_v=Function,_s=TypeError,fh=function(s){try{return _v('"use strict"; return ('+s+").constructor;")()}catch{}},Do=Object.getOwnPropertyDescriptor;if(Do)try{Do({},"")}catch{Do=null}var mh=function(){throw new _s},cR=Do?function(){try{return arguments.callee,mh}catch{try{return Do(arguments,"callee").get}catch{return mh}}}():mh,Os=kv(),uR=nR(),Jn=Object.getPrototypeOf||(uR?function(s){return s.__proto__}:null),Ds={},dR=typeof Uint8Array>"u"||!Jn?sn:Jn(Uint8Array),Ao={"%AggregateError%":typeof AggregateError>"u"?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?sn:ArrayBuffer,"%ArrayIteratorPrototype%":Os&&Jn?Jn([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":Ds,"%AsyncGenerator%":Ds,"%AsyncGeneratorFunction%":Ds,"%AsyncIteratorPrototype%":Ds,"%Atomics%":typeof Atomics>"u"?sn:Atomics,"%BigInt%":typeof BigInt>"u"?sn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?sn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?sn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?sn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?sn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?sn:FinalizationRegistry,"%Function%":_v,"%GeneratorFunction%":Ds,"%Int8Array%":typeof Int8Array>"u"?sn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?sn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Os&&Jn?Jn(Jn([][Symbol.iterator]())):sn,"%JSON%":typeof JSON=="object"?JSON:sn,"%Map%":typeof Map>"u"?sn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Os||!Jn?sn:Jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?sn:Promise,"%Proxy%":typeof Proxy>"u"?sn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?sn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?sn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Os||!Jn?sn:Jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Os&&Jn?Jn(""[Symbol.iterator]()):sn,"%Symbol%":Os?Symbol:sn,"%SyntaxError%":Rs,"%ThrowTypeError%":cR,"%TypedArray%":dR,"%TypeError%":_s,"%Uint8Array%":typeof Uint8Array>"u"?sn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?sn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?sn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?sn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?sn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?sn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?sn:WeakSet};if(Jn)try{null.error}catch(s){var hR=Jn(Jn(s));Ao["%Error.prototype%"]=hR}var pR=function s(c){var o;if(c==="%AsyncFunction%")o=fh("async function () {}");else if(c==="%GeneratorFunction%")o=fh("function* () {}");else if(c==="%AsyncGeneratorFunction%")o=fh("async function* () {}");else if(c==="%AsyncGenerator%"){var a=s("%AsyncGeneratorFunction%");a&&(o=a.prototype)}else if(c==="%AsyncIteratorPrototype%"){var u=s("%AsyncGenerator%");u&&Jn&&(o=Jn(u.prototype))}return Ao[c]=o,o},Ov={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ha=ph,xc=Rv,fR=Ha.call(Function.call,Array.prototype.concat),mR=Ha.call(Function.apply,Array.prototype.splice),Dv=Ha.call(Function.call,String.prototype.replace),Sc=Ha.call(Function.call,String.prototype.slice),gR=Ha.call(Function.call,RegExp.prototype.exec),vR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,yR=/\\(\\)?/g,bR=function(s){var c=Sc(s,0,1),o=Sc(s,-1);if(c==="%"&&o!=="%")throw new Rs("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&c!=="%")throw new Rs("invalid intrinsic syntax, expected opening `%`");var a=[];return Dv(s,vR,function(u,m,v,b){a[a.length]=v?Dv(b,yR,"$1"):m||u}),a},wR=function(s,c){var o=s,a;if(xc(Ov,o)&&(a=Ov[o],o="%"+a[0]+"%"),xc(Ao,o)){var u=Ao[o];if(u===Ds&&(u=pR(o)),typeof u>"u"&&!c)throw new _s("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:a,name:o,value:u}}throw new Rs("intrinsic "+s+" does not exist!")},ri=function(s,c){if(typeof s!="string"||s.length===0)throw new _s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof c!="boolean")throw new _s('"allowMissing" argument must be a boolean');if(gR(/^%?[^%]*%?$/,s)===null)throw new Rs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=bR(s),a=o.length>0?o[0]:"",u=wR("%"+a+"%",c),m=u.name,v=u.value,b=!1,w=u.alias;w&&(a=w[0],mR(o,fR([0,1],w)));for(var x=1,E=!0;x<o.length;x+=1){var O=o[x],A=Sc(O,0,1),j=Sc(O,-1);if((A==='"'||A==="'"||A==="`"||j==='"'||j==="'"||j==="`")&&A!==j)throw new Rs("property names with quotes must have matching quotes");if((O==="constructor"||!E)&&(b=!0),a+="."+O,m="%"+a+"%",xc(Ao,m))v=Ao[m];else if(v!=null){if(!(O in v)){if(!c)throw new _s("base intrinsic for "+s+" exists, but the property is not available.");return}if(Do&&x+1>=o.length){var X=Do(v,O);E=!!X,E&&"get"in X&&!("originalValue"in X.get)?v=X.get:v=v[O]}else E=xc(v,O),v=v[O];E&&!b&&(Ao[m]=v)}}return v},xR=ri,gh=xR("%Object.defineProperty%",!0),vh=function(){if(gh)try{return gh({},"a",{value:1}),!0}catch{return!1}return!1};vh.hasArrayLengthDefineBug=function(){if(!vh())return null;try{return gh([],"length",{value:1}).length!==1}catch{return!0}};var SR=vh,ER=QP,TR=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",CR=Object.prototype.toString,kR=Array.prototype.concat,Av=Object.defineProperty,PR=function(s){return typeof s=="function"&&CR.call(s)==="[object Function]"},RR=SR(),Iv=Av&&RR,_R=function(s,c,o,a){if(c in s){if(a===!0){if(s[c]===o)return}else if(!PR(a)||!a())return}Iv?Av(s,c,{configurable:!0,enumerable:!1,value:o,writable:!0}):s[c]=o},Mv=function(s,c){var o=arguments.length>2?arguments[2]:{},a=ER(c);TR&&(a=kR.call(a,Object.getOwnPropertySymbols(c)));for(var u=0;u<a.length;u+=1)_R(s,a[u],c[a[u]],o[a[u]])};Mv.supportsDescriptors=!!Iv;var As=Mv,ja={exports:{}};(function(s){var c=ph,o=ri,a=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),m=o("%Reflect.apply%",!0)||c.call(u,a),v=o("%Object.getOwnPropertyDescriptor%",!0),b=o("%Object.defineProperty%",!0),w=o("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}s.exports=function(E){var O=m(c,u,arguments);if(v&&b){var A=v(O,"length");A.configurable&&b(O,"length",{value:1+w(0,E.length-(arguments.length-1))})}return O};var x=function(){return m(c,a,arguments)};b?b(s.exports,"apply",{value:x}):s.exports.apply=x})(ja);var zv=ri,Lv=ja.exports,OR=Lv(zv("String.prototype.indexOf")),Mr=function(s,c){var o=zv(s,!!c);return typeof o=="function"&&OR(s,".prototype.")>-1?Lv(o):o},DR=ri,AR=DR("%TypeError%"),IR=function(s,c){if(s==null)throw new AR(c||"Cannot call method on "+s);return s},Ba=IR,MR=ri,Fv=MR("%Array%"),zR=!Fv.isArray&&Mr("Object.prototype.toString"),LR=Fv.isArray||function(s){return zR(s)==="[object Array]"},FR=LR,Nv=ri,NR=Mr,HR=Nv("%TypeError%"),jR=FR,BR=Nv("%Reflect.apply%",!0)||NR("Function.prototype.apply"),VR=function(s,c){var o=arguments.length>2?arguments[2]:[];if(!jR(o))throw new HR("Assertion failed: optional `argumentsList`, if provided, must be a List");return BR(s,c,o)},UR={},WR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:UR}),GR=Cn(WR),yh=typeof Map=="function"&&Map.prototype,bh=Object.getOwnPropertyDescriptor&&yh?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ec=yh&&bh&&typeof bh.get=="function"?bh.get:null,Hv=yh&&Map.prototype.forEach,wh=typeof Set=="function"&&Set.prototype,xh=Object.getOwnPropertyDescriptor&&wh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Tc=wh&&xh&&typeof xh.get=="function"?xh.get:null,jv=wh&&Set.prototype.forEach,qR=typeof WeakMap=="function"&&WeakMap.prototype,Va=qR?WeakMap.prototype.has:null,XR=typeof WeakSet=="function"&&WeakSet.prototype,Ua=XR?WeakSet.prototype.has:null,KR=typeof WeakRef=="function"&&WeakRef.prototype,Bv=KR?WeakRef.prototype.deref:null,YR=Boolean.prototype.valueOf,ZR=Object.prototype.toString,$R=Function.prototype.toString,JR=String.prototype.match,Sh=String.prototype.slice,Kr=String.prototype.replace,QR=String.prototype.toUpperCase,Vv=String.prototype.toLowerCase,Uv=RegExp.prototype.test,Wv=Array.prototype.concat,gr=Array.prototype.join,e2=Array.prototype.slice,Gv=Math.floor,Eh=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Th=Object.getOwnPropertySymbols,Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Is=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Is||!0)?Symbol.toStringTag:null,qv=Object.prototype.propertyIsEnumerable,Xv=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(s){return s.__proto__}:null);function Kv(s,c){if(s===1/0||s===-1/0||s!==s||s&&s>-1e3&&s<1e3||Uv.call(/e/,c))return c;var o=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof s=="number"){var a=s<0?-Gv(-s):Gv(s);if(a!==s){var u=String(a),m=Sh.call(c,u.length+1);return Kr.call(u,o,"$&_")+"."+Kr.call(Kr.call(m,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Kr.call(c,o,"$&_")}var kh=GR,Yv=kh.custom,Zv=Qv(Yv)?Yv:null,t2=function s(c,o,a,u){var m=o||{};if(Yr(m,"quoteStyle")&&m.quoteStyle!=="single"&&m.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yr(m,"maxStringLength")&&(typeof m.maxStringLength=="number"?m.maxStringLength<0&&m.maxStringLength!==1/0:m.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=Yr(m,"customInspect")?m.customInspect:!0;if(typeof v!="boolean"&&v!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yr(m,"indent")&&m.indent!==null&&m.indent!=="	"&&!(parseInt(m.indent,10)===m.indent&&m.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yr(m,"numericSeparator")&&typeof m.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=m.numericSeparator;if(typeof c>"u")return"undefined";if(c===null)return"null";if(typeof c=="boolean")return c?"true":"false";if(typeof c=="string")return ty(c,m);if(typeof c=="number"){if(c===0)return 1/0/c>0?"0":"-0";var w=String(c);return b?Kv(c,w):w}if(typeof c=="bigint"){var x=String(c)+"n";return b?Kv(c,x):x}var E=typeof m.depth>"u"?5:m.depth;if(typeof a>"u"&&(a=0),a>=E&&E>0&&typeof c=="object")return Ph(c)?"[Array]":"[Object]";var O=b2(m,a);if(typeof u>"u")u=[];else if(ey(u,c)>=0)return"[Circular]";function A(Ot,Rt,Kt){if(Rt&&(u=e2.call(u),u.push(Rt)),Kt){var Xt={depth:m.depth};return Yr(m,"quoteStyle")&&(Xt.quoteStyle=m.quoteStyle),s(Ot,Xt,a+1,u)}return s(Ot,m,a+1,u)}if(typeof c=="function"&&!Jv(c)){var j=u2(c),X=Cc(c,A);return"[Function"+(j?": "+j:" (anonymous)")+"]"+(X.length>0?" { "+gr.call(X,", ")+" }":"")}if(Qv(c)){var ae=Is?Kr.call(String(c),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ch.call(c);return typeof c=="object"&&!Is?Wa(ae):ae}if(g2(c)){for(var ie="<"+Vv.call(String(c.nodeName)),he=c.attributes||[],M=0;M<he.length;M++)ie+=" "+he[M].name+"="+$v(n2(he[M].value),"double",m);return ie+=">",c.childNodes&&c.childNodes.length&&(ie+="..."),ie+="</"+Vv.call(String(c.nodeName))+">",ie}if(Ph(c)){if(c.length===0)return"[]";var oe=Cc(c,A);return O&&!y2(oe)?"["+_h(oe,O)+"]":"[ "+gr.call(oe,", ")+" ]"}if(r2(c)){var be=Cc(c,A);return!("cause"in Error.prototype)&&"cause"in c&&!qv.call(c,"cause")?"{ ["+String(c)+"] "+gr.call(Wv.call("[cause]: "+A(c.cause),be),", ")+" }":be.length===0?"["+String(c)+"]":"{ ["+String(c)+"] "+gr.call(be,", ")+" }"}if(typeof c=="object"&&v){if(Zv&&typeof c[Zv]=="function"&&kh)return kh(c,{depth:E-a});if(v!=="symbol"&&typeof c.inspect=="function")return c.inspect()}if(d2(c)){var ye=[];return Hv&&Hv.call(c,function(Ot,Rt){ye.push(A(Rt,c,!0)+" => "+A(Ot,c))}),ny("Map",Ec.call(c),ye,O)}if(f2(c)){var ke=[];return jv&&jv.call(c,function(Ot){ke.push(A(Ot,c))}),ny("Set",Tc.call(c),ke,O)}if(h2(c))return Rh("WeakMap");if(m2(c))return Rh("WeakSet");if(p2(c))return Rh("WeakRef");if(s2(c))return Wa(A(Number(c)));if(l2(c))return Wa(A(Eh.call(c)));if(a2(c))return Wa(YR.call(c));if(o2(c))return Wa(A(String(c)));if(!i2(c)&&!Jv(c)){var Re=Cc(c,A),qe=Xv?Xv(c)===Object.prototype:c instanceof Object||c.constructor===Object,Ye=c instanceof Object?"":"null prototype",ut=!qe&&pi&&Object(c)===c&&pi in c?Sh.call(Zr(c),8,-1):Ye?"Object":"",ft=qe||typeof c.constructor!="function"?"":c.constructor.name?c.constructor.name+" ":"",dt=ft+(ut||Ye?"["+gr.call(Wv.call([],ut||[],Ye||[]),": ")+"] ":"");return Re.length===0?dt+"{}":O?dt+"{"+_h(Re,O)+"}":dt+"{ "+gr.call(Re,", ")+" }"}return String(c)};function $v(s,c,o){var a=(o.quoteStyle||c)==="double"?'"':"'";return a+s+a}function n2(s){return Kr.call(String(s),/"/g,"&quot;")}function Ph(s){return Zr(s)==="[object Array]"&&(!pi||!(typeof s=="object"&&pi in s))}function i2(s){return Zr(s)==="[object Date]"&&(!pi||!(typeof s=="object"&&pi in s))}function Jv(s){return Zr(s)==="[object RegExp]"&&(!pi||!(typeof s=="object"&&pi in s))}function r2(s){return Zr(s)==="[object Error]"&&(!pi||!(typeof s=="object"&&pi in s))}function o2(s){return Zr(s)==="[object String]"&&(!pi||!(typeof s=="object"&&pi in s))}function s2(s){return Zr(s)==="[object Number]"&&(!pi||!(typeof s=="object"&&pi in s))}function a2(s){return Zr(s)==="[object Boolean]"&&(!pi||!(typeof s=="object"&&pi in s))}function Qv(s){if(Is)return s&&typeof s=="object"&&s instanceof Symbol;if(typeof s=="symbol")return!0;if(!s||typeof s!="object"||!Ch)return!1;try{return Ch.call(s),!0}catch{}return!1}function l2(s){if(!s||typeof s!="object"||!Eh)return!1;try{return Eh.call(s),!0}catch{}return!1}var c2=Object.prototype.hasOwnProperty||function(s){return s in this};function Yr(s,c){return c2.call(s,c)}function Zr(s){return ZR.call(s)}function u2(s){if(s.name)return s.name;var c=JR.call($R.call(s),/^function\s*([\w$]+)/);return c?c[1]:null}function ey(s,c){if(s.indexOf)return s.indexOf(c);for(var o=0,a=s.length;o<a;o++)if(s[o]===c)return o;return-1}function d2(s){if(!Ec||!s||typeof s!="object")return!1;try{Ec.call(s);try{Tc.call(s)}catch{return!0}return s instanceof Map}catch{}return!1}function h2(s){if(!Va||!s||typeof s!="object")return!1;try{Va.call(s,Va);try{Ua.call(s,Ua)}catch{return!0}return s instanceof WeakMap}catch{}return!1}function p2(s){if(!Bv||!s||typeof s!="object")return!1;try{return Bv.call(s),!0}catch{}return!1}function f2(s){if(!Tc||!s||typeof s!="object")return!1;try{Tc.call(s);try{Ec.call(s)}catch{return!0}return s instanceof Set}catch{}return!1}function m2(s){if(!Ua||!s||typeof s!="object")return!1;try{Ua.call(s,Ua);try{Va.call(s,Va)}catch{return!0}return s instanceof WeakSet}catch{}return!1}function g2(s){return!s||typeof s!="object"?!1:typeof HTMLElement<"u"&&s instanceof HTMLElement?!0:typeof s.nodeName=="string"&&typeof s.getAttribute=="function"}function ty(s,c){if(s.length>c.maxStringLength){var o=s.length-c.maxStringLength,a="... "+o+" more character"+(o>1?"s":"");return ty(Sh.call(s,0,c.maxStringLength),c)+a}var u=Kr.call(Kr.call(s,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,v2);return $v(u,"single",c)}function v2(s){var c=s.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[c];return o?"\\"+o:"\\x"+(c<16?"0":"")+QR.call(c.toString(16))}function Wa(s){return"Object("+s+")"}function Rh(s){return s+" { ? }"}function ny(s,c,o,a){var u=a?_h(o,a):gr.call(o,", ");return s+" ("+c+") {"+u+"}"}function y2(s){for(var c=0;c<s.length;c++)if(ey(s[c],`
`)>=0)return!1;return!0}function b2(s,c){var o;if(s.indent==="	")o="	";else if(typeof s.indent=="number"&&s.indent>0)o=gr.call(Array(s.indent+1)," ");else return null;return{base:o,prev:gr.call(Array(c+1),o)}}function _h(s,c){if(s.length===0)return"";var o=`
`+c.prev+c.base;return o+gr.call(s,","+o)+`
`+c.prev}function Cc(s,c){var o=Ph(s),a=[];if(o){a.length=s.length;for(var u=0;u<s.length;u++)a[u]=Yr(s,u)?c(s[u],s):""}var m=typeof Th=="function"?Th(s):[],v;if(Is){v={};for(var b=0;b<m.length;b++)v["$"+m[b]]=m[b]}for(var w in s)!Yr(s,w)||o&&String(Number(w))===w&&w<s.length||Is&&v["$"+w]instanceof Symbol||(Uv.call(/[^\w$]/,w)?a.push(c(w,s)+": "+c(s[w],s)):a.push(w+": "+c(s[w],s)));if(typeof Th=="function")for(var x=0;x<m.length;x++)qv.call(s,m[x])&&a.push("["+c(m[x])+"]: "+c(s[m[x]],s));return a}var iy=function(s){return typeof s=="string"||typeof s=="symbol"},w2=function(s){if(s===null)return"Null";if(typeof s>"u")return"Undefined";if(typeof s=="function"||typeof s=="object")return"Object";if(typeof s=="number")return"Number";if(typeof s=="boolean")return"Boolean";if(typeof s=="string")return"String"},x2=w2,Ga=function(s){return typeof s=="symbol"?"Symbol":typeof s=="bigint"?"BigInt":x2(s)},S2=ri,ry=S2("%TypeError%"),E2=t2,T2=iy,C2=Ga,oy=function(s,c){if(C2(s)!=="Object")throw new ry("Assertion failed: Type(O) is not Object");if(!T2(c))throw new ry("Assertion failed: IsPropertyKey(P) is not true, got "+E2(c));return s[c]},k2=ri,sy=k2("%TypeError%"),P2=iy,R2=Ga,_2=function(s,c){if(R2(s)!=="Object")throw new sy("Assertion failed: `O` must be an Object");if(!P2(c))throw new sy("Assertion failed: `P` must be a Property Key");return c in s},ay=Function.prototype.toString,Ms=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Oh,kc;if(typeof Ms=="function"&&typeof Object.defineProperty=="function")try{Oh=Object.defineProperty({},"length",{get:function(){throw kc}}),kc={},Ms(function(){throw 42},null,Oh)}catch(s){s!==kc&&(Ms=null)}else Ms=null;var O2=/^\s*class\b/,Dh=function(s){try{var c=ay.call(s);return O2.test(c)}catch{return!1}},Ah=function(s){try{return Dh(s)?!1:(ay.call(s),!0)}catch{return!1}},Pc=Object.prototype.toString,D2="[object Object]",A2="[object Function]",I2="[object GeneratorFunction]",M2="[object HTMLAllCollection]",z2="[object HTML document.all class]",L2="[object HTMLCollection]",F2=typeof Symbol=="function"&&!!Symbol.toStringTag,N2=!(0 in[,]),Ih=function(){return!1};if(typeof document=="object"){var H2=document.all;Pc.call(H2)===Pc.call(document.all)&&(Ih=function(s){if((N2||!s)&&(typeof s>"u"||typeof s=="object"))try{var c=Pc.call(s);return(c===M2||c===z2||c===L2||c===D2)&&s("")==null}catch{}return!1})}var ly=Ms?function(s){if(Ih(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;try{Ms(s,null,Oh)}catch(c){if(c!==kc)return!1}return!Dh(s)&&Ah(s)}:function(s){if(Ih(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;if(F2)return Ah(s);if(Dh(s))return!1;var c=Pc.call(s);return c!==A2&&c!==I2&&!/^\[object HTML/.test(c)?!1:Ah(s)},j2=ly,cy=ri,B2=cy("%Math%"),V2=cy("%Number%"),U2=V2.MAX_SAFE_INTEGER||B2.pow(2,53)-1,W2=ri,G2=W2("%Math.abs%"),q2=function(s){return G2(s)},X2=Ga,K2=Math.floor,Y2=function(s){return X2(s)==="BigInt"?s:K2(s)},Z2=function(s){return s===null||typeof s!="function"&&typeof s!="object"},$2=function(s){return s===null||typeof s!="function"&&typeof s!="object"},J2=Tv,Mh=function(){return J2()&&!!Symbol.toStringTag},Q2=Date.prototype.getDay,e_=function(s){try{return Q2.call(s),!0}catch{return!1}},t_=Object.prototype.toString,n_="[object Date]",i_=Mh(),r_=function(s){return typeof s!="object"||s===null?!1:i_?e_(s):t_.call(s)===n_},zh={exports:{}},o_=Object.prototype.toString,s_=kv();if(s_){var a_=Symbol.prototype.toString,l_=/^Symbol\(.*\)$/,c_=function(s){return typeof s.valueOf()!="symbol"?!1:l_.test(a_.call(s))};zh.exports=function(s){if(typeof s=="symbol")return!0;if(o_.call(s)!=="[object Symbol]")return!1;try{return c_(s)}catch{return!1}}}else zh.exports=function(s){return!1};var u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Lh=$2,uy=ly,d_=r_,dy=zh.exports,h_=function(s,c){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof c!="string"||c!=="number"&&c!=="string")throw new TypeError('hint must be "string" or "number"');var o=c==="string"?["toString","valueOf"]:["valueOf","toString"],a,u,m;for(m=0;m<o.length;++m)if(a=s[o[m]],uy(a)&&(u=a.call(s),Lh(u)))return u;throw new TypeError("No default value")},p_=function(s,c){var o=s[c];if(o!==null&&typeof o<"u"){if(!uy(o))throw new TypeError(o+" returned for property "+c+" of object "+s+" is not a function");return o}},f_=function(s){if(Lh(s))return s;var c="default";arguments.length>1&&(arguments[1]===String?c="string":arguments[1]===Number&&(c="number"));var o;if(u_&&(Symbol.toPrimitive?o=p_(s,Symbol.toPrimitive):dy(s)&&(o=Symbol.prototype.valueOf)),typeof o<"u"){var a=o.call(s,c);if(Lh(a))return a;throw new TypeError("unable to convert exotic object to primitive")}return c==="default"&&(d_(s)||dy(s))&&(c="string"),h_(s,c==="default"?"number":c)},hy=f_,m_=function(s){return arguments.length>1?hy(s,arguments[1]):hy(s)},Fh=Mr,py=Mh(),fy,my,Nh,Hh;if(py){fy=Fh("Object.prototype.hasOwnProperty"),my=Fh("RegExp.prototype.exec"),Nh={};var jh=function(){throw Nh};Hh={toString:jh,valueOf:jh},typeof Symbol.toPrimitive=="symbol"&&(Hh[Symbol.toPrimitive]=jh)}var g_=Fh("Object.prototype.toString"),v_=Object.getOwnPropertyDescriptor,y_="[object RegExp]",b_=py?function(s){if(!s||typeof s!="object")return!1;var c=v_(s,"lastIndex"),o=c&&fy(c,"value");if(!o)return!1;try{my(s,Hh)}catch(a){return a===Nh}}:function(s){return!s||typeof s!="object"&&typeof s!="function"?!1:g_(s)===y_},w_=Mr,x_=ri,S_=b_,E_=w_("RegExp.prototype.exec"),T_=x_("%TypeError%"),C_=function(s){if(!S_(s))throw new T_("`regex` must be a RegExp");return function(c){return E_(s,c)!==null}},gy=ri,k_=gy("%String%"),P_=gy("%TypeError%"),vy=function(s){if(typeof s=="symbol")throw new P_("Cannot convert a Symbol value to a string");return k_(s)},R_=Ba,__=vy,O_=Mr,yy=O_("String.prototype.replace"),by=/^\s$/.test("᠎"),D_=by?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,A_=by?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,wy=function(){var s=__(R_(this));return yy(yy(s,D_,""),A_,"")},I_=wy,xy="​",zs="᠎",Sy=function(){return String.prototype.trim&&xy.trim()===xy&&zs.trim()===zs&&("_"+zs).trim()==="_"+zs&&(zs+"_").trim()===zs+"_"?String.prototype.trim:I_},M_=As,z_=Sy,L_=function(){var s=z_();return M_(String.prototype,{trim:s},{trim:function(){return String.prototype.trim!==s}}),s},F_=ja.exports,N_=As,H_=Ba,j_=wy,Ey=Sy,B_=L_,V_=F_(Ey()),Ty=function(s){return H_(s),V_(s)};N_(Ty,{getPolyfill:Ey,implementation:j_,shim:B_});var Cy=Ty,Rc=ri,Bh=Rc("%Number%"),U_=Rc("%RegExp%"),W_=Rc("%TypeError%"),ky=Rc("%parseInt%"),G_=Mr,_c=C_,Py=G_("String.prototype.slice"),q_=_c(/^0b[01]+$/i),X_=_c(/^0o[0-7]+$/i),K_=_c(/^[-+]0x[0-9a-f]+$/i),Y_=["","​","￾"].join(""),Z_=new U_("["+Y_+"]","g"),$_=_c(Z_),J_=Cy,Q_=Ga,eO=function s(c){if(Q_(c)!=="String")throw new W_("Assertion failed: `argument` is not a String");if(q_(c))return Bh(ky(Py(c,2),2));if(X_(c))return Bh(ky(Py(c,2),8));if($_(c)||K_(c))return NaN;var o=J_(c);return o!==c?s(o):Bh(c)},Ry=ri,_y=Ry("%TypeError%"),Oy=Ry("%Number%"),tO=Z2,nO=m_,iO=eO,rO=function(s){var c=tO(s)?s:nO(s,Oy);if(typeof c=="symbol")throw new _y("Cannot convert a Symbol value to a number");if(typeof c=="bigint")throw new _y("Conversion from 'BigInt' to 'number' is not allowed.");return typeof c=="string"?iO(c):Oy(c)},Dy=Number.isNaN||function(s){return s!==s},oO=Dy,sO=function(s){return(typeof s=="number"||typeof s=="bigint")&&!oO(s)&&s!==1/0&&s!==-1/0},aO=function(s){return s>=0?1:-1},lO=q2,cO=Y2,uO=rO,dO=Dy,hO=sO,pO=aO,fO=function(s){var c=uO(s);if(dO(c)||c===0)return 0;if(!hO(c))return c;var o=cO(lO(c));return o===0?0:pO(c)*o},Ay=U2,mO=fO,gO=function(s){var c=mO(s);return c<=0?0:c>Ay?Ay:c},vO=ri,yO=vO("%TypeError%"),bO=oy,wO=gO,xO=Ga,SO=function(s){if(xO(s)!=="Object")throw new yO("Assertion failed: `obj` must be an Object");return wO(bO(s,"length"))},EO=ri,TO=EO("%Object%"),CO=Ba,kO=function(s){return CO(s),TO(s)},PO=String.prototype.valueOf,RO=function(s){try{return PO.call(s),!0}catch{return!1}},_O=Object.prototype.toString,OO="[object String]",DO=Mh(),AO=function(s){return typeof s=="string"?!0:typeof s!="object"?!1:DO?RO(s):_O.call(s)===OO},IO=ri,MO=Mr,zO=IO("%TypeError%"),LO=VR,FO=oy,NO=_2,HO=j2,jO=SO,BO=kO,VO=vy,UO=AO,WO=MO("String.prototype.split"),Iy=Object("a"),GO=Iy[0]!=="a"||!(0 in Iy),My=function(s){var c=BO(this),o=GO&&UO(this)?WO(this,""):c,a=jO(o);if(!HO(s))throw new zO("Array.prototype.forEach callback must be a function");var u;arguments.length>1&&(u=arguments[1]);for(var m=0;m<a;){var v=VO(m),b=NO(o,v);if(b){var w=FO(o,v);LO(s,u,[w,m,o])}m+=1}},qO=function(s){var c=!0,o=!0,a=!1;if(typeof s=="function"){try{s.call("f",function(u,m,v){typeof v!="object"&&(c=!1)}),s.call([null],function(){"use strict";o=typeof this=="string"},"x")}catch{a=!0}return!a&&c&&o}return!1},XO=qO,KO=My,zy=function(){var s=Array.prototype.forEach;return XO(s)?s:KO},YO=As,ZO=zy,$O=function(){var s=ZO();return YO(Array.prototype,{forEach:s},{forEach:function(){return Array.prototype.forEach!==s}}),s},JO=As,QO=ja.exports,eD=Mr,tD=Ba,nD=My,Ly=zy,iD=Ly(),rD=$O,oD=eD("Array.prototype.slice"),sD=QO.apply(iD),Fy=function(s,c){return tD(s),sD(s,oD(arguments,1))};JO(Fy,{getPolyfill:Ly,implementation:nD,shim:rD});var aD=Fy,lD=Ba,Ny=Mr,cD=Ny("Object.prototype.propertyIsEnumerable"),uD=Ny("Array.prototype.push"),Hy=function(s){var c=lD(s),o=[];for(var a in c)cD(c,a)&&uD(o,[a,c[a]]);return o},dD=Hy,jy=function(){return typeof Object.entries=="function"?Object.entries:dD},hD=jy,pD=As,fD=function(){var s=hD();return pD(Object,{entries:s},{entries:function(){return Object.entries!==s}}),s},mD=As,gD=ja.exports,vD=Hy,By=jy,yD=fD,Vy=gD(By(),Object);mD(Vy,{getPolyfill:By,implementation:vD,shim:yD});var bD=Vy,Oc=aD,Vh=bD,Uy=Rv,wD=Cy,xD=function(s){},Wy=String.prototype.replace,Gy=String.prototype.split,Dc="||||",Uh=function(s){var c=s%100,o=c%10;return c!==11&&o===1?0:2<=o&&o<=4&&!(c>=12&&c<=14)?1:2},qy={pluralTypes:{arabic:function(s){if(s<3)return s;var c=s%100;return c>=3&&c<=10?3:c>=11?4:5},bosnian_serbian:Uh,chinese:function(){return 0},croatian:Uh,french:function(s){return s>=2?1:0},german:function(s){return s!==1?1:0},russian:Uh,lithuanian:function(s){return s%10===1&&s%100!==11?0:s%10>=2&&s%10<=9&&(s%100<11||s%100>19)?1:2},czech:function(s){return s===1?0:s>=2&&s<=4?1:2},polish:function(s){if(s===1)return 0;var c=s%10;return 2<=c&&c<=4&&(s%100<10||s%100>=20)?1:2},icelandic:function(s){return s%10!==1||s%100===11?1:0},slovenian:function(s){var c=s%100;return c===1?0:c===2?1:c===3||c===4?2:3},romanian:function(s){if(s===1)return 0;var c=s%100;return s===0||c>=2&&c<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function SD(s){var c={};return Oc(Vh(s),function(o){var a=o[0],u=o[1];Oc(u,function(m){c[m]=a})}),c}function ED(s,c){var o=SD(s.pluralTypeToLanguages);return o[c]||o[Gy.call(c,/-/,1)[0]]||o.en}function TD(s,c,o){return s.pluralTypes[c](o)}function CD(){var s={};return function(c,o){var a=s[o];return a&&!c.pluralTypes[a]&&(a=null,s[o]=a),a||(a=ED(c,o),a&&(s[o]=a)),a}}function Xy(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kD(s){var c=s&&s.prefix||"%{",o=s&&s.suffix||"}";if(c===Dc||o===Dc)throw new RangeError('"'+Dc+'" token is reserved for pluralization');return new RegExp(Xy(c)+"(.*?)"+Xy(o),"g")}var PD=CD(),RD=/%\{(.*?)\}/g;function Wh(s,c,o,a,u,m){if(typeof s!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(c==null)return s;var v=s,b=a||RD,w=m||Wy,x=typeof c=="number"?{smart_count:c}:c;if(x.smart_count!=null&&s){var E=u||qy,O=Gy.call(s,Dc),A=o||"en",j=PD(E,A),X=TD(E,j,x.smart_count);v=wD(O[X]||O[0])}return v=w.call(v,b,function(ae,ie){return!Uy(x,ie)||x[ie]==null?ae:x[ie]}),v}function zr(s){var c=s||{};this.phrases={},this.extend(c.phrases||{}),this.currentLocale=c.locale||"en";var o=c.allowMissing?Wh:null;this.onMissingKey=typeof c.onMissingKey=="function"?c.onMissingKey:o,this.warn=c.warn||xD,this.replaceImplementation=c.replace||Wy,this.tokenRegex=kD(c.interpolation),this.pluralRules=c.pluralRules||qy}zr.prototype.locale=function(s){return s&&(this.currentLocale=s),this.currentLocale},zr.prototype.extend=function(s,c){Oc(Vh(s||{}),function(o){var a=o[0],u=o[1],m=c?c+"."+a:a;typeof u=="object"?this.extend(u,m):this.phrases[m]=u},this)},zr.prototype.unset=function(s,c){typeof s=="string"?delete this.phrases[s]:Oc(Vh(s||{}),function(o){var a=o[0],u=o[1],m=c?c+"."+a:a;typeof u=="object"?this.unset(u,m):delete this.phrases[m]},this)},zr.prototype.clear=function(){this.phrases={}},zr.prototype.replace=function(s){this.clear(),this.extend(s)},zr.prototype.t=function(s,c){var o,a,u=c??{};if(typeof this.phrases[s]=="string")o=this.phrases[s];else if(typeof u._=="string")o=u._;else if(this.onMissingKey){var m=this.onMissingKey;a=m(s,u,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+s+'"'),a=s;return typeof o=="string"&&(a=Wh(o,u,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),a},zr.prototype.has=function(s){return Uy(this.phrases,s)},zr.transformPhrase=function(s,c,o){return Wh(s,c,o)};var _D=zr,OD={"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},DD={"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},AD={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},ID={"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},MD={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},zD={"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},LD={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},FD={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},ND={"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},HD={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},jD={"Add a comment...":"コメントを追加する...","Add a reply...":"返信する...","Add tag...":"タグを追加する...",Cancel:"キャンセル",Close:"閉じる",Edit:"編集",Delete:"削除",Ok:"Ok"},BD={"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},VD={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},UD={"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},WD={"Add a comment...":"Добавить комментарий...","Add a reply...":"Добавить ответ...","Add tag...":"Добавить тэг...",Cancel:"Отмена",Close:"Закрыть",Edit:"Редактировать",Delete:"Удалить",Ok:"Ок"},GD={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},qD={"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},XD={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},KD={"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"},YD={"Add a comment...":"添加评论...","Add a reply...":"添加回复...","Add tag...":"添加标签...",Cancel:"取消",Close:"关闭",Edit:"编辑",Delete:"删除",Ok:"确认"},ZD={"Add a comment...":"添加評論...","Add a reply...":"添加回覆...","Add tag...":"添加標籤...",Cancel:"取消",Close:"關閉",Edit:"編輯",Delete:"刪除",Ok:"確認"},Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});var Gh=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]];function $D(s,c){return c<3?Gh[s][c-1]:c>=3&&c<=10?Gh[s][2]:Gh[s][3]}function JD(s,c){if(c===0)return["منذ لحظات","بعد لحظات"];var o=$D(Math.floor(c/2),s);return["منذ "+o,"بعد "+o]}var QD=Ky.default=JD,Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});function eA(s,c){var o=0,a=c==1||c==3||c==5||c==7||c==9||c==11||c==13;return a&&s>=5&&(o=1),[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][c][o]}var tA=Yy.default=eA,Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});function nA(s,c){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][c]}var iA=Zy.default=nA,$y={};Object.defineProperty($y,"__esModule",{value:!0});function rA(s,c){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][c]}var oA=$y.default=rA,Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});function sA(s,c){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][c]}var aA=Jy.default=sA,Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});function lA(s,c){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][c]}var cA=Qy.default=lA,eb={};Object.defineProperty(eb,"__esModule",{value:!0});function uA(s,c){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][c]}var dA=eb.default=uA,tb={};Object.defineProperty(tb,"__esModule",{value:!0});function hA(s,c){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][c]}var pA=tb.default=hA,nb={};Object.defineProperty(nb,"__esModule",{value:!0});function fA(s,c){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][c]}var mA=nb.default=fA,ib={};Object.defineProperty(ib,"__esModule",{value:!0});function gA(s,c){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][c]}var vA=ib.default=gA,rb={};Object.defineProperty(rb,"__esModule",{value:!0});function yA(s,c){return[["すこし前","すぐに"],["%s秒前","%s秒以内"],["1分前","1分以内"],["%s分前","%s分以内"],["1時間前","1時間以内"],["%s時間前","%s時間以内"],["1日前","1日以内"],["%s日前","%s日以内"],["1週間前","1週間以内"],["%s週間前","%s週間以内"],["1ヶ月前","1ヶ月以内"],["%sヶ月前","%sヶ月以内"],["1年前","1年以内"],["%s年前","%s年以内"]][c]}var bA=rb.default=yA,ob={};Object.defineProperty(ob,"__esModule",{value:!0});function wA(s,c){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][c]}var xA=ob.default=wA,sb={};Object.defineProperty(sb,"__esModule",{value:!0});function SA(s,c){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][c]}var EA=sb.default=SA,ab={};Object.defineProperty(ab,"__esModule",{value:!0});function TA(s,c){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][c]}var CA=ab.default=TA,lb={};Object.defineProperty(lb,"__esModule",{value:!0});function Io(s,c,o,a,u){var m=u%10,v=a;return u===1?v=s:m===1&&u>20?v=c:m>1&&m<5&&(u>20||u<10)&&(v=o),v}var cb=Io.bind(null,"секунду","%s секунду","%s секунды","%s секунд"),ub=Io.bind(null,"минуту","%s минуту","%s минуты","%s минут"),db=Io.bind(null,"час","%s час","%s часа","%s часов"),hb=Io.bind(null,"день","%s день","%s дня","%s дней"),pb=Io.bind(null,"неделю","%s неделю","%s недели","%s недель"),fb=Io.bind(null,"месяц","%s месяц","%s месяца","%s месяцев"),mb=Io.bind(null,"год","%s год","%s года","%s лет");function kA(s,c){switch(c){case 0:return["только что","через несколько секунд"];case 1:return[cb(s)+" назад","через "+cb(s)];case 2:case 3:return[ub(s)+" назад","через "+ub(s)];case 4:case 5:return[db(s)+" назад","через "+db(s)];case 6:return["вчера","завтра"];case 7:return[hb(s)+" назад","через "+hb(s)];case 8:case 9:return[pb(s)+" назад","через "+pb(s)];case 10:case 11:return[fb(s)+" назад","через "+fb(s)];case 12:case 13:return[mb(s)+" назад","через "+mb(s)];default:return["",""]}}var PA=lb.default=kA,gb={};Object.defineProperty(gb,"__esModule",{value:!0});function RA(s,c){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][c]}var _A=gb.default=RA,vb={};Object.defineProperty(vb,"__esModule",{value:!0});function OA(s,c){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][c]}var DA=vb.default=OA,yb={};Object.defineProperty(yb,"__esModule",{value:!0});function AA(s,c){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][c]}var IA=yb.default=AA,bb={};Object.defineProperty(bb,"__esModule",{value:!0});var MA=["秒","分钟","小时","天","周","个月","年"];function zA(s,c){if(c===0)return["刚刚","片刻后"];var o=MA[~~(c/2)];return[s+" "+o+"前",s+" "+o+"后"]}var LA=bb.default=zA,wb={};Object.defineProperty(wb,"__esModule",{value:!0});function FA(s,c){return[["剛剛","片刻後"],["%s 秒前","%s 秒後"],["1 分鐘前","1 分鐘後"],["%s 分鐘前","%s 分鐘後"],["1 小時前","1 小時後"],["%s 小時前","%s 小時後"],["1 天前","1 天後"],["%s 天前","%s 天後"],["1 週前","1 週後"],["%s 週前","%s 週後"],["1 個月前","1 個月後"],["%s 個月前","%s 個月後"],["1 年前","1 年後"],["%s 年前","%s 年後"]][c]}var NA=wb.default=FA;const Ls={ar:OD,cs:DD,de:AD,el:ID,es:MD,fi:zD,fr:LD,gl:FD,hi:ND,it:HD,ja:jD,ko:BD,nl:VD,pt:UD,ru:WD,sv:GD,th:qD,tr:XD,ur:KD,"zh-CN":YD,"zh-TW":ZD},HA=Object.keys(Ls),Mo=new _D({allowMissing:!0});Mo.init=(s,c)=>{Mo.clear(),s&&(Mo.locale(s),Mo.extend(Ls[s])),c&&Mo.extend(c)},Hn("ar",QD),Hn("cs",tA),Hn("de",iA),Hn("el",oA),Hn("es",aA),Hn("fi",cA),Hn("fr",dA),Hn("gl",pA),Hn("hi",mA),Hn("it",vA),Hn("ja",bA),Hn("ko",xA),Hn("nl",EA),Hn("pt",CA),Hn("ru",PA),Hn("sv",_A),Hn("th",DA),Hn("tr",IA),Hn("zh-CN",LA),Hn("zh-TW",NA),Mo.registerMessages=(s,c)=>{Ls[s]?Ls[s]={...Ls[s],...c}:Ls[s]=c};var Fi=Mo,jA=s=>{const c=Et();return UP(c,()=>s.onClickOutside()),Ne.createElement("ul",{ref:c,className:"r6o-comment-dropdown-menu"},Ne.createElement("li",{onClick:s.onEdit},Fi.t("Edit")),Ne.createElement("li",{onClick:s.onDelete},Fi.t("Delete")))},xb={},qh={},Xh={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(s,c){(function(o,a){a(s,c)})(hr,function(o,a){var u=typeof Map=="function"?new Map:function(){var E=[],O=[];return{has:function(A){return E.indexOf(A)>-1},get:function(A){return O[E.indexOf(A)]},set:function(A,j){E.indexOf(A)===-1&&(E.push(A),O.push(j))},delete:function(A){var j=E.indexOf(A);j>-1&&(E.splice(j,1),O.splice(j,1))}}}(),m=function(E){return new Event(E,{bubbles:!0})};try{new Event("test")}catch{m=function(E){var O=document.createEvent("Event");return O.initEvent(E,!0,!1),O}}function v(E){if(!E||!E.nodeName||E.nodeName!=="TEXTAREA"||u.has(E))return;var O=null,A=null,j=null;function X(){var ye=window.getComputedStyle(E,null);ye.resize==="vertical"?E.style.resize="none":ye.resize==="both"&&(E.style.resize="horizontal"),ye.boxSizing==="content-box"?O=-(parseFloat(ye.paddingTop)+parseFloat(ye.paddingBottom)):O=parseFloat(ye.borderTopWidth)+parseFloat(ye.borderBottomWidth),isNaN(O)&&(O=0),M()}function ae(ye){{var ke=E.style.width;E.style.width="0px",E.offsetWidth,E.style.width=ke}E.style.overflowY=ye}function ie(ye){for(var ke=[];ye&&ye.parentNode&&ye.parentNode instanceof Element;)ye.parentNode.scrollTop&&ke.push({node:ye.parentNode,scrollTop:ye.parentNode.scrollTop}),ye=ye.parentNode;return ke}function he(){if(E.scrollHeight!==0){var ye=ie(E),ke=document.documentElement&&document.documentElement.scrollTop;E.style.height="",E.style.height=E.scrollHeight+O+"px",A=E.clientWidth,ye.forEach(function(Re){Re.node.scrollTop=Re.scrollTop}),ke&&(document.documentElement.scrollTop=ke)}}function M(){he();var ye=Math.round(parseFloat(E.style.height)),ke=window.getComputedStyle(E,null),Re=ke.boxSizing==="content-box"?Math.round(parseFloat(ke.height)):E.offsetHeight;if(Re<ye?ke.overflowY==="hidden"&&(ae("scroll"),he(),Re=ke.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight):ke.overflowY!=="hidden"&&(ae("hidden"),he(),Re=ke.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight),j!==Re){j=Re;var qe=m("autosize:resized");try{E.dispatchEvent(qe)}catch{}}}var oe=function(){E.clientWidth!==A&&M()},be=function(ye){window.removeEventListener("resize",oe,!1),E.removeEventListener("input",M,!1),E.removeEventListener("keyup",M,!1),E.removeEventListener("autosize:destroy",be,!1),E.removeEventListener("autosize:update",M,!1),Object.keys(ye).forEach(function(ke){E.style[ke]=ye[ke]}),u.delete(E)}.bind(E,{height:E.style.height,resize:E.style.resize,overflowY:E.style.overflowY,overflowX:E.style.overflowX,wordWrap:E.style.wordWrap});E.addEventListener("autosize:destroy",be,!1),"onpropertychange"in E&&"oninput"in E&&E.addEventListener("keyup",M,!1),window.addEventListener("resize",oe,!1),E.addEventListener("input",M,!1),E.addEventListener("autosize:update",M,!1),E.style.overflowX="hidden",E.style.wordWrap="break-word",u.set(E,{destroy:be,update:M}),X()}function b(E){var O=u.get(E);O&&O.destroy()}function w(E){var O=u.get(E);O&&O.update()}var x=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(x=function(E){return E},x.destroy=function(E){return E},x.update=function(E){return E}):(x=function(E,O){return E&&Array.prototype.forEach.call(E.length?E:[E],function(A){return v(A)}),E},x.destroy=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],b),E},x.update=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],w),E}),a.default=x,o.exports=a.default})})(Xh,Xh.exports);var BA=function(s,c,o){return o=window.getComputedStyle,(o?o(s):s.currentStyle)[c.replace(/-(\w)/gi,function(a,u){return u.toUpperCase()})]},VA=BA,Kh=VA;function UA(s){var c=Kh(s,"line-height"),o=parseFloat(c,10);if(c===o+""){var a=s.style.lineHeight;s.style.lineHeight=c+"em",c=Kh(s,"line-height"),o=parseFloat(c,10),a?s.style.lineHeight=a:delete s.style.lineHeight}if(c.indexOf("pt")!==-1?(o*=4,o/=3):c.indexOf("mm")!==-1?(o*=96,o/=25.4):c.indexOf("cm")!==-1?(o*=96,o/=2.54):c.indexOf("in")!==-1?o*=96:c.indexOf("pc")!==-1&&(o*=16),o=Math.round(o),c==="normal"){var u=s.nodeName,m=document.createElement(u);m.innerHTML="&nbsp;",u.toUpperCase()==="TEXTAREA"&&m.setAttribute("rows","1");var v=Kh(s,"font-size");m.style.fontSize=v,m.style.padding="0px",m.style.border="0px";var b=document.body;b.appendChild(m);var w=m.offsetHeight;o=w,b.removeChild(m)}return o}var WA=UA,GA=hr&&hr.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var a in o)o.hasOwnProperty(a)&&(c[a]=o[a])};return function(c,o){s(c,o);function a(){this.constructor=c}c.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),Yh=hr&&hr.__assign||Object.assign||function(s){for(var c,o=1,a=arguments.length;o<a;o++){c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s},qA=hr&&hr.__rest||function(s,c){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&c.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)c.indexOf(a[u])<0&&(o[a[u]]=s[a[u]]);return o};qh.__esModule=!0;var Ac=Wr,qa=To.exports,Ic=Xh.exports,XA=WA,KA=XA,Sb="autosize:resized",YA=function(s){GA(c,s);function c(){var o=s!==null&&s.apply(this,arguments)||this;return o.state={lineHeight:null},o.textarea=null,o.onResize=function(a){o.props.onResize&&o.props.onResize(a)},o.updateLineHeight=function(){o.textarea&&o.setState({lineHeight:KA(o.textarea)})},o.onChange=function(a){var u=o.props.onChange;o.currentValue=a.currentTarget.value,u&&u(a)},o}return c.prototype.componentDidMount=function(){var o=this,a=this.props,u=a.maxRows,m=a.async;typeof u=="number"&&this.updateLineHeight(),typeof u=="number"||m?setTimeout(function(){return o.textarea&&Ic(o.textarea)}):this.textarea&&Ic(this.textarea),this.textarea&&this.textarea.addEventListener(Sb,this.onResize)},c.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Sb,this.onResize),Ic.destroy(this.textarea))},c.prototype.render=function(){var o=this,a=this,u=a.props;u.onResize;var m=u.maxRows;u.onChange;var v=u.style;u.innerRef;var b=u.children,w=qA(u,["onResize","maxRows","onChange","style","innerRef","children"]),x=a.state.lineHeight,E=m&&x?x*m:null;return Ac.createElement("textarea",Yh({},w,{onChange:this.onChange,style:E?Yh({},v,{maxHeight:E}):v,ref:function(O){o.textarea=O,typeof o.props.innerRef=="function"?o.props.innerRef(O):o.props.innerRef&&(o.props.innerRef.current=O)}}),b)},c.prototype.componentDidUpdate=function(){this.textarea&&Ic.update(this.textarea)},c.defaultProps={rows:1,async:!1},c.propTypes={rows:qa.number,maxRows:qa.number,onResize:qa.func,innerRef:qa.any,async:qa.bool},c}(Ac.Component);qh.TextareaAutosize=Ac.forwardRef(function(s,c){return Ac.createElement(YA,Yh({},s,{innerRef:c}))}),function(s){s.__esModule=!0;var c=qh;s.default=c.TextareaAutosize}(xb);var ZA=pr(xb);class Eb extends Z{constructor(c){super(c),r(this,"onKeyDown",o=>{o.which===13&&o.ctrlKey&&this.props.onSaveAndClose()}),r(this,"onKeyUp",o=>{o.which===46&&o.stopPropagation()}),this.element=G()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Ne.createElement(ZA,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||Fi.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown})}}function Ut(){return Ut=Object.assign?Object.assign.bind():function(s){for(var c=1;c<arguments.length;c++){var o=arguments[c];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Ut.apply(this,arguments)}function $A(s){if(s.sheet)return s.sheet;for(var c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode===s)return document.styleSheets[c]}function JA(s){var c=document.createElement("style");return c.setAttribute("data-emotion",s.key),s.nonce!==void 0&&c.setAttribute("nonce",s.nonce),c.appendChild(document.createTextNode("")),c.setAttribute("data-s",""),c}var QA=function(){function s(o){var a=this;this._insertTag=function(u){var m;a.tags.length===0?a.insertionPoint?m=a.insertionPoint.nextSibling:a.prepend?m=a.container.firstChild:m=a.before:m=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(u,m),a.tags.push(u)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var c=s.prototype;return c.hydrate=function(o){o.forEach(this._insertTag)},c.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JA(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var u=$A(a);try{u.insertRule(o,u.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(o));this.ctr++},c.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},s}(),fi="-ms-",Mc="-moz-",gn="-webkit-",Tb="comm",Zh="rule",$h="decl",eI="@import",Cb="@keyframes",tI="@layer",nI=Math.abs,zc=String.fromCharCode,iI=Object.assign;function rI(s,c){return oi(s,0)^45?(((c<<2^oi(s,0))<<2^oi(s,1))<<2^oi(s,2))<<2^oi(s,3):0}function kb(s){return s.trim()}function oI(s,c){return(s=c.exec(s))?s[0]:s}function vn(s,c,o){return s.replace(c,o)}function Jh(s,c){return s.indexOf(c)}function oi(s,c){return s.charCodeAt(c)|0}function Xa(s,c,o){return s.slice(c,o)}function vr(s){return s.length}function Qh(s){return s.length}function Lc(s,c){return c.push(s),s}function sI(s,c){return s.map(c).join("")}var Fc=1,Fs=1,Pb=0,_i=0,Gn=0,Ns="";function Nc(s,c,o,a,u,m,v){return{value:s,root:c,parent:o,type:a,props:u,children:m,line:Fc,column:Fs,length:v,return:""}}function Ka(s,c){return iI(Nc("",null,null,"",null,null,0),s,{length:-s.length},c)}function aI(){return Gn}function lI(){return Gn=_i>0?oi(Ns,--_i):0,Fs--,Gn===10&&(Fs=1,Fc--),Gn}function Ni(){return Gn=_i<Pb?oi(Ns,_i++):0,Fs++,Gn===10&&(Fs=1,Fc++),Gn}function yr(){return oi(Ns,_i)}function Hc(){return _i}function Ya(s,c){return Xa(Ns,s,c)}function Za(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rb(s){return Fc=Fs=1,Pb=vr(Ns=s),_i=0,[]}function _b(s){return Ns="",s}function jc(s){return kb(Ya(_i-1,ep(s===91?s+2:s===40?s+1:s)))}function cI(s){for(;(Gn=yr())&&Gn<33;)Ni();return Za(s)>2||Za(Gn)>3?"":" "}function uI(s,c){for(;--c&&Ni()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return Ya(s,Hc()+(c<6&&yr()==32&&Ni()==32))}function ep(s){for(;Ni();)switch(Gn){case s:return _i;case 34:case 39:s!==34&&s!==39&&ep(Gn);break;case 40:s===41&&ep(s);break;case 92:Ni();break}return _i}function dI(s,c){for(;Ni()&&s+Gn!==57&&!(s+Gn===84&&yr()===47););return"/*"+Ya(c,_i-1)+"*"+zc(s===47?s:Ni())}function hI(s){for(;!Za(yr());)Ni();return Ya(s,_i)}function pI(s){return _b(Bc("",null,null,null,[""],s=Rb(s),0,[0],s))}function Bc(s,c,o,a,u,m,v,b,w){for(var x=0,E=0,O=v,A=0,j=0,X=0,ae=1,ie=1,he=1,M=0,oe="",be=u,ye=m,ke=a,Re=oe;ie;)switch(X=M,M=Ni()){case 40:if(X!=108&&oi(Re,O-1)==58){Jh(Re+=vn(jc(M),"&","&\f"),"&\f")!=-1&&(he=-1);break}case 34:case 39:case 91:Re+=jc(M);break;case 9:case 10:case 13:case 32:Re+=cI(X);break;case 92:Re+=uI(Hc()-1,7);continue;case 47:switch(yr()){case 42:case 47:Lc(fI(dI(Ni(),Hc()),c,o),w);break;default:Re+="/"}break;case 123*ae:b[x++]=vr(Re)*he;case 125*ae:case 59:case 0:switch(M){case 0:case 125:ie=0;case 59+E:he==-1&&(Re=vn(Re,/\f/g,"")),j>0&&vr(Re)-O&&Lc(j>32?Db(Re+";",a,o,O-1):Db(vn(Re," ","")+";",a,o,O-2),w);break;case 59:Re+=";";default:if(Lc(ke=Ob(Re,c,o,x,E,u,b,oe,be=[],ye=[],O),m),M===123)if(E===0)Bc(Re,c,ke,ke,be,m,O,b,ye);else switch(A===99&&oi(Re,3)===110?100:A){case 100:case 108:case 109:case 115:Bc(s,ke,ke,a&&Lc(Ob(s,ke,ke,0,0,u,b,oe,u,be=[],O),ye),u,ye,O,b,a?be:ye);break;default:Bc(Re,ke,ke,ke,[""],ye,0,b,ye)}}x=E=j=0,ae=he=1,oe=Re="",O=v;break;case 58:O=1+vr(Re),j=X;default:if(ae<1){if(M==123)--ae;else if(M==125&&ae++==0&&lI()==125)continue}switch(Re+=zc(M),M*ae){case 38:he=E>0?1:(Re+="\f",-1);break;case 44:b[x++]=(vr(Re)-1)*he,he=1;break;case 64:yr()===45&&(Re+=jc(Ni())),A=yr(),E=O=vr(oe=Re+=hI(Hc())),M++;break;case 45:X===45&&vr(Re)==2&&(ae=0)}}return m}function Ob(s,c,o,a,u,m,v,b,w,x,E){for(var O=u-1,A=u===0?m:[""],j=Qh(A),X=0,ae=0,ie=0;X<a;++X)for(var he=0,M=Xa(s,O+1,O=nI(ae=v[X])),oe=s;he<j;++he)(oe=kb(ae>0?A[he]+" "+M:vn(M,/&\f/g,A[he])))&&(w[ie++]=oe);return Nc(s,c,o,u===0?Zh:b,w,x,E)}function fI(s,c,o){return Nc(s,c,o,Tb,zc(aI()),Xa(s,2,-2),0)}function Db(s,c,o,a){return Nc(s,c,o,$h,Xa(s,0,a),Xa(s,a+1,-1),a)}function Hs(s,c){for(var o="",a=Qh(s),u=0;u<a;u++)o+=c(s[u],u,s,c)||"";return o}function mI(s,c,o,a){switch(s.type){case tI:if(s.children.length)break;case eI:case $h:return s.return=s.return||s.value;case Tb:return"";case Cb:return s.return=s.value+"{"+Hs(s.children,a)+"}";case Zh:s.value=s.props.join(",")}return vr(o=Hs(s.children,a))?s.return=s.value+"{"+o+"}":""}function gI(s){var c=Qh(s);return function(o,a,u,m){for(var v="",b=0;b<c;b++)v+=s[b](o,a,u,m)||"";return v}}function vI(s){return function(c){c.root||(c=c.return)&&s(c)}}function yI(s){var c=Object.create(null);return function(o){return c[o]===void 0&&(c[o]=s(o)),c[o]}}var bI=function(s,c,o){for(var a=0,u=0;a=u,u=yr(),a===38&&u===12&&(c[o]=1),!Za(u);)Ni();return Ya(s,_i)},wI=function(s,c){var o=-1,a=44;do switch(Za(a)){case 0:a===38&&yr()===12&&(c[o]=1),s[o]+=bI(_i-1,c,o);break;case 2:s[o]+=jc(a);break;case 4:if(a===44){s[++o]=yr()===58?"&\f":"",c[o]=s[o].length;break}default:s[o]+=zc(a)}while(a=Ni());return s},xI=function(s,c){return _b(wI(Rb(s),c))},Ab=new WeakMap,SI=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var c=s.value,o=s.parent,a=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&c.charCodeAt(0)!==58&&!Ab.get(o))&&!a){Ab.set(s,!0);for(var u=[],m=xI(c,u),v=o.props,b=0,w=0;b<m.length;b++)for(var x=0;x<v.length;x++,w++)s.props[w]=u[b]?m[b].replace(/&\f/g,v[x]):v[x]+" "+m[b]}}},EI=function(s){if(s.type==="decl"){var c=s.value;c.charCodeAt(0)===108&&c.charCodeAt(2)===98&&(s.return="",s.value="")}};function Ib(s,c){switch(rI(s,c)){case 5103:return gn+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gn+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return gn+s+Mc+s+fi+s+s;case 6828:case 4268:return gn+s+fi+s+s;case 6165:return gn+s+fi+"flex-"+s+s;case 5187:return gn+s+vn(s,/(\w+).+(:[^]+)/,gn+"box-$1$2"+fi+"flex-$1$2")+s;case 5443:return gn+s+fi+"flex-item-"+vn(s,/flex-|-self/,"")+s;case 4675:return gn+s+fi+"flex-line-pack"+vn(s,/align-content|flex-|-self/,"")+s;case 5548:return gn+s+fi+vn(s,"shrink","negative")+s;case 5292:return gn+s+fi+vn(s,"basis","preferred-size")+s;case 6060:return gn+"box-"+vn(s,"-grow","")+gn+s+fi+vn(s,"grow","positive")+s;case 4554:return gn+vn(s,/([^-])(transform)/g,"$1"+gn+"$2")+s;case 6187:return vn(vn(vn(s,/(zoom-|grab)/,gn+"$1"),/(image-set)/,gn+"$1"),s,"")+s;case 5495:case 3959:return vn(s,/(image-set\([^]*)/,gn+"$1$`$1");case 4968:return vn(vn(s,/(.+:)(flex-)?(.*)/,gn+"box-pack:$3"+fi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gn+s+s;case 4095:case 3583:case 4068:case 2532:return vn(s,/(.+)-inline(.+)/,gn+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vr(s)-1-c>6)switch(oi(s,c+1)){case 109:if(oi(s,c+4)!==45)break;case 102:return vn(s,/(.+:)(.+)-([^]+)/,"$1"+gn+"$2-$3$1"+Mc+(oi(s,c+3)==108?"$3":"$2-$3"))+s;case 115:return~Jh(s,"stretch")?Ib(vn(s,"stretch","fill-available"),c)+s:s}break;case 4949:if(oi(s,c+1)!==115)break;case 6444:switch(oi(s,vr(s)-3-(~Jh(s,"!important")&&10))){case 107:return vn(s,":",":"+gn)+s;case 101:return vn(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gn+(oi(s,14)===45?"inline-":"")+"box$3$1"+gn+"$2$3$1"+fi+"$2box$3")+s}break;case 5936:switch(oi(s,c+11)){case 114:return gn+s+fi+vn(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return gn+s+fi+vn(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return gn+s+fi+vn(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return gn+s+fi+s+s}return s}var TI=function(s,c,o,a){if(s.length>-1&&!s.return)switch(s.type){case $h:s.return=Ib(s.value,s.length);break;case Cb:return Hs([Ka(s,{value:vn(s.value,"@","@"+gn)})],a);case Zh:if(s.length)return sI(s.props,function(u){switch(oI(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hs([Ka(s,{props:[vn(u,/:(read-\w+)/,":"+Mc+"$1")]})],a);case"::placeholder":return Hs([Ka(s,{props:[vn(u,/:(plac\w+)/,":"+gn+"input-$1")]}),Ka(s,{props:[vn(u,/:(plac\w+)/,":"+Mc+"$1")]}),Ka(s,{props:[vn(u,/:(plac\w+)/,fi+"input-$1")]})],a)}return""})}},CI=[TI],kI=function(s){var c=s.key;if(c==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(X){var ae=X.getAttribute("data-emotion");ae.indexOf(" ")!==-1&&(document.head.appendChild(X),X.setAttribute("data-s",""))})}var a=s.stylisPlugins||CI,u={},m,v=[];m=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+c+' "]'),function(X){for(var ae=X.getAttribute("data-emotion").split(" "),ie=1;ie<ae.length;ie++)u[ae[ie]]=!0;v.push(X)});var b,w=[SI,EI];{var x,E=[mI,vI(function(X){x.insert(X)})],O=gI(w.concat(a,E)),A=function(X){return Hs(pI(X),O)};b=function(X,ae,ie,he){x=ie,A(X?X+"{"+ae.styles+"}":ae.styles),he&&(j.inserted[ae.name]=!0)}}var j={key:c,sheet:new QA({key:c,container:m,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:u,registered:{},insert:b};return j.sheet.hydrate(v),j},Mb={exports:{}},kn={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qn=typeof Symbol=="function"&&Symbol.for,tp=Qn?Symbol.for("react.element"):60103,np=Qn?Symbol.for("react.portal"):60106,Vc=Qn?Symbol.for("react.fragment"):60107,Uc=Qn?Symbol.for("react.strict_mode"):60108,Wc=Qn?Symbol.for("react.profiler"):60114,Gc=Qn?Symbol.for("react.provider"):60109,qc=Qn?Symbol.for("react.context"):60110,ip=Qn?Symbol.for("react.async_mode"):60111,Xc=Qn?Symbol.for("react.concurrent_mode"):60111,Kc=Qn?Symbol.for("react.forward_ref"):60112,Yc=Qn?Symbol.for("react.suspense"):60113,PI=Qn?Symbol.for("react.suspense_list"):60120,Zc=Qn?Symbol.for("react.memo"):60115,$c=Qn?Symbol.for("react.lazy"):60116,RI=Qn?Symbol.for("react.block"):60121,_I=Qn?Symbol.for("react.fundamental"):60117,OI=Qn?Symbol.for("react.responder"):60118,DI=Qn?Symbol.for("react.scope"):60119;function Hi(s){if(typeof s=="object"&&s!==null){var c=s.$$typeof;switch(c){case tp:switch(s=s.type,s){case ip:case Xc:case Vc:case Wc:case Uc:case Yc:return s;default:switch(s=s&&s.$$typeof,s){case qc:case Kc:case $c:case Zc:case Gc:return s;default:return c}}case np:return c}}}function zb(s){return Hi(s)===Xc}kn.AsyncMode=ip,kn.ConcurrentMode=Xc,kn.ContextConsumer=qc,kn.ContextProvider=Gc,kn.Element=tp,kn.ForwardRef=Kc,kn.Fragment=Vc,kn.Lazy=$c,kn.Memo=Zc,kn.Portal=np,kn.Profiler=Wc,kn.StrictMode=Uc,kn.Suspense=Yc,kn.isAsyncMode=function(s){return zb(s)||Hi(s)===ip},kn.isConcurrentMode=zb,kn.isContextConsumer=function(s){return Hi(s)===qc},kn.isContextProvider=function(s){return Hi(s)===Gc},kn.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===tp},kn.isForwardRef=function(s){return Hi(s)===Kc},kn.isFragment=function(s){return Hi(s)===Vc},kn.isLazy=function(s){return Hi(s)===$c},kn.isMemo=function(s){return Hi(s)===Zc},kn.isPortal=function(s){return Hi(s)===np},kn.isProfiler=function(s){return Hi(s)===Wc},kn.isStrictMode=function(s){return Hi(s)===Uc},kn.isSuspense=function(s){return Hi(s)===Yc},kn.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===Vc||s===Xc||s===Wc||s===Uc||s===Yc||s===PI||typeof s=="object"&&s!==null&&(s.$$typeof===$c||s.$$typeof===Zc||s.$$typeof===Gc||s.$$typeof===qc||s.$$typeof===Kc||s.$$typeof===_I||s.$$typeof===OI||s.$$typeof===DI||s.$$typeof===RI)},kn.typeOf=Hi,Mb.exports=kn;var Lb=Mb.exports,AI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},II={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fb={};Fb[Lb.ForwardRef]=AI,Fb[Lb.Memo]=II;var MI=!0;function Nb(s,c,o){var a="";return o.split(" ").forEach(function(u){s[u]!==void 0?c.push(s[u]+";"):a+=u+" "}),a}var rp=function(s,c,o){var a=s.key+"-"+c.name;(o===!1||MI===!1)&&s.registered[a]===void 0&&(s.registered[a]=c.styles)},Hb=function(s,c,o){rp(s,c,o);var a=s.key+"-"+c.name;if(s.inserted[c.name]===void 0){var u=c;do s.insert(c===u?"."+a:"",u,s.sheet,!0),u=u.next;while(u!==void 0)}};function zI(s){for(var c=0,o,a=0,u=s.length;u>=4;++a,u-=4)o=s.charCodeAt(a)&255|(s.charCodeAt(++a)&255)<<8|(s.charCodeAt(++a)&255)<<16|(s.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,c=(o&65535)*1540483477+((o>>>16)*59797<<16)^(c&65535)*1540483477+((c>>>16)*59797<<16);switch(u){case 3:c^=(s.charCodeAt(a+2)&255)<<16;case 2:c^=(s.charCodeAt(a+1)&255)<<8;case 1:c^=s.charCodeAt(a)&255,c=(c&65535)*1540483477+((c>>>16)*59797<<16)}return c^=c>>>13,c=(c&65535)*1540483477+((c>>>16)*59797<<16),((c^c>>>15)>>>0).toString(36)}var LI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},FI=/[A-Z]|^ms/g,NI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jb=function(s){return s.charCodeAt(1)===45},Bb=function(s){return s!=null&&typeof s!="boolean"},op=yI(function(s){return jb(s)?s:s.replace(FI,"-$&").toLowerCase()}),Vb=function(s,c){switch(s){case"animation":case"animationName":if(typeof c=="string")return c.replace(NI,function(o,a,u){return br={name:a,styles:u,next:br},a})}return LI[s]!==1&&!jb(s)&&typeof c=="number"&&c!==0?c+"px":c};function $a(s,c,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return br={name:o.name,styles:o.styles,next:br},o.name;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)br={name:a.name,styles:a.styles,next:br},a=a.next;var u=o.styles+";";return u}return HI(s,c,o)}case"function":{if(s!==void 0){var m=br,v=o(s);return br=m,$a(s,c,v)}break}}if(c==null)return o;var b=c[o];return b!==void 0?b:o}function HI(s,c,o){var a="";if(Array.isArray(o))for(var u=0;u<o.length;u++)a+=$a(s,c,o[u])+";";else for(var m in o){var v=o[m];if(typeof v!="object")c!=null&&c[v]!==void 0?a+=m+"{"+c[v]+"}":Bb(v)&&(a+=op(m)+":"+Vb(m,v)+";");else if(Array.isArray(v)&&typeof v[0]=="string"&&(c==null||c[v[0]]===void 0))for(var b=0;b<v.length;b++)Bb(v[b])&&(a+=op(m)+":"+Vb(m,v[b])+";");else{var w=$a(s,c,v);switch(m){case"animation":case"animationName":{a+=op(m)+":"+w+";";break}default:a+=m+"{"+w+"}"}}}return a}var Ub=/label:\s*([^\s;\n{]+)\s*(;|$)/g,br,sp=function(s,c,o){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var a=!0,u="";br=void 0;var m=s[0];m==null||m.raw===void 0?(a=!1,u+=$a(o,c,m)):u+=m[0];for(var v=1;v<s.length;v++)u+=$a(o,c,s[v]),a&&(u+=m[v]);Ub.lastIndex=0;for(var b="",w;(w=Ub.exec(u))!==null;)b+="-"+w[1];var x=zI(u)+b;return{name:x,styles:u,next:br}},jI=function(s){return s()},BI=vs.useInsertionEffect?vs.useInsertionEffect:!1,Wb=BI||jI,ap={}.hasOwnProperty,Gb=_t(typeof HTMLElement<"u"?kI({key:"css"}):null);Gb.Provider;var qb=function(s){return Pr(function(c,o){var a=Fe(Gb);return s(c,a,o)})},Xb=_t({}),lp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",VI=function(s,c){var o={};for(var a in c)ap.call(c,a)&&(o[a]=c[a]);return o[lp]=s,o},UI=function(s){var c=s.cache,o=s.serialized,a=s.isStringTag;return rp(c,o,a),Wb(function(){return Hb(c,o,a)}),null},WI=qb(function(s,c,o){var a=s.css;typeof a=="string"&&c.registered[a]!==void 0&&(a=c.registered[a]);var u=s[lp],m=[a],v="";typeof s.className=="string"?v=Nb(c.registered,m,s.className):s.className!=null&&(v=s.className+" ");var b=sp(m,void 0,Fe(Xb));v+=c.key+"-"+b.name;var w={};for(var x in s)ap.call(s,x)&&x!=="css"&&x!==lp&&(w[x]=s[x]);return w.ref=o,w.className=v,D(ne,null,D(UI,{cache:c,serialized:b,isStringTag:typeof u=="string"}),D(u,w))}),GI=WI,Wt=function(s,c){var o=arguments;if(c==null||!ap.call(c,"css"))return D.apply(void 0,o);var a=o.length,u=new Array(a);u[0]=GI,u[1]=VI(s,c);for(var m=2;m<a;m++)u[m]=o[m];return D.apply(null,u)};function cp(){for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return sp(c)}var qI=function(){var s=cp.apply(void 0,arguments),c="animation-"+s.name;return{name:c,styles:"@keyframes "+c+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},XI=function s(c){for(var o=c.length,a=0,u="";a<o;a++){var m=c[a];if(m!=null){var v=void 0;switch(typeof m){case"boolean":break;case"object":{if(Array.isArray(m))v=s(m);else{v="";for(var b in m)m[b]&&b&&(v&&(v+=" "),v+=b)}break}default:v=m}v&&(u&&(u+=" "),u+=v)}}return u};function KI(s,c,o){var a=[],u=Nb(s,a,o);return a.length<2?o:u+c(a)}var YI=function(s){var c=s.cache,o=s.serializedArr;return Wb(function(){for(var a=0;a<o.length;a++)Hb(c,o[a],!1)}),null},ZI=qb(function(s,c){var o=[],a=function(){for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];var E=sp(w,c.registered);return o.push(E),rp(c,E,!1),c.key+"-"+E.name},u=function(){for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];return KI(c.registered,a,XI(w))},m={css:a,cx:u,theme:Fe(Xb)},v=s.children(m);return D(ne,null,D(YI,{cache:c,serializedArr:o}),v)});function $I(s,c){return c||(c=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(c)}}))}function up(s,c){if(s==null)return{};var o={},a=Object.keys(s),u,m;for(m=0;m<a.length;m++)u=a[m],!(c.indexOf(u)>=0)&&(o[u]=s[u]);return o}function js(s,c){if(s==null)return{};var o=up(s,c),a,u;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(s);for(u=0;u<m.length;u++)a=m[u],!(c.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,a)||(o[a]=s[a]))}return o}function Bs(s){return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Bs(s)}var Kb={};Object.defineProperty(Kb,"__esModule",{value:!0});var dp=Object.assign||function(s){for(var c=1;c<arguments.length;c++){var o=arguments[c];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Yb=function(){function s(c,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}return function(c,o,a){return o&&s(c.prototype,o),a&&s(c,a),c}}(),Zb=Wr,Ja=$b(Zb),JI=To.exports,Zn=$b(JI);function $b(s){return s&&s.__esModule?s:{default:s}}function QI(s,c){var o={};for(var a in s)c.indexOf(a)>=0||!Object.prototype.hasOwnProperty.call(s,a)||(o[a]=s[a]);return o}function eM(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function tM(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function nM(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var Jb={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},iM=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],rM=function(s){return iM.forEach(function(c){return delete s[c]}),s},Qb=function(s,c){c.style.fontSize=s.fontSize,c.style.fontFamily=s.fontFamily,c.style.fontWeight=s.fontWeight,c.style.fontStyle=s.fontStyle,c.style.letterSpacing=s.letterSpacing,c.style.textTransform=s.textTransform},ew=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,tw=function(){return ew?"_"+Math.random().toString(36).substr(2,12):void 0},hp=function(s){nM(c,s),Yb(c,null,[{key:"getDerivedStateFromProps",value:function(o,a){var u=o.id;return u!==a.prevId?{inputId:u||tw(),prevId:u}:null}}]);function c(o){eM(this,c);var a=tM(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,o));return a.inputRef=function(u){a.input=u,typeof a.props.inputRef=="function"&&a.props.inputRef(u)},a.placeHolderSizerRef=function(u){a.placeHolderSizer=u},a.sizerRef=function(u){a.sizer=u},a.state={inputWidth:o.minWidth,inputId:o.id||tw(),prevId:o.id},a}return Yb(c,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(o,a){a.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var o=this.input&&window.getComputedStyle(this.input);!o||(Qb(o,this.sizer),this.placeHolderSizer&&Qb(o,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var o=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?o=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:o=this.sizer.scrollWidth+2;var a=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;o+=a,o<this.props.minWidth&&(o=this.props.minWidth),o!==this.state.inputWidth&&this.setState({inputWidth:o})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var o=this.props.injectStyles;return ew&&o?Ja.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var o=[this.props.defaultValue,this.props.value,""].reduce(function(v,b){return v??b}),a=dp({},this.props.style);a.display||(a.display="inline-block");var u=dp({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),m=QI(this.props,[]);return rM(m),m.className=this.props.inputClassName,m.id=this.state.inputId,m.style=u,Ja.default.createElement("div",{className:this.props.className,style:a},this.renderStyles(),Ja.default.createElement("input",dp({},m,{ref:this.inputRef})),Ja.default.createElement("div",{ref:this.sizerRef,style:Jb},o),this.props.placeholder?Ja.default.createElement("div",{ref:this.placeHolderSizerRef,style:Jb},this.props.placeholder):null)}}]),c}(Zb.Component);hp.propTypes={className:Zn.default.string,defaultValue:Zn.default.any,extraWidth:Zn.default.oneOfType([Zn.default.number,Zn.default.string]),id:Zn.default.string,injectStyles:Zn.default.bool,inputClassName:Zn.default.string,inputRef:Zn.default.func,inputStyle:Zn.default.object,minWidth:Zn.default.oneOfType([Zn.default.number,Zn.default.string]),onAutosize:Zn.default.func,onChange:Zn.default.func,placeholder:Zn.default.string,placeholderIsMinWidth:Zn.default.bool,style:Zn.default.object,value:Zn.default.any},hp.defaultProps={minWidth:1,injectStyles:!0};var oM=Kb.default=hp;function Jc(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function sM(s,c){if(Bs(s)!=="object"||s===null)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,c);if(Bs(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function nw(s){var c=sM(s,"string");return Bs(c)==="symbol"?c:String(c)}function iw(s,c){for(var o=0;o<c.length;o++){var a=c[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,nw(a.key),a)}}function Qc(s,c,o){return c&&iw(s.prototype,c),o&&iw(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}function eu(s,c){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},eu(s,c)}function tu(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&eu(s,c)}function Lr(s,c,o){return c=nw(c),c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}function aM(s,c,o){return c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}function rw(s,c){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);c&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),o.push.apply(o,a)}return o}function si(s){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{};c%2?rw(Object(o),!0).forEach(function(a){aM(s,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):rw(Object(o)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}return s}function nu(s){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},nu(s)}function lM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function cM(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function uM(s,c){return c&&(typeof c=="object"||typeof c=="function")?c:cM(s)}function iu(s){var c=lM();return function(){var o=nu(s),a;if(c){var u=nu(this).constructor;a=Reflect.construct(o,arguments,u)}else a=o.apply(this,arguments);return uM(this,a)}}var ru=function(){};function dM(s,c){return c?c[0]==="-"?s+c:s+"__"+c:s}function hM(s,c,o){var a=[o];if(c&&s)for(var u in c)c.hasOwnProperty(u)&&c[u]&&a.push("".concat(dM(s,u)));return a.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var ow=function(s){return Array.isArray(s)?s.filter(Boolean):Bs(s)==="object"&&s!==null?[s]:[]},sw=function(s){s.className,s.clearValue,s.cx,s.getStyles,s.getValue,s.hasValue,s.isMulti,s.isRtl,s.options,s.selectOption,s.selectProps,s.setValue,s.theme;var c=js(s,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return si({},c)};function pp(s){return[document.documentElement,document.body,window].indexOf(s)>-1}function aw(s){return pp(s)?window.pageYOffset:s.scrollTop}function ou(s,c){if(pp(s)){window.scrollTo(0,c);return}s.scrollTop=c}function pM(s){var c=getComputedStyle(s),o=c.position==="absolute",a=/(auto|scroll)/,u=document.documentElement;if(c.position==="fixed")return u;for(var m=s;m=m.parentElement;)if(c=getComputedStyle(m),!(o&&c.position==="static")&&a.test(c.overflow+c.overflowY+c.overflowX))return m;return u}function fM(s,c,o,a){return o*((s=s/a-1)*s*s+1)+c}function su(s,c){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ru,u=aw(s),m=c-u,v=10,b=0;function w(){b+=v;var x=fM(b,u,m,o);ou(s,x),b<o?window.requestAnimationFrame(w):a(s)}w()}function mM(s,c){var o=s.getBoundingClientRect(),a=c.getBoundingClientRect(),u=c.offsetHeight/3;a.bottom+u>o.bottom?ou(s,Math.min(c.offsetTop+c.clientHeight-s.offsetHeight+u,s.scrollHeight)):a.top-u<o.top&&ou(s,Math.max(c.offsetTop-u,0))}function gM(s){var c=s.getBoundingClientRect();return{bottom:c.bottom,height:c.height,left:c.left,right:c.right,top:c.top,width:c.width}}function lw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function vM(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var cw=!1,yM={get passive(){return cw=!0}},au=typeof window<"u"?window:{};au.addEventListener&&au.removeEventListener&&(au.addEventListener("p",ru,yM),au.removeEventListener("p",ru,!1));var bM=cw;function wM(s){var c=s.maxHeight,o=s.menuEl,a=s.minHeight,u=s.placement,m=s.shouldScroll,v=s.isFixedPosition,b=s.theme,w=b.spacing,x=pM(o),E={placement:"bottom",maxHeight:c};if(!o||!o.offsetParent)return E;var O=x.getBoundingClientRect(),A=O.height,j=o.getBoundingClientRect(),X=j.bottom,ae=j.height,ie=j.top,he=o.offsetParent.getBoundingClientRect(),M=he.top,oe=window.innerHeight,be=aw(x),ye=parseInt(getComputedStyle(o).marginBottom,10),ke=parseInt(getComputedStyle(o).marginTop,10),Re=M-ke,qe=oe-ie,Ye=Re+be,ut=A-be-ie,ft=X-oe+be+ye,dt=be+ie-ke,Ot=160;switch(u){case"auto":case"bottom":if(qe>=ae)return{placement:"bottom",maxHeight:c};if(ut>=ae&&!v)return m&&su(x,ft,Ot),{placement:"bottom",maxHeight:c};if(!v&&ut>=a||v&&qe>=a){m&&su(x,ft,Ot);var Rt=v?qe-ye:ut-ye;return{placement:"bottom",maxHeight:Rt}}if(u==="auto"||v){var Kt=c,Xt=v?Re:Ye;return Xt>=a&&(Kt=Math.min(Xt-ye-w.controlHeight,c)),{placement:"top",maxHeight:Kt}}if(u==="bottom")return m&&ou(x,ft),{placement:"bottom",maxHeight:c};break;case"top":if(Re>=ae)return{placement:"top",maxHeight:c};if(Ye>=ae&&!v)return m&&su(x,dt,Ot),{placement:"top",maxHeight:c};if(!v&&Ye>=a||v&&Re>=a){var Zt=c;return(!v&&Ye>=a||v&&Re>=a)&&(Zt=v?Re-ke:Ye-ke),m&&su(x,dt,Ot),{placement:"top",maxHeight:Zt}}return{placement:"bottom",maxHeight:c};default:throw new Error('Invalid placement provided "'.concat(u,'".'))}return E}function xM(s){var c={bottom:"top",top:"bottom"};return s?c[s]:"bottom"}var fp=function(s){return s==="auto"?"bottom":s},SM=function(s){var c,o=s.placement,a=s.theme,u=a.borderRadius,m=a.spacing,v=a.colors;return c={label:"menu"},Lr(c,xM(o),"100%"),Lr(c,"backgroundColor",v.neutral0),Lr(c,"borderRadius",u),Lr(c,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Lr(c,"marginBottom",m.menuGutter),Lr(c,"marginTop",m.menuGutter),Lr(c,"position","absolute"),Lr(c,"width","100%"),Lr(c,"zIndex",1),c},uw=_t({getPortalPlacement:null}),dw=function(s){tu(o,s);var c=iu(o);function o(){var a;Jc(this,o);for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=c.call.apply(c,[this].concat(m)),a.state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(b){var w=a.props,x=w.minMenuHeight,E=w.maxMenuHeight,O=w.menuPlacement,A=w.menuPosition,j=w.menuShouldScrollIntoView,X=w.theme;if(b){var ae=A==="fixed",ie=j&&!ae,he=wM({maxHeight:E,menuEl:b,minHeight:x,placement:O,shouldScroll:ie,isFixedPosition:ae,theme:X}),M=a.context.getPortalPlacement;M&&M(he),a.setState(he)}},a.getUpdatedProps=function(){var b=a.props.menuPlacement,w=a.state.placement||fp(b);return si(si({},a.props),{},{placement:w,maxHeight:a.state.maxHeight})},a}return Qc(o,[{key:"render",value:function(){var a=this.props.children;return a({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),o}(Z);dw.contextType=uw;var EM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerRef,v=s.innerProps;return Wt("div",Ut({css:u("menu",s),className:a({menu:!0},o),ref:m},v),c)},TM=function(s){var c=s.maxHeight,o=s.theme.spacing.baseUnit;return{maxHeight:c,overflowY:"auto",paddingBottom:o,paddingTop:o,position:"relative",WebkitOverflowScrolling:"touch"}},CM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps,v=s.innerRef,b=s.isMulti;return Wt("div",Ut({css:u("menuList",s),className:a({"menu-list":!0,"menu-list--is-multi":b},o),ref:v},m),c)},hw=function(s){var c=s.theme,o=c.spacing.baseUnit,a=c.colors;return{color:a.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px"),textAlign:"center"}},kM=hw,PM=hw,pw=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Wt("div",Ut({css:u("noOptionsMessage",s),className:a({"menu-notice":!0,"menu-notice--no-options":!0},o)},m),c)};pw.defaultProps={children:"No options"};var fw=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Wt("div",Ut({css:u("loadingMessage",s),className:a({"menu-notice":!0,"menu-notice--loading":!0},o)},m),c)};fw.defaultProps={children:"Loading..."};var RM=function(s){var c=s.rect,o=s.offset,a=s.position;return{left:c.left,position:a,top:o,width:c.width,zIndex:1}},_M=function(s){tu(o,s);var c=iu(o);function o(){var a;Jc(this,o);for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=c.call.apply(c,[this].concat(m)),a.state={placement:null},a.getPortalPlacement=function(b){var w=b.placement,x=fp(a.props.menuPlacement);w!==x&&a.setState({placement:w})},a}return Qc(o,[{key:"render",value:function(){var a=this.props,u=a.appendTo,m=a.children,v=a.className,b=a.controlElement,w=a.cx,x=a.innerProps,E=a.menuPlacement,O=a.menuPosition,A=a.getStyles,j=O==="fixed";if(!u&&!j||!b)return null;var X=this.state.placement||fp(E),ae=gM(b),ie=j?0:window.pageYOffset,he=ae[X]+ie,M={offset:he,position:O,rect:ae},oe=Wt("div",Ut({css:A("menuPortal",M),className:w({"menu-portal":!0},v)},x),m);return Wt(uw.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},u?dr(oe,u):oe)}}]),o}(Z),OM=function(s){var c=s.isDisabled,o=s.isRtl;return{label:"container",direction:o?"rtl":null,pointerEvents:c?"none":null,position:"relative"}},DM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps,v=s.isDisabled,b=s.isRtl;return Wt("div",Ut({css:u("container",s),className:a({"--is-disabled":v,"--is-rtl":b},o)},m),c)},AM=function(s){var c=s.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(c.baseUnit/2,"px ").concat(c.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},IM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.innerProps,m=s.isMulti,v=s.getStyles,b=s.hasValue;return Wt("div",Ut({css:v("valueContainer",s),className:a({"value-container":!0,"value-container--is-multi":m,"value-container--has-value":b},o)},u),c)},MM=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},zM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.innerProps,m=s.getStyles;return Wt("div",Ut({css:m("indicatorsContainer",s),className:a({indicators:!0},o)},u),c)},mw,LM={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},gw=function(s){var c=s.size,o=js(s,["size"]);return Wt("svg",Ut({height:c,width:c,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:LM},o))},mp=function(s){return Wt(gw,Ut({size:20},s),Wt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},vw=function(s){return Wt(gw,Ut({size:20},s),Wt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},yw=function(s){var c=s.isFocused,o=s.theme,a=o.spacing.baseUnit,u=o.colors;return{label:"indicatorContainer",color:c?u.neutral60:u.neutral20,display:"flex",padding:a*2,transition:"color 150ms",":hover":{color:c?u.neutral80:u.neutral40}}},FM=yw,NM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Wt("div",Ut({css:u("dropdownIndicator",s),className:a({indicator:!0,"dropdown-indicator":!0},o)},m),c||Wt(vw,null))},HM=yw,jM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Wt("div",Ut({css:u("clearIndicator",s),className:a({indicator:!0,"clear-indicator":!0},o)},m),c||Wt(mp,null))},BM=function(s){var c=s.isDisabled,o=s.theme,a=o.spacing.baseUnit,u=o.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:c?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2,width:1}},VM=function(s){var c=s.className,o=s.cx,a=s.getStyles,u=s.innerProps;return Wt("span",Ut({},u,{css:a("indicatorSeparator",s),className:o({"indicator-separator":!0},c)}))},UM=qI(mw||(mw=$I([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),WM=function(s){var c=s.isFocused,o=s.size,a=s.theme,u=a.colors,m=a.spacing.baseUnit;return{label:"loadingIndicator",color:c?u.neutral60:u.neutral20,display:"flex",padding:m*2,transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"}},gp=function(s){var c=s.delay,o=s.offset;return Wt("span",{css:cp({animation:"".concat(UM," 1s ease-in-out ").concat(c,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},bw=function(s){var c=s.className,o=s.cx,a=s.getStyles,u=s.innerProps,m=s.isRtl;return Wt("div",Ut({css:a("loadingIndicator",s),className:o({indicator:!0,"loading-indicator":!0},c)},u),Wt(gp,{delay:0,offset:m}),Wt(gp,{delay:160,offset:!0}),Wt(gp,{delay:320,offset:!m}))};bw.defaultProps={size:4};var GM=function(s){var c=s.isDisabled,o=s.isFocused,a=s.theme,u=a.colors,m=a.borderRadius,v=a.spacing;return{label:"control",alignItems:"center",backgroundColor:c?u.neutral5:u.neutral0,borderColor:c?u.neutral10:o?u.primary:u.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(u.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:v.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:o?u.primary:u.neutral30}}},qM=function(s){var c=s.children,o=s.cx,a=s.getStyles,u=s.className,m=s.isDisabled,v=s.isFocused,b=s.innerRef,w=s.innerProps,x=s.menuIsOpen;return Wt("div",Ut({ref:b,css:a("control",s),className:o({control:!0,"control--is-disabled":m,"control--is-focused":v,"control--menu-is-open":x},u)},w),c)},XM=function(s){var c=s.theme.spacing;return{paddingBottom:c.baseUnit*2,paddingTop:c.baseUnit*2}},KM=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.Heading,v=s.headingProps,b=s.innerProps,w=s.label,x=s.theme,E=s.selectProps;return Wt("div",Ut({css:u("group",s),className:a({group:!0},o)},b),Wt(m,Ut({},v,{selectProps:E,theme:x,getStyles:u,cx:a}),w),Wt("div",null,c))},YM=function(s){var c=s.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:c.baseUnit*3,paddingRight:c.baseUnit*3,textTransform:"uppercase"}},ZM=function(s){var c=s.getStyles,o=s.cx,a=s.className,u=sw(s);u.data;var m=js(u,["data"]);return Wt("div",Ut({css:c("groupHeading",s),className:o({"group-heading":!0},a)},m))},$M=function(s){var c=s.isDisabled,o=s.theme,a=o.spacing,u=o.colors;return{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,visibility:c?"hidden":"visible",color:u.neutral80}},JM=function(s){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:s?0:1,outline:0,padding:0,color:"inherit"}},QM=function(s){var c=s.className,o=s.cx,a=s.getStyles,u=sw(s),m=u.innerRef,v=u.isDisabled,b=u.isHidden,w=js(u,["innerRef","isDisabled","isHidden"]);return Wt("div",{css:a("input",s)},Wt(oM,Ut({className:o({input:!0},c),inputRef:m,inputStyle:JM(b),disabled:v},w)))},e9=function(s){var c=s.theme,o=c.spacing,a=c.borderRadius,u=c.colors;return{label:"multiValue",backgroundColor:u.neutral10,borderRadius:a/2,display:"flex",margin:o.baseUnit/2,minWidth:0}},t9=function(s){var c=s.theme,o=c.borderRadius,a=c.colors,u=s.cropWithEllipsis;return{borderRadius:o/2,color:a.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:u?"ellipsis":null,whiteSpace:"nowrap"}},n9=function(s){var c=s.theme,o=c.spacing,a=c.borderRadius,u=c.colors,m=s.isFocused;return{alignItems:"center",borderRadius:a/2,backgroundColor:m&&u.dangerLight,display:"flex",paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}}},ww=function(s){var c=s.children,o=s.innerProps;return Wt("div",o,c)},i9=ww,r9=ww;function o9(s){var c=s.children,o=s.innerProps;return Wt("div",o,c||Wt(mp,{size:14}))}var xw=function(s){var c=s.children,o=s.className,a=s.components,u=s.cx,m=s.data,v=s.getStyles,b=s.innerProps,w=s.isDisabled,x=s.removeProps,E=s.selectProps,O=a.Container,A=a.Label,j=a.Remove;return Wt(ZI,null,function(X){var ae=X.css,ie=X.cx;return Wt(O,{data:m,innerProps:si({className:ie(ae(v("multiValue",s)),u({"multi-value":!0,"multi-value--is-disabled":w},o))},b),selectProps:E},Wt(A,{data:m,innerProps:{className:ie(ae(v("multiValueLabel",s)),u({"multi-value__label":!0},o))},selectProps:E},c),Wt(j,{data:m,innerProps:si({className:ie(ae(v("multiValueRemove",s)),u({"multi-value__remove":!0},o))},x),selectProps:E}))})};xw.defaultProps={cropWithEllipsis:!0};var s9=function(s){var c=s.isDisabled,o=s.isFocused,a=s.isSelected,u=s.theme,m=u.spacing,v=u.colors;return{label:"option",backgroundColor:a?v.primary:o?v.primary25:"transparent",color:c?v.neutral20:a?v.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!c&&(a?v.primary:v.primary50)}}},a9=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.isDisabled,v=s.isFocused,b=s.isSelected,w=s.innerRef,x=s.innerProps;return Wt("div",Ut({css:u("option",s),className:a({option:!0,"option--is-disabled":m,"option--is-focused":v,"option--is-selected":b},o),ref:w},x),c)},l9=function(s){var c=s.theme,o=c.spacing,a=c.colors;return{label:"placeholder",color:a.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},c9=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Wt("div",Ut({css:u("placeholder",s),className:a({placeholder:!0},o)},m),c)},u9=function(s){var c=s.isDisabled,o=s.theme,a=o.spacing,u=o.colors;return{label:"singleValue",color:c?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,maxWidth:"calc(100% - ".concat(a.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},d9=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.isDisabled,v=s.innerProps;return Wt("div",Ut({css:u("singleValue",s),className:a({"single-value":!0,"single-value--is-disabled":m},o)},v),c)},h9={ClearIndicator:jM,Control:qM,DropdownIndicator:NM,DownChevron:vw,CrossIcon:mp,Group:KM,GroupHeading:ZM,IndicatorsContainer:zM,IndicatorSeparator:VM,Input:QM,LoadingIndicator:bw,Menu:EM,MenuList:CM,MenuPortal:_M,LoadingMessage:fw,NoOptionsMessage:pw,MultiValue:xw,MultiValueContainer:i9,MultiValueLabel:r9,MultiValueRemove:o9,Option:a9,Placeholder:c9,SelectContainer:DM,SingleValue:d9,ValueContainer:IM},p9=function(s){return si(si({},h9),s.components)};function vp(s,c){(c==null||c>s.length)&&(c=s.length);for(var o=0,a=new Array(c);o<c;o++)a[o]=s[o];return a}function f9(s){if(Array.isArray(s))return vp(s)}function m9(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function g9(s,c){if(s){if(typeof s=="string")return vp(s,c);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return vp(s,c)}}function v9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sw(s){return f9(s)||m9(s)||g9(s)||v9()}var Ew=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function y9(s,c){return!!(s===c||Ew(s)&&Ew(c))}function b9(s,c){if(s.length!==c.length)return!1;for(var o=0;o<s.length;o++)if(!y9(s[o],c[o]))return!1;return!0}function w9(s,c){c===void 0&&(c=b9);var o,a=[],u,m=!1;function v(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];return m&&o===this&&c(b,a)||(u=s.apply(this,b),m=!0,o=this,a=b),u}return v}for(var x9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},S9=function(s){return Wt("span",Ut({css:x9},s))},E9={guidance:function(s){var c=s.isSearchable,o=s.isMulti,a=s.isDisabled,u=s.tabSelectsValue,m=s.context;switch(m){case"menu":return"Use Up and Down to choose options".concat(a?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(s["aria-label"]||"Select"," is focused ").concat(c?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(s){var c=s.action,o=s.label,a=o===void 0?"":o,u=s.isDisabled;switch(c){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"select-option":return u?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(s){var c=s.context,o=s.focused,a=o===void 0?{}:o,u=s.options,m=s.label,v=m===void 0?"":m,b=s.selectValue,w=s.isDisabled,x=s.isSelected,E=function(j,X){return j&&j.length?"".concat(j.indexOf(X)+1," of ").concat(j.length):""};if(c==="value"&&b)return"value ".concat(v," focused, ").concat(E(b,a),".");if(c==="menu"){var O=w?" disabled":"",A="".concat(x?"selected":"focused").concat(O);return"option ".concat(v," ").concat(A,", ").concat(E(u,a),".")}return""},onFilter:function(s){var c=s.inputValue,o=s.resultsMessage;return"".concat(o).concat(c?" for search term "+c:"",".")}},T9=function(s){var c=s.ariaSelection,o=s.focusedOption,a=s.focusedValue,u=s.focusableOptions,m=s.isFocused,v=s.selectValue,b=s.selectProps,w=b.ariaLiveMessages,x=b.getOptionLabel,E=b.inputValue,O=b.isMulti,A=b.isOptionDisabled,j=b.isSearchable,X=b.menuIsOpen,ae=b.options,ie=b.screenReaderStatus,he=b.tabSelectsValue,M=b["aria-label"],oe=b["aria-live"],be=At(function(){return si(si({},E9),w||{})},[w]),ye=At(function(){var ut="";if(c&&be.onChange){var ft=c.option,dt=c.removedValue,Ot=c.value,Rt=function(Zt){return Array.isArray(Zt)?null:Zt},Kt=dt||ft||Rt(Ot),Xt=si({isDisabled:Kt&&A(Kt),label:Kt?x(Kt):""},c);ut=be.onChange(Xt)}return ut},[c,A,x,be]),ke=At(function(){var ut="",ft=o||a,dt=!!(o&&v&&v.includes(o));if(ft&&be.onFocus){var Ot={focused:ft,label:x(ft),isDisabled:A(ft),isSelected:dt,options:ae,context:ft===o?"menu":"value",selectValue:v};ut=be.onFocus(Ot)}return ut},[o,a,x,A,be,ae,v]),Re=At(function(){var ut="";if(X&&ae.length&&be.onFilter){var ft=ie({count:u.length});ut=be.onFilter({inputValue:E,resultsMessage:ft})}return ut},[u,E,X,be,ae,ie]),qe=At(function(){var ut="";if(be.guidance){var ft=a?"value":X?"menu":"input";ut=be.guidance({"aria-label":M,context:ft,isDisabled:o&&A(o),isMulti:O,isSearchable:j,tabSelectsValue:he})}return ut},[M,o,a,O,A,j,X,be,he]),Ye="".concat(ke," ").concat(Re," ").concat(qe);return Wt(S9,{"aria-live":oe,"aria-atomic":"false","aria-relevant":"additions text"},m&&Wt(Ne.Fragment,null,Wt("span",{id:"aria-selection"},ye),Wt("span",{id:"aria-context"},Ye)))},yp=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],C9=new RegExp("["+yp.map(function(s){return s.letters}).join("")+"]","g"),Tw={},bp=0;bp<yp.length;bp++)for(var wp=yp[bp],xp=0;xp<wp.letters.length;xp++)Tw[wp.letters[xp]]=wp.base;var Cw=function(s){return s.replace(C9,function(c){return Tw[c]})},k9=w9(Cw),kw=function(s){return s.replace(/^\s+|\s+$/g,"")},P9=function(s){return"".concat(s.label," ").concat(s.value)},R9=function(s){return function(c,o){var a=si({ignoreCase:!0,ignoreAccents:!0,stringify:P9,trim:!0,matchFrom:"any"},s),u=a.ignoreCase,m=a.ignoreAccents,v=a.stringify,b=a.trim,w=a.matchFrom,x=b?kw(o):o,E=b?kw(v(c)):v(c);return u&&(x=x.toLowerCase(),E=E.toLowerCase()),m&&(x=k9(x),E=Cw(E)),w==="start"?E.substr(0,x.length)===x:E.indexOf(x)>-1}};function _9(s){s.in,s.out,s.onExited,s.appear,s.enter,s.exit;var c=s.innerRef;s.emotion;var o=js(s,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Wt("input",Ut({ref:c},o,{css:cp({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var O9=function(s){s.preventDefault(),s.stopPropagation()};function D9(s){var c=s.isEnabled,o=s.onBottomArrive,a=s.onBottomLeave,u=s.onTopArrive,m=s.onTopLeave,v=Et(!1),b=Et(!1),w=Et(0),x=Et(null),E=fe(function(ie,he){if(x.current!==null){var M=x.current,oe=M.scrollTop,be=M.scrollHeight,ye=M.clientHeight,ke=x.current,Re=he>0,qe=be-ye-oe,Ye=!1;qe>he&&v.current&&(a&&a(ie),v.current=!1),Re&&b.current&&(m&&m(ie),b.current=!1),Re&&he>qe?(o&&!v.current&&o(ie),ke.scrollTop=be,Ye=!0,v.current=!0):!Re&&-he>oe&&(u&&!b.current&&u(ie),ke.scrollTop=0,Ye=!0,b.current=!0),Ye&&O9(ie)}},[]),O=fe(function(ie){E(ie,ie.deltaY)},[E]),A=fe(function(ie){w.current=ie.changedTouches[0].clientY},[]),j=fe(function(ie){var he=w.current-ie.changedTouches[0].clientY;E(ie,he)},[E]),X=fe(function(ie){if(ie){var he=bM?{passive:!1}:!1;typeof ie.addEventListener=="function"&&ie.addEventListener("wheel",O,he),typeof ie.addEventListener=="function"&&ie.addEventListener("touchstart",A,he),typeof ie.addEventListener=="function"&&ie.addEventListener("touchmove",j,he)}},[j,A,O]),ae=fe(function(ie){!ie||(typeof ie.removeEventListener=="function"&&ie.removeEventListener("wheel",O,!1),typeof ie.removeEventListener=="function"&&ie.removeEventListener("touchstart",A,!1),typeof ie.removeEventListener=="function"&&ie.removeEventListener("touchmove",j,!1))},[j,A,O]);return Je(function(){if(c){var ie=x.current;return X(ie),function(){ae(ie)}}},[c,X,ae]),function(ie){x.current=ie}}var Pw=["boxSizing","height","overflow","paddingRight","position"],Rw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _w(s){s.preventDefault()}function Ow(s){s.stopPropagation()}function Dw(){var s=this.scrollTop,c=this.scrollHeight,o=s+this.offsetHeight;s===0?this.scrollTop=1:o===c&&(this.scrollTop=s-1)}function Aw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Iw=!!(typeof window<"u"&&window.document&&window.document.createElement),Qa=0,Vs={capture:!1,passive:!1};function A9(s){var c=s.isEnabled,o=s.accountForScrollbars,a=o===void 0?!0:o,u=Et({}),m=Et(null),v=fe(function(w){if(Iw){var x=document.body,E=x&&x.style;if(a&&Pw.forEach(function(X){var ae=E&&E[X];u.current[X]=ae}),a&&Qa<1){var O=parseInt(u.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,j=window.innerWidth-A+O||0;Object.keys(Rw).forEach(function(X){var ae=Rw[X];E&&(E[X]=ae)}),E&&(E.paddingRight="".concat(j,"px"))}x&&Aw()&&(x.addEventListener("touchmove",_w,Vs),w&&(w.addEventListener("touchstart",Dw,Vs),w.addEventListener("touchmove",Ow,Vs))),Qa+=1}},[]),b=fe(function(w){if(Iw){var x=document.body,E=x&&x.style;Qa=Math.max(Qa-1,0),a&&Qa<1&&Pw.forEach(function(O){var A=u.current[O];E&&(E[O]=A)}),x&&Aw()&&(x.removeEventListener("touchmove",_w,Vs),w&&(w.removeEventListener("touchstart",Dw,Vs),w.removeEventListener("touchmove",Ow,Vs)))}},[]);return Je(function(){if(c){var w=m.current;return v(w),function(){b(w)}}},[c,v,b]),function(w){m.current=w}}var I9=function(){return document.activeElement&&document.activeElement.blur()},M9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function z9(s){var c=s.children,o=s.lockEnabled,a=s.captureEnabled,u=a===void 0?!0:a,m=s.onBottomArrive,v=s.onBottomLeave,b=s.onTopArrive,w=s.onTopLeave,x=D9({isEnabled:u,onBottomArrive:m,onBottomLeave:v,onTopArrive:b,onTopLeave:w}),E=A9({isEnabled:o}),O=function(A){x(A),E(A)};return Wt(Ne.Fragment,null,o&&Wt("div",{onClick:I9,css:M9}),c(O))}var L9=function(s){return s.label},F9=function(s){return s.label},N9=function(s){return s.value},H9=function(s){return!!s.isDisabled},j9={clearIndicator:HM,container:OM,control:GM,dropdownIndicator:FM,group:XM,groupHeading:YM,indicatorsContainer:MM,indicatorSeparator:BM,input:$M,loadingIndicator:WM,loadingMessage:PM,menu:SM,menuList:TM,menuPortal:RM,multiValue:e9,multiValueLabel:t9,multiValueRemove:n9,noOptionsMessage:kM,option:s9,placeholder:l9,singleValue:u9,valueContainer:AM},B9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},V9=4,Mw=4,U9=38,W9=Mw*2,G9={baseUnit:Mw,controlHeight:U9,menuGutter:W9},Sp={borderRadius:V9,colors:B9,spacing:G9},q9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:lw(),captureMenuScroll:!lw(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:R9(),formatGroupLabel:L9,getOptionLabel:F9,getOptionValue:N9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:H9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!vM(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(s){var c=s.count;return"".concat(c," result").concat(c!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function zw(s,c,o,a){var u=jw(s,c,o),m=Bw(s,c,o),v=Hw(s,c),b=lu(s,c);return{type:"option",data:c,isDisabled:u,isSelected:m,label:v,value:b,index:a}}function Lw(s,c){return s.options.map(function(o,a){if(o.options){var u=o.options.map(function(v,b){return zw(s,v,c,b)}).filter(function(v){return Nw(s,v)});return u.length>0?{type:"group",data:o,options:u,index:a}:void 0}var m=zw(s,o,c,a);return Nw(s,m)?m:void 0}).filter(function(o){return!!o})}function Fw(s){return s.reduce(function(c,o){return o.type==="group"?c.push.apply(c,Sw(o.options.map(function(a){return a.data}))):c.push(o.data),c},[])}function X9(s,c){return Fw(Lw(s,c))}function Nw(s,c){var o=s.inputValue,a=o===void 0?"":o,u=c.data,m=c.isSelected,v=c.label,b=c.value;return(!Uw(s)||!m)&&Vw(s,{label:v,value:b,data:u},a)}function K9(s,c){var o=s.focusedValue,a=s.selectValue,u=a.indexOf(o);if(u>-1){var m=c.indexOf(o);if(m>-1)return o;if(u<c.length)return c[u]}return null}function Y9(s,c){var o=s.focusedOption;return o&&c.indexOf(o)>-1?o:c[0]}var Hw=function(s,c){return s.getOptionLabel(c)},lu=function(s,c){return s.getOptionValue(c)};function jw(s,c,o){return typeof s.isOptionDisabled=="function"?s.isOptionDisabled(c,o):!1}function Bw(s,c,o){if(o.indexOf(c)>-1)return!0;if(typeof s.isOptionSelected=="function")return s.isOptionSelected(c,o);var a=lu(s,c);return o.some(function(u){return lu(s,u)===a})}function Vw(s,c,o){return s.filterOption?s.filterOption(c,o):!0}var Uw=function(s){var c=s.hideSelectedOptions,o=s.isMulti;return c===void 0?o:c},Z9=1,Ww=function(s){tu(o,s);var c=iu(o);function o(a){var u;return Jc(this,o),u=c.call(this,a),u.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},u.blockOptionHover=!1,u.isComposing=!1,u.commonProps=void 0,u.initialTouchX=0,u.initialTouchY=0,u.instancePrefix="",u.openAfterFocus=!1,u.scrollToFocusedOptionOnUpdate=!1,u.userIsDragging=void 0,u.controlRef=null,u.getControlRef=function(m){u.controlRef=m},u.focusedOptionRef=null,u.getFocusedOptionRef=function(m){u.focusedOptionRef=m},u.menuListRef=null,u.getMenuListRef=function(m){u.menuListRef=m},u.inputRef=null,u.getInputRef=function(m){u.inputRef=m},u.focus=u.focusInput,u.blur=u.blurInput,u.onChange=function(m,v){var b=u.props,w=b.onChange,x=b.name;v.name=x,u.ariaOnChange(m,v),w(m,v)},u.setValue=function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",b=arguments.length>2?arguments[2]:void 0,w=u.props,x=w.closeMenuOnSelect,E=w.isMulti;u.onInputChange("",{action:"set-value"}),x&&(u.setState({inputIsHiddenAfterUpdate:!E}),u.onMenuClose()),u.setState({clearFocusValueOnUpdate:!0}),u.onChange(m,{action:v,option:b})},u.selectOption=function(m){var v=u.props,b=v.blurInputOnSelect,w=v.isMulti,x=v.name,E=u.state.selectValue,O=w&&u.isOptionSelected(m,E),A=u.isOptionDisabled(m,E);if(O){var j=u.getOptionValue(m);u.setValue(E.filter(function(X){return u.getOptionValue(X)!==j}),"deselect-option",m)}else if(!A)w?u.setValue([].concat(Sw(E),[m]),"select-option",m):u.setValue(m,"select-option");else{u.ariaOnChange(m,{action:"select-option",name:x});return}b&&u.blurInput()},u.removeValue=function(m){var v=u.props.isMulti,b=u.state.selectValue,w=u.getOptionValue(m),x=b.filter(function(O){return u.getOptionValue(O)!==w}),E=v?x:x[0]||null;u.onChange(E,{action:"remove-value",removedValue:m}),u.focusInput()},u.clearValue=function(){var m=u.state.selectValue;u.onChange(u.props.isMulti?[]:null,{action:"clear",removedValues:m})},u.popValue=function(){var m=u.props.isMulti,v=u.state.selectValue,b=v[v.length-1],w=v.slice(0,v.length-1),x=m?w:w[0]||null;u.onChange(x,{action:"pop-value",removedValue:b})},u.getValue=function(){return u.state.selectValue},u.cx=function(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];return hM.apply(void 0,[u.props.classNamePrefix].concat(v))},u.getOptionLabel=function(m){return Hw(u.props,m)},u.getOptionValue=function(m){return lu(u.props,m)},u.getStyles=function(m,v){var b=j9[m](v);b.boxSizing="border-box";var w=u.props.styles[m];return w?w(b,v):b},u.getElementId=function(m){return"".concat(u.instancePrefix,"-").concat(m)},u.getComponents=function(){return p9(u.props)},u.buildCategorizedOptions=function(){return Lw(u.props,u.state.selectValue)},u.getCategorizedOptions=function(){return u.props.menuIsOpen?u.buildCategorizedOptions():[]},u.buildFocusableOptions=function(){return Fw(u.buildCategorizedOptions())},u.getFocusableOptions=function(){return u.props.menuIsOpen?u.buildFocusableOptions():[]},u.ariaOnChange=function(m,v){u.setState({ariaSelection:si({value:m},v)})},u.onMenuMouseDown=function(m){m.button===0&&(m.stopPropagation(),m.preventDefault(),u.focusInput())},u.onMenuMouseMove=function(m){u.blockOptionHover=!1},u.onControlMouseDown=function(m){var v=u.props.openMenuOnClick;u.state.isFocused?u.props.menuIsOpen?m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&u.onMenuClose():v&&u.openMenu("first"):(v&&(u.openAfterFocus=!0),u.focusInput()),m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&m.preventDefault()},u.onDropdownIndicatorMouseDown=function(m){if(!(m&&m.type==="mousedown"&&m.button!==0)&&!u.props.isDisabled){var v=u.props,b=v.isMulti,w=v.menuIsOpen;u.focusInput(),w?(u.setState({inputIsHiddenAfterUpdate:!b}),u.onMenuClose()):u.openMenu("first"),m.preventDefault(),m.stopPropagation()}},u.onClearIndicatorMouseDown=function(m){m&&m.type==="mousedown"&&m.button!==0||(u.clearValue(),m.stopPropagation(),u.openAfterFocus=!1,m.type==="touchend"?u.focusInput():setTimeout(function(){return u.focusInput()}))},u.onScroll=function(m){typeof u.props.closeMenuOnScroll=="boolean"?m.target instanceof HTMLElement&&pp(m.target)&&u.props.onMenuClose():typeof u.props.closeMenuOnScroll=="function"&&u.props.closeMenuOnScroll(m)&&u.props.onMenuClose()},u.onCompositionStart=function(){u.isComposing=!0},u.onCompositionEnd=function(){u.isComposing=!1},u.onTouchStart=function(m){var v=m.touches,b=v&&v.item(0);!b||(u.initialTouchX=b.clientX,u.initialTouchY=b.clientY,u.userIsDragging=!1)},u.onTouchMove=function(m){var v=m.touches,b=v&&v.item(0);if(b){var w=Math.abs(b.clientX-u.initialTouchX),x=Math.abs(b.clientY-u.initialTouchY),E=5;u.userIsDragging=w>E||x>E}},u.onTouchEnd=function(m){u.userIsDragging||(u.controlRef&&!u.controlRef.contains(m.target)&&u.menuListRef&&!u.menuListRef.contains(m.target)&&u.blurInput(),u.initialTouchX=0,u.initialTouchY=0)},u.onControlTouchEnd=function(m){u.userIsDragging||u.onControlMouseDown(m)},u.onClearIndicatorTouchEnd=function(m){u.userIsDragging||u.onClearIndicatorMouseDown(m)},u.onDropdownIndicatorTouchEnd=function(m){u.userIsDragging||u.onDropdownIndicatorMouseDown(m)},u.handleInputChange=function(m){var v=m.currentTarget.value;u.setState({inputIsHiddenAfterUpdate:!1}),u.onInputChange(v,{action:"input-change"}),u.props.menuIsOpen||u.onMenuOpen()},u.onInputFocus=function(m){u.props.onFocus&&u.props.onFocus(m),u.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(u.openAfterFocus||u.props.openMenuOnFocus)&&u.openMenu("first"),u.openAfterFocus=!1},u.onInputBlur=function(m){if(u.menuListRef&&u.menuListRef.contains(document.activeElement)){u.inputRef.focus();return}u.props.onBlur&&u.props.onBlur(m),u.onInputChange("",{action:"input-blur"}),u.onMenuClose(),u.setState({focusedValue:null,isFocused:!1})},u.onOptionHover=function(m){u.blockOptionHover||u.state.focusedOption===m||u.setState({focusedOption:m})},u.shouldHideSelectedOptions=function(){return Uw(u.props)},u.onKeyDown=function(m){var v=u.props,b=v.isMulti,w=v.backspaceRemovesValue,x=v.escapeClearsValue,E=v.inputValue,O=v.isClearable,A=v.isDisabled,j=v.menuIsOpen,X=v.onKeyDown,ae=v.tabSelectsValue,ie=v.openMenuOnFocus,he=u.state,M=he.focusedOption,oe=he.focusedValue,be=he.selectValue;if(!A&&!(typeof X=="function"&&(X(m),m.defaultPrevented))){switch(u.blockOptionHover=!0,m.key){case"ArrowLeft":if(!b||E)return;u.focusValue("previous");break;case"ArrowRight":if(!b||E)return;u.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(oe)u.removeValue(oe);else{if(!w)return;b?u.popValue():O&&u.clearValue()}break;case"Tab":if(u.isComposing||m.shiftKey||!j||!ae||!M||ie&&u.isOptionSelected(M,be))return;u.selectOption(M);break;case"Enter":if(m.keyCode===229)break;if(j){if(!M||u.isComposing)return;u.selectOption(M);break}return;case"Escape":j?(u.setState({inputIsHiddenAfterUpdate:!1}),u.onInputChange("",{action:"menu-close"}),u.onMenuClose()):O&&x&&u.clearValue();break;case" ":if(E)return;if(!j){u.openMenu("first");break}if(!M)return;u.selectOption(M);break;case"ArrowUp":j?u.focusOption("up"):u.openMenu("last");break;case"ArrowDown":j?u.focusOption("down"):u.openMenu("first");break;case"PageUp":if(!j)return;u.focusOption("pageup");break;case"PageDown":if(!j)return;u.focusOption("pagedown");break;case"Home":if(!j)return;u.focusOption("first");break;case"End":if(!j)return;u.focusOption("last");break;default:return}m.preventDefault()}},u.instancePrefix="react-select-"+(u.props.instanceId||++Z9),u.state.selectValue=ow(a.value),u}return Qc(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(a){var u=this.props,m=u.isDisabled,v=u.menuIsOpen,b=this.state.isFocused;(b&&!m&&a.isDisabled||b&&v&&!a.menuIsOpen)&&this.focusInput(),b&&m&&!a.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(mM(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,u){this.props.onInputChange(a,u)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(a){var u=this,m=this.state,v=m.selectValue,b=m.isFocused,w=this.buildFocusableOptions(),x=a==="first"?0:w.length-1;if(!this.props.isMulti){var E=w.indexOf(v[0]);E>-1&&(x=E)}this.scrollToFocusedOptionOnUpdate=!(b&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[x]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(a){var u=this.state,m=u.selectValue,v=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var b=m.indexOf(v);v||(b=-1);var w=m.length-1,x=-1;if(m.length){switch(a){case"previous":b===0?x=0:b===-1?x=w:x=b-1;break;case"next":b>-1&&b<w&&(x=b+1);break}this.setState({inputIsHidden:x!==-1,focusedValue:m[x]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,m=this.state.focusedOption,v=this.getFocusableOptions();if(v.length){var b=0,w=v.indexOf(m);m||(w=-1),a==="up"?b=w>0?w-1:v.length-1:a==="down"?b=(w+1)%v.length:a==="pageup"?(b=w-u,b<0&&(b=0)):a==="pagedown"?(b=w+u,b>v.length-1&&(b=v.length-1)):a==="last"&&(b=v.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:v[b],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Sp):si(si({},Sp),this.props.theme):Sp}},{key:"getCommonProps",value:function(){var a=this.clearValue,u=this.cx,m=this.getStyles,v=this.getValue,b=this.selectOption,w=this.setValue,x=this.props,E=x.isMulti,O=x.isRtl,A=x.options,j=this.hasValue();return{clearValue:a,cx:u,getStyles:m,getValue:v,hasValue:j,isMulti:E,isRtl:O,options:A,selectOption:b,selectProps:x,setValue:w,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,u=a.isClearable,m=a.isMulti;return u===void 0?m:u}},{key:"isOptionDisabled",value:function(a,u){return jw(this.props,a,u)}},{key:"isOptionSelected",value:function(a,u){return Bw(this.props,a,u)}},{key:"filterOption",value:function(a,u){return Vw(this.props,a,u)}},{key:"formatOptionLabel",value:function(a,u){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,v=this.state.selectValue;return this.props.formatOptionLabel(a,{context:u,inputValue:m,selectValue:v})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,u=a.isDisabled,m=a.isSearchable,v=a.inputId,b=a.inputValue,w=a.tabIndex,x=a.form,E=this.getComponents(),O=E.Input,A=this.state.inputIsHidden,j=this.commonProps,X=v||this.getElementId("input"),ae={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return m?Ne.createElement(O,Ut({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:X,innerRef:this.getInputRef,isDisabled:u,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:x,type:"text",value:b},ae)):Ne.createElement(_9,Ut({id:X,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ru,onFocus:this.onInputFocus,readOnly:!0,disabled:u,tabIndex:w,form:x,value:""},ae))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,u=this.getComponents(),m=u.MultiValue,v=u.MultiValueContainer,b=u.MultiValueLabel,w=u.MultiValueRemove,x=u.SingleValue,E=u.Placeholder,O=this.commonProps,A=this.props,j=A.controlShouldRenderValue,X=A.isDisabled,ae=A.isMulti,ie=A.inputValue,he=A.placeholder,M=this.state,oe=M.selectValue,be=M.focusedValue,ye=M.isFocused;if(!this.hasValue()||!j)return ie?null:Ne.createElement(E,Ut({},O,{key:"placeholder",isDisabled:X,isFocused:ye}),he);if(ae){var ke=oe.map(function(qe,Ye){var ut=qe===be;return Ne.createElement(m,Ut({},O,{components:{Container:v,Label:b,Remove:w},isFocused:ut,isDisabled:X,key:"".concat(a.getOptionValue(qe)).concat(Ye),index:Ye,removeProps:{onClick:function(){return a.removeValue(qe)},onTouchEnd:function(){return a.removeValue(qe)},onMouseDown:function(ft){ft.preventDefault(),ft.stopPropagation()}},data:qe}),a.formatOptionLabel(qe,"value"))});return ke}if(ie)return null;var Re=oe[0];return Ne.createElement(x,Ut({},O,{data:Re,isDisabled:X}),this.formatOptionLabel(Re,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),u=a.ClearIndicator,m=this.commonProps,v=this.props,b=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!this.isClearable()||!u||b||!this.hasValue()||w)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Ne.createElement(u,Ut({},m,{innerProps:E,isFocused:x}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),u=a.LoadingIndicator,m=this.commonProps,v=this.props,b=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!u||!w)return null;var E={"aria-hidden":"true"};return Ne.createElement(u,Ut({},m,{innerProps:E,isDisabled:b,isFocused:x}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),u=a.DropdownIndicator,m=a.IndicatorSeparator;if(!u||!m)return null;var v=this.commonProps,b=this.props.isDisabled,w=this.state.isFocused;return Ne.createElement(m,Ut({},v,{isDisabled:b,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),u=a.DropdownIndicator;if(!u)return null;var m=this.commonProps,v=this.props.isDisabled,b=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Ne.createElement(u,Ut({},m,{innerProps:w,isDisabled:v,isFocused:b}))}},{key:"renderMenu",value:function(){var a=this,u=this.getComponents(),m=u.Group,v=u.GroupHeading,b=u.Menu,w=u.MenuList,x=u.MenuPortal,E=u.LoadingMessage,O=u.NoOptionsMessage,A=u.Option,j=this.commonProps,X=this.state.focusedOption,ae=this.props,ie=ae.captureMenuScroll,he=ae.inputValue,M=ae.isLoading,oe=ae.loadingMessage,be=ae.minMenuHeight,ye=ae.maxMenuHeight,ke=ae.menuIsOpen,Re=ae.menuPlacement,qe=ae.menuPosition,Ye=ae.menuPortalTarget,ut=ae.menuShouldBlockScroll,ft=ae.menuShouldScrollIntoView,dt=ae.noOptionsMessage,Ot=ae.onMenuScrollToTop,Rt=ae.onMenuScrollToBottom;if(!ke)return null;var Kt=function(nn,Ue){var Qe=nn.type,rt=nn.data,et=nn.isDisabled,ct=nn.isSelected,Mt=nn.label,xn=nn.value,Ln=X===rt,un=et?void 0:function(){return a.onOptionHover(rt)},Yi=et?void 0:function(){return a.selectOption(rt)},Oi="".concat(a.getElementId("option"),"-").concat(Ue),ji={id:Oi,onClick:Yi,onMouseMove:un,onMouseOver:un,tabIndex:-1};return Ne.createElement(A,Ut({},j,{innerProps:ji,data:rt,isDisabled:et,isSelected:ct,key:Oi,label:Mt,type:Qe,value:xn,isFocused:Ln,innerRef:Ln?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(nn.data,"menu"))},Xt;if(this.hasOptions())Xt=this.getCategorizedOptions().map(function(nn){if(nn.type==="group"){var Ue=nn.data,Qe=nn.options,rt=nn.index,et="".concat(a.getElementId("group"),"-").concat(rt),ct="".concat(et,"-heading");return Ne.createElement(m,Ut({},j,{key:et,data:Ue,options:Qe,Heading:v,headingProps:{id:ct,data:nn.data},label:a.formatGroupLabel(nn.data)}),nn.options.map(function(Mt){return Kt(Mt,"".concat(rt,"-").concat(Mt.index))}))}else if(nn.type==="option")return Kt(nn,"".concat(nn.index))});else if(M){var Zt=oe({inputValue:he});if(Zt===null)return null;Xt=Ne.createElement(E,j,Zt)}else{var hn=dt({inputValue:he});if(hn===null)return null;Xt=Ne.createElement(O,j,hn)}var Pn={minMenuHeight:be,maxMenuHeight:ye,menuPlacement:Re,menuPosition:qe,menuShouldScrollIntoView:ft},ht=Ne.createElement(dw,Ut({},j,Pn),function(nn){var Ue=nn.ref,Qe=nn.placerProps,rt=Qe.placement,et=Qe.maxHeight;return Ne.createElement(b,Ut({},j,Pn,{innerRef:Ue,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:M,placement:rt}),Ne.createElement(z9,{captureEnabled:ie,onTopArrive:Ot,onBottomArrive:Rt,lockEnabled:ut},function(ct){return Ne.createElement(w,Ut({},j,{innerRef:function(Mt){a.getMenuListRef(Mt),ct(Mt)},isLoading:M,maxHeight:et,focusedOption:X}),Xt)}))});return Ye||qe==="fixed"?Ne.createElement(x,Ut({},j,{appendTo:Ye,controlElement:this.controlRef,menuPlacement:Re,menuPosition:qe}),ht):ht}},{key:"renderFormField",value:function(){var a=this,u=this.props,m=u.delimiter,v=u.isDisabled,b=u.isMulti,w=u.name,x=this.state.selectValue;if(!(!w||v))if(b)if(m){var E=x.map(function(j){return a.getOptionValue(j)}).join(m);return Ne.createElement("input",{name:w,type:"hidden",value:E})}else{var O=x.length>0?x.map(function(j,X){return Ne.createElement("input",{key:"i-".concat(X),name:w,type:"hidden",value:a.getOptionValue(j)})}):Ne.createElement("input",{name:w,type:"hidden"});return Ne.createElement("div",null,O)}else{var A=x[0]?this.getOptionValue(x[0]):"";return Ne.createElement("input",{name:w,type:"hidden",value:A})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,u=this.state,m=u.ariaSelection,v=u.focusedOption,b=u.focusedValue,w=u.isFocused,x=u.selectValue,E=this.getFocusableOptions();return Ne.createElement(T9,Ut({},a,{ariaSelection:m,focusedOption:v,focusedValue:b,isFocused:w,selectValue:x,focusableOptions:E}))}},{key:"render",value:function(){var a=this.getComponents(),u=a.Control,m=a.IndicatorsContainer,v=a.SelectContainer,b=a.ValueContainer,w=this.props,x=w.className,E=w.id,O=w.isDisabled,A=w.menuIsOpen,j=this.state.isFocused,X=this.commonProps=this.getCommonProps();return Ne.createElement(v,Ut({},X,{className:x,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:O,isFocused:j}),this.renderLiveRegion(),Ne.createElement(u,Ut({},X,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:O,isFocused:j,menuIsOpen:A}),Ne.createElement(b,Ut({},X,{isDisabled:O}),this.renderPlaceholderOrValue(),this.renderInput()),Ne.createElement(m,Ut({},X,{isDisabled:O}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,u){var m=u.prevProps,v=u.clearFocusValueOnUpdate,b=u.inputIsHiddenAfterUpdate,w=a.options,x=a.value,E=a.menuIsOpen,O=a.inputValue,A={};if(m&&(x!==m.value||w!==m.options||E!==m.menuIsOpen||O!==m.inputValue)){var j=ow(x),X=E?X9(a,j):[],ae=v?K9(u,j):null,ie=Y9(u,X);A={selectValue:j,focusedOption:ie,focusedValue:ae,clearFocusValueOnUpdate:!1}}var he=b!=null&&a!==m?{inputIsHidden:b,inputIsHiddenAfterUpdate:void 0}:{};return si(si(si({},A),he),{},{prevProps:a})}}]),o}(Z);Ww.defaultProps=q9;var $9={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},J9=function(s){var c,o;return o=c=function(a){tu(m,a);var u=iu(m);function m(){var v;Jc(this,m);for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];return v=u.call.apply(u,[this].concat(w)),v.select=void 0,v.state={inputValue:v.props.inputValue!==void 0?v.props.inputValue:v.props.defaultInputValue,menuIsOpen:v.props.menuIsOpen!==void 0?v.props.menuIsOpen:v.props.defaultMenuIsOpen,value:v.props.value!==void 0?v.props.value:v.props.defaultValue},v.onChange=function(E,O){v.callProp("onChange",E,O),v.setState({value:E})},v.onInputChange=function(E,O){var A=v.callProp("onInputChange",E,O);v.setState({inputValue:A!==void 0?A:E})},v.onMenuOpen=function(){v.callProp("onMenuOpen"),v.setState({menuIsOpen:!0})},v.onMenuClose=function(){v.callProp("onMenuClose"),v.setState({menuIsOpen:!1})},v}return Qc(m,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(v){return this.props[v]!==void 0?this.props[v]:this.state[v]}},{key:"callProp",value:function(v){if(typeof this.props[v]=="function"){for(var b,w=arguments.length,x=new Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return(b=this.props)[v].apply(b,x)}}},{key:"render",value:function(){var v=this,b=this.props;b.defaultInputValue,b.defaultMenuIsOpen,b.defaultValue;var w=js(b,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Ne.createElement(s,Ut({},w,{ref:function(x){v.select=x},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),m}(Z),c.defaultProps=$9,o},Q9=J9(Ww),e3=Q9;const Ep=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var Gw=s=>{const c=s.content?Ep.find(o=>o.value===s.content):null;return Ne.createElement("div",{className:"r6o-purposedropdown"},Ne.createElement(e3,{value:c,onChange:s.onChange,options:Ep,isDisabled:!s.editable}))};const t3=s=>Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:s.width},Ne.createElement("metadata",null,"IcoFont Icons"),Ne.createElement("title",null,"simple-down"),Ne.createElement("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),Ne.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),n3=s=>Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:s.width},Ne.createElement("metadata",null,"IcoFont Icons"),Ne.createElement("title",null,"close"),Ne.createElement("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),Ne.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),i3=s=>Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:s.width},Ne.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var r3=s=>{const[c,o]=Ve(!1),[a,u]=Ve(!1),m=O=>{o(!0),u(!1)},v=O=>{s.onDelete(s.body),u(!1)},b=O=>s.onUpdate(s.body,{...s.body,value:O.target.value}),w=O=>s.onUpdate(s.body,{...s.body,purpose:O.value}),x=s.body.modified||s.body.created,E=s.body.creator&&Ne.createElement("div",{className:"r6o-lastmodified"},Ne.createElement("span",{className:"r6o-lastmodified-by"},s.body.creator.name||s.body.creator.id),s.body.created&&Ne.createElement("span",{className:"r6o-lastmodified-at"},Ne.createElement(VP,{datetime:s.env.toClientTime(x),locale:Fi.locale()})));return s.readOnly?Ne.createElement("div",{className:"r6o-widget comment"},Ne.createElement("div",{className:"r6o-readonly-comment"},s.body.value),E):Ne.createElement("div",{className:c?"r6o-widget comment editable":"r6o-widget comment"},Ne.createElement(Eb,{editable:c,content:s.body.value,onChange:b,onSaveAndClose:s.onSaveAndClose}),!c&&E,s.purposeSelector&&Ne.createElement(Gw,{editable:c,content:s.body.purpose,onChange:w,onSaveAndClose:s.onSaveAndClose}),Ne.createElement("div",{className:a?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>u(!a)},Ne.createElement(t3,{width:12})),a&&Ne.createElement(jA,{onEdit:m,onDelete:v,onClickOutside:()=>u(!1)}))};const o3=Ep.map(s=>s.value),qw=(s,c)=>{const o=c?o3.indexOf(s.purpose)>-1:s.purpose=="commenting"||s.purpose=="replying";return s.type==="TextualBody"&&(!Object.prototype.hasOwnProperty.call(s,"purpose")||o)},Xw=(s,c)=>{var o,a;if(c.editable===!0)return!1;if(c.editable===!1)return!0;if(c.editable==="MINE_ONLY"){const u=(o=s.creator)==null?void 0:o.id;return((a=c.env.user)==null?void 0:a.id)!==u}return c.readOnly},s3=(s,c)=>s||{type:"TextualBody",value:"",purpose:c?"replying":"commenting",draft:!0},Kw=s=>{const c=s.annotation?s.annotation.bodies.filter(w=>qw(w,s.purposeSelector)):[],o=s3(c.find(w=>w.draft==!0),c.length>1),a=c.filter(w=>w!=o),u=w=>{const x=o.value,E=w.target.value;x.length===0&&E.length>0?s.onAppendBody({...o,value:E}):x.length>0&&E.length===0?s.onRemoveBody(o):s.onUpdateBody(o,{...o,value:E})},m=w=>s.onUpdateBody(o,{...o,purpose:w.value}),v=!s.readOnly&&s.annotation,b=a.length===0||!s.disableReply;return Ne.createElement(Ne.Fragment,null,a.map((w,x)=>Ne.createElement(r3,{key:x,env:s.env,purposeSelector:s.purposeSelector,readOnly:Xw(w,s),body:w,onUpdate:s.onUpdateBody,onDelete:s.onRemoveBody,onSaveAndClose:s.onSaveAndClose})),v&&b&&Ne.createElement("div",{className:"r6o-widget comment editable"},Ne.createElement(Eb,{focus:s.focus,content:o.value,editable:!0,placeholder:a.length>0?Fi.t("Add a reply..."):s.textPlaceHolder||Fi.t("Add a comment..."),onChange:u,onSaveAndClose:()=>s.onSaveAndClose()}),s.purposeSelector&&o.value.length>0&&Ne.createElement(Gw,{editable:!0,content:o.purpose,onChange:m,onSaveAndClose:()=>s.onSaveAndClose()})))};Kw.disableDelete=(s,c)=>s.bodies.filter(o=>qw(o,c.purposeSelector)).some(o=>Xw(o,c));var Yw=Kw;function Zw(s,c){s.prototype=Object.create(c.prototype),s.prototype.constructor=s,eu(s,c)}function a3(s,c){return s.classList?!!c&&s.classList.contains(c):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+c+" ")!==-1}function l3(s,c){s.classList?s.classList.add(c):a3(s,c)||(typeof s.className=="string"?s.className=s.className+" "+c:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+c))}function $w(s,c){return s.replace(new RegExp("(^|\\s)"+c+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function c3(s,c){s.classList?s.classList.remove(c):typeof s.className=="string"?s.className=$w(s.className,c):s.setAttribute("class",$w(s.className&&s.className.baseVal||"",c))}var Jw={disabled:!1},Qw=Ne.createContext(null),ex=function(s){return s.scrollTop},el="unmounted",zo="exited",Lo="entering",Us="entered",Tp="exiting",Fr=function(s){Zw(c,s);function c(a,u){var m;m=s.call(this,a,u)||this;var v=u,b=v&&!v.isMounting?a.enter:a.appear,w;return m.appearStatus=null,a.in?b?(w=zo,m.appearStatus=Lo):w=Us:a.unmountOnExit||a.mountOnEnter?w=el:w=zo,m.state={status:w},m.nextCallback=null,m}c.getDerivedStateFromProps=function(a,u){var m=a.in;return m&&u.status===el?{status:zo}:null};var o=c.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(a){var u=null;if(a!==this.props){var m=this.state.status;this.props.in?m!==Lo&&m!==Us&&(u=Lo):(m===Lo||m===Us)&&(u=Tp)}this.updateStatus(!1,u)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var a=this.props.timeout,u,m,v;return u=m=v=a,a!=null&&typeof a!="number"&&(u=a.exit,m=a.enter,v=a.appear!==void 0?a.appear:m),{exit:u,enter:m,appear:v}},o.updateStatus=function(a,u){if(a===void 0&&(a=!1),u!==null)if(this.cancelNextCallback(),u===Lo){if(this.props.unmountOnExit||this.props.mountOnEnter){var m=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this);m&&ex(m)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zo&&this.setState({status:el})},o.performEnter=function(a){var u=this,m=this.props.enter,v=this.context?this.context.isMounting:a,b=this.props.nodeRef?[v]:[Ne.findDOMNode(this),v],w=b[0],x=b[1],E=this.getTimeouts(),O=v?E.appear:E.enter;if(!a&&!m||Jw.disabled){this.safeSetState({status:Us},function(){u.props.onEntered(w)});return}this.props.onEnter(w,x),this.safeSetState({status:Lo},function(){u.props.onEntering(w,x),u.onTransitionEnd(O,function(){u.safeSetState({status:Us},function(){u.props.onEntered(w,x)})})})},o.performExit=function(){var a=this,u=this.props.exit,m=this.getTimeouts(),v=this.props.nodeRef?void 0:Ne.findDOMNode(this);if(!u||Jw.disabled){this.safeSetState({status:zo},function(){a.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:Tp},function(){a.props.onExiting(v),a.onTransitionEnd(m.exit,function(){a.safeSetState({status:zo},function(){a.props.onExited(v)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(a,u){u=this.setNextCallback(u),this.setState(a,u)},o.setNextCallback=function(a){var u=this,m=!0;return this.nextCallback=function(v){m&&(m=!1,u.nextCallback=null,a(v))},this.nextCallback.cancel=function(){m=!1},this.nextCallback},o.onTransitionEnd=function(a,u){this.setNextCallback(u);var m=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this),v=a==null&&!this.props.addEndListener;if(!m||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],w=b[0],x=b[1];this.props.addEndListener(w,x)}a!=null&&setTimeout(this.nextCallback,a)},o.render=function(){var a=this.state.status;if(a===el)return null;var u=this.props,m=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var v=up(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ne.createElement(Qw.Provider,{value:null},typeof m=="function"?m(a,v):Ne.cloneElement(Ne.Children.only(m),v))},c}(Ne.Component);Fr.contextType=Qw,Fr.propTypes={};function Ws(){}Fr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ws,onEntering:Ws,onEntered:Ws,onExit:Ws,onExiting:Ws,onExited:Ws},Fr.UNMOUNTED=el,Fr.EXITED=zo,Fr.ENTERING=Lo,Fr.ENTERED=Us,Fr.EXITING=Tp;var u3=Fr,d3=function(s,c){return s&&c&&c.split(" ").forEach(function(o){return l3(s,o)})},Cp=function(s,c){return s&&c&&c.split(" ").forEach(function(o){return c3(s,o)})},kp=function(s){Zw(c,s);function c(){for(var a,u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=s.call.apply(s,[this].concat(m))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1];a.removeClasses(E,"exit"),a.addClass(E,O?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(b,w)},a.onEntering=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1],A=O?"appear":"enter";a.addClass(E,A,"active"),a.props.onEntering&&a.props.onEntering(b,w)},a.onEntered=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1],A=O?"appear":"enter";a.removeClasses(E,A),a.addClass(E,A,"done"),a.props.onEntered&&a.props.onEntered(b,w)},a.onExit=function(b){var w=a.resolveArguments(b),x=w[0];a.removeClasses(x,"appear"),a.removeClasses(x,"enter"),a.addClass(x,"exit","base"),a.props.onExit&&a.props.onExit(b)},a.onExiting=function(b){var w=a.resolveArguments(b),x=w[0];a.addClass(x,"exit","active"),a.props.onExiting&&a.props.onExiting(b)},a.onExited=function(b){var w=a.resolveArguments(b),x=w[0];a.removeClasses(x,"exit"),a.addClass(x,"exit","done"),a.props.onExited&&a.props.onExited(b)},a.resolveArguments=function(b,w){return a.props.nodeRef?[a.props.nodeRef.current,b]:[b,w]},a.getClassNames=function(b){var w=a.props.classNames,x=typeof w=="string",E=x&&w?w+"-":"",O=x?""+E+b:w[b],A=x?O+"-active":w[b+"Active"],j=x?O+"-done":w[b+"Done"];return{baseClassName:O,activeClassName:A,doneClassName:j}},a}var o=c.prototype;return o.addClass=function(a,u,m){var v=this.getClassNames(u)[m+"ClassName"],b=this.getClassNames("enter"),w=b.doneClassName;u==="appear"&&m==="done"&&w&&(v+=" "+w),m==="active"&&a&&ex(a),v&&(this.appliedClasses[u][m]=v,d3(a,v))},o.removeClasses=function(a,u){var m=this.appliedClasses[u],v=m.base,b=m.active,w=m.done;this.appliedClasses[u]={},v&&Cp(a,v),b&&Cp(a,b),w&&Cp(a,w)},o.render=function(){var a=this.props;a.classNames;var u=up(a,["classNames"]);return Ne.createElement(u3,Ut({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},c}(Ne.Component);kp.defaultProps={classNames:""},kp.propTypes={};var h3=kp;const p3=(s,c)=>c.filter(o=>(o.label?o.label:o).toLowerCase().startsWith(s.toLowerCase())),f3=(s,c)=>c(s);var m3=s=>{const c=Et(),[o,a]=Ve(s.initialValue||""),[u,m]=Ve([]),[v,b]=Ve(null);Je(()=>{s.focus&&c.current.querySelector("input").focus({preventScroll:!0})},[]),Je(()=>{s.onChange&&s.onChange(o)},[o]);const w=A=>{if(typeof s.vocabulary=="function"){const j=f3(A,s.vocabulary);j.then?j.then(m):m(j)}else{const j=p3(A,s.vocabulary);m(j)}},x=()=>{if(v!==null)s.onSubmit(u[v]);else{const A=o.trim();if(A){const j=Array.isArray(s.vocabulary)?s.vocabulary.find(X=>(X.label||X).toLowerCase()===A.toLowerCase()):null;j?s.onSubmit(j):s.onSubmit(A)}}a(""),m([]),b(null)},E=A=>{if(A.which===13)x();else if(A.which===27)s.onCancel&&s.onCancel();else if(u.length>0){if(A.which===38)if(v===null)b(0);else{const j=Math.max(0,v-1);b(j)}else if(A.which===40)if(v===null)b(0);else{const j=Math.min(u.length-1,v+1);b(j)}}else A.which===40&&Array.isArray(s.vocabulary)&&m(s.vocabulary)},O=A=>{const{value:j}=A.target;a(j),b(null),j?w(j):m([])};return Ne.createElement("div",{ref:c,className:"r6o-autocomplete"},Ne.createElement("div",null,Ne.createElement("input",{onKeyDown:E,onChange:O,value:o,placeholder:s.placeholder})),Ne.createElement("ul",null,u.length>0&&u.map((A,j)=>Ne.createElement("li",{key:`${A.label?A.label:A}${j}`,onClick:x,onMouseEnter:()=>b(j),style:v===j?{backgroundColor:"#bde4ff"}:{}},A.label?A.label:A))))};const g3=s=>s||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var tx=s=>{const c=s.annotation?s.annotation.bodies.filter(O=>O.purpose==="tagging"):[],o=g3(c.slice().reverse().find(O=>O.draft)),a=c.filter(O=>O!=o),[u,m]=Ve(!1),v=O=>A=>{m(u===O?!1:O)},b=O=>{const A=o.value.trim(),j=O.trim();A.length===0&&j.length>0?s.onAppendBody({...o,value:j}):A.length>0&&j.length===0?s.onRemoveBody(o):A!==j&&s.onUpdateBody(o,{...o,value:j})},w=O=>A=>{A.stopPropagation(),s.onRemoveBody(O)},x=O=>{const A=O.uri?{type:"SpecificResource",purpose:"tagging",source:{id:O.uri,label:O.label}}:{type:"TextualBody",purpose:"tagging",value:O.label||O};o.value.trim().length===0?s.onAppendBody(A):s.onUpdateBody(o,A)},E=O=>O.value||O.source.label;return Ne.createElement("div",{className:"r6o-widget r6o-tag"},a.length>0&&Ne.createElement("ul",{className:"r6o-taglist"},a.map(O=>Ne.createElement("li",{key:E(O),onClick:v(O)},Ne.createElement("span",{className:"r6o-label"},E(O)),!s.readOnly&&Ne.createElement(h3,{in:u===O,timeout:200,classNames:"r6o-delete"},Ne.createElement("span",{className:"r6o-delete-wrapper",onClick:w(O)},Ne.createElement("span",{className:"r6o-delete"},Ne.createElement(n3,{width:12}))))))),!s.readOnly&&Ne.createElement(m3,{focus:s.focus,placeholder:s.textPlaceHolder||Fi.t("Add tag..."),vocabulary:s.vocabulary||[],onChange:b,onSubmit:x}))};class nx extends Z{constructor(c){super(c),this.element=Ne.createRef()}renderWidget(c){const o=this.props.widget({annotation:c.annotation,readOnly:c.readOnly,...c.config,onAppendBody:(a,u)=>c.onAppendBody(a,u),onUpdateBody:(a,u,m)=>c.onUpdateBody(a,u,m),onUpsertBody:(a,u,m)=>c.onUpsertBody(a,u,m),onRemoveBody:(a,u)=>c.onRemoveBody(a,u),onBatchModify:(a,u)=>c.onBatchModify(a,u),onSetProperty:(a,u)=>c.onSetProperty(a,u),onAddContext:a=>c.onAddContext(a),onSaveAndClose:()=>c.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(o)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(c){this.element.current&&this.props.annotation!==c.annotation&&this.renderWidget(c)}render(){return Ne.createElement("div",{ref:this.element,className:"widget"})}}window.React=Ne,window.ReactDOM=Ne;const v3={COMMENT:Yw,TAG:tx},y3=[Ne.createElement(Yw,null),Ne.createElement(tx,null)],b3=s=>{const c=a=>{var u;return typeof a=="function"&&!!((u=a.prototype)!=null&&u.isReactComponent)},o=a=>typeof a=="function"&&(String(a).match(/return .+\(['|"].+['|"],\s*\{/g)||String(a).match(/return .+preact_compat/)||String(a).match(/return .+\.createElement/g));return c(s)||o(s)},w3=s=>{const c=(o,a,u)=>{if(typeof o=="string"||o instanceof String)return Ne.createElement(v3[o],a);if(u?.toLowerCase()==="react")return Ne.createElement(o,a);if(u?.toLowerCase()==="plainjs")return Ne.createElement(nx,{widget:o,config:a});if(b3(o))return Ne.createElement(o,a);if(typeof o=="function"||o instanceof Function)return Ne.createElement(nx,{widget:o,config:a});throw`${o} is not a valid plugin`};if(s.widget){const{widget:o,force:a,...u}=s;return c(o,u,a)}else return c(s)},ix=14;var rx=(s,c,o,a)=>{const u=s.getBoundingClientRect();c.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:m,top:v,right:b,bottom:w}=o.getBoundingClientRect();if(c.style.top=`${w-u.top+ix}px`,c.style.left=`${m-u.left}px`,a){const x=c.children[1].getBoundingClientRect(),{innerWidth:E,innerHeight:O}=s.ownerDocument.defaultView;if(x.right>E&&(c.classList.remove("r6o-arrow-left"),c.classList.add("r6o-arrow-right"),c.style.left=`${b-x.width-u.left}px`),x.bottom>O){c.classList.remove("r6o-arrow-top"),c.classList.add("r6o-arrow-bottom");const j=c.children[1].getBoundingClientRect().height;c.style.top=`${v-u.top-j-ix}px`}const A=c.children[1].getBoundingClientRect();if(A.top<0){c.classList.add("pushed","down"),c.style.top=`${-u.top}px`;const j=w-u.top;A.height-u.top>j&&c.classList.remove("r6o-arrow-bottom")}A.left<0&&(c.classList.add("pushed","right"),c.style.left=`${-u.left}px`),requestAnimationFrame(()=>c.style.opacity=1)}};const ox=s=>{const{top:c,left:o,width:a,height:u}=s.getBoundingClientRect();return`${c}, ${o}, ${a}, ${u}`};class x3 extends Z{constructor(c){super(c),r(this,"initResizeObserver",()=>{const o=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const a=new ResizeObserver(()=>{this.state.dragged||rx(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)});return a.observe(this.props.wrapperEl),()=>a.disconnect()}else this.state.dragged||rx(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)}),r(this,"creationMeta",o=>{const a={},{user:u}=this.props.env;return u&&(a.creator={},u.id&&(a.creator.id=u.id),u.displayName&&(a.creator.name=u.displayName),a[o.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),a}),r(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),r(this,"hasChanges",()=>{var o;return!((o=this.props.annotation)!=null&&o.isEqual(this.state.currentAnnotation))}),r(this,"updateCurrentAnnotation",(o,a)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(o)},()=>{a?this.onOk():this.props.onChanged&&this.props.onChanged()})}),r(this,"onAppendBody",(o,a)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...o,...this.creationMeta(o)}]},a)),r(this,"onUpdateBody",(o,a,u)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(m=>m===o?{...a,...this.creationMeta(a)}:m)},u)),r(this,"onRemoveBody",(o,a)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(u=>u!==o)},a)),r(this,"onUpsertBody",(o,a,u)=>{if(o==null&&a!=null)this.onAppendBody(a,u);else if(o!=null&&a!=null)this.onUpdateBody(o,a,u);else if(o!=null&&a==null){const m=this.state.currentAnnotation.bodies.find(v=>v.purpose===o.purpose);m?this.onUpdateBody(m,o,u):this.onAppendBody(o,u)}}),r(this,"onBatchModify",(o,a)=>{const u=o.filter(x=>x.action==="upsert"&&x.body).map(x=>({previous:this.state.currentAnnotation.bodies.find(E=>E.purpose===x.body.purpose),updated:{...x.body,...this.creationMeta(x.body)}})),m=o.filter(x=>x.action==="remove").map(x=>x.body),v=[...o.filter(x=>x.action==="append"||x.action==="upsert"&&x.updated&&!x.previous).map(x=>({...x.body,...this.creationMeta(x.body)})),...u.filter(x=>!x.previous).map(x=>x.updated)],b=[...o.filter(x=>x.action==="update"||x.action==="upsert"&&x.updated&&x.previous).map(x=>({previous:x.previous,updated:{...x.updated,...this.creationMeta(x.updated)}})),...u.filter(x=>x.previous)],w=[...this.state.currentAnnotation.bodies.filter(x=>!m.includes(x)).map(x=>{const E=b.find(O=>O.previous===x);return E?E.updated:x}),...v];this.updateCurrentAnnotation({body:w},a)}),r(this,"onSetProperty",(o,a)=>{if(["@context","id","type","body","target"].includes(o))throw new Exception(`Cannot set ${o} - not allowed`);if(a)this.updateCurrentAnnotation({[o]:a});else{const u=this.currentAnnotation.clone();delete u[o],this.setState({currentAnnotation:u})}}),r(this,"onAddContext",o=>{const{currentAnnotation:a}=this.state,u=Array.isArray(a.context)?a.context:[a.context];u.indexOf(o)<0&&(u.push(o),this.updateCurrentAnnotation({"@context":u}))}),r(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),r(this,"onOk",()=>{const o=u=>u.clone({body:u.bodies.map(({draft:m,...v})=>v)}),{currentAnnotation:a}=this.state;a.bodies.length===0&&!this.props.allowEmpty?a.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):a.isSelection?this.props.onAnnotationCreated(o(a).toAnnotation()):this.props.onAnnotationUpdated(o(a),this.props.annotation)}),r(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Ne.createRef(),this.state={currentAnnotation:c.annotation,dragged:!1,selectionBounds:ox(c.selectedElement)}}componentWillReceiveProps(c){var o;const{selectionBounds:a}=this.state,u=ox(c.selectedElement);(o=this.props.annotation)!=null&&o.isEqual(c.annotation)?this.setState({selectionBounds:u}):this.setState({currentAnnotation:c.annotation,selectionBounds:u}),this.props.modifiedTarget!=c.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),a!=u&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:c}=this.state,o=this.props.widgets?this.props.widgets.map(w3):y3,a=m=>m.type.disableDelete?m.type.disableDelete(c,{...m.props,readOnly:this.props.readOnly,env:this.props.env}):!1,u=c&&(c.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!c.isSelection&&!o.some(a);return Ne.createElement(_P,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Ne.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Ne.createElement("div",{className:"r6o-arrow"}),Ne.createElement("div",{className:"r6o-editor-inner"},o.map((m,v)=>Ne.cloneElement(m,{key:`${v}`,focus:v===0,annotation:c,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Ne.createElement("div",{className:"r6o-footer"},Ne.createElement("button",{className:"r6o-btn",onClick:this.onCancel},Fi.t("Close"))):Ne.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},u&&Ne.createElement("button",{className:"r6o-btn left delete-annotation",title:Fi.t("Delete"),onClick:this.onDelete},Ne.createElement(i3,{width:12})),Ne.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},Fi.t("Cancel")),Ne.createElement("button",{className:"r6o-btn ",onClick:this.onOk},Fi.t("Ok"))))))}}var cu,S3=new Uint8Array(16);function E3(){if(!cu&&(cu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!cu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cu(S3)}var T3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function C3(s){return typeof s=="string"&&T3.test(s)}for(var ai=[],Pp=0;Pp<256;++Pp)ai.push((Pp+256).toString(16).substr(1));function k3(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=(ai[s[c+0]]+ai[s[c+1]]+ai[s[c+2]]+ai[s[c+3]]+"-"+ai[s[c+4]]+ai[s[c+5]]+"-"+ai[s[c+6]]+ai[s[c+7]]+"-"+ai[s[c+8]]+ai[s[c+9]]+"-"+ai[s[c+10]]+ai[s[c+11]]+ai[s[c+12]]+ai[s[c+13]]+ai[s[c+14]]+ai[s[c+15]]).toLowerCase();if(!C3(o))throw TypeError("Stringified UUID is invalid");return o}function sx(s,c,o){s=s||{};var a=s.random||(s.rng||E3)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,k3(a)}var P3=function s(c,o){if(c===o)return!0;if(c&&o&&typeof c=="object"&&typeof o=="object"){if(c.constructor!==o.constructor)return!1;var a,u,m;if(Array.isArray(c)){if(a=c.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!s(c[u],o[u]))return!1;return!0}if(c.constructor===RegExp)return c.source===o.source&&c.flags===o.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===o.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===o.toString();if(m=Object.keys(c),a=m.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,m[u]))return!1;for(u=a;u--!==0;){var v=m[u];if(!s(c[v],o[v]))return!1}return!0}return c!==c&&o!==o},ax=P3;const Rp=class{constructor(s,c){r(this,"clone",(o,a)=>new Rp({...this.underlying,...o},{...this.opts,...a})),r(this,"selector",o=>{const{target:a}=this.underlying;if(a.selector)return(Array.isArray(a.selector)?a.selector:[a.selector]).find(u=>u.type===o)}),this.underlying=s,this.opts=c}isEqual(s){return s?.type!=="Annotation"?!1:this.underlying===s.underlying?!0:!this.underlying.id||!s.underlying.id?!1:ax(this.underlying,s.underlying)}get readOnly(){var s;return(s=this.opts)==null?void 0:s.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(s){this.underlying.body=s}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var s;return(s=this.selector("TextQuoteSelector"))==null?void 0:s.exact}get start(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.start}get end(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.end}};let Fo=Rp;r(Fo,"create",s=>{const c={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${sx()}`,body:[]};return new Rp({...c,...s})});class tl{constructor(c,o){r(this,"clone",a=>{const u=new tl;return u.underlying=JSON.parse(JSON.stringify(this.underlying)),a&&(u.underlying={...u.underlying,...a}),u}),r(this,"selector",a=>{const{target:u}=this.underlying;if(u.selector)return(Array.isArray(u.selector)?u.selector:[u.selector]).find(m=>m.type===a)}),r(this,"toAnnotation",()=>{const a=Object.assign({},this.underlying,{type:"Annotation",id:`#${sx()}`});return new Fo(a)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:o||[],target:c}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(c){return c?ax(this.underlying,c.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var c;return(c=this.selector("TextQuoteSelector"))==null?void 0:c.exact}get isSelection(){return!0}}let _p=0;var R3=()=>({setServerTime:s=>{const c=Date.now();_p=s-c},getCurrentTimeAdjusted:()=>new Date(Date.now()+_p).toISOString(),toClientTime:s=>Date.parse(s)-_p});const _3=(s,c)=>{if(s){const o=s==="auto"?window.navigator.userLanguage||window.navigator.language:s,a=o.split("-")[0].toLowerCase(),u=[o,a].find(m=>HA.includes(m));u||console.warn(`Unsupported locale '${o}'. Falling back to default en.`),Fi.init(u,c)}else Fi.init(null,c)};var lx={exports:{}};(function(s){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function c(o){return new c.Viewer(o)}(function(o){o.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},u=Object.prototype.toString,m=Object.prototype.hasOwnProperty;o.isFunction=function(v){return o.type(v)==="function"},o.isArray=Array.isArray||function(v){return o.type(v)==="array"},o.isWindow=function(v){return v&&typeof v=="object"&&"setInterval"in v},o.type=function(v){return v==null?String(v):a[u.call(v)]||"object"},o.isPlainObject=function(v){if(!v||c.type(v)!=="object"||v.nodeType||o.isWindow(v)||v.constructor&&!m.call(v,"constructor")&&!m.call(v.constructor.prototype,"isPrototypeOf"))return!1;var b;for(var w in v)b=w;return b===void 0||m.call(v,b)},o.isEmptyObject=function(v){for(var b in v)return!1;return!0},o.freezeObject=function(v){return Object.freeze?o.freezeObject=Object.freeze:o.freezeObject=function(b){return b},o.freezeObject(v)},o.supportsCanvas=function(){var v=document.createElement("canvas");return!!(o.isFunction(v.getContext)&&v.getContext("2d"))}(),o.isCanvasTainted=function(v){var b=!1;try{v.getContext("2d").getImageData(0,0,1,1)}catch{b=!0}return b},o.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),o.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),o.supportsEventListenerOptions=function(){var v=0;if(o.supportsAddEventListener)try{var b={get capture(){return v++,!1},get once(){return v++,!1},get passive(){return v++,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{v=0}return v>=3}(),o.getCurrentPixelDensityRatio=function(){if(o.supportsCanvas){var v=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,w=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return Math.max(b,1)/w}else return 1},o.pixelDensityRatio=o.getCurrentPixelDensityRatio()})(c),function(o){o.extend=function(){var w,x,E,O,A,j,X=arguments[0]||{},ae=arguments.length,ie=!1,he=1;for(typeof X=="boolean"&&(ie=X,X=arguments[1]||{},he=2),typeof X!="object"&&!c.isFunction(X)&&(X={}),ae===he&&(X=this,--he);he<ae;he++)if(w=arguments[he],w!==null||w!==void 0)for(x in w)E=X[x],O=w[x],X!==O&&(ie&&O&&(c.isPlainObject(O)||(A=c.isArray(O)))?(A?(A=!1,j=E&&c.isArray(E)?E:[]):j=E&&c.isPlainObject(E)?E:{},X[x]=c.extend(ie,j,O)):O!==void 0&&(X[x]=O));return X};var a=function(){if(typeof navigator!="object")return!1;var w=navigator.userAgent;return typeof w!="string"?!1:w.indexOf("iPhone")!==-1||w.indexOf("iPad")!==-1||w.indexOf("iPod")!==-1};o.extend(o,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(w,x){return function(){var E=arguments;return E===void 0&&(E=[]),x.apply(w,E)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(w){return o._viewers.get(this.getElement(w))},getElement:function(w){return typeof w=="string"&&(w=document.getElementById(w)),w},getElementPosition:function(w){var x=new o.Point,E,O;for(w=o.getElement(w),E=o.getElementStyle(w).position==="fixed",O=b(w,E);O;)x.x+=w.offsetLeft,x.y+=w.offsetTop,E&&(x=x.plus(o.getPageScroll())),w=O,E=o.getElementStyle(w).position==="fixed",O=b(w,E);return x},getElementOffset:function(w){w=o.getElement(w);var x=w&&w.ownerDocument,E,O,A={top:0,left:0};return x?(E=x.documentElement,typeof w.getBoundingClientRect<"u"&&(A=w.getBoundingClientRect()),O=x===x.window?x:x.nodeType===9?x.defaultView||x.parentWindow:!1,new o.Point(A.left+(O.pageXOffset||E.scrollLeft)-(E.clientLeft||0),A.top+(O.pageYOffset||E.scrollTop)-(E.clientTop||0))):new o.Point},getElementSize:function(w){return w=o.getElement(w),new o.Point(w.clientWidth,w.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(w){return w=o.getElement(w),w.currentStyle}:function(w){return w=o.getElement(w),window.getComputedStyle(w,"")},getCssPropertyWithVendorPrefix:function(w){var x={};return o.getCssPropertyWithVendorPrefix=function(E){if(x[E]!==void 0)return x[E];var O=document.createElement("div").style,A=null;if(O[E]!==void 0)A=E;else for(var j=["Webkit","Moz","MS","O","webkit","moz","ms","o"],X=o.capitalizeFirstLetter(E),ae=0;ae<j.length;ae++){var ie=j[ae]+X;if(O[ie]!==void 0){A=ie;break}}return x[E]=A,A},o.getCssPropertyWithVendorPrefix(w)},capitalizeFirstLetter:function(w){return w.charAt(0).toUpperCase()+w.slice(1)},positiveModulo:function(w,x){var E=w%x;return E<0&&(E+=x),E},pointInElement:function(w,x){w=o.getElement(w);var E=o.getElementOffset(w),O=o.getElementSize(w);return x.x>=E.x&&x.x<E.x+O.x&&x.y<E.y+O.y&&x.y>=E.y},getMousePosition:function(w){if(typeof w.pageX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.pageX,E.y=x.pageY,E};else if(typeof w.clientX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,E.y=x.clientY+document.body.scrollTop+document.documentElement.scrollTop,E};else throw new Error("Unknown event mouse position, no known technique.");return o.getMousePosition(w)},getPageScroll:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.pageXOffset=="number")o.getPageScroll=function(){return new o.Point(window.pageXOffset,window.pageYOffset)};else if(x.scrollLeft||x.scrollTop)o.getPageScroll=function(){return new o.Point(document.body.scrollLeft,document.body.scrollTop)};else if(w.scrollLeft||w.scrollTop)o.getPageScroll=function(){return new o.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new o.Point(0,0);return o.getPageScroll()},setPageScroll:function(w){if(typeof window.scrollTo<"u")o.setPageScroll=function(O){window.scrollTo(O.x,O.y)};else{var x=o.getPageScroll();if(x.x===w.x&&x.y===w.y)return;document.body.scrollLeft=w.x,document.body.scrollTop=w.y;var E=o.getPageScroll();if(E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(O){document.body.scrollLeft=O.x,document.body.scrollTop=O.y};return}if(document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y,E=o.getPageScroll(),E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(O){document.documentElement.scrollLeft=O.x,document.documentElement.scrollTop=O.y};return}o.setPageScroll=function(O){}}o.setPageScroll(w)},getWindowSize:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.innerWidth=="number")o.getWindowSize=function(){return new o.Point(window.innerWidth,window.innerHeight)};else if(w.clientWidth||w.clientHeight)o.getWindowSize=function(){return new o.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(x.clientWidth||x.clientHeight)o.getWindowSize=function(){return new o.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return o.getWindowSize()},makeCenteredNode:function(w){w=o.getElement(w);var x=[o.makeNeutralElement("div"),o.makeNeutralElement("div"),o.makeNeutralElement("div")];return o.extend(x[0].style,{display:"table",height:"100%",width:"100%"}),o.extend(x[1].style,{display:"table-row"}),o.extend(x[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),x[0].appendChild(x[1]),x[1].appendChild(x[2]),x[2].appendChild(w),x[0]},makeNeutralElement:function(w){var x=document.createElement(w),E=x.style;return E.background="transparent none",E.border="none",E.margin="0px",E.padding="0px",E.position="static",x},now:function(){return Date.now?o.now=Date.now:o.now=function(){return new Date().getTime()},o.now()},makeTransparentImage:function(w){var x=o.makeNeutralElement("img");return x.src=w,x},setElementOpacity:function(w,x,E){var O,A;w=o.getElement(w),E&&!o.Browser.alpha&&(x=Math.round(x)),o.Browser.opacity?w.style.opacity=x<1?x:"":x<1?(O=Math.round(100*x),A="alpha(opacity="+O+")",w.style.filter=A):w.style.filter=""},setElementTouchActionNone:function(w){w=o.getElement(w),typeof w.style.touchAction<"u"?w.style.touchAction="none":typeof w.style.msTouchAction<"u"&&(w.style.msTouchAction="none")},setElementPointerEvents:function(w,x){w=o.getElement(w),typeof w.style.pointerEvents<"u"&&(w.style.pointerEvents=x)},setElementPointerEventsNone:function(w){o.setElementPointerEvents(w,"none")},addClass:function(w,x){w=o.getElement(w),w.className?(" "+w.className+" ").indexOf(" "+x+" ")===-1&&(w.className+=" "+x):w.className=x},indexOf:function(w,x,E){return Array.prototype.indexOf?this.indexOf=function(O,A,j){return O.indexOf(A,j)}:this.indexOf=function(O,A,j){var X,ae=j||0,ie;if(!O)throw new TypeError;if(ie=O.length,ie===0||ae>=ie)return-1;for(ae<0&&(ae=ie-Math.abs(ae)),X=ae;X<ie;X++)if(O[X]===A)return X;return-1},this.indexOf(w,x,E)},removeClass:function(w,x){var E,O=[],A;for(w=o.getElement(w),E=w.className.split(/\s+/),A=0;A<E.length;A++)E[A]&&E[A]!==x&&O.push(E[A]);w.className=O.join(" ")},normalizeEventListenerOptions:function(w){var x;return typeof w<"u"?typeof w=="boolean"?x=o.supportsEventListenerOptions?{capture:w}:w:x=o.supportsEventListenerOptions?w:typeof w.capture<"u"?w.capture:!1:x=o.supportsEventListenerOptions?{capture:!1}:!1,x},addEvent:function(){if(o.supportsAddEventListener)return function(w,x,E,O){O=o.normalizeEventListenerOptions(O),w=o.getElement(w),w.addEventListener(x,E,O)};if(document.documentElement.attachEvent&&document.attachEvent)return function(w,x,E){w=o.getElement(w),w.attachEvent("on"+x,E)};throw new Error("No known event model.")}(),removeEvent:function(){if(o.supportsRemoveEventListener)return function(w,x,E,O){O=o.normalizeEventListenerOptions(O),w=o.getElement(w),w.removeEventListener(x,E,O)};if(document.documentElement.detachEvent&&document.detachEvent)return function(w,x,E){w=o.getElement(w),w.detachEvent("on"+x,E)};throw new Error("No known event model.")}(),cancelEvent:function(w){w.preventDefault()},eventIsCanceled:function(w){return w.defaultPrevented},stopEvent:function(w){w.stopPropagation()},createCallback:function(w,x){var E=[],O;for(O=2;O<arguments.length;O++)E.push(arguments[O]);return function(){var A=E.concat([]),j;for(j=0;j<arguments.length;j++)A.push(arguments[j]);return x.apply(w,A)}},getUrlParameter:function(w){var x=v[w];return x||null},getUrlProtocol:function(w){var x=w.match(/^([a-z]+:)\/\//i);return x===null?window.location.protocol:x[1].toLowerCase()},createAjaxRequest:function(w){var x;try{x=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{x=!1}if(x)window.XMLHttpRequest?o.createAjaxRequest=function(E){return E?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:o.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)o.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return o.createAjaxRequest(w)},makeAjaxRequest:function(w,x,E){var O,A,j;o.isPlainObject(w)&&(x=w.success,E=w.error,O=w.withCredentials,A=w.headers,j=w.responseType||null,w=w.url);var X=o.getUrlProtocol(w),ae=o.createAjaxRequest(X==="file:");if(!o.isFunction(x))throw new Error("makeAjaxRequest requires a success callback");ae.onreadystatechange=function(){ae.readyState===4&&(ae.onreadystatechange=function(){},ae.status>=200&&ae.status<300||ae.status===0&&X!=="http:"&&X!=="https:"?x(ae):(o.console.log("AJAX request returned %d: %s",ae.status,w),o.isFunction(E)&&E(ae)))};try{if(ae.open("GET",w,!0),j&&(ae.responseType=j),A)for(var ie in A)Object.prototype.hasOwnProperty.call(A,ie)&&A[ie]&&ae.setRequestHeader(ie,A[ie]);O&&(ae.withCredentials=!0),ae.send(null)}catch(he){o.console.log("%s while making AJAX request: %s",he.name,he.message),ae.onreadystatechange=function(){},o.isFunction(E)&&E(ae,he)}return ae},jsonp:function(w){var x,E=w.url,O=document.head||document.getElementsByTagName("head")[0]||document.documentElement,A=w.callbackName||"openseadragon"+o.now(),j=window[A],X="$1"+A+"$2",ae=w.param||"callback",ie=w.callback;E=E.replace(/(=)\?(&|$)|\?\?/i,X),E+=(/\?/.test(E)?"&":"?")+ae+"="+A,window[A]=function(he){if(j)window[A]=j;else try{delete window[A]}catch{}ie&&o.isFunction(ie)&&ie(he)},x=document.createElement("script"),(w.async!==void 0||w.async!==!1)&&(x.async="async"),w.scriptCharset&&(x.charset=w.scriptCharset),x.src=E,x.onload=x.onreadystatechange=function(he,M){(M||!x.readyState||/loaded|complete/.test(x.readyState))&&(x.onload=x.onreadystatechange=null,O&&x.parentNode&&O.removeChild(x),x=void 0)},O.insertBefore(x,O.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(w){if(window.DOMParser)o.parseXml=function(x){var E=null,O;return O=new DOMParser,E=O.parseFromString(x,"text/xml"),E};else if(window.ActiveXObject)o.parseXml=function(x){var E=null;return E=new ActiveXObject("Microsoft.XMLDOM"),E.async=!1,E.loadXML(x),E};else throw new Error("Browser doesn't support XML DOM.");return o.parseXml(w)},parseJSON:function(w){return o.parseJSON=window.JSON.parse,o.parseJSON(w)},imageFormatSupported:function(w){return w=w||"",!!m[w.toLowerCase()]},setImageFormatsSupported:function(w){o.extend(m,w)}});var u=function(w){};o.console=window.console||{log:u,debug:u,info:u,warn:u,error:u,assert:u},o.Browser={vendor:o.BROWSERS.UNKNOWN,version:0,alpha:!0};var m={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},v={};(function(){var w=navigator.appVersion,x=navigator.userAgent,E;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(x.substring(x.indexOf("MSIE")+5,x.indexOf(";",x.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(x.indexOf("Edge")>=0?(o.Browser.vendor=o.BROWSERS.EDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edge")+5))):x.indexOf("Edg")>=0?(o.Browser.vendor=o.BROWSERS.CHROMEEDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edg")+4))):x.indexOf("Firefox")>=0?(o.Browser.vendor=o.BROWSERS.FIREFOX,o.Browser.version=parseFloat(x.substring(x.indexOf("Firefox")+8))):x.indexOf("Safari")>=0?(o.Browser.vendor=x.indexOf("Chrome")>=0?o.BROWSERS.CHROME:o.BROWSERS.SAFARI,o.Browser.version=parseFloat(x.substring(x.substring(0,x.indexOf("Safari")).lastIndexOf("/")+1,x.indexOf("Safari")))):(E=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),E.exec(x)!==null&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":o.Browser.vendor=o.BROWSERS.OPERA,o.Browser.version=parseFloat(w);break}var O=window.location.search.substring(1),A=O.split("&"),j,X,ae;for(ae=0;ae<A.length;ae++)if(j=A[ae],X=j.indexOf("="),X>0){var ie=j.substring(0,X),he=j.substring(X+1);try{v[ie]=decodeURIComponent(he)}catch{o.console.error("Ignoring malformed URL parameter: %s=%s",ie,he)}}o.Browser.alpha=!(o.Browser.vendor===o.BROWSERS.CHROME&&o.Browser.version<2),o.Browser.opacity=!0,o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version<11&&o.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(w){var x=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame,E=w.cancelAnimationFrame||w.mozCancelAnimationFrame||w.webkitCancelAnimationFrame||w.msCancelAnimationFrame;if(x&&E)o.requestAnimationFrame=function(){return x.apply(w,arguments)},o.cancelAnimationFrame=function(){return E.apply(w,arguments)};else{var O=[],A=[],j=0,X;o.requestAnimationFrame=function(ae){return O.push([++j,ae]),X||(X=setInterval(function(){if(O.length){var ie=o.now(),he=A;for(A=O,O=he;A.length;)A.shift()[1](ie)}else clearInterval(X),X=void 0},1e3/50)),j},o.cancelAnimationFrame=function(ae){var ie,he;for(ie=0,he=O.length;ie<he;ie+=1)if(O[ie][0]===ae){O.splice(ie,1);return}for(ie=0,he=A.length;ie<he;ie+=1)if(A[ie][0]===ae){A.splice(ie,1);return}}}}(window);function b(w,x){return x&&w!==document.body?document.body:w.offsetParent}}(c),function(o,a){s.exports?s.exports=a():o.OpenSeadragon=a()}(hr,function(){return c}),function(o){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(u){return u.requestFullscreen()},a.exitFullScreen=function(){document.exitFullscreen()},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(u){return u.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(u){return u.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){o.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},o.extend(o,a)}(c),function(o){o.EventSource=function(){this.events={}},o.EventSource.prototype={addOnceHandler:function(a,u,m,v){var b=this;v=v||1;var w=0,x=function(E){w++,w===v&&b.removeHandler(a,x),u(E)};this.addHandler(a,x,m)},addHandler:function(a,u,m){var v=this.events[a];v||(this.events[a]=v=[]),u&&o.isFunction(u)&&(v[v.length]={handler:u,userData:m||null})},removeHandler:function(a,u){var m=this.events[a],v=[],b;if(m&&o.isArray(m)){for(b=0;b<m.length;b++)m[b].handler!==u&&v.push(m[b]);this.events[a]=v}},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var u in this.events)this.events[u]=[]},getHandler:function(a){var u=this.events[a];return!u||!u.length?null:(u=u.length===1?[u[0]]:Array.apply(null,u),function(m,v){var b,w=u.length;for(b=0;b<w;b++)u[b]&&(v.eventSource=m,v.userData=u[b].userData,u[b].handler(v))})},raiseEvent:function(a,u){var m=this.getHandler(a);m&&(u||(u={}),m(this,u))}}}(c),function(o){var a={};o.MouseTracker=function(V){var B=arguments;o.isPlainObject(V)||(V={element:B[0],clickTimeThreshold:B[1],clickDistThreshold:B[2]}),this.hash=Math.random(),this.element=o.getElement(V.element),this.clickTimeThreshold=V.clickTimeThreshold||o.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=V.clickDistThreshold||o.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=V.dblClickTimeThreshold||o.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=V.dblClickDistThreshold||o.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=V.userData||null,this.stopDelay=V.stopDelay||50,this.preProcessEventHandler=V.preProcessEventHandler||null,this.contextMenuHandler=V.contextMenuHandler||null,this.enterHandler=V.enterHandler||null,this.leaveHandler=V.leaveHandler||null,this.exitHandler=V.exitHandler||null,this.overHandler=V.overHandler||null,this.outHandler=V.outHandler||null,this.pressHandler=V.pressHandler||null,this.nonPrimaryPressHandler=V.nonPrimaryPressHandler||null,this.releaseHandler=V.releaseHandler||null,this.nonPrimaryReleaseHandler=V.nonPrimaryReleaseHandler||null,this.moveHandler=V.moveHandler||null,this.scrollHandler=V.scrollHandler||null,this.clickHandler=V.clickHandler||null,this.dblClickHandler=V.dblClickHandler||null,this.dragHandler=V.dragHandler||null,this.dragEndHandler=V.dragEndHandler||null,this.pinchHandler=V.pinchHandler||null,this.stopHandler=V.stopHandler||null,this.keyDownHandler=V.keyDownHandler||null,this.keyUpHandler=V.keyUpHandler||null,this.keyHandler=V.keyHandler||null,this.focusHandler=V.focusHandler||null,this.blurHandler=V.blurHandler||null;var te=this;a[this.hash]={click:function(re){oe(te,re)},dblclick:function(re){be(te,re)},keydown:function(re){ye(te,re)},keyup:function(re){ke(te,re)},keypress:function(re){Re(te,re)},focus:function(re){qe(te,re)},blur:function(re){Ye(te,re)},contextmenu:function(re){ut(te,re)},wheel:function(re){ft(te,re)},mousewheel:function(re){dt(te,re)},DOMMouseScroll:function(re){dt(te,re)},MozMousePixelScroll:function(re){dt(te,re)},losecapture:function(re){Rt(te,re)},mouseenter:function(re){Qe(te,re)},mouseleave:function(re){rt(te,re)},mouseover:function(re){et(te,re)},mouseout:function(re){ct(te,re)},mousedown:function(re){Mt(te,re)},mouseup:function(re){xn(te,re)},mousemove:function(re){Yi(te,re)},touchstart:function(re){Kt(te,re)},touchend:function(re){Xt(te,re)},touchmove:function(re){Zt(te,re)},touchcancel:function(re){hn(te,re)},gesturestart:function(re){Pn(te,re)},gesturechange:function(re){ht(te,re)},gotpointercapture:function(re){nn(te,re)},lostpointercapture:function(re){Ue(te,re)},pointerenter:function(re){Qe(te,re)},pointerleave:function(re){rt(te,re)},pointerover:function(re){et(te,re)},pointerout:function(re){ct(te,re)},pointerdown:function(re){Mt(te,re)},pointerup:function(re){xn(te,re)},pointermove:function(re){Yi(te,re)},pointercancel:function(re){F(te,re)},pointerupcaptured:function(re){Ln(te,re)},pointermovecaptured:function(re){Oi(te,re)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,o.MouseTracker.havePointerEvents&&o.setElementPointerEvents(this.element,"auto"),this.exitHandler&&o.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),V.startDisabled||this.setTracking(!0)},o.MouseTracker.prototype={destroy:function(){w(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(V){return V?b(this):w(this),this},getActivePointersListByType:function(V){var B=a[this.hash],te,re=B.activePointersLists.length,Me;for(te=0;te<re;te++)if(B.activePointersLists[te].type===V)return B.activePointersLists[te];return Me=new o.MouseTracker.GesturePointList(V),B.activePointersLists.push(Me),Me},getActivePointerCount:function(){var V=a[this.hash],B,te=V.activePointersLists.length,re=0;for(B=0;B<te;B++)re+=V.activePointersLists[B].getLength();return re},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var u=function(){try{return window.self!==window.top}catch{return!0}}();function m(V){try{return V.addEventListener&&V.removeEventListener}catch{return!1}}o.MouseTracker.gesturePointVelocityTracker=function(){var V=[],B=0,te=0,re=function(Rn,Ht){return Rn.hash.toString()+Ht.type+Ht.id.toString()},Me=function(){var Rn,Ht=V.length,Bi,ei,Ks=o.now(),Dx,Ax,Ix;for(Dx=Ks-te,te=Ks,Rn=0;Rn<Ht;Rn++)Bi=V[Rn],ei=Bi.gPoint,ei.direction=Math.atan2(ei.currentPos.y-Bi.lastPos.y,ei.currentPos.x-Bi.lastPos.x),Ax=Bi.lastPos.distanceTo(ei.currentPos),Bi.lastPos=ei.currentPos,Ix=1e3*Ax/(Dx+1),ei.speed=.75*Ix+.25*ei.speed},Ze=function(Rn,Ht){var Bi=re(Rn,Ht);V.push({guid:Bi,gPoint:Ht,lastPos:Ht.currentPos}),V.length===1&&(te=o.now(),B=window.setInterval(Me,50))},Nt=function(Rn,Ht){var Bi=re(Rn,Ht),ei,Ks=V.length;for(ei=0;ei<Ks;ei++)if(V[ei].guid===Bi){V.splice(ei,1),Ks--,Ks===0&&window.clearInterval(B);break}};return{addPoint:Ze,removePoint:Nt}}(),o.MouseTracker.captureElement=document,o.MouseTracker.wheelEventName=o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",o.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",o.MouseTracker.wheelEventName],o.MouseTracker.wheelEventName==="DOMMouseScroll"&&o.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(o.MouseTracker.havePointerEvents=!0,o.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),o.MouseTracker.havePointerCapture=function(){var V=document.createElement("div");return o.isFunction(V.setPointerCapture)&&o.isFunction(V.releasePointerCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(o.MouseTracker.havePointerEvents=!1,o.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),o.MouseTracker.mousePointerId="legacy-mouse",o.MouseTracker.havePointerCapture=function(){var V=document.createElement("div");return o.isFunction(V.setCapture)&&o.isFunction(V.releaseCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&o.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&o.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),o.MouseTracker.GesturePointList=function(V){this._gPoints=[],this.type=V,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},o.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(V){return this._gPoints.push(V)},removeById:function(V){var B,te=this._gPoints.length;for(B=0;B<te;B++)if(this._gPoints[B].id===V){this._gPoints.splice(B,1);break}return this._gPoints.length},getByIndex:function(V){return V<this._gPoints.length?this._gPoints[V]:null},getById:function(V){var B,te=this._gPoints.length;for(B=0;B<te;B++)if(this._gPoints[B].id===V)return this._gPoints[B];return null},getPrimary:function(V){var B,te=this._gPoints.length;for(B=0;B<te;B++)if(this._gPoints[B].isPrimary)return this._gPoints[B];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(o.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(o.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function v(V){var B=a[V.hash],te,re,Me,Ze,Nt,Rn=B.activePointersLists.length;for(te=0;te<Rn;te++)if(Me=B.activePointersLists[te],Me.getLength()>0){for(Nt=[],Ze=Me.asArray(),re=0;re<Ze.length;re++)Nt.push(Ze[re]);for(re=0;re<Nt.length;re++)Ie(V,Me,Nt[re])}for(te=0;te<Rn;te++)B.activePointersLists.pop();B.sentDragEvent=!1}function b(V){var B=a[V.hash],te,re;if(!B.tracking){for(re=0;re<o.MouseTracker.subscribeEvents.length;re++)te=o.MouseTracker.subscribeEvents[re],o.addEvent(V.element,te,B[te],te===o.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);v(V),B.tracking=!0}}function w(V){var B=a[V.hash],te,re;if(B.tracking){for(re=0;re<o.MouseTracker.subscribeEvents.length;re++)te=o.MouseTracker.subscribeEvents[re],o.removeEvent(V.element,te,B[te],!1);v(V),B.tracking=!1}}function x(V,B){var te=a[V.hash];if(B==="pointerevent")return{upName:"pointerup",upHandler:te.pointerupcaptured,moveName:"pointermove",moveHandler:te.pointermovecaptured};if(B==="mouse")return{upName:"pointerup",upHandler:te.pointerupcaptured,moveName:"pointermove",moveHandler:te.pointermovecaptured};if(B==="touch")return{upName:"touchend",upHandler:te.touchendcaptured,moveName:"touchmove",moveHandler:te.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function E(V,B){var te;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents)try{V.element.setPointerCapture(B.id)}catch{o.console.warn("setPointerCapture() called on invalid pointer ID");return}else V.element.setCapture(!0);else te=x(V,o.MouseTracker.havePointerEvents?"pointerevent":B.type),u&&m(window.top)&&o.addEvent(window.top,te.upName,te.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,te.upName,te.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,te.moveName,te.moveHandler,!0);Ct(V,B,!0)}function O(V,B){var te,re,Me;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents){if(re=V.getActivePointersListByType(B.type),Me=re.getById(B.id),!Me||!Me.captured)return;try{V.element.releasePointerCapture(B.id)}catch{}}else V.element.releaseCapture();else te=x(V,o.MouseTracker.havePointerEvents?"pointerevent":B.type),u&&m(window.top)&&o.removeEvent(window.top,te.upName,te.upHandler,!0),o.removeEvent(o.MouseTracker.captureElement,te.moveName,te.moveHandler,!0),o.removeEvent(o.MouseTracker.captureElement,te.upName,te.upHandler,!0);Ct(V,B,!1)}function A(V){return o.MouseTracker.havePointerEvents?V.pointerId:o.MouseTracker.mousePointerId}function j(V){return o.MouseTracker.havePointerEvents?V.pointerType||(o.Browser.vendor===o.BROWSERS.IE?"mouse":""):"mouse"}function X(V){return o.MouseTracker.havePointerEvents?V.isPrimary:!0}function ae(V){return o.getMousePosition(V)}function ie(V,B){return he(ae(V),B)}function he(V,B){var te=o.getElementOffset(B);return V.minus(te)}function M(V,B){return new o.Point((V.x+B.x)/2,(V.y+B.y)/2)}function oe(V,B){var te={originalEvent:B,eventType:"click",pointerType:"mouse",isEmulated:!1};We(V,te),te.preventDefault&&!te.defaultPrevented&&o.cancelEvent(B),te.stopPropagation&&o.stopEvent(B)}function be(V,B){var te={originalEvent:B,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};We(V,te),te.preventDefault&&!te.defaultPrevented&&o.cancelEvent(B),te.stopPropagation&&o.stopEvent(B)}function ye(V,B){var te=null,re={originalEvent:B,eventType:"keydown",pointerType:"",isEmulated:!1};We(V,re),V.keyDownHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,keyCode:B.keyCode?B.keyCode:B.charCode,ctrl:B.ctrlKey,shift:B.shiftKey,alt:B.altKey,meta:B.metaKey,originalEvent:B,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.keyDownHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function ke(V,B){var te=null,re={originalEvent:B,eventType:"keyup",pointerType:"",isEmulated:!1};We(V,re),V.keyUpHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,keyCode:B.keyCode?B.keyCode:B.charCode,ctrl:B.ctrlKey,shift:B.shiftKey,alt:B.altKey,meta:B.metaKey,originalEvent:B,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.keyUpHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function Re(V,B){var te=null,re={originalEvent:B,eventType:"keypress",pointerType:"",isEmulated:!1};We(V,re),V.keyHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,keyCode:B.keyCode?B.keyCode:B.charCode,ctrl:B.ctrlKey,shift:B.shiftKey,alt:B.altKey,meta:B.metaKey,originalEvent:B,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.keyHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function qe(V,B){var te={originalEvent:B,eventType:"focus",pointerType:"",isEmulated:!1};We(V,te),V.focusHandler&&!te.preventGesture&&V.focusHandler({eventSource:V,originalEvent:B,userData:V.userData})}function Ye(V,B){var te={originalEvent:B,eventType:"blur",pointerType:"",isEmulated:!1};We(V,te),V.blurHandler&&!te.preventGesture&&V.blurHandler({eventSource:V,originalEvent:B,userData:V.userData})}function ut(V,B){var te=null,re={originalEvent:B,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};We(V,re),V.contextMenuHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,position:he(ae(B),V.element),originalEvent:re.originalEvent,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.contextMenuHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function ft(V,B){Ot(V,B,B)}function dt(V,B){var te={target:B.target||B.srcElement,type:"wheel",shiftKey:B.shiftKey||!1,clientX:B.clientX,clientY:B.clientY,pageX:B.pageX?B.pageX:B.clientX,pageY:B.pageY?B.pageY:B.clientY,deltaMode:B.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};o.MouseTracker.wheelEventName==="mousewheel"?te.deltaY=-B.wheelDelta/o.DEFAULT_SETTINGS.pixelsPerWheelLine:te.deltaY=B.detail,Ot(V,te,B)}function Ot(V,B,te){var re=0,Me,Ze=null;re=B.deltaY<0?1:-1,Me={originalEvent:B,eventType:"wheel",pointerType:"mouse",isEmulated:B!==te},We(V,Me),V.scrollHandler&&!Me.preventGesture&&!Me.defaultPrevented&&(Ze={eventSource:V,pointerType:"mouse",position:ie(B,V.element),scroll:re,shift:B.shiftKey,isTouchEvent:!1,originalEvent:te,preventDefault:Me.preventDefault||Me.defaultPrevented,userData:V.userData},V.scrollHandler(Ze)),Me.stopPropagation&&o.stopEvent(te),(Ze&&Ze.preventDefault||Me.preventDefault&&!Me.defaultPrevented)&&o.cancelEvent(te)}function Rt(V,B){var te={id:o.MouseTracker.mousePointerId,type:"mouse"},re={originalEvent:B,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};We(V,re),B.target===V.element&&Ct(V,te,!1),re.stopPropagation&&o.stopEvent(B)}function Kt(V,B){var te,re,Me=B.changedTouches.length,Ze,Nt=V.getActivePointersListByType("touch");te=o.now(),Nt.getLength()>B.touches.length-Me&&o.console.warn("Tracked touch contact count doesn't match event.touches.length");var Rn={originalEvent:B,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(We(V,Rn),re=0;re<Me;re++)Ze={id:B.changedTouches[re].identifier,type:"touch",isPrimary:Nt.getLength()===0,currentPos:ae(B.changedTouches[re]),currentTime:te},pt(V,Rn,Ze),Yt(V,Rn,Ze,0),Ct(V,Ze,!0);Rn.preventDefault&&!Rn.defaultPrevented&&o.cancelEvent(B),Rn.stopPropagation&&o.stopEvent(B)}function Xt(V,B){var te,re,Me=B.changedTouches.length,Ze;te=o.now();var Nt={originalEvent:B,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(We(V,Nt),re=0;re<Me;re++)Ze={id:B.changedTouches[re].identifier,type:"touch",currentPos:ae(B.changedTouches[re]),currentTime:te},jn(V,Nt,Ze,0),Ct(V,Ze,!1),pn(V,Nt,Ze);Nt.preventDefault&&!Nt.defaultPrevented&&o.cancelEvent(B),Nt.stopPropagation&&o.stopEvent(B)}function Zt(V,B){var te,re,Me=B.changedTouches.length,Ze;te=o.now();var Nt={originalEvent:B,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(We(V,Nt),re=0;re<Me;re++)Ze={id:B.changedTouches[re].identifier,type:"touch",currentPos:ae(B.changedTouches[re]),currentTime:te},ln(V,Nt,Ze);Nt.preventDefault&&!Nt.defaultPrevented&&o.cancelEvent(B),Nt.stopPropagation&&o.stopEvent(B)}function hn(V,B){var te=B.changedTouches.length,re,Me,Ze={originalEvent:B,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(We(V,Ze),re=0;re<te;re++)Me={id:B.changedTouches[re].identifier,type:"touch"},li(V,Ze,Me);Ze.stopPropagation&&o.stopEvent(B)}function Pn(V,B){return o.eventIsCanceled(B)||B.preventDefault(),!1}function ht(V,B){return o.eventIsCanceled(B)||B.preventDefault(),!1}function nn(V,B){var te={originalEvent:B,eventType:"gotpointercapture",pointerType:j(B),isEmulated:!1};We(V,te),B.target===V.element&&Ct(V,{id:B.pointerId,type:j(B)},!0),te.stopPropagation&&o.stopEvent(B)}function Ue(V,B){var te={originalEvent:B,eventType:"lostpointercapture",pointerType:j(B),isEmulated:!1};We(V,te),B.target===V.element&&Ct(V,{id:B.pointerId,type:j(B)},!1),te.stopPropagation&&o.stopEvent(B)}function Qe(V,B){var te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()},re={originalEvent:B,eventType:"pointerenter",pointerType:te.type,isEmulated:!1};We(V,re),pt(V,re,te)}function rt(V,B){var te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()},re={originalEvent:B,eventType:"pointerleave",pointerType:te.type,isEmulated:!1};We(V,re),pn(V,re,te)}function et(V,B){var te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()},re={originalEvent:B,eventType:"pointerover",pointerType:te.type,isEmulated:!1};We(V,re),Dn(V,re,te),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function ct(V,B){var te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()},re={originalEvent:B,eventType:"pointerout",pointerType:te.type,isEmulated:!1};We(V,re),fn(V,re,te),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function Mt(V,B){var te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()},re=o.MouseTracker.havePointerEvents&&te.type==="touch"&&o.Browser.vendor!==o.BROWSERS.IE,Me={originalEvent:B,eventType:"pointerdown",pointerType:te.type,isEmulated:!1};We(V,Me),Yt(V,Me,te,B.button),Me.preventDefault&&!Me.defaultPrevented&&o.cancelEvent(B),Me.stopPropagation&&o.stopEvent(B),Me.shouldCapture&&(re?Ct(V,te,!0):E(V,te))}function xn(V,B){un(V,B)}function Ln(V,B){var te=V.getActivePointersListByType(j(B));te.getById(B.pointerId)&&un(V,B),o.stopEvent(B)}function un(V,B){var te;te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()};var re={originalEvent:B,eventType:"pointerup",pointerType:te.type,isEmulated:!1};We(V,re),jn(V,re,te,B.button),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B),re.shouldReleaseCapture&&(B.target===V.element?O(V,te):Ct(V,te,!1))}function Yi(V,B){ji(V,B)}function Oi(V,B){var te=V.getActivePointersListByType(j(B));te.getById(B.pointerId)&&ji(V,B),o.stopEvent(B)}function ji(V,B){var te={id:A(B),type:j(B),isPrimary:X(B),currentPos:ae(B),currentTime:o.now()},re={originalEvent:B,eventType:"pointermove",pointerType:te.type,isEmulated:!1};We(V,re),ln(V,re,te),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(B),re.stopPropagation&&o.stopEvent(B)}function F(V,B){var te={id:B.pointerId,type:j(B)},re={originalEvent:B,eventType:"pointercancel",pointerType:te.type,isEmulated:!1};We(V,re),li(V,re,te),re.stopPropagation&&o.stopEvent(B)}function ce(V,B){return B.speed=0,B.direction=0,B.contactPos=B.currentPos,B.contactTime=B.currentTime,B.lastPos=B.currentPos,B.lastTime=B.currentTime,V.add(B)}function Ie(V,B,te){var re,Me=B.getById(te.id);return Me?(Me.captured&&(o.console.warn("stopTrackingPointer() called on captured pointer"),O(V,Me)),(B.type==="mouse"||B.type==="pen")&&B.contacts>0&&B.removeContact(),re=B.removeById(te.id)):re=B.getLength(),re}function Ke(V,B){switch(B.eventType){case"pointermove":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasGestureHandlers,B.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!1,B.stopPropagation=!1;break;case"pointerdown":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasGestureHandlers,B.stopPropagation=!1;break;case"pointerup":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasGestureHandlers,B.stopPropagation=!1;break;case"wheel":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!1,B.preventGesture=!V.hasScrollHandler,B.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":B.isStoppable=!0,B.isCancelable=!1,B.preventDefault=!1,B.preventGesture=!1,B.stopPropagation=!1;break;case"click":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!!V.clickHandler,B.preventGesture=!1,B.stopPropagation=!1;break;case"dblclick":B.isStoppable=!0,B.isCancelable=!0,B.preventDefault=!!V.dblClickHandler,B.preventGesture=!1,B.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:B.isStoppable=!1,B.isCancelable=!1,B.preventDefault=!1,B.preventGesture=!1,B.stopPropagation=!1;break}}function We(V,B){B.eventSource=V,B.eventPhase=B.originalEvent&&typeof B.originalEvent.eventPhase<"u"?B.originalEvent.eventPhase:0,B.defaultPrevented=o.eventIsCanceled(B.originalEvent),B.shouldCapture=!1,B.shouldReleaseCapture=!1,B.userData=V.userData,Ke(V,B),V.preProcessEventHandler&&V.preProcessEventHandler(B)}function Ct(V,B,te){var re=V.getActivePointersListByType(B.type),Me=re.getById(B.id);Me?te&&!Me.captured?(Me.captured=!0,re.captureCount++):!te&&Me.captured&&(Me.captured=!1,re.captureCount--,re.captureCount<0&&(re.captureCount=0,o.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):o.console.warn("updatePointerCaptured() called on untracked pointer")}function pt(V,B,te){var re=V.getActivePointersListByType(te.type),Me;Me=re.getById(te.id),Me?(Me.insideElement=!0,Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=te.currentPos,Me.currentTime=te.currentTime,te=Me):(te.captured=!1,te.insideElementPressed=!1,te.insideElement=!0,ce(re,te)),V.enterHandler&&V.enterHandler({eventSource:V,pointerType:te.type,position:he(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData})}function pn(V,B,te){var re=V.getActivePointersListByType(te.type),Me,Ze;Me=re.getById(te.id),Me?(Me.captured?(Me.insideElement=!1,Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=te.currentPos,Me.currentTime=te.currentTime):Ie(V,re,Me),te=Me):(te.captured=!1,te.insideElementPressed=!1),(V.leaveHandler||V.exitHandler)&&(Ze={eventSource:V,pointerType:te.type,position:te.currentPos&&he(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData},V.leaveHandler&&V.leaveHandler(Ze),V.exitHandler&&V.exitHandler(Ze))}function Dn(V,B,te){var re,Me;re=V.getActivePointersListByType(te.type),Me=re.getById(te.id),Me?te=Me:(te.captured=!1,te.insideElementPressed=!1),V.overHandler&&V.overHandler({eventSource:V,pointerType:te.type,position:he(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData})}function fn(V,B,te){var re,Me;re=V.getActivePointersListByType(te.type),Me=re.getById(te.id),Me?te=Me:(te.captured=!1,te.insideElementPressed=!1),V.outHandler&&V.outHandler({eventSource:V,pointerType:te.type,position:te.currentPos&&he(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData})}function Yt(V,B,te,re){var Me=a[V.hash],Ze=V.getActivePointersListByType(te.type),Nt;if(typeof B.originalEvent.buttons<"u"?Ze.buttons=B.originalEvent.buttons:re===0?Ze.buttons|=1:re===1?Ze.buttons|=4:re===2?Ze.buttons|=2:re===3?Ze.buttons|=8:re===4?Ze.buttons|=16:re===5&&(Ze.buttons|=32),re!==0){B.shouldCapture=!1,B.shouldReleaseCapture=!1,V.nonPrimaryPressHandler&&!B.preventGesture&&!B.defaultPrevented&&(B.preventDefault=!0,V.nonPrimaryPressHandler({eventSource:V,pointerType:te.type,position:he(te.currentPos,V.element),button:re,buttons:Ze.buttons,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData}));return}if(Nt=Ze.getById(te.id),Nt)Nt.insideElementPressed=!0,Nt.insideElement=!0,Nt.originalTarget=B.originalEvent.target,Nt.contactPos=te.currentPos,Nt.contactTime=te.currentTime,Nt.lastPos=Nt.currentPos,Nt.lastTime=Nt.currentTime,Nt.currentPos=te.currentPos,Nt.currentTime=te.currentTime,te=Nt;else{o.console.warn("pointerdown event on untracked pointer"),te.captured=!1,te.insideElementPressed=!0,te.insideElement=!0,te.originalTarget=B.originalEvent.target,ce(Ze,te);return}Ze.addContact(),!B.preventGesture&&!B.defaultPrevented?(B.shouldCapture=!0,B.shouldReleaseCapture=!1,B.preventDefault=!0,(V.dragHandler||V.dragEndHandler||V.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.addPoint(V,te),Ze.contacts===1?V.pressHandler&&!B.preventGesture&&V.pressHandler({eventSource:V,pointerType:te.type,position:he(te.contactPos,V.element),buttons:Ze.buttons,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData}):Ze.contacts===2&&V.pinchHandler&&te.type==="touch"&&(Me.pinchGPoints=Ze.asArray(),Me.lastPinchDist=Me.currentPinchDist=Me.pinchGPoints[0].currentPos.distanceTo(Me.pinchGPoints[1].currentPos),Me.lastPinchCenter=Me.currentPinchCenter=M(Me.pinchGPoints[0].currentPos,Me.pinchGPoints[1].currentPos))):(B.shouldCapture=!1,B.shouldReleaseCapture=!1)}function jn(V,B,te,re){var Me=a[V.hash],Ze=V.getActivePointersListByType(te.type),Nt,Rn,Ht,Bi=!1,ei;if(typeof B.originalEvent.buttons<"u"?Ze.buttons=B.originalEvent.buttons:re===0?Ze.buttons^=-2:re===1?Ze.buttons^=-5:re===2?Ze.buttons^=-3:re===3?Ze.buttons^=-9:re===4?Ze.buttons^=-17:re===5&&(Ze.buttons^=-33),B.shouldCapture=!1,re!==0){B.shouldReleaseCapture=!1,V.nonPrimaryReleaseHandler&&!B.preventGesture&&!B.defaultPrevented&&(B.preventDefault=!0,V.nonPrimaryReleaseHandler({eventSource:V,pointerType:te.type,position:he(te.currentPos,V.element),button:re,buttons:Ze.buttons,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData}));return}Ht=Ze.getById(te.id),Ht?(Ze.removeContact(),Ht.captured&&(Bi=!0),Ht.lastPos=Ht.currentPos,Ht.lastTime=Ht.currentTime,Ht.currentPos=te.currentPos,Ht.currentTime=te.currentTime,Ht.insideElement||Ie(V,Ze,Ht),Nt=Ht.currentPos,Rn=Ht.currentTime):(o.console.warn("updatePointerUp(): pointerup on untracked gPoint"),te.captured=!1,te.insideElementPressed=!1,te.insideElement=!0,ce(Ze,te),Ht=te),!B.preventGesture&&!B.defaultPrevented&&(Bi?(B.shouldReleaseCapture=!0,B.preventDefault=!0,(V.dragHandler||V.dragEndHandler||V.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.removePoint(V,Ht),Ze.contacts===0?(V.releaseHandler&&V.releaseHandler({eventSource:V,pointerType:Ht.type,position:he(Nt,V.element),buttons:Ze.buttons,insideElementPressed:Ht.insideElementPressed,insideElementReleased:Ht.insideElement,isTouchEvent:Ht.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),V.dragEndHandler&&Me.sentDragEvent&&V.dragEndHandler({eventSource:V,pointerType:Ht.type,position:he(Ht.currentPos,V.element),speed:Ht.speed,direction:Ht.direction,shift:B.originalEvent.shiftKey,isTouchEvent:Ht.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),Me.sentDragEvent=!1,(V.clickHandler||V.dblClickHandler)&&Ht.insideElement&&(ei=Rn-Ht.contactTime<=V.clickTimeThreshold&&Ht.contactPos.distanceTo(Nt)<=V.clickDistThreshold,V.clickHandler&&V.clickHandler({eventSource:V,pointerType:Ht.type,position:he(Ht.currentPos,V.element),quick:ei,shift:B.originalEvent.shiftKey,isTouchEvent:Ht.type==="touch",originalEvent:B.originalEvent,originalTarget:Ht.originalTarget,userData:V.userData}),V.dblClickHandler&&ei&&(Ze.clicks++,Ze.clicks===1?(Me.lastClickPos=Nt,Me.dblClickTimeOut=setTimeout(function(){Ze.clicks=0},V.dblClickTimeThreshold)):Ze.clicks===2&&(clearTimeout(Me.dblClickTimeOut),Ze.clicks=0,Me.lastClickPos.distanceTo(Nt)<=V.dblClickDistThreshold&&V.dblClickHandler({eventSource:V,pointerType:Ht.type,position:he(Ht.currentPos,V.element),shift:B.originalEvent.shiftKey,isTouchEvent:Ht.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),Me.lastClickPos=null)))):Ze.contacts===2&&V.pinchHandler&&Ht.type==="touch"&&(Me.pinchGPoints=Ze.asArray(),Me.lastPinchDist=Me.currentPinchDist=Me.pinchGPoints[0].currentPos.distanceTo(Me.pinchGPoints[1].currentPos),Me.lastPinchCenter=Me.currentPinchCenter=M(Me.pinchGPoints[0].currentPos,Me.pinchGPoints[1].currentPos))):(B.shouldReleaseCapture=!1,V.releaseHandler&&(V.releaseHandler({eventSource:V,pointerType:Ht.type,position:he(Nt,V.element),buttons:Ze.buttons,insideElementPressed:Ht.insideElementPressed,insideElementReleased:Ht.insideElement,isTouchEvent:Ht.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),B.preventDefault=!0)))}function ln(V,B,te){var re=a[V.hash],Me=V.getActivePointersListByType(te.type),Ze,Nt,Rn;if(typeof B.originalEvent.buttons<"u"&&(Me.buttons=B.originalEvent.buttons),Ze=Me.getById(te.id),Ze)Ze.lastPos=Ze.currentPos,Ze.lastTime=Ze.currentTime,Ze.currentPos=te.currentPos,Ze.currentTime=te.currentTime;else return;B.shouldCapture=!1,B.shouldReleaseCapture=!1,V.stopHandler&&te.type==="mouse"&&(clearTimeout(V.stopTimeOut),V.stopTimeOut=setTimeout(function(){Qr(V,B.originalEvent,te.type)},V.stopDelay)),Me.contacts===0?V.moveHandler&&V.moveHandler({eventSource:V,pointerType:te.type,position:he(te.currentPos,V.element),buttons:Me.buttons,isTouchEvent:te.type==="touch",originalEvent:B.originalEvent,userData:V.userData}):Me.contacts===1?(V.moveHandler&&(Ze=Me.asArray()[0],V.moveHandler({eventSource:V,pointerType:Ze.type,position:he(Ze.currentPos,V.element),buttons:Me.buttons,isTouchEvent:Ze.type==="touch",originalEvent:B.originalEvent,userData:V.userData})),V.dragHandler&&!B.preventGesture&&!B.defaultPrevented&&(Ze=Me.asArray()[0],Rn=Ze.currentPos.minus(Ze.lastPos),V.dragHandler({eventSource:V,pointerType:Ze.type,position:he(Ze.currentPos,V.element),buttons:Me.buttons,delta:Rn,speed:Ze.speed,direction:Ze.direction,shift:B.originalEvent.shiftKey,isTouchEvent:Ze.type==="touch",originalEvent:B.originalEvent,userData:V.userData}),B.preventDefault=!0,re.sentDragEvent=!0)):Me.contacts===2&&(V.moveHandler&&(Nt=Me.asArray(),V.moveHandler({eventSource:V,pointerType:Nt[0].type,position:he(M(Nt[0].currentPos,Nt[1].currentPos),V.element),buttons:Me.buttons,isTouchEvent:Nt[0].type==="touch",originalEvent:B.originalEvent,userData:V.userData})),V.pinchHandler&&te.type==="touch"&&!B.preventGesture&&!B.defaultPrevented&&(Rn=re.pinchGPoints[0].currentPos.distanceTo(re.pinchGPoints[1].currentPos),Rn!==re.currentPinchDist&&(re.lastPinchDist=re.currentPinchDist,re.currentPinchDist=Rn,re.lastPinchCenter=re.currentPinchCenter,re.currentPinchCenter=M(re.pinchGPoints[0].currentPos,re.pinchGPoints[1].currentPos),V.pinchHandler({eventSource:V,pointerType:"touch",gesturePoints:re.pinchGPoints,lastCenter:he(re.lastPinchCenter,V.element),center:he(re.currentPinchCenter,V.element),lastDistance:re.lastPinchDist,distance:re.currentPinchDist,shift:B.originalEvent.shiftKey,originalEvent:B.originalEvent,userData:V.userData}),B.preventDefault=!0)))}function li(V,B,te){var re=V.getActivePointersListByType(te.type),Me;Me=re.getById(te.id),Me&&Ie(V,re,Me)}function Qr(V,B,te){V.stopHandler&&V.stopHandler({eventSource:V,pointerType:te,position:ie(B,V.element),buttons:V.getActivePointersListByType(te).buttons,isTouchEvent:te==="touch",originalEvent:B,userData:V.userData})}}(c),function(o){o.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},o.Control=function(a,u,m){var v=a.parentNode;typeof u=="number"&&(o.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),u={anchor:u}),u.attachToViewer=typeof u.attachToViewer>"u"?!0:u.attachToViewer,this.autoFade=typeof u.autoFade>"u"?!0:u.autoFade,this.element=a,this.anchor=u.anchor,this.container=m,this.anchor===o.ControlAnchor.ABSOLUTE?(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof u.top=="number"?u.top+"px":u.top,this.wrapper.style.left=typeof u.left=="number"?u.left+"px":u.left,this.wrapper.style.height=typeof u.height=="number"?u.height+"px":u.height,this.wrapper.style.width=typeof u.width=="number"?u.width+"px":u.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===o.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),u.attachToViewer?this.anchor===o.ControlAnchor.TOP_RIGHT||this.anchor===o.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):v.appendChild(this.wrapper)},o.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==o.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===o.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){this.element[o.SIGNAL]&&o.Browser.vendor===o.BROWSERS.IE?o.setElementOpacity(this.element,a,!0):o.setElementOpacity(this.wrapper,a,!0)}}}(c),function(o){o.ControlDock=function(u){var m=["topleft","topright","bottomright","bottomleft"],v,b;for(o.extend(!0,this,{id:"controldock-"+o.now()+"-"+Math.floor(Math.random()*1e6),container:o.makeNeutralElement("div"),controls:[]},u),this.container.onsubmit=function(){return!1},this.element&&(this.element=o.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),b=0;b<m.length;b++)v=m[b],this.controls[v]=o.makeNeutralElement("div"),this.controls[v].style.position="absolute",v.match("left")&&(this.controls[v].style.left="0px"),v.match("right")&&(this.controls[v].style.right="0px"),v.match("top")&&(this.controls[v].style.top="0px"),v.match("bottom")&&(this.controls[v].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},o.ControlDock.prototype={addControl:function(u,m){u=o.getElement(u);var v=null;if(!(a(this,u)>=0)){switch(m.anchor){case o.ControlAnchor.TOP_RIGHT:v=this.controls.topright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingTop="0px";break;case o.ControlAnchor.BOTTOM_RIGHT:v=this.controls.bottomright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingBottom="0px";break;case o.ControlAnchor.BOTTOM_LEFT:v=this.controls.bottomleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingBottom="0px";break;case o.ControlAnchor.TOP_LEFT:v=this.controls.topleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingTop="0px";break;case o.ControlAnchor.ABSOLUTE:v=this.container,u.style.margin="0px",u.style.padding="0px";break;default:case o.ControlAnchor.NONE:v=this.container,u.style.margin="0px",u.style.padding="0px";break}this.controls.push(new o.Control(u,m,v)),u.style.display="inline-block"}},removeControl:function(u){u=o.getElement(u);var m=a(this,u);return m>=0&&(this.controls[m].destroy(),this.controls.splice(m,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var u;for(u=this.controls.length-1;u>=0;u--)if(this.controls[u].isVisible())return!0;return!1},setControlsEnabled:function(u){var m;for(m=this.controls.length-1;m>=0;m--)this.controls[m].setVisible(u);return this}};function a(u,m){var v=u.controls,b;for(b=v.length-1;b>=0;b--)if(v[b].element===m)return b;return-1}}(c),function(o){o.Placement=o.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(c),function(o){var a={},u=1;o.Viewer=function(F){var ce=arguments,Ie=this,Ke;if(o.isPlainObject(F)||(F={id:ce[0],xmlPath:ce.length>1?ce[1]:void 0,prefixUrl:ce.length>2?ce[2]:void 0,controls:ce.length>3?ce[3]:void 0,overlays:ce.length>4?ce[4]:void 0}),F.config&&(o.extend(!0,F,F.config),delete F.config),o.extend(!0,this,{id:F.id,hash:F.hash||u++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},o.DEFAULT_SETTINGS,F),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof a[this.hash]<"u"&&o.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new o.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=o.now(),o.EventSource.call(this),this.addHandler("open-failed",function(We){var Ct=o.getString("Errors.OpenFailed",We.eventSource,We.message);Ie._showMessage(Ct)}),o.ControlDock.call(this,F),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=o.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(We){We.width="100%",We.height="100%",We.overflow="hidden",We.position="absolute",We.top="0px",We.left="0px"}(this.canvas.style),o.setElementTouchActionNone(this.canvas),F.tabIndex!==""&&(this.canvas.tabIndex=F.tabIndex===void 0?0:F.tabIndex),this.container.className="openseadragon-container",function(We){We.width="100%",We.height="100%",We.position="relative",We.overflow="hidden",We.left="0px",We.top="0px",We.textAlign="left"}(this.container.style),o.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new o.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:o.delegate(this,ie),keyDownHandler:o.delegate(this,he),keyHandler:o.delegate(this,M),clickHandler:o.delegate(this,oe),dblClickHandler:o.delegate(this,be),dragHandler:o.delegate(this,ye),dragEndHandler:o.delegate(this,ke),enterHandler:o.delegate(this,Re),leaveHandler:o.delegate(this,qe),pressHandler:o.delegate(this,Ye),releaseHandler:o.delegate(this,ut),nonPrimaryPressHandler:o.delegate(this,ft),nonPrimaryReleaseHandler:o.delegate(this,dt),scrollHandler:o.delegate(this,Rt),pinchHandler:o.delegate(this,Ot)}),this.outerTracker=new o.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:o.delegate(this,Kt),leaveHandler:o.delegate(this,Xt)}),this.toolbar&&(this.toolbar=new o.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=m(this.container),this.world=new o.World({viewer:this}),this.world.addHandler("add-item",function(We){Ie.source=Ie.world.getItemAt(0).source,a[Ie.hash].forceRedraw=!0,Ie._updateRequestId||(Ie._updateRequestId=x(Ie,Zt))}),this.world.addHandler("remove-item",function(We){Ie.world.getItemCount()?Ie.source=Ie.world.getItemAt(0).source:Ie.source=null,a[Ie.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(We){Ie.viewport&&Ie.viewport._setContentBounds(Ie.world.getHomeBounds(),Ie.world.getContentFactor())}),this.world.addHandler("item-index-change",function(We){Ie.source=Ie.world.getItemAt(0).source}),this.viewport=new o.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new o.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:F.timeout}),this.tileCache=new o.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new o.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=o.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Ke=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Ke,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Ke=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Ke,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new o.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Ke=0;Ke<this.customControls.length;Ke++)this.addControl(this.customControls[Ke].id,{anchor:this.customControls[Ke].anchor});o.requestAnimationFrame(function(){O(Ie)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),o._viewers.set(this.element,this)},o.extend(o.Viewer.prototype,o.EventSource.prototype,o.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(F){return o.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(F)},openTileSource:function(F){return o.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(F)},open:function(F,ce){var Ie=this;if(this.close(),!F)return this;if(this.sequenceMode&&o.isArray(F))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof ce<"u"&&!isNaN(ce)&&(this.initialPage=ce),this.tileSources=F,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(o.isArray(F)||(F=[F]),!F.length)return this;this._opening=!0;for(var Ke=F.length,We=0,Ct=0,pt,pn=function(){if(We+Ct===Ke)if(We){(Ie._firstOpen||!Ie.preserveViewport)&&(Ie.viewport.goHome(!0),Ie.viewport.update()),Ie._firstOpen=!1;var Yt=F[0];if(Yt.tileSource&&(Yt=Yt.tileSource),Ie.overlays&&!Ie.preserveOverlays)for(var jn=0;jn<Ie.overlays.length;jn++)Ie.currentOverlays[jn]=b(Ie,Ie.overlays[jn]);Ie._drawOverlays(),Ie._opening=!1,Ie.raiseEvent("open",{source:Yt})}else Ie._opening=!1,Ie.raiseEvent("open-failed",pt)},Dn=function(Yt){(!o.isPlainObject(Yt)||!Yt.tileSource)&&(Yt={tileSource:Yt}),Yt.index!==void 0&&(o.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Yt.index),Yt.collectionImmediately===void 0&&(Yt.collectionImmediately=!0);var jn=Yt.success;Yt.success=function(li){if(We++,Yt.tileSource.overlays)for(var Qr=0;Qr<Yt.tileSource.overlays.length;Qr++)Ie.addOverlay(Yt.tileSource.overlays[Qr]);jn&&jn(li),pn()};var ln=Yt.error;Yt.error=function(li){Ct++,pt||(pt=li),ln&&ln(li),pn()},Ie.addTiledImage(Yt)},fn=0;fn<F.length;fn++)Dn(F[fn]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(a[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(o.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,o._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(F){return this.innerTracker.setTracking(F),this.outerTracker.setTracking(F),this.raiseEvent("mouse-enabled",{enabled:F}),this},areControlsEnabled:function(){var F=this.controls.length,ce;for(ce=0;ce<this.controls.length;ce++)F=F&&this.controls[ce].isVisible();return F},setControlsEnabled:function(F){return F?j(this):O(this),this.raiseEvent("controls-enabled",{enabled:F}),this},setDebugMode:function(F){for(var ce=0;ce<this.world.getItemCount();ce++)this.world.getItemAt(ce).debugMode=F;this.debugMode=F,this.forceRedraw()},isFullPage:function(){return a[this.hash].fullPage},setFullPage:function(F){var ce=document.body,Ie=ce.style,Ke=document.documentElement.style,We=this,Ct,pt;if(F===this.isFullPage())return this;var pn={fullPage:F,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",pn),pn.preventDefaultAction)return this;if(F){for(this.elementSize=o.getElementSize(this.element),this.pageScroll=o.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Ie.margin,this.docMargin=Ke.margin,Ie.margin="0",Ke.margin="0",this.bodyPadding=Ie.padding,this.docPadding=Ke.padding,Ie.padding="0",Ke.padding="0",this.bodyWidth=Ie.width,this.docWidth=Ke.width,Ie.width="100%",Ke.width="100%",this.bodyHeight=Ie.height,this.docHeight=Ke.height,Ie.height="100%",Ke.height="100%",this.bodyDisplay=Ie.display,Ie.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,Ct=ce.childNodes.length,pt=0;pt<Ct;pt++)this.previousBody.push(ce.childNodes[0]),ce.removeChild(ce.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,ce.appendChild(this.toolbar.element),o.addClass(this.toolbar.element,"fullpage")),o.addClass(this.element,"fullpage"),ce.appendChild(this.element),this.element.style.height=o.getWindowSize().y+"px",this.element.style.width=o.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=o.getElementSize(this.element).y-o.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,o.delegate(this,Kt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Ie.margin=this.bodyMargin,Ke.margin=this.docMargin,Ie.padding=this.bodyPadding,Ke.padding=this.docPadding,Ie.width=this.bodyWidth,Ke.width=this.docWidth,Ie.height=this.bodyHeight,Ke.height=this.docHeight,Ie.display=this.bodyDisplay,ce.removeChild(this.element),Ct=this.previousBody.length,pt=0;pt<Ct;pt++)ce.appendChild(this.previousBody.shift());o.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(ce.removeChild(this.toolbar.element),o.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var Dn=0,fn=function(){o.setPageScroll(We.pageScroll);var Yt=o.getPageScroll();Dn++,Dn<10&&(Yt.x!==We.pageScroll.x||Yt.y!==We.pageScroll.y)&&o.requestAnimationFrame(fn)};o.requestAnimationFrame(fn),a[this.hash].fullPage=!1,o.delegate(this,Xt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:F}),this},setFullScreen:function(F){var ce=this;if(!o.supportsFullScreen)return this.setFullPage(F);if(o.isFullScreen()===F)return this;var Ie={fullScreen:F,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Ie),Ie.preventDefaultAction)return this;if(F){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Ke=function(){var We=o.isFullScreen();We||(o.removeEvent(document,o.fullScreenEventName,Ke),o.removeEvent(document,o.fullScreenErrorEventName,Ke),ce.setFullPage(!1),ce.isFullPage()&&(ce.element.style.width=ce.fullPageStyleWidth,ce.element.style.height=ce.fullPageStyleHeight)),ce.navigator&&ce.viewport&&setTimeout(function(){ce.navigator.update(ce.viewport)}),ce.raiseEvent("full-screen",{fullScreen:We})};o.addEvent(document,o.fullScreenEventName,Ke),o.addEvent(document,o.fullScreenErrorEventName,Ke),o.requestFullScreen(document.body)}else o.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(F){return this.container.style.visibility=F?"":"hidden",this.raiseEvent("visible",{visible:F}),this},addTiledImage:function(F){o.console.assert(F,"[Viewer.addTiledImage] options is required"),o.console.assert(F.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),o.console.assert(!F.replace||F.index>-1&&F.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var ce=this;F.replace&&(F.replaceItem=ce.world.getItemAt(F.index)),this._hideMessage(),F.placeholderFillStyle===void 0&&(F.placeholderFillStyle=this.placeholderFillStyle),F.opacity===void 0&&(F.opacity=this.opacity),F.preload===void 0&&(F.preload=this.preload),F.compositeOperation===void 0&&(F.compositeOperation=this.compositeOperation),F.crossOriginPolicy===void 0&&(F.crossOriginPolicy=F.tileSource.crossOriginPolicy!==void 0?F.tileSource.crossOriginPolicy:this.crossOriginPolicy),F.ajaxWithCredentials===void 0&&(F.ajaxWithCredentials=this.ajaxWithCredentials),F.loadTilesWithAjax===void 0&&(F.loadTilesWithAjax=this.loadTilesWithAjax),F.ajaxHeaders===void 0||F.ajaxHeaders===null?F.ajaxHeaders=this.ajaxHeaders:o.isPlainObject(F.ajaxHeaders)&&o.isPlainObject(this.ajaxHeaders)&&(F.ajaxHeaders=o.extend({},this.ajaxHeaders,F.ajaxHeaders));var Ie={options:F};function Ke(pt){for(var pn=0;pn<ce._loadQueue.length;pn++)if(ce._loadQueue[pn]===Ie){ce._loadQueue.splice(pn,1);break}ce._loadQueue.length===0&&We(Ie),ce.raiseEvent("add-item-failed",pt),F.error&&F.error(pt)}function We(pt){ce.collectionMode&&(ce.world.arrange({immediately:pt.options.collectionImmediately,rows:ce.collectionRows,columns:ce.collectionColumns,layout:ce.collectionLayout,tileSize:ce.collectionTileSize,tileMargin:ce.collectionTileMargin}),ce.world.setAutoRefigureSizes(!0))}if(o.isArray(F.tileSource)){setTimeout(function(){Ke({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:F.tileSource,options:F})});return}this._loadQueue.push(Ie);function Ct(){for(var pt,pn,Dn;ce._loadQueue.length&&(pt=ce._loadQueue[0],!!pt.tileSource);){if(ce._loadQueue.splice(0,1),pt.options.replace){var fn=ce.world.getIndexOfItem(pt.options.replaceItem);fn!==-1&&(pt.options.index=fn),ce.world.removeItem(pt.options.replaceItem)}pn=new o.TiledImage({viewer:ce,source:pt.tileSource,viewport:ce.viewport,drawer:ce.drawer,tileCache:ce.tileCache,imageLoader:ce.imageLoader,x:pt.options.x,y:pt.options.y,width:pt.options.width,height:pt.options.height,fitBounds:pt.options.fitBounds,fitBoundsPlacement:pt.options.fitBoundsPlacement,clip:pt.options.clip,placeholderFillStyle:pt.options.placeholderFillStyle,opacity:pt.options.opacity,preload:pt.options.preload,degrees:pt.options.degrees,flipped:pt.options.flipped,compositeOperation:pt.options.compositeOperation,springStiffness:ce.springStiffness,animationTime:ce.animationTime,minZoomImageRatio:ce.minZoomImageRatio,wrapHorizontal:ce.wrapHorizontal,wrapVertical:ce.wrapVertical,immediateRender:ce.immediateRender,blendTime:ce.blendTime,alwaysBlend:ce.alwaysBlend,minPixelRatio:ce.minPixelRatio,smoothTileEdgesMinZoom:ce.smoothTileEdgesMinZoom,iOSDevice:ce.iOSDevice,crossOriginPolicy:pt.options.crossOriginPolicy,ajaxWithCredentials:pt.options.ajaxWithCredentials,loadTilesWithAjax:pt.options.loadTilesWithAjax,ajaxHeaders:pt.options.ajaxHeaders,debugMode:ce.debugMode}),ce.collectionMode&&ce.world.setAutoRefigureSizes(!1),ce.navigator&&(Dn=o.extend({},pt.options,{replace:!1,originalTiledImage:pn,tileSource:pt.tileSource}),ce.navigator.addTiledImage(Dn)),ce.world.addItem(pn,{index:pt.options.index}),ce._loadQueue.length===0&&We(pt),ce.world.getItemCount()===1&&!ce.preserveViewport&&ce.viewport.goHome(!0),pt.options.success&&pt.options.success({item:pn})}}v(this,F.tileSource,F,function(pt){Ie.tileSource=pt,Ct()},function(pt){pt.options=F,Ke(pt),Ct()})},addSimpleImage:function(F){o.console.assert(F,"[Viewer.addSimpleImage] options is required"),o.console.assert(F.url,"[Viewer.addSimpleImage] options.url is required");var ce=o.extend({},F,{tileSource:{type:"image",url:F.url}});delete ce.url,this.addTiledImage(ce)},addLayer:function(F){var ce=this;o.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Ie=o.extend({},F,{success:function(Ke){ce.raiseEvent("add-layer",{options:F,drawer:Ke.item})},error:function(Ke){ce.raiseEvent("add-layer-failed",Ke)}});return this.addTiledImage(Ie),this},getLayerAtLevel:function(F){return o.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(F)},getLevelOfLayer:function(F){return o.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(F)},getLayersCount:function(){return o.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(F,ce){return o.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(F,ce)},removeLayer:function(F){return o.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(F)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var F=o.delegate(this,X),ce=o.delegate(this,ae),Ie=o.delegate(this,this.goToNextPage),Ke=o.delegate(this,this.goToPreviousPage),We=this.navImages,Ct=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Ct=!1),this.previousButton=new o.Button({element:this.previousButton?o.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.PreviousPage"),srcRest:ht(this.prefixUrl,We.previous.REST),srcGroup:ht(this.prefixUrl,We.previous.GROUP),srcHover:ht(this.prefixUrl,We.previous.HOVER),srcDown:ht(this.prefixUrl,We.previous.DOWN),onRelease:Ke,onFocus:F,onBlur:ce}),this.nextButton=new o.Button({element:this.nextButton?o.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.NextPage"),srcRest:ht(this.prefixUrl,We.next.REST),srcGroup:ht(this.prefixUrl,We.next.GROUP),srcHover:ht(this.prefixUrl,We.next.HOVER),srcDown:ht(this.prefixUrl,We.next.DOWN),onRelease:Ie,onFocus:F,onBlur:ce}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Ct&&(this.paging=new o.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:o.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||o.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var F=o.delegate(this,nn),ce=o.delegate(this,Qe),Ie=o.delegate(this,ct),Ke=o.delegate(this,Ue),We=o.delegate(this,Mt),Ct=o.delegate(this,Ln),pt=o.delegate(this,un),pn=o.delegate(this,Yi),Dn=o.delegate(this,Oi),fn=o.delegate(this,ji),Yt=o.delegate(this,X),jn=o.delegate(this,ae),ln=this.navImages,li=[],Qr=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Qr=!1),this.showZoomControl&&(li.push(this.zoomInButton=new o.Button({element:this.zoomInButton?o.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomIn"),srcRest:ht(this.prefixUrl,ln.zoomIn.REST),srcGroup:ht(this.prefixUrl,ln.zoomIn.GROUP),srcHover:ht(this.prefixUrl,ln.zoomIn.HOVER),srcDown:ht(this.prefixUrl,ln.zoomIn.DOWN),onPress:F,onRelease:ce,onClick:Ie,onEnter:F,onExit:ce,onFocus:Yt,onBlur:jn})),li.push(this.zoomOutButton=new o.Button({element:this.zoomOutButton?o.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomOut"),srcRest:ht(this.prefixUrl,ln.zoomOut.REST),srcGroup:ht(this.prefixUrl,ln.zoomOut.GROUP),srcHover:ht(this.prefixUrl,ln.zoomOut.HOVER),srcDown:ht(this.prefixUrl,ln.zoomOut.DOWN),onPress:Ke,onRelease:ce,onClick:We,onEnter:Ke,onExit:ce,onFocus:Yt,onBlur:jn}))),this.showHomeControl&&li.push(this.homeButton=new o.Button({element:this.homeButton?o.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Home"),srcRest:ht(this.prefixUrl,ln.home.REST),srcGroup:ht(this.prefixUrl,ln.home.GROUP),srcHover:ht(this.prefixUrl,ln.home.HOVER),srcDown:ht(this.prefixUrl,ln.home.DOWN),onRelease:Ct,onFocus:Yt,onBlur:jn})),this.showFullPageControl&&li.push(this.fullPageButton=new o.Button({element:this.fullPageButton?o.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.FullPage"),srcRest:ht(this.prefixUrl,ln.fullpage.REST),srcGroup:ht(this.prefixUrl,ln.fullpage.GROUP),srcHover:ht(this.prefixUrl,ln.fullpage.HOVER),srcDown:ht(this.prefixUrl,ln.fullpage.DOWN),onRelease:pt,onFocus:Yt,onBlur:jn})),this.showRotationControl&&(li.push(this.rotateLeftButton=new o.Button({element:this.rotateLeftButton?o.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateLeft"),srcRest:ht(this.prefixUrl,ln.rotateleft.REST),srcGroup:ht(this.prefixUrl,ln.rotateleft.GROUP),srcHover:ht(this.prefixUrl,ln.rotateleft.HOVER),srcDown:ht(this.prefixUrl,ln.rotateleft.DOWN),onRelease:pn,onFocus:Yt,onBlur:jn})),li.push(this.rotateRightButton=new o.Button({element:this.rotateRightButton?o.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateRight"),srcRest:ht(this.prefixUrl,ln.rotateright.REST),srcGroup:ht(this.prefixUrl,ln.rotateright.GROUP),srcHover:ht(this.prefixUrl,ln.rotateright.HOVER),srcDown:ht(this.prefixUrl,ln.rotateright.DOWN),onRelease:Dn,onFocus:Yt,onBlur:jn}))),this.showFlipControl&&li.push(this.flipButton=new o.Button({element:this.flipButton?o.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Flip"),srcRest:ht(this.prefixUrl,ln.flip.REST),srcGroup:ht(this.prefixUrl,ln.flip.GROUP),srcHover:ht(this.prefixUrl,ln.flip.HOVER),srcDown:ht(this.prefixUrl,ln.flip.DOWN),onRelease:fn,onFocus:Yt,onBlur:jn})),Qr?(this.buttonGroup=new o.ButtonGroup({buttons:li,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",o.delegate(this,xn)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT})):this.customButtons=li),this},currentPage:function(){return this._sequenceIndex},goToPage:function(F){return this.tileSources&&F>=0&&F<this.tileSources.length&&(this._sequenceIndex=F,this._updateSequenceButtons(F),this.open(this.tileSources[F]),this.referenceStrip&&this.referenceStrip.setFocus(F),this.raiseEvent("page",{page:F})),this},addOverlay:function(F,ce,Ie,Ke){var We;if(o.isPlainObject(F)?We=F:We={element:F,location:ce,placement:Ie,onDraw:Ke},F=o.getElement(We.element),w(this.currentOverlays,F)>=0)return this;var Ct=b(this,We);return this.currentOverlays.push(Ct),Ct.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:F,location:We.location,placement:We.placement}),this},updateOverlay:function(F,ce,Ie){var Ke;return F=o.getElement(F),Ke=w(this.currentOverlays,F),Ke>=0&&(this.currentOverlays[Ke].update(ce,Ie),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:F,location:ce,placement:Ie})),this},removeOverlay:function(F){var ce;return F=o.getElement(F),ce=w(this.currentOverlays,F),ce>=0&&(this.currentOverlays[ce].destroy(),this.currentOverlays.splice(ce,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:F})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(F){var ce;return F=o.getElement(F),ce=w(this.currentOverlays,F),ce>=0?this.currentOverlays[ce]:null},_updateSequenceButtons:function(F){this.nextButton&&(!this.tileSources||this.tileSources.length-1===F?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(F>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(F){this._hideMessage();var ce=o.makeNeutralElement("div");ce.appendChild(document.createTextNode(F)),this.messageDiv=o.makeCenteredNode(ce),o.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var F=this.messageDiv;F&&(F.parentNode.removeChild(F),delete this.messageDiv)},gestureSettingsByDeviceType:function(F){switch(F){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var F,ce=this.currentOverlays.length;for(F=0;F<ce;F++)this.currentOverlays[F].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new o.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else o.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),o.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){o.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var F=o.pixelDensityRatio,ce=o.getCurrentPixelDensityRatio();F!==ce&&(o.pixelDensityRatio=ce,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var F=this._sequenceIndex-1;this.navPrevNextWrap&&F<0&&(F+=this.tileSources.length),this.goToPage(F)},goToNextPage:function(){var F=this._sequenceIndex+1;this.navPrevNextWrap&&F>=this.tileSources.length&&(F=0),this.goToPage(F)}});function m(F){return F=o.getElement(F),new o.Point(F.clientWidth===0?1:F.clientWidth,F.clientHeight===0?1:F.clientHeight)}function v(F,ce,Ie,Ke,We){var Ct=F;if(o.type(ce)==="string"){if(ce.match(/^\s*<.*>\s*$/))ce=o.parseXml(ce);else if(ce.match(/^\s*[{[].*[}\]]\s*$/))try{var pt=o.parseJSON(ce);ce=pt}catch{}}function pn(Dn,fn){Dn.ready?Ke(Dn):(Dn.addHandler("ready",function(){Ke(Dn)}),Dn.addHandler("open-failed",function(Yt){We({message:Yt.message,source:fn})}))}setTimeout(function(){if(o.type(ce)==="string")ce=new o.TileSource({url:ce,crossOriginPolicy:Ie.crossOriginPolicy!==void 0?Ie.crossOriginPolicy:F.crossOriginPolicy,ajaxWithCredentials:F.ajaxWithCredentials,ajaxHeaders:Ie.ajaxHeaders?Ie.ajaxHeaders:F.ajaxHeaders,useCanvas:F.useCanvas,success:function(jn){Ke(jn.tileSource)}}),ce.addHandler("open-failed",function(jn){We(jn)});else if(o.isPlainObject(ce)||ce.nodeType)if(ce.crossOriginPolicy===void 0&&(Ie.crossOriginPolicy!==void 0||F.crossOriginPolicy!==void 0)&&(ce.crossOriginPolicy=Ie.crossOriginPolicy!==void 0?Ie.crossOriginPolicy:F.crossOriginPolicy),ce.ajaxWithCredentials===void 0&&(ce.ajaxWithCredentials=F.ajaxWithCredentials),ce.useCanvas===void 0&&(ce.useCanvas=F.useCanvas),o.isFunction(ce.getTileUrl)){var Dn=new o.TileSource(ce);Dn.getTileUrl=ce.getTileUrl,Ke(Dn)}else{var fn=o.TileSource.determineType(Ct,ce);if(!fn){We({message:"Unable to load TileSource",source:ce});return}var Yt=fn.prototype.configure.apply(Ct,[ce]);pn(new fn(Yt),ce)}else pn(ce,ce)})}function b(F,ce){if(ce instanceof o.Overlay)return ce;var Ie=null;if(ce.element)Ie=o.getElement(ce.element);else{var Ke=ce.id?ce.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Ie=o.getElement(ce.id),Ie||(Ie=document.createElement("a"),Ie.href="#/overlay/"+Ke),Ie.id=Ke,o.addClass(Ie,ce.className?ce.className:"openseadragon-overlay")}var We=ce.location,Ct=ce.width,pt=ce.height;if(!We){var pn=ce.x,Dn=ce.y;if(ce.px!==void 0){var fn=F.viewport.imageToViewportRectangle(new o.Rect(ce.px,ce.py,Ct||0,pt||0));pn=fn.x,Dn=fn.y,Ct=Ct!==void 0?fn.width:void 0,pt=pt!==void 0?fn.height:void 0}We=new o.Point(pn,Dn)}var Yt=ce.placement;return Yt&&o.type(Yt)==="string"&&(Yt=o.Placement[ce.placement.toUpperCase()]),new o.Overlay({element:Ie,location:We,placement:Yt,onDraw:ce.onDraw,checkResize:ce.checkResize,width:Ct,height:pt,rotationMode:ce.rotationMode})}function w(F,ce){var Ie;for(Ie=F.length-1;Ie>=0;Ie--)if(F[Ie].element===ce)return Ie;return-1}function x(F,ce){return o.requestAnimationFrame(function(){ce(F)})}function E(F){o.requestAnimationFrame(function(){A(F)})}function O(F){!F.autoHideControls||(F.controlsShouldFade=!0,F.controlsFadeBeginTime=o.now()+F.controlsFadeDelay,window.setTimeout(function(){E(F)},F.controlsFadeDelay))}function A(F){var ce,Ie,Ke,We;if(F.controlsShouldFade){for(ce=o.now(),Ie=ce-F.controlsFadeBeginTime,Ke=1-Ie/F.controlsFadeLength,Ke=Math.min(1,Ke),Ke=Math.max(0,Ke),We=F.controls.length-1;We>=0;We--)F.controls[We].autoFade&&F.controls[We].setOpacity(Ke);Ke>0&&E(F)}}function j(F){var ce;for(F.controlsShouldFade=!1,ce=F.controls.length-1;ce>=0;ce--)F.controls[ce].setOpacity(1)}function X(){j(this)}function ae(){O(this)}function ie(F){var ce={tracker:F.eventSource,position:F.position,originalEvent:F.originalEvent,preventDefault:F.preventDefault};this.raiseEvent("canvas-contextmenu",ce),F.preventDefault=ce.preventDefault}function he(F){var ce={originalEvent:F.originalEvent,preventDefaultAction:!1,preventVerticalPan:F.preventVerticalPan,preventHorizontalPan:F.preventHorizontalPan};if(this.raiseEvent("canvas-key",ce),!ce.preventDefaultAction&&!F.ctrl&&!F.alt&&!F.meta)switch(F.keyCode){case 38:ce.preventVerticalPan||(F.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 40:ce.preventVerticalPan||(F.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 37:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 39:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),F.preventDefault=!0;break;default:F.preventDefault=!1;break}else F.preventDefault=!1}function M(F){var ce={originalEvent:F.originalEvent,preventDefaultAction:!1,preventVerticalPan:F.preventVerticalPan,preventHorizontalPan:F.preventHorizontalPan};if(this.raiseEvent("canvas-key",ce),!ce.preventDefaultAction&&!F.ctrl&&!F.alt&&!F.meta)switch(F.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),F.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),F.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),F.preventDefault=!0;break;case 119:case 87:ce.preventVerticalPan||(F.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-40))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 115:case 83:ce.preventVerticalPan||(F.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,40))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 97:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-40,0))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 100:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(40,0))),this.viewport.applyConstraints()),F.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),F.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),F.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),F.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:F.preventDefault=!1;break}else F.preventDefault=!1}function oe(F){var ce,Ie=document.activeElement===this.canvas;Ie||this.canvas.focus(),this.viewport.flipped&&(F.position.x=this.viewport.getContainerSize().x-F.position.x);var Ke={tracker:F.eventSource,position:F.position,quick:F.quick,shift:F.shift,originalEvent:F.originalEvent,originalTarget:F.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Ke),!Ke.preventDefaultAction&&this.viewport&&F.quick&&(ce=this.gestureSettingsByDeviceType(F.pointerType),ce.clickToZoom&&(this.viewport.zoomBy(F.shift?1/this.zoomPerClick:this.zoomPerClick,ce.zoomToRefPoint?this.viewport.pointFromPixel(F.position,!0):null),this.viewport.applyConstraints()))}function be(F){var ce,Ie={tracker:F.eventSource,position:F.position,shift:F.shift,originalEvent:F.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Ie),!Ie.preventDefaultAction&&this.viewport&&(ce=this.gestureSettingsByDeviceType(F.pointerType),ce.dblClickToZoom&&(this.viewport.zoomBy(F.shift?1/this.zoomPerClick:this.zoomPerClick,ce.zoomToRefPoint?this.viewport.pointFromPixel(F.position,!0):null),this.viewport.applyConstraints()))}function ye(F){var ce,Ie={tracker:F.eventSource,pointerType:F.pointerType,position:F.position,delta:F.delta,speed:F.speed,direction:F.direction,shift:F.shift,originalEvent:F.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Ie),ce=this.gestureSettingsByDeviceType(F.pointerType),ce.dragToPan&&!Ie.preventDefaultAction&&this.viewport){if(this.panHorizontal||(F.delta.x=0),this.panVertical||(F.delta.y=0),this.viewport.flipped&&(F.delta.x=-F.delta.x),this.constrainDuringPan){var Ke=this.viewport.deltaPointsFromPixels(F.delta.negate());this.viewport.centerSpringX.target.value+=Ke.x,this.viewport.centerSpringY.target.value+=Ke.y;var We=this.viewport.getBounds(),Ct=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Ke.x,this.viewport.centerSpringY.target.value-=Ke.y,We.x!==Ct.x&&(F.delta.x=0),We.y!==Ct.y&&(F.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(F.delta.negate()),ce.flickEnabled&&!this.constrainDuringPan)}}function ke(F){var ce={tracker:F.eventSource,pointerType:F.pointerType,position:F.position,speed:F.speed,direction:F.direction,shift:F.shift,originalEvent:F.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",ce),!ce.preventDefaultAction&&this.viewport){var Ie=this.gestureSettingsByDeviceType(F.pointerType);if(Ie.flickEnabled&&F.speed>=Ie.flickMinSpeed){var Ke=0;this.panHorizontal&&(Ke=Ie.flickMomentum*F.speed*Math.cos(F.direction));var We=0;this.panVertical&&(We=Ie.flickMomentum*F.speed*Math.sin(F.direction));var Ct=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),pt=this.viewport.pointFromPixel(new o.Point(Ct.x-Ke,Ct.y-We));this.viewport.panTo(pt,!1)}this.viewport.applyConstraints()}}function Re(F){this.raiseEvent("canvas-enter",{tracker:F.eventSource,pointerType:F.pointerType,position:F.position,buttons:F.buttons,pointers:F.pointers,insideElementPressed:F.insideElementPressed,buttonDownAny:F.buttonDownAny,originalEvent:F.originalEvent})}function qe(F){this.raiseEvent("canvas-exit",{tracker:F.eventSource,pointerType:F.pointerType,position:F.position,buttons:F.buttons,pointers:F.pointers,insideElementPressed:F.insideElementPressed,buttonDownAny:F.buttonDownAny,originalEvent:F.originalEvent})}function Ye(F){this.raiseEvent("canvas-press",{tracker:F.eventSource,pointerType:F.pointerType,position:F.position,insideElementPressed:F.insideElementPressed,insideElementReleased:F.insideElementReleased,originalEvent:F.originalEvent})}function ut(F){this.raiseEvent("canvas-release",{tracker:F.eventSource,pointerType:F.pointerType,position:F.position,insideElementPressed:F.insideElementPressed,insideElementReleased:F.insideElementReleased,originalEvent:F.originalEvent})}function ft(F){this.raiseEvent("canvas-nonprimary-press",{tracker:F.eventSource,position:F.position,pointerType:F.pointerType,button:F.button,buttons:F.buttons,originalEvent:F.originalEvent})}function dt(F){this.raiseEvent("canvas-nonprimary-release",{tracker:F.eventSource,position:F.position,pointerType:F.pointerType,button:F.button,buttons:F.buttons,originalEvent:F.originalEvent})}function Ot(F){var ce,Ie,Ke,We,Ct={tracker:F.eventSource,pointerType:F.pointerType,gesturePoints:F.gesturePoints,lastCenter:F.lastCenter,center:F.center,lastDistance:F.lastDistance,distance:F.distance,shift:F.shift,originalEvent:F.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",Ct),this.viewport&&(ce=this.gestureSettingsByDeviceType(F.pointerType),ce.pinchToZoom&&(!Ct.preventDefaultPanAction||!Ct.preventDefaultZoomAction)&&(Ie=this.viewport.pointFromPixel(F.center,!0),Ct.preventDefaultZoomAction||this.viewport.zoomBy(F.distance/F.lastDistance,Ie,!0),ce.zoomToRefPoint&&!Ct.preventDefaultPanAction&&(Ke=this.viewport.pointFromPixel(F.lastCenter,!0),We=Ke.minus(Ie),this.panHorizontal||(We.x=0),this.panVertical||(We.y=0),this.viewport.panBy(We,!0)),this.viewport.applyConstraints()),ce.pinchRotate&&!Ct.preventDefaultRotateAction)){var pt=Math.atan2(F.gesturePoints[0].currentPos.y-F.gesturePoints[1].currentPos.y,F.gesturePoints[0].currentPos.x-F.gesturePoints[1].currentPos.x),pn=Math.atan2(F.gesturePoints[0].lastPos.y-F.gesturePoints[1].lastPos.y,F.gesturePoints[0].lastPos.x-F.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(pt-pn)*(180/Math.PI))}}function Rt(F){var ce,Ie,Ke,We,Ct;We=o.now(),Ct=We-this._lastScrollTime,Ct>this.minScrollDeltaTime?(this._lastScrollTime=We,ce={tracker:F.eventSource,position:F.position,scroll:F.scroll,shift:F.shift,originalEvent:F.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",ce),!ce.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(F.position.x=this.viewport.getContainerSize().x-F.position.x),Ie=this.gestureSettingsByDeviceType(F.pointerType),Ie.scrollToZoom&&(Ke=Math.pow(this.zoomPerScroll,F.scroll),this.viewport.zoomBy(Ke,Ie.zoomToRefPoint?this.viewport.pointFromPixel(F.position,!0):null),this.viewport.applyConstraints())),F.preventDefault=ce.preventDefault):F.preventDefault=!0}function Kt(F){a[this.hash].mouseInside=!0,j(this),this.raiseEvent("container-enter",{tracker:F.eventSource,pointerType:F.pointerType,position:F.position,buttons:F.buttons,pointers:F.pointers,insideElementPressed:F.insideElementPressed,buttonDownAny:F.buttonDownAny,originalEvent:F.originalEvent})}function Xt(F){F.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||O(this)),this.raiseEvent("container-exit",{tracker:F.eventSource,pointerType:F.pointerType,position:F.position,buttons:F.buttons,pointers:F.pointers,insideElementPressed:F.insideElementPressed,buttonDownAny:F.buttonDownAny,originalEvent:F.originalEvent})}function Zt(F){hn(F),F.isOpen()?F._updateRequestId=x(F,Zt):F._updateRequestId=!1}function hn(F){if(!(F._opening||!a[F.hash])){if(F.autoResize){var ce=m(F.container),Ie=a[F.hash].prevContainerSize;if(!ce.equals(Ie)){var Ke=F.viewport;if(F.preserveImageSizeOnResize){var We=Ie.x/ce.x,Ct=Ke.getZoom()*We,pt=Ke.getCenter();Ke.resize(ce,!1),Ke.zoomTo(Ct,null,!0),Ke.panTo(pt,!0)}else{var pn=Ke.getBounds();Ke.resize(ce,!0),Ke.fitBoundsWithConstraints(pn,!0)}a[F.hash].prevContainerSize=ce,a[F.hash].forceRedraw=!0}}var Dn=F.viewport.update(),fn=F.world.update()||Dn;Dn&&F.raiseEvent("viewport-change"),F.referenceStrip&&(fn=F.referenceStrip.update(F.viewport)||fn),!a[F.hash].animating&&fn&&(F.raiseEvent("animation-start"),j(F)),(fn||a[F.hash].forceRedraw||F.world.needsDraw())&&(Pn(F),F._drawOverlays(),F.navigator&&F.navigator.update(F.viewport),a[F.hash].forceRedraw=!1,fn&&F.raiseEvent("animation")),a[F.hash].animating&&!fn&&(F.raiseEvent("animation-finish"),a[F.hash].mouseInside||O(F)),a[F.hash].animating=fn}}function Pn(F){F.imageLoader.clear(),F.drawer.clear(),F.world.draw(),F.raiseEvent("update-viewport",{})}function ht(F,ce){return F?F+ce:ce}function nn(){a[this.hash].lastZoomTime=o.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,rt(this)}function Ue(){a[this.hash].lastZoomTime=o.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,rt(this)}function Qe(){a[this.hash].zooming=!1}function rt(F){o.requestAnimationFrame(o.delegate(F,et))}function et(){var F,ce,Ie;a[this.hash].zooming&&this.viewport&&(F=o.now(),ce=F-a[this.hash].lastZoomTime,Ie=Math.pow(a[this.hash].zoomFactor,ce/1e3),this.viewport.zoomBy(Ie),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=F,rt(this))}function ct(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Mt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function xn(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Ln(){this.viewport&&this.viewport.goHome()}function un(){this.isFullPage()&&!o.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Yi(){if(this.viewport){var F=this.viewport.getRotation();this.viewport.flipped?F=o.positiveModulo(F+this.rotationIncrement,360):F=o.positiveModulo(F-this.rotationIncrement,360),this.viewport.setRotation(F)}}function Oi(){if(this.viewport){var F=this.viewport.getRotation();this.viewport.flipped?F=o.positiveModulo(F-this.rotationIncrement,360):F=o.positiveModulo(F+this.rotationIncrement,360),this.viewport.setRotation(F)}}function ji(){this.viewport.toggleFlip()}}(c),function(o){o.Navigator=function(x){var E=x.viewer,O=this,A,j;x.id?(this.element=document.getElementById(x.id),x.controlOptions={anchor:o.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(x.id="navigator-"+o.now(),this.element=o.makeNeutralElement("div"),x.controlOptions={anchor:o.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:x.autoFade},x.position&&(x.position==="BOTTOM_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_RIGHT:x.position==="BOTTOM_LEFT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_LEFT:x.position==="TOP_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.TOP_RIGHT:x.position==="TOP_LEFT"?x.controlOptions.anchor=o.ControlAnchor.TOP_LEFT:x.position==="ABSOLUTE"&&(x.controlOptions.anchor=o.ControlAnchor.ABSOLUTE,x.controlOptions.top=x.top,x.controlOptions.left=x.left,x.controlOptions.height=x.height,x.controlOptions.width=x.width))),this.element.id=x.id,this.element.className+=" navigator",x=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.navigatorSizeRatio},x,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:x.autoResize,minZoomImageRatio:1,background:x.background,opacity:x.opacity,borderColor:x.borderColor,displayRegionColor:x.displayRegionColor}),x.minPixelRatio=this.minPixelRatio=E.minPixelRatio,o.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new o.Point(1,1),this.totalBorderWidths=new o.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),x.controlOptions.anchor!==o.ControlAnchor.NONE&&function(ie,he){ie.margin="0px",ie.border=he+"px solid "+x.borderColor,ie.padding="0px",ie.background=x.background,ie.opacity=x.opacity,ie.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=o.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(ie,he){ie.position="relative",ie.top="0px",ie.left="0px",ie.fontSize="0px",ie.overflow="hidden",ie.border=he+"px solid "+x.displayRegionColor,ie.margin="0px",ie.padding="0px",ie.background="transparent",ie.float="left",ie.cssFloat="left",ie.styleFloat="left",ie.zIndex=999999999,ie.cursor="default"}(this.displayRegion.style,this.borderWidth),o.setElementPointerEventsNone(this.displayRegion),o.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=o.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",o.setElementPointerEventsNone(this.displayRegionContainer),o.setElementTouchActionNone(this.displayRegionContainer),E.addControl(this.element,x.controlOptions),this._resizeWithViewer=x.controlOptions.anchor!==o.ControlAnchor.ABSOLUTE&&x.controlOptions.anchor!==o.ControlAnchor.NONE,x.width&&x.height?(this.setWidth(x.width),this.setHeight(x.height)):this._resizeWithViewer&&(A=o.getElementSize(E.element),this.element.style.height=Math.round(A.y*x.sizeRatio)+"px",this.element.style.width=Math.round(A.x*x.sizeRatio)+"px",this.oldViewerSize=A,j=o.getElementSize(this.element),this.elementArea=j.x*j.y),this.oldContainerSize=new o.Point(0,0),o.Viewer.apply(this,[x]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function X(ie){b(O.displayRegionContainer,ie),b(O.displayRegion,-ie),O.viewport.setRotation(ie)}if(x.navigatorRotate){var ae=x.viewer.viewport?x.viewer.viewport.getRotation():x.viewer.degrees||0;X(ae),x.viewer.addHandler("rotate",function(ie){X(ie.degrees)})}this.innerTracker.destroy(),this.innerTracker=new o.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:o.delegate(this,u),clickHandler:o.delegate(this,a),releaseHandler:o.delegate(this,m),scrollHandler:o.delegate(this,v),preProcessEventHandler:function(ie){ie.eventType==="wheel"&&(ie.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",o.setElementPointerEventsNone(this.canvas),o.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){O.viewport&&O.viewport.goHome(!0)}),E.world.addHandler("item-index-change",function(ie){window.setTimeout(function(){var he=O.world.getItemAt(ie.previousIndex);O.world.setItemIndex(he,ie.newIndex)},1)}),E.world.addHandler("remove-item",function(ie){var he=ie.item,M=O._getMatchingItem(he);M&&O.world.removeItem(M)}),this.update(E.viewport)},o.extend(o.Navigator.prototype,o.EventSource.prototype,o.Viewer.prototype,{updateSize:function(){if(this.viewport){var x=new o.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);x.equals(this.oldContainerSize)||(this.viewport.resize(x,!0),this.viewport.goHome(!0),this.oldContainerSize=x,this.drawer.clear(),this.world.draw())}},setWidth:function(x){this.width=x,this.element.style.width=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setHeight:function(x){this.height=x,this.element.style.height=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setFlip:function(x){return this.viewport.setFlip(x),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(x){w(this.displayRegion,x),w(this.canvas,x),w(this.element,x)},update:function(x){var E,O,A,j,X,ae;if(E=o.getElementSize(this.viewer.element),this._resizeWithViewer&&E.x&&E.y&&!E.equals(this.oldViewerSize)&&(this.oldViewerSize=E,this.maintainSizeRatio||!this.elementArea?(O=E.x*this.sizeRatio,A=E.y*this.sizeRatio):(O=Math.sqrt(this.elementArea*(E.x/E.y)),A=this.elementArea/O),this.element.style.width=Math.round(O)+"px",this.element.style.height=Math.round(A)+"px",this.elementArea||(this.elementArea=O*A),this.updateSize()),x&&this.viewport){j=x.getBoundsNoRotate(!0),X=this.viewport.pixelFromPointNoRotate(j.getTopLeft(),!1),ae=this.viewport.pixelFromPointNoRotate(j.getBottomRight(),!1).minus(this.totalBorderWidths);var ie=this.displayRegion.style;ie.display=this.world.getItemCount()?"block":"none",ie.top=Math.round(X.y)+"px",ie.left=Math.round(X.x)+"px";var he=Math.abs(X.x-ae.x),M=Math.abs(X.y-ae.y);ie.width=Math.round(Math.max(he,0))+"px",ie.height=Math.round(Math.max(M,0))+"px"}},addTiledImage:function(x){var E=this,O=x.originalTiledImage;delete x.original;var A=o.extend({},x,{success:function(j){var X=j.item;X._originalForNavigator=O,E._matchBounds(X,O,!0),E._matchOpacity(X,O),E._matchCompositeOperation(X,O);function ae(){E._matchBounds(X,O)}function ie(){E._matchOpacity(X,O)}function he(){E._matchCompositeOperation(X,O)}O.addHandler("bounds-change",ae),O.addHandler("clip-change",ae),O.addHandler("opacity-change",ie),O.addHandler("composite-operation-change",he)}});return o.Viewer.prototype.addTiledImage.apply(this,[A])},destroy:function(){return o.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(x){for(var E=this.world.getItemCount(),O,A=0;A<E;A++)if(O=this.world.getItemAt(A),O._originalForNavigator===x)return O;return null},_matchBounds:function(x,E,O){var A=E.getBoundsNoRotate();x.setPosition(A.getTopLeft(),O),x.setWidth(A.width,O),x.setRotation(E.getRotation(),O),x.setClip(E.getClip()),x.setFlip(E.getFlip())},_matchOpacity:function(x,E){x.setOpacity(E.opacity)},_matchCompositeOperation:function(x,E){x.setCompositeOperation(E.compositeOperation)}});function a(x){var E={tracker:x.eventSource,position:x.position,quick:x.quick,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",E),!E.preventDefaultAction&&x.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(x.position.x=this.viewport.getContainerSize().x-x.position.x);var O=this.viewport.pointFromPixel(x.position);this.panVertical?this.panHorizontal||(O.x=this.viewer.viewport.getCenter(!0).x):O.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(O),this.viewer.viewport.applyConstraints()}}function u(x){var E={tracker:x.eventSource,position:x.position,delta:x.delta,speed:x.speed,direction:x.direction,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",E),!E.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(x.delta.x=0),this.panVertical||(x.delta.y=0),this.viewer.viewport.flipped&&(x.delta.x=-x.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(x.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function m(x){x.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function v(x){var E={tracker:x.eventSource,position:x.position,scroll:x.scroll,shift:x.shift,originalEvent:x.originalEvent,preventDefault:x.preventDefault};this.viewer.raiseEvent("navigator-scroll",E),x.preventDefault=E.preventDefault}function b(x,E){w(x,"rotate("+E+"deg)")}function w(x,E){x.style.webkitTransform=E,x.style.mozTransform=E,x.style.msTransform=E,x.style.oTransform=E,x.style.transform=E}}(c),function(o){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};o.extend(o,{getString:function(u){var m=u.split("."),v=null,b=arguments,w=a,x;for(x=0;x<m.length-1;x++)w=w[m[x]]||{};return v=w[m[x]],typeof v!="string"&&(o.console.log("Untranslated source string:",u),v=""),v.replace(/\{\d+\}/g,function(E){var O=parseInt(E.match(/\d+/),10)+1;return O<b.length?b[O]:""})},setString:function(u,m){var v=u.split("."),b=a,w;for(w=0;w<v.length-1;w++)b[v[w]]||(b[v[w]]={}),b=b[v[w]];b[v[w]]=m}})}(c),function(o){o.Point=function(a,u){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},plus:function(a){return new o.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new o.Point(this.x-a.x,this.y-a.y)},times:function(a){return new o.Point(this.x*a,this.y*a)},divide:function(a){return new o.Point(this.x/a,this.y/a)},negate:function(){return new o.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new o.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof o.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,u){u=u||new o.Point(0,0);var m,v;if(a%90===0){var b=o.positiveModulo(a,360);switch(b){case 0:m=1,v=0;break;case 90:m=0,v=1;break;case 180:m=-1,v=0;break;case 270:m=0,v=-1;break}}else{var w=a*Math.PI/180;m=Math.cos(w),v=Math.sin(w)}var x=m*(this.x-u.x)-v*(this.y-u.y)+u.x,E=v*(this.x-u.x)+m*(this.y-u.y)+u.y;return new o.Point(x,E)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(c),function(o){o.TileSource=function(u,m,v,b,w,x){var E=this,O=arguments,A,j;if(o.isPlainObject(u)?A=u:A={width:O[0],height:O[1],tileSize:O[2],tileOverlap:O[3],minLevel:O[4],maxLevel:O[5]},o.EventSource.call(this),o.extend(!0,this,A),!this.success){for(j=0;j<arguments.length;j++)if(o.isFunction(arguments[j])){this.success=arguments[j];break}}this.success&&this.addHandler("ready",function(X){E.success(X)}),o.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new o.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=A.width&&A.height?A.width/A.height:1,this.dimensions=new o.Point(A.width,A.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=A.tileOverlap?A.tileOverlap:0,this.minLevel=A.minLevel?A.minLevel:0,this.maxLevel=A.maxLevel!==void 0&&A.maxLevel!==null?A.maxLevel:A.width&&A.height?Math.ceil(Math.log(Math.max(A.width,A.height))/Math.log(2)):0,this.success&&o.isFunction(this.success)&&this.success(this))},o.TileSource.prototype={getTileSize:function(u){return o.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(u){return this._tileWidth?this._tileWidth:this.getTileSize(u)},getTileHeight:function(u){return this._tileHeight?this._tileHeight:this.getTileSize(u)},setMaxLevel:function(u){this.maxLevel=u,this._memoizeLevelScale()},getLevelScale:function(u){return this._memoizeLevelScale(),this.getLevelScale(u)},_memoizeLevelScale:function(){var u={},m;for(m=0;m<=this.maxLevel;m++)u[m]=1/Math.pow(2,this.maxLevel-m);this.getLevelScale=function(v){return u[v]}},getNumTiles:function(u){var m=this.getLevelScale(u),v=Math.ceil(m*this.dimensions.x/this.getTileWidth(u)),b=Math.ceil(m*this.dimensions.y/this.getTileHeight(u));return new o.Point(v,b)},getPixelRatio:function(u){var m=this.dimensions.times(this.getLevelScale(u)),v=1/m.x*o.pixelDensityRatio,b=1/m.y*o.pixelDensityRatio;return new o.Point(v,b)},getClosestLevel:function(){var u,m;for(u=this.minLevel+1;u<=this.maxLevel&&(m=this.getNumTiles(u),!(m.x>1||m.y>1));u++);return u-1},getTileAtPoint:function(u,m){var v=m.x>=0&&m.x<=1&&m.y>=0&&m.y<=1/this.aspectRatio;o.console.assert(v,"[TileSource.getTileAtPoint] must be called with a valid point.");var b=this.dimensions.x*this.getLevelScale(u),w=m.x*b,x=m.y*b,E=Math.floor(w/this.getTileWidth(u)),O=Math.floor(x/this.getTileHeight(u));m.x>=1&&(E=this.getNumTiles(u).x-1);var A=1e-15;return m.y>=1/this.aspectRatio-A&&(O=this.getNumTiles(u).y-1),new o.Point(E,O)},getTileBounds:function(u,m,v,b){var w=this.dimensions.times(this.getLevelScale(u)),x=this.getTileWidth(u),E=this.getTileHeight(u),O=m===0?0:x*m-this.tileOverlap,A=v===0?0:E*v-this.tileOverlap,j=x+(m===0?1:2)*this.tileOverlap,X=E+(v===0?1:2)*this.tileOverlap,ae=1/w.x;return j=Math.min(j,w.x-O),X=Math.min(X,w.y-A),b?new o.Rect(0,0,j,X):new o.Rect(O*ae,A*ae,j*ae,X*ae)},getImageInfo:function(u){var m=this,v,b,w,x,E,O,A;u&&(E=u.split("/"),O=E[E.length-1],A=O.lastIndexOf("."),A>-1&&(E[E.length-1]=O.slice(0,A))),b=function(j){typeof j=="string"&&(j=o.parseXml(j));var X=o.TileSource.determineType(m,j,u);if(!X){m.raiseEvent("open-failed",{message:"Unable to load TileSource",source:u});return}x=X.prototype.configure.apply(m,[j,u]),x.ajaxWithCredentials===void 0&&(x.ajaxWithCredentials=m.ajaxWithCredentials),w=new X(x),m.ready=!0,m.raiseEvent("ready",{tileSource:w})},u.match(/\.js$/)?(v=u.split("/").pop().replace(".js",""),o.jsonp({url:u,async:!1,callbackName:v,callback:b})):o.makeAjaxRequest({url:u,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(j){var X=a(j);b(X)},error:function(j,X){var ae;try{ae="HTTP "+j.status+" attempting to load TileSource"}catch{var ie;typeof X>"u"||!X.toString?ie="Unknown error":ie=X.toString(),ae=ie+" attempting to load TileSource"}m.raiseEvent("open-failed",{message:ae,source:u})}})},supports:function(u,m){return!1},configure:function(u,m){throw new Error("Method not implemented.")},getTileUrl:function(u,m,v){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(u,m,v){return{}},tileExists:function(u,m,v){var b=this.getNumTiles(u);return u>=this.minLevel&&u<=this.maxLevel&&m>=0&&v>=0&&m<b.x&&v<b.y}},o.extend(!0,o.TileSource.prototype,o.EventSource.prototype);function a(u){var m=u.responseText,v=u.status,b,w;if(u){if(u.status!==200&&u.status!==0)throw v=u.status,b=v===404?"Not Found":u.statusText,new Error(o.getString("Errors.Status",v,b))}else throw new Error(o.getString("Errors.Security"));if(m.match(/\s*<.*/))try{w=u.responseXML&&u.responseXML.documentElement?u.responseXML:o.parseXml(m)}catch{w=u.responseText}else if(m.match(/\s*[{[].*/))try{w=o.parseJSON(m)}catch{w=m}else w=m;return w}o.TileSource.determineType=function(u,m,v){var b;for(b in c)if(b.match(/.+TileSource$/)&&o.isFunction(c[b])&&o.isFunction(c[b].prototype.supports)&&c[b].prototype.supports.call(u,m,v))return c[b];return o.console.error("No TileSource was able to open %s %s",v,m),null}}(c),function(o){o.DziTileSource=function(m,v,b,w,x,E,O,A,j){var X,ae,ie,he;if(o.isPlainObject(m)?he=m:he={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=he.tilesUrl,this.fileFormat=he.fileFormat,this.displayRects=he.displayRects,this.displayRects)for(X=this.displayRects.length-1;X>=0;X--)for(ae=this.displayRects[X],ie=ae.minLevel;ie<=ae.maxLevel;ie++)this._levelRects[ie]||(this._levelRects[ie]=[]),this._levelRects[ie].push(ae);o.TileSource.apply(this,[he])},o.extend(o.DziTileSource.prototype,o.TileSource.prototype,{supports:function(m,v){var b;return m.Image?b=m.Image.xmlns:m.documentElement&&(m.documentElement.localName==="Image"||m.documentElement.tagName==="Image")&&(b=m.documentElement.namespaceURI),b=(b||"").toLowerCase(),b.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||b.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(m,v){var b;return o.isPlainObject(m)?b=u(this,m):b=a(this,m),v&&!b.tilesUrl&&(b.tilesUrl=v.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),v.search(/\.(dzi|xml|js)\?/)!==-1?b.queryParams=v.match(/\?.*/):b.queryParams=""),b},getTileUrl:function(m,v,b){return[this.tilesUrl,m,"/",v,"_",b,".",this.fileFormat,this.queryParams].join("")},tileExists:function(m,v,b){var w=this._levelRects[m],x,E,O,A,j,X,ae;if(this.minLevel&&m<this.minLevel||this.maxLevel&&m>this.maxLevel)return!1;if(!w||!w.length)return!0;for(ae=w.length-1;ae>=0;ae--)if(x=w[ae],!(m<x.minLevel||m>x.maxLevel)&&(E=this.getLevelScale(m),O=x.x*E,A=x.y*E,j=O+x.width*E,X=A+x.height*E,O=Math.floor(O/this._tileWidth),A=Math.floor(A/this._tileWidth),j=Math.ceil(j/this._tileWidth),X=Math.ceil(X/this._tileWidth),O<=v&&v<j&&A<=b&&b<X))return!0;return!1}});function a(m,v){if(!v||!v.documentElement)throw new Error(o.getString("Errors.Xml"));var b=v.documentElement,w=b.localName||b.tagName,x=v.documentElement.namespaceURI,E=null,O=[],A,j,X,ae,ie;if(w==="Image")try{if(ae=b.getElementsByTagName("Size")[0],ae===void 0&&(ae=b.getElementsByTagNameNS(x,"Size")[0]),E={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:b.getAttribute("Url"),Format:b.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(b.getAttribute("Overlap"),10),TileSize:parseInt(b.getAttribute("TileSize"),10),Size:{Height:parseInt(ae.getAttribute("Height"),10),Width:parseInt(ae.getAttribute("Width"),10)}}},!o.imageFormatSupported(E.Image.Format))throw new Error(o.getString("Errors.ImageFormat",E.Image.Format.toUpperCase()));for(A=b.getElementsByTagName("DisplayRect"),A===void 0&&(A=b.getElementsByTagNameNS(x,"DisplayRect")[0]),ie=0;ie<A.length;ie++)j=A[ie],X=j.getElementsByTagName("Rect")[0],X===void 0&&(X=j.getElementsByTagNameNS(x,"Rect")[0]),O.push({Rect:{X:parseInt(X.getAttribute("X"),10),Y:parseInt(X.getAttribute("Y"),10),Width:parseInt(X.getAttribute("Width"),10),Height:parseInt(X.getAttribute("Height"),10),MinLevel:parseInt(j.getAttribute("MinLevel"),10),MaxLevel:parseInt(j.getAttribute("MaxLevel"),10)}});return O.length&&(E.Image.DisplayRect=O),u(m,E)}catch(oe){throw oe instanceof Error?oe:new Error(o.getString("Errors.Dzi"))}else{if(w==="Collection")throw new Error(o.getString("Errors.Dzc"));if(w==="Error"){var he=b.getElementsByTagName("Message")[0],M=he.firstChild.nodeValue;throw new Error(M)}}throw new Error(o.getString("Errors.Dzi"))}function u(m,v){var b=v.Image,w=b.Url,x=b.Format,E=b.Size,O=b.DisplayRect||[],A=parseInt(E.Width,10),j=parseInt(E.Height,10),X=parseInt(b.TileSize,10),ae=parseInt(b.Overlap,10),ie=[],he,M;for(M=0;M<O.length;M++)he=O[M].Rect,ie.push(new o.DisplayRect(parseInt(he.X,10),parseInt(he.Y,10),parseInt(he.Width,10),parseInt(he.Height,10),parseInt(he.MinLevel,10),parseInt(he.MaxLevel,10)));return o.extend(!0,{width:A,height:j,tileSize:X,tileOverlap:ae,minLevel:null,maxLevel:null,tilesUrl:w,fileFormat:x,displayRects:ie},v)}}(c),function(o){o.IIIFTileSource=function(b){if(o.extend(!0,this,b),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(b.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=b.version,this.tile_width&&this.tile_height)b.tileWidth=this.tile_width,b.tileHeight=this.tile_height;else if(this.tile_width)b.tileSize=this.tile_width;else if(this.tile_height)b.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)b.tileWidth=this.tiles[0].width,b.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var w=0;w<this.tiles.length;w++)for(var x=0;x<this.tiles[w].scaleFactors.length;x++){var E=this.tiles[w].scaleFactors[x];this.scale_factors.push(E),b.tileSizePerScaleFactor[E]={width:this.tiles[w].width,height:this.tiles[w].height||this.tiles[w].width}}}else if(a(b)){for(var O=Math.min(this.height,this.width),A=[256,512,1024],j=[],X=0;X<A.length;X++)A[X]<=O&&j.push(A[X]);j.length>0?b.tileSize=Math.max.apply(null,j):b.tileSize=O}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,b.levels=u(this),o.extend(!0,b,{width:b.levels[b.levels.length-1].width,height:b.levels[b.levels.length-1].height,tileSize:Math.max(b.height,b.width),tileOverlap:0,minLevel:0,maxLevel:b.levels.length-1}),this.levels=b.levels):o.console.error("Nothing in the info.json to construct image pyramids from");if(!b.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)b.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var ae=Math.max.apply(null,this.scale_factors);b.maxLevel=Math.round(Math.log(ae)*Math.LOG2E)}o.TileSource.apply(this,[b])},o.extend(o.IIIFTileSource.prototype,o.TileSource.prototype,{supports:function(b,w){return b.protocol&&b.protocol==="http://iiif.io/api/image"||b["@context"]&&(b["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||b["@context"]==="http://iiif.io/api/image/1/context.json")||b.profile&&b.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||b.identifier&&b.width&&b.height?!0:!!(b.documentElement&&b.documentElement.tagName==="info"&&b.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(b,w){if(o.isPlainObject(b)){if(!b["@context"])b["@context"]="http://iiif.io/api/image/1.0/context.json",b["@id"]=w.replace("/info.json",""),b.version=1;else{var x=b["@context"];if(Array.isArray(x)){for(var E=0;E<x.length;E++)if(typeof x[E]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(x[E])||x[E]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){x=x[E];break}}switch(x){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":b.version=1;break;case"http://iiif.io/api/image/2/context.json":b.version=2;break;case"http://iiif.io/api/image/3/context.json":b.version=3;break;default:o.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!b["@id"]&&b.id&&(b["@id"]=b.id),b.preferredFormats){for(var O=0;O<b.preferredFormats.length;O++)if(c.imageFormatSupported(b.preferredFormats[O])){b.tileFormat=b.preferredFormats[O];break}}return b}else{var A=m(b);return A["@context"]="http://iiif.io/api/image/1.0/context.json",A["@id"]=w.replace("/info.xml",""),A.version=1,A}},getTileWidth:function(b){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileWidth.call(this,b);var w=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].width:this._tileWidth},getTileHeight:function(b){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileHeight.call(this,b);var w=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].height:this._tileHeight},getLevelScale:function(b){if(this.emulateLegacyImagePyramid){var w=NaN;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(w=this.levels[b].width/this.levels[this.maxLevel].width),w}return o.TileSource.prototype.getLevelScale.call(this,b)},getNumTiles:function(b){if(this.emulateLegacyImagePyramid){var w=this.getLevelScale(b);return w?new o.Point(1,1):new o.Point(0,0)}return o.TileSource.prototype.getNumTiles.call(this,b)},getTileAtPoint:function(b,w){return this.emulateLegacyImagePyramid?new o.Point(0,0):o.TileSource.prototype.getTileAtPoint.call(this,b,w)},getTileUrl:function(b,w,x){if(this.emulateLegacyImagePyramid){var E=null;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(E=this.levels[b].url),E}var O="0",A=Math.pow(.5,this.maxLevel-b),j=Math.ceil(this.width*A),X=Math.ceil(this.height*A),ae,ie,he,M,oe,be,ye,ke,Re,qe,Ye,ut,ft,dt;return ae=this.getTileWidth(b),ie=this.getTileHeight(b),he=Math.ceil(ae/A),M=Math.ceil(ie/A),this.version===1?ft="native."+this.tileFormat:ft="default."+this.tileFormat,j<ae&&X<ie?(this.version===2&&j===this.width?qe="full":this.version===3&&j===this.width&&X===this.height?qe="max":this.version===3?qe=j+","+X:qe=j+",",oe="full"):(be=w*he,ye=x*M,ke=Math.min(he,this.width-be),Re=Math.min(M,this.height-ye),w===0&&x===0&&ke===this.width&&Re===this.height?oe="full":oe=[be,ye,ke,Re].join(","),Ye=Math.ceil(ke*A),ut=Math.ceil(Re*A),this.version===2&&Ye===this.width?qe="full":this.version===3&&Ye===this.width&&ut===this.height?qe="max":this.version===3?qe=Ye+","+ut:qe=Ye+","),dt=[this["@id"],oe,qe,O,ft].join("/"),dt},__testonly__:{canBeTiled:a,constructLevels:u}});function a(b){var w=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],x=Array.isArray(b.profile)?b.profile[0]:b.profile,E=w.indexOf(x)!==-1,O=!1;return b.version===2&&b.profile.length>1&&b.profile[1].supports&&(O=b.profile[1].supports.indexOf("sizeByW")!==-1),b.version===3&&b.extraFeatures&&(O=b.extraFeatures.indexOf("sizeByWh")!==-1),!E||O}function u(b){for(var w=[],x=0;x<b.sizes.length;x++)w.push({url:b["@id"]+"/full/"+b.sizes[x].width+","+(b.version===3?b.sizes[x].height:"")+"/0/default."+b.tileFormat,width:b.sizes[x].width,height:b.sizes[x].height});return w.sort(function(E,O){return E.width-O.width})}function m(b){if(!b||!b.documentElement)throw new Error(o.getString("Errors.Xml"));var w=b.documentElement,x=w.tagName,E=null;if(x==="info")try{return E={},v(w,E),E}catch(O){throw O instanceof Error?O:new Error(o.getString("Errors.IIIF"))}throw new Error(o.getString("Errors.IIIF"))}function v(b,w,x){var E,O;if(b.nodeType===3&&x)O=b.nodeValue.trim(),O.match(/^\d*$/)&&(O=Number(O)),w[x]?(o.isArray(w[x])||(w[x]=[w[x]]),w[x].push(O)):w[x]=O;else if(b.nodeType===1)for(E=0;E<b.childNodes.length;E++)v(b.childNodes[E],w,b.nodeName)}}(c),function(o){o.OsmTileSource=function(a,u,m,v,b){var w;o.isPlainObject(a)?w=a:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!w.width||!w.height)&&(w.width=65572864,w.height=65572864),w.tileSize||(w.tileSize=256,w.tileOverlap=0),w.tilesUrl||(w.tilesUrl="http://tile.openstreetmap.org/"),w.minLevel=8,o.TileSource.apply(this,[w])},o.extend(o.OsmTileSource.prototype,o.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="openstreetmaps"},configure:function(a,u){return a},getTileUrl:function(a,u,m){return this.tilesUrl+(a-8)+"/"+u+"/"+m+".png"}})}(c),function(o){o.TmsTileSource=function(a,u,m,v,b){var w;o.isPlainObject(a)?w=a:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var x=Math.ceil(w.width/256)*256,E=Math.ceil(w.height/256)*256,O;x>E?O=x/256:O=E/256,w.maxLevel=Math.ceil(Math.log(O)/Math.log(2))-1,w.tileSize=256,w.width=x,w.height=E,o.TileSource.apply(this,[w])},o.extend(o.TmsTileSource.prototype,o.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="tiledmapservice"},configure:function(a,u){return a},getTileUrl:function(a,u,m){var v=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+u+"/"+(v-m)+".png"}})}(c),function(o){o.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var u={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(u.x,10)>a.tileSize||parseInt(u.y,10)>a.tileSize;)u.x=Math.floor(u.x/2),u.y=Math.floor(u.y/2),a.imageSizes.push({x:u.x,y:u.y}),a.gridSize.push(this._getGridSize(u.x,u.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,c.TileSource.apply(this,[a])},o.extend(o.ZoomifyTileSource.prototype,o.TileSource.prototype,{_getGridSize:function(a,u,m){return{x:Math.ceil(a/m),y:Math.ceil(u/m)}},_calculateAbsoluteTileNumber:function(a,u,m){for(var v=0,b={},w=0;w<a;w++)b=this.gridSize[w],v+=b.x*b.y;return b=this.gridSize[a],v+=b.x*m+u,v},supports:function(a,u){return a.type&&a.type==="zoomifytileservice"},configure:function(a,u){return a},getTileUrl:function(a,u,m){var v=0,b=this._calculateAbsoluteTileNumber(a,u,m);return v=Math.floor(b/256),this.tilesUrl+"TileGroup"+v+"/"+a+"-"+u+"-"+m+"."+this.fileFormat}})}(c),function(o){o.LegacyTileSource=function(v){var b,w,x;o.isArray(v)&&(b={type:"legacy-image-pyramid",levels:v}),b.levels=a(b.levels),b.levels.length>0?(w=b.levels[b.levels.length-1].width,x=b.levels[b.levels.length-1].height):(w=0,x=0,o.console.error("No supported image formats found")),o.extend(!0,b,{width:w,height:x,tileSize:Math.max(x,w),tileOverlap:0,minLevel:0,maxLevel:b.levels.length>0?b.levels.length-1:0}),o.TileSource.apply(this,[b]),this.levels=b.levels},o.extend(o.LegacyTileSource.prototype,o.TileSource.prototype,{supports:function(v,b){return v.type&&v.type==="legacy-image-pyramid"||v.documentElement&&v.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(v,b){var w;return o.isPlainObject(v)?w=m(this,v):w=u(this,v),w},getLevelScale:function(v){var b=NaN;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(b=this.levels[v].width/this.levels[this.maxLevel].width),b},getNumTiles:function(v){var b=this.getLevelScale(v);return b?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(v,b,w){var x=null;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(x=this.levels[v].url),x}});function a(v){var b=[],w,x;for(x=0;x<v.length;x++)w=v[x],w.height&&w.width&&w.url?b.push({url:w.url,width:Number(w.width),height:Number(w.height)}):o.console.error("Unsupported image format: %s",w.url?w.url:"<no URL>");return b.sort(function(E,O){return E.height-O.height})}function u(v,b){if(!b||!b.documentElement)throw new Error(o.getString("Errors.Xml"));var w=b.documentElement,x=w.tagName,E=null,O=[],A,j;if(x==="image")try{for(E={type:w.getAttribute("type"),levels:[]},O=w.getElementsByTagName("level"),j=0;j<O.length;j++)A=O[j],E.levels.push({url:A.getAttribute("url"),width:parseInt(A.getAttribute("width"),10),height:parseInt(A.getAttribute("height"),10)});return m(v,E)}catch(X){throw X instanceof Error?X:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(x==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(x==="error")throw new Error("Error: "+b)}throw new Error("Unknown element "+x)}function m(v,b){return b.levels}}(c),function(o){o.ImageTileSource=function(a){a=o.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},a),o.TileSource.apply(this,[a])},o.extend(o.ImageTileSource.prototype,o.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="image"},configure:function(a,u){return a},getImageInfo:function(a){var u=this._image=new Image,m=this;this.crossOriginPolicy&&(u.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(u.useCredentials=this.ajaxWithCredentials),o.addEvent(u,"load",function(){m.width=u.naturalWidth,m.height=u.naturalHeight,m.aspectRatio=m.width/m.height,m.dimensions=new o.Point(m.width,m.height),m._tileWidth=m.width,m._tileHeight=m.height,m.tileOverlap=0,m.minLevel=0,m.levels=m._buildLevels(),m.maxLevel=m.levels.length-1,m.ready=!0,m.raiseEvent("ready",{tileSource:m})}),o.addEvent(u,"error",function(){m.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),u.src=a},getLevelScale:function(a){var u=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].width/this.levels[this.maxLevel].width),u},getNumTiles:function(a){var u=this.getLevelScale(a);return u?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(a,u,m){var v=null;return a>=this.minLevel&&a<=this.maxLevel&&(v=this.levels[a].url),v},getContext2D:function(a,u,m){var v=null;return a>=this.minLevel&&a<=this.maxLevel&&(v=this.levels[a].context2D),v},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!o.supportsCanvas||!this.useCanvas)return delete this._image,a;var u=this._image.naturalWidth,m=this._image.naturalHeight,v=document.createElement("canvas"),b=v.getContext("2d");if(v.width=u,v.height=m,b.drawImage(this._image,0,0,u,m),a[0].context2D=b,delete this._image,o.isCanvasTainted(v))return a;for(;u>=2&&m>=2;){u=Math.floor(u/2),m=Math.floor(m/2);var w=document.createElement("canvas"),x=w.getContext("2d");w.width=u,w.height=m,x.drawImage(v,0,0,u,m),a.splice(0,0,{context2D:x,width:u,height:m}),v=w,b=x}return a},_freeupCanvasMemory:function(){for(var a=0;a<this.levels.length;a++)this.levels[a].context2D.canvas.height=0,this.levels[a].context2D.canvas.width=0}})}(c),function(o){o.TileSourceCollection=function(a,u,m,v){o.console.error("TileSourceCollection is deprecated; use World instead")}}(c),function(o){o.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},o.Button=function(x){var E=this;o.EventSource.call(this),o.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},x),this.element=x.element||o.makeNeutralElement("div"),x.element||(this.imgRest=o.makeTransparentImage(this.srcRest),this.imgGroup=o.makeTransparentImage(this.srcGroup),this.imgHover=o.makeTransparentImage(this.srcHover),this.imgDown=o.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,o.setElementPointerEventsNone(this.imgRest),o.setElementPointerEventsNone(this.imgGroup),o.setElementPointerEventsNone(this.imgHover),o.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",o.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",o.Browser.vendor===o.BROWSERS.FIREFOX&&o.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=o.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new o.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(O){O.insideElementPressed?(b(E,o.ButtonState.DOWN),E.raiseEvent("enter",{originalEvent:O.originalEvent})):O.buttonDownAny||b(E,o.ButtonState.HOVER)},focusHandler:function(O){E.tracker.enterHandler(O),E.raiseEvent("focus",{originalEvent:O.originalEvent})},leaveHandler:function(O){w(E,o.ButtonState.GROUP),O.insideElementPressed&&E.raiseEvent("exit",{originalEvent:O.originalEvent})},blurHandler:function(O){E.tracker.leaveHandler(O),E.raiseEvent("blur",{originalEvent:O.originalEvent})},pressHandler:function(O){b(E,o.ButtonState.DOWN),E.raiseEvent("press",{originalEvent:O.originalEvent})},releaseHandler:function(O){O.insideElementPressed&&O.insideElementReleased?(w(E,o.ButtonState.HOVER),E.raiseEvent("release",{originalEvent:O.originalEvent})):O.insideElementPressed?w(E,o.ButtonState.GROUP):b(E,o.ButtonState.HOVER)},clickHandler:function(O){O.quick&&E.raiseEvent("click",{originalEvent:O.originalEvent})},keyHandler:function(O){O.keyCode===13?(E.raiseEvent("click",{originalEvent:O.originalEvent}),E.raiseEvent("release",{originalEvent:O.originalEvent}),O.preventDefault=!0):O.preventDefault=!1}}),w(this,o.ButtonState.REST)},o.extend(o.Button.prototype,o.EventSource.prototype,{notifyGroupEnter:function(){b(this,o.ButtonState.GROUP)},notifyGroupExit:function(){w(this,o.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,o.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,o.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(x){o.requestAnimationFrame(function(){u(x)})}function u(x){var E,O,A;x.shouldFade&&(E=o.now(),O=E-x.fadeBeginTime,A=1-O/x.fadeLength,A=Math.min(1,A),A=Math.max(0,A),x.imgGroup&&o.setElementOpacity(x.imgGroup,A,!0),A>0&&a(x))}function m(x){x.shouldFade=!0,x.fadeBeginTime=o.now()+x.fadeDelay,window.setTimeout(function(){a(x)},x.fadeDelay)}function v(x){x.shouldFade=!1,x.imgGroup&&o.setElementOpacity(x.imgGroup,1,!0)}function b(x,E){x.element.disabled||(E>=o.ButtonState.GROUP&&x.currentState===o.ButtonState.REST&&(v(x),x.currentState=o.ButtonState.GROUP),E>=o.ButtonState.HOVER&&x.currentState===o.ButtonState.GROUP&&(x.imgHover&&(x.imgHover.style.visibility=""),x.currentState=o.ButtonState.HOVER),E>=o.ButtonState.DOWN&&x.currentState===o.ButtonState.HOVER&&(x.imgDown&&(x.imgDown.style.visibility=""),x.currentState=o.ButtonState.DOWN))}function w(x,E){x.element.disabled||(E<=o.ButtonState.HOVER&&x.currentState===o.ButtonState.DOWN&&(x.imgDown&&(x.imgDown.style.visibility="hidden"),x.currentState=o.ButtonState.HOVER),E<=o.ButtonState.GROUP&&x.currentState===o.ButtonState.HOVER&&(x.imgHover&&(x.imgHover.style.visibility="hidden"),x.currentState=o.ButtonState.GROUP),E<=o.ButtonState.REST&&x.currentState===o.ButtonState.GROUP&&(m(x),x.currentState=o.ButtonState.REST))}}(c),function(o){o.ButtonGroup=function(a){o.extend(!0,this,{buttons:[],clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var u=this.buttons.concat([]),m=this,v;if(this.element=a.element||o.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",v=0;v<u.length;v++)this.element.appendChild(u[v].element);o.setElementTouchActionNone(this.element),this.tracker=new o.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(b){var w;for(w=0;w<m.buttons.length;w++)m.buttons[w].notifyGroupEnter()},leaveHandler:function(b){var w;if(!b.insideElementPressed)for(w=0;w<m.buttons.length;w++)m.buttons[w].notifyGroupExit()}})},o.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(c),function(o){o.Rect=function(a,u,m,v,b){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0,this.width=typeof m=="number"?m:0,this.height=typeof v=="number"?v:0,this.degrees=typeof b=="number"?b:0,this.degrees=o.positiveModulo(this.degrees,360);var w,x;this.degrees>=270?(w=this.getTopRight(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=270):this.degrees>=180?(w=this.getBottomRight(),this.x=w.x,this.y=w.y,this.degrees-=180):this.degrees>=90&&(w=this.getBottomLeft(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=90)},o.Rect.fromSummits=function(a,u,m){var v=a.distanceTo(u),b=a.distanceTo(m),w=u.minus(a),x=Math.atan(w.y/w.x);return w.x<0?x+=Math.PI:w.y<0&&(x+=2*Math.PI),new o.Rect(a.x,a.y,v,b,x/Math.PI*180)},o.Rect.prototype={clone:function(){return new o.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new o.Point(this.x,this.y)},getBottomRight:function(){return new o.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new o.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new o.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new o.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new o.Point(this.width,this.height)},equals:function(a){return a instanceof o.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new o.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new o.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var u=this.getBoundingBox(),m=a.getBoundingBox(),v=Math.min(u.x,m.x),b=Math.min(u.y,m.y),w=Math.max(u.x+u.width,m.x+m.width),x=Math.max(u.y+u.height,m.y+m.height);return new o.Rect(v,b,w-v,x-b)},intersection:function(a){var u=1e-10,m=[],v=this.getTopLeft();a.containsPoint(v,u)&&m.push(v);var b=this.getTopRight();a.containsPoint(b,u)&&m.push(b);var w=this.getBottomLeft();a.containsPoint(w,u)&&m.push(w);var x=this.getBottomRight();a.containsPoint(x,u)&&m.push(x);var E=a.getTopLeft();this.containsPoint(E,u)&&m.push(E);var O=a.getTopRight();this.containsPoint(O,u)&&m.push(O);var A=a.getBottomLeft();this.containsPoint(A,u)&&m.push(A);var j=a.getBottomRight();this.containsPoint(j,u)&&m.push(j);for(var X=this._getSegments(),ae=a._getSegments(),ie=0;ie<X.length;ie++)for(var he=X[ie],M=0;M<ae.length;M++){var oe=ae[M],be=ye(he[0],he[1],oe[0],oe[1]);be&&m.push(be)}function ye(dt,Ot,Rt,Kt){var Xt=Ot.minus(dt),Zt=Kt.minus(Rt),hn=-Zt.x*Xt.y+Xt.x*Zt.y;if(hn===0)return null;var Pn=(Xt.x*(dt.y-Rt.y)-Xt.y*(dt.x-Rt.x))/hn,ht=(Zt.x*(dt.y-Rt.y)-Zt.y*(dt.x-Rt.x))/hn;return-1e-10<=Pn&&Pn<=1-u&&-1e-10<=ht&&ht<=1-u?new o.Point(dt.x+ht*Xt.x,dt.y+ht*Xt.y):null}if(m.length===0)return null;for(var ke=m[0].x,Re=m[0].x,qe=m[0].y,Ye=m[0].y,ut=1;ut<m.length;ut++){var ft=m[ut];ft.x<ke&&(ke=ft.x),ft.x>Re&&(Re=ft.x),ft.y<qe&&(qe=ft.y),ft.y>Ye&&(Ye=ft.y)}return new o.Rect(ke,qe,Re-ke,Ye-qe)},_getSegments:function(){var a=this.getTopLeft(),u=this.getTopRight(),m=this.getBottomLeft(),v=this.getBottomRight();return[[a,u],[u,v],[v,m],[m,a]]},rotate:function(a,u){if(a=o.positiveModulo(a,360),a===0)return this.clone();u=u||this.getCenter();var m=this.getTopLeft().rotate(a,u),v=this.getTopRight().rotate(a,u),b=v.minus(m);b=b.apply(function(x){var E=1e-15;return Math.abs(x)<E?0:x});var w=Math.atan(b.y/b.x);return b.x<0?w+=Math.PI:b.y<0&&(w+=2*Math.PI),new o.Rect(m.x,m.y,this.width,this.height,w/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),u=this.getTopRight(),m=this.getBottomLeft(),v=this.getBottomRight(),b=Math.min(a.x,u.x,m.x,v.x),w=Math.max(a.x,u.x,m.x,v.x),x=Math.min(a.y,u.y,m.y,v.y),E=Math.max(a.y,u.y,m.y,v.y);return new o.Rect(b,x,w-b,E-x)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),u=Math.floor(a.x),m=Math.floor(a.y),v=Math.ceil(a.width+a.x-u),b=Math.ceil(a.height+a.y-m);return new o.Rect(u,m,v,b)},containsPoint:function(a,u){u=u||0;var m=this.getTopLeft(),v=this.getTopRight(),b=this.getBottomLeft(),w=v.minus(m),x=b.minus(m);return(a.x-m.x)*w.x+(a.y-m.y)*w.y>=-u&&(a.x-v.x)*w.x+(a.y-v.y)*w.y<=u&&(a.x-m.x)*x.x+(a.y-m.y)*x.y>=-u&&(a.x-b.x)*x.x+(a.y-b.y)*x.y<=u},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(c),function(o){var a={};o.ReferenceStrip=function(A){var j=this,X=A.viewer,ae=o.getElementSize(X.element),ie,he,M;for(A.id||(A.id="referencestrip-"+o.now(),this.element=o.makeNeutralElement("div"),this.element.id=A.id,this.element.className="referencestrip"),A=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.referenceStripSizeRatio,position:o.DEFAULT_SETTINGS.referenceStripPosition,scroll:o.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold},A,{element:this.element}),o.extend(this,A),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,he=this.element.style,he.marginTop="0px",he.marginRight="0px",he.marginBottom="0px",he.marginLeft="0px",he.left="0px",he.bottom="0px",he.border="0px",he.background="#000",he.position="relative",o.setElementTouchActionNone(this.element),o.setElementOpacity(this.element,.8),this.viewer=X,this.tracker=new o.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:o.delegate(this,u),dragHandler:o.delegate(this,m),scrollHandler:o.delegate(this,v),enterHandler:o.delegate(this,w),leaveHandler:o.delegate(this,x),keyDownHandler:o.delegate(this,E),keyHandler:o.delegate(this,O),preProcessEventHandler:function(oe){oe.eventType==="wheel"&&(oe.preventDefault=!0)}}),A.width&&A.height?(this.element.style.width=A.width+"px",this.element.style.height=A.height+"px",X.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):A.scroll==="horizontal"?(this.element.style.width=ae.x*A.sizeRatio*X.tileSources.length+12*X.tileSources.length+"px",this.element.style.height=ae.y*A.sizeRatio+"px",X.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=ae.y*A.sizeRatio*X.tileSources.length+12*X.tileSources.length+"px",this.element.style.width=ae.x*A.sizeRatio+"px",X.addControl(this.element,{anchor:o.ControlAnchor.TOP_LEFT})),this.panelWidth=ae.x*this.sizeRatio+8,this.panelHeight=ae.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},M=0;M<X.tileSources.length;M++)ie=o.makeNeutralElement("div"),ie.id=this.element.id+"-"+M,ie.style.width=j.panelWidth+"px",ie.style.height=j.panelHeight+"px",ie.style.display="inline",ie.style.float="left",ie.style.cssFloat="left",ie.style.styleFloat="left",ie.style.padding="2px",o.setElementTouchActionNone(ie),o.setElementPointerEventsNone(ie),this.element.appendChild(ie),ie.activePanel=!1,this.panels.push(ie);b(this,this.scroll==="vertical"?ae.y:ae.x,0),this.setFocus(0)},o.ReferenceStrip.prototype={setFocus:function(A){var j=this.element.querySelector("#"+this.element.id+"-"+A),X=o.getElementSize(this.viewer.canvas),ae=Number(this.element.style.width.replace("px","")),ie=Number(this.element.style.height.replace("px","")),he=-Number(this.element.style.marginLeft.replace("px","")),M=-Number(this.element.style.marginTop.replace("px","")),oe;this.currentSelected!==j&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=j,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(oe=Number(A)*(this.panelWidth+3),oe>he+X.x-this.panelWidth?(oe=Math.min(oe,ae-X.x),this.element.style.marginLeft=-oe+"px",b(this,X.x,-oe)):oe<he&&(oe=Math.max(0,oe-X.x/2),this.element.style.marginLeft=-oe+"px",b(this,X.x,-oe))):(oe=Number(A)*(this.panelHeight+3),oe>M+X.y-this.panelHeight?(oe=Math.min(oe,ie-X.y),this.element.style.marginTop=-oe+"px",b(this,X.y,-oe)):oe<M&&(oe=Math.max(0,oe-X.y/2),this.element.style.marginTop=-oe+"px",b(this,X.y,-oe))),this.currentPage=A,w.call(this,{eventSource:this.tracker}))},update:function(){return a[this.id].animating?(o.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var A in this.miniViewers)this.miniViewers[A].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function u(A){if(A.quick){var j;this.scroll==="horizontal"?j=Math.floor(A.position.x/this.panelWidth):j=Math.floor(A.position.y/this.panelHeight),this.viewer.goToPage(j)}this.element.focus()}function m(A){if(this.dragging=!0,this.element){var j=Number(this.element.style.marginLeft.replace("px","")),X=Number(this.element.style.marginTop.replace("px","")),ae=Number(this.element.style.width.replace("px","")),ie=Number(this.element.style.height.replace("px","")),he=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-A.delta.x>0?j>-(ae-he.x)&&(this.element.style.marginLeft=j+A.delta.x*2+"px",b(this,he.x,j+A.delta.x*2)):-A.delta.x<0&&j<0&&(this.element.style.marginLeft=j+A.delta.x*2+"px",b(this,he.x,j+A.delta.x*2)):-A.delta.y>0?X>-(ie-he.y)&&(this.element.style.marginTop=X+A.delta.y*2+"px",b(this,he.y,X+A.delta.y*2)):-A.delta.y<0&&X<0&&(this.element.style.marginTop=X+A.delta.y*2+"px",b(this,he.y,X+A.delta.y*2))}}function v(A){if(this.element){var j=Number(this.element.style.marginLeft.replace("px","")),X=Number(this.element.style.marginTop.replace("px","")),ae=Number(this.element.style.width.replace("px","")),ie=Number(this.element.style.height.replace("px","")),he=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?A.scroll>0?j>-(ae-he.x)&&(this.element.style.marginLeft=j-A.scroll*60+"px",b(this,he.x,j-A.scroll*60)):A.scroll<0&&j<0&&(this.element.style.marginLeft=j-A.scroll*60+"px",b(this,he.x,j-A.scroll*60)):A.scroll<0?X>he.y-ie&&(this.element.style.marginTop=X+A.scroll*60+"px",b(this,he.y,X+A.scroll*60)):A.scroll>0&&X<0&&(this.element.style.marginTop=X+A.scroll*60+"px",b(this,he.y,X+A.scroll*60)),A.preventDefault=!0}}function b(A,j,X){var ae,ie,he,M,oe,be;for(A.scroll==="horizontal"?ae=A.panelWidth:ae=A.panelHeight,ie=Math.ceil(j/ae)+5,he=Math.ceil((Math.abs(X)+j)/ae)+1,ie=he-ie,ie=ie<0?0:ie,oe=ie;oe<he&&oe<A.panels.length;oe++)if(be=A.panels[oe],!be.activePanel){var ye,ke=A.viewer.tileSources[oe];ke.referenceStripThumbnailUrl?ye={type:"image",url:ke.referenceStripThumbnailUrl}:ye=ke,M=new o.Viewer({id:be.id,tileSources:[ye],element:be,navigatorSizeRatio:A.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:A.viewer.loadTilesWithAjax,ajaxHeaders:A.viewer.ajaxHeaders,useCanvas:A.useCanvas}),o.setElementPointerEventsNone(M.canvas),o.setElementPointerEventsNone(M.container),M.innerTracker.setTracking(!1),M.outerTracker.setTracking(!1),A.miniViewers[be.id]=M,be.activePanel=!0}}function w(A){var j=A.eventSource.element;this.scroll==="horizontal"?j.style.marginBottom="0px":j.style.marginLeft="0px"}function x(A){var j=A.eventSource.element;this.scroll==="horizontal"?j.style.marginBottom="-"+o.getElementSize(j).y/2+"px":j.style.marginLeft="-"+o.getElementSize(j).x/2+"px"}function E(A){if(!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 38:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 40:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 37:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 39:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function O(A){if(!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 61:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 45:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 48:case 119:case 87:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 115:case 83:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 97:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 100:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}}(c),function(o){o.DisplayRect=function(a,u,m,v,b,w){o.Rect.apply(this,[a,u,m,v]),this.minLevel=b,this.maxLevel=w},o.extend(o.DisplayRect.prototype,o.Rect.prototype)}(c),function(o){o.Spring=function(u){var m=arguments;typeof u!="object"&&(u={initial:m.length&&typeof m[0]=="number"?m[0]:void 0,springStiffness:m.length>1?m[1].springStiffness:5,animationTime:m.length>1?m[1].animationTime:1.5}),o.console.assert(typeof u.springStiffness=="number"&&u.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),o.console.assert(typeof u.animationTime=="number"&&u.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),u.exponential&&(this._exponential=!0,delete u.exponential),o.extend(!0,this,u),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:o.now()},o.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},o.Spring.prototype={resetTo:function(u){o.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=u,this.start.time=this.target.time=this.current.time=o.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(u){o.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=u,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(u){this.start.value+=u,this.target.value+=u,this._exponential&&(o.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(u){this._exponential=u,this._exponential&&(o.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=o.now();var u,m;this._exponential?(u=this.start._logValue,m=this.target._logValue):(u=this.start.value,m=this.target.value);var v=this.current.time>=this.target.time?m:u+(m-u)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),b=this.current.value;return this._exponential?this.current.value=Math.exp(v):this.current.value=v,b!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(u,m){return(1-Math.exp(u*-m))/(1-Math.exp(-u))}}(c),function(o){function a(m){o.extend(!0,this,{timeout:o.DEFAULT_SETTINGS.timeout,jobId:null},m),this.image=null}a.prototype={errorMsg:null,start:function(){var m=this,v=this.abort;this.image=new Image,this.image.onload=function(){m.finish(!0)},this.image.onabort=this.image.onerror=function(){m.errorMsg="Image load aborted",m.finish(!1)},this.jobId=window.setTimeout(function(){m.errorMsg="Image load exceeded timeout ("+m.timeout+" ms)",m.finish(!1)},this.timeout),this.loadWithAjax?(this.request=o.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(b){var w;try{w=new window.Blob([b.response])}catch(A){var x=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(A.name==="TypeError"&&x){var E=new x;E.append(b.response),w=E.getBlob()}}w.size===0&&(m.errorMsg="Empty image response.",m.finish(!1));var O=(window.URL||window.webkitURL).createObjectURL(w);m.image.src=O},error:function(b){m.errorMsg="Image load aborted - XHR error",m.finish(!1)}}),this.abort=function(){m.request.abort(),typeof v=="function"&&v()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(m){this.image.onload=this.image.onerror=this.image.onabort=null,m||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},o.ImageLoader=function(m){o.extend(!0,this,{jobLimit:o.DEFAULT_SETTINGS.imageLoaderLimit,timeout:o.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},m)},o.ImageLoader.prototype={addJob:function(m){var v=this,b=function(E){u(v,E,m.callback)},w={src:m.src,loadWithAjax:m.loadWithAjax,ajaxHeaders:m.loadWithAjax?m.ajaxHeaders:null,crossOriginPolicy:m.crossOriginPolicy,ajaxWithCredentials:m.ajaxWithCredentials,callback:b,abort:m.abort,timeout:this.timeout},x=new a(w);!this.jobLimit||this.jobsInProgress<this.jobLimit?(x.start(),this.jobsInProgress++):this.jobQueue.push(x)},clear:function(){for(var m=0;m<this.jobQueue.length;m++){var v=this.jobQueue[m];typeof v.abort=="function"&&v.abort()}this.jobQueue=[]}};function u(m,v,b){var w;m.jobsInProgress--,(!m.jobLimit||m.jobsInProgress<m.jobLimit)&&m.jobQueue.length>0&&(w=m.jobQueue.shift(),w.start(),m.jobsInProgress++),b(v.image,v.errorMsg,v.request)}}(c),function(o){o.Tile=function(a,u,m,v,b,w,x,E,O,A){this.level=a,this.x=u,this.y=m,this.bounds=v,this.sourceBounds=A,this.exists=b,this.url=w,this.context2D=x,this.loadWithAjax=E,this.ajaxHeaders=O,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},o.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(a){if(!this.cacheImageRecord){o.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=o.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==a&&a.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),o.setElementOpacity(this.element,this.opacity)},drawCanvas:function(a,u,m,v){var b=this.position.times(o.pixelDensityRatio),w=this.size.times(o.pixelDensityRatio),x;if(!this.context2D&&!this.cacheImageRecord){o.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(x=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!x){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}a.save(),a.globalAlpha=this.opacity,typeof m=="number"&&m!==1&&(b=b.times(m),w=w.times(m)),v instanceof o.Point&&(b=b.plus(v)),a.globalAlpha===1&&this._hasTransparencyChannel()&&a.clearRect(b.x,b.y,w.x,w.y),u({context:a,tile:this,rendered:x});var E,O;this.sourceBounds?(E=Math.min(this.sourceBounds.width,x.canvas.width),O=Math.min(this.sourceBounds.height,x.canvas.height)):(E=x.canvas.width,O=x.canvas.height),a.translate(b.x+w.x/2,0),this.flipped&&a.scale(-1,1),a.drawImage(x.canvas,0,0,E,O,-w.x/2,b.y,w.x,w.y),a.restore()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return o.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*o.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,u,m){var v=Math.max(1,Math.ceil((m.x-u.x)/2)),b=Math.max(1,Math.ceil((m.y-u.y)/2));return new o.Point(v,b).minus(this.position.times(o.pixelDensityRatio).times(a||1).apply(function(w){return w%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(c),function(o){o.OverlayPlacement=o.Placement,o.OverlayRotationMode=o.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),o.Overlay=function(a,u,m){var v;o.isPlainObject(a)?v=a:v={element:a,location:u,placement:m},this.element=v.element,this.style=v.element.style,this._init(v)},o.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?o.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||o.OverlayRotationMode.EXACT,this.location instanceof o.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=o.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new o.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,u){var m=o.Placement.properties[this.placement];!m||(m.isHorizontallyCentered?a.x-=u.x/2:m.isRight&&(a.x-=u.x),m.isVerticallyCentered?a.y-=u.y/2:m.isBottom&&(a.y-=u.y))},destroy:function(){var a=this.element,u=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(u.display="none",document.body.appendChild(a))),this.onDraw=null,u.top="",u.left="",u.position="",this.width!==null&&(u.width=""),this.height!==null&&(u.height="");var m=o.getCssPropertyWithVendorPrefix("transformOrigin"),v=o.getCssPropertyWithVendorPrefix("transform");m&&v&&(u[m]="",u[v]="")},drawHTML:function(a,u){var m=this.element;m.parentNode!==a&&(m.prevElementParent=m.parentNode,m.prevNextSibling=m.nextSibling,a.appendChild(m),this.style.position="absolute",this.size=o.getElementSize(m));var v=this._getOverlayPositionAndSize(u),b=v.position,w=this.size=v.size,x=v.rotate;if(this.onDraw)this.onDraw(b,w,this.element);else{var E=this.style;E.left=b.x+"px",E.top=b.y+"px",this.width!==null&&(E.width=w.x+"px"),this.height!==null&&(E.height=w.y+"px");var O=o.getCssPropertyWithVendorPrefix("transformOrigin"),A=o.getCssPropertyWithVendorPrefix("transform");O&&A&&(x?(E[O]=this._getTransformOrigin(),E[A]="rotate("+x+"deg)"):(E[O]="",E[A]="")),E.display="block"}},_getOverlayPositionAndSize:function(a){var u=a.pixelFromPoint(this.location,!0),m=this._getSizeInPixels(a);this.adjust(u,m);var v=0;if(a.degrees&&this.rotationMode!==o.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var b=new o.Rect(u.x,u.y,m.x,m.y),w=this._getBoundingBox(b,a.degrees);u=w.getTopLeft(),m=w.getSize()}else v=a.degrees;return{position:u,size:m,rotate:v}},_getSizeInPixels:function(a){var u=this.size.x,m=this.size.y;if(this.width!==null||this.height!==null){var v=a.deltaPixelsFromPointsNoRotate(new o.Point(this.width||0,this.height||0),!0);this.width!==null&&(u=v.x),this.height!==null&&(m=v.y)}if(this.checkResize&&(this.width===null||this.height===null)){var b=this.size=o.getElementSize(this.element);this.width===null&&(u=b.x),this.height===null&&(m=b.y)}return new o.Point(u,m)},_getBoundingBox:function(a,u){var m=this._getPlacementPoint(a);return a.rotate(u,m).getBoundingBox()},_getPlacementPoint:function(a){var u=new o.Point(a.x,a.y),m=o.Placement.properties[this.placement];return m&&(m.isHorizontallyCentered?u.x+=a.width/2:m.isRight&&(u.x+=a.width),m.isVerticallyCentered?u.y+=a.height/2:m.isBottom&&(u.y+=a.height)),u},_getTransformOrigin:function(){var a="",u=o.Placement.properties[this.placement];return u&&(u.isLeft?a="left":u.isRight&&(a="right"),u.isTop?a+=" top":u.isBottom&&(a+=" bottom")),a},update:function(a,u){var m=o.isPlainObject(a)?a:{location:a,placement:u};this._init({location:m.location||this.location,placement:m.placement!==void 0?m.placement:this.placement,onDraw:m.onDraw||this.onDraw,checkResize:m.checkResize||this.checkResize,width:m.width!==void 0?m.width:this.width,height:m.height!==void 0?m.height:this.height,rotationMode:m.rotationMode||this.rotationMode})},getBounds:function(a){o.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var u=this.width,m=this.height;if(u===null||m===null){var v=a.deltaPointsFromPixelsNoRotate(this.size,!0);u===null&&(u=v.x),m===null&&(m=v.y)}var b=this.location.clone();return this.adjust(b,new o.Point(u,m)),this._adjustBoundsForRotation(a,new o.Rect(b.x,b.y,u,m))},_adjustBoundsForRotation:function(a,u){if(!a||a.degrees===0||this.rotationMode===o.OverlayRotationMode.EXACT)return u;if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return u;var m=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new o.Rect(m.position.x,m.position.y,m.size.x,m.size.y))}return u.rotate(-a.degrees,this._getPlacementPoint(u))}}}(c),function(o){o.Drawer=function(a){o.console.assert(a.viewer,"[Drawer] options.viewer is required");var u=arguments;if(o.isPlainObject(a)||(a={source:u[0],viewport:u[1],element:u[2]}),o.console.assert(a.viewport,"[Drawer] options.viewport is required"),o.console.assert(a.element,"[Drawer] options.element is required"),a.source&&o.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=a.viewer,this.viewport=a.viewport,this.debugGridColor=typeof a.debugGridColor=="string"?[a.debugGridColor]:a.debugGridColor||o.DEFAULT_SETTINGS.debugGridColor,a.opacity&&o.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=o.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=o.getElement(a.element),this.canvas=o.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var m=this._calculateCanvasSize();this.canvas.width=m.x,this.canvas.height=m.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",o.setElementOpacity(this.canvas,this.opacity,!0),o.setElementPointerEventsNone(this.canvas),o.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},o.Drawer.prototype={addOverlay:function(a,u,m,v){return o.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(a,u,m,v),this},updateOverlay:function(a,u,m){return o.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(a,u,m),this},removeOverlay:function(a){return o.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(a),this},clearOverlays:function(){return o.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(a){var u=this.viewport.pixelFromPointNoRotate(a,!0);return new o.Point(u.x*o.pixelDensityRatio,u.y*o.pixelDensityRatio)},clipWithPolygons:function(a,u){if(this.useCanvas){var m=this._getContext(u);m.beginPath(),a.forEach(function(v){v.forEach(function(b,w){m[w===0?"moveTo":"lineTo"](b.x,b.y)})}),m.clip()}},setOpacity:function(a){o.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var u=this.viewer.world,m=0;m<u.getItemCount();m++)u.getItemAt(m).setOpacity(a);return this},getOpacity:function(){o.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var a=this.viewer.world,u=0,m=0;m<a.getItemCount();m++){var v=a.getItemAt(m).getOpacity();v>u&&(u=v)}return u},needsUpdate:function(){return o.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return o.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return o.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return o.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var a=this._calculateCanvasSize();if((this.canvas.width!==a.x||this.canvas.height!==a.y)&&(this.canvas.width=a.x,this.canvas.height=a.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var u=this._calculateSketchCanvasSize();this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(a,u){if(this.useCanvas){var m=this._getContext(a);if(u)m.clearRect(u.x,u.y,u.width,u.height);else{var v=m.canvas;m.clearRect(0,0,v.width,v.height)}}},viewportToDrawerRectangle:function(a){var u=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!0),m=this.viewport.deltaPixelsFromPointsNoRotate(a.getSize(),!0);return new o.Rect(u.x*o.pixelDensityRatio,u.y*o.pixelDensityRatio,m.x*o.pixelDensityRatio,m.y*o.pixelDensityRatio)},drawTile:function(a,u,m,v,b){if(o.console.assert(a,"[Drawer.drawTile] tile is required"),o.console.assert(u,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var w=this._getContext(m);v=v||1,a.drawCanvas(w,u,v,b)}else a.drawHTML(this.canvas)},_getContext:function(a){var u=this.context;if(a){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var m=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=m.x,this.sketchCanvas.height=m.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var v=this;this.viewer.addHandler("rotate",function b(){if(v.viewport.getRotation()!==0){v.viewer.removeHandler("rotate",b);var w=v._calculateSketchCanvasSize();v.sketchCanvas.width=w.x,v.sketchCanvas.height=w.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}u=this.sketchContext}return u},saveContext:function(a){!this.useCanvas||this._getContext(a).save()},restoreContext:function(a){!this.useCanvas||this._getContext(a).restore()},setClip:function(a,u){if(this.useCanvas){var m=this._getContext(u);m.beginPath(),m.rect(a.x,a.y,a.width,a.height),m.clip()}},drawRectangle:function(a,u,m){if(this.useCanvas){var v=this._getContext(m);v.save(),v.fillStyle=u,v.fillRect(a.x,a.y,a.width,a.height),v.restore()}},blendSketch:function(a,u,m,v){var b=a;if(o.isPlainObject(b)||(b={opacity:a,scale:u,translate:m,compositeOperation:v}),!(!this.useCanvas||!this.sketchCanvas)){a=b.opacity,v=b.compositeOperation;var w=b.bounds;if(this.context.save(),this.context.globalAlpha=a,v&&(this.context.globalCompositeOperation=v),w)w.x<0&&(w.width+=w.x,w.x=0),w.x+w.width>this.canvas.width&&(w.width=this.canvas.width-w.x),w.y<0&&(w.height+=w.y,w.y=0),w.y+w.height>this.canvas.height&&(w.height=this.canvas.height-w.y),this.context.drawImage(this.sketchCanvas,w.x,w.y,w.width,w.height,w.x,w.y,w.width,w.height);else{u=b.scale||1,m=b.translate;var x=m instanceof o.Point?m:new o.Point(0,0),E=0,O=0;if(m){var A=this.sketchCanvas.width-this.canvas.width,j=this.sketchCanvas.height-this.canvas.height;E=Math.round(A/2),O=Math.round(j/2)}this.context.drawImage(this.sketchCanvas,x.x-E*u,x.y-O*u,(this.canvas.width+2*E)*u,(this.canvas.height+2*O)*u,-E,-O,this.canvas.width+2*E,this.canvas.height+2*O)}this.context.restore()}},drawDebugInfo:function(a,u,m,v){if(this.useCanvas){var b=this.viewer.world.getIndexOfItem(v)%this.debugGridColor.length,w=this.context;w.save(),w.lineWidth=2*o.pixelDensityRatio,w.font="small-caps bold "+13*o.pixelDensityRatio+"px arial",w.strokeStyle=this.debugGridColor[b],w.fillStyle=this.debugGridColor[b],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),v.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:v.getRotation(!0),point:v.viewport.pixelFromPointNoRotate(v._getRotationPoint(!0),!0)}),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.strokeRect(a.position.x*o.pixelDensityRatio,a.position.y*o.pixelDensityRatio,a.size.x*o.pixelDensityRatio,a.size.y*o.pixelDensityRatio);var x=(a.position.x+a.size.x/2)*o.pixelDensityRatio,E=(a.position.y+a.size.y/2)*o.pixelDensityRatio;w.translate(x,E),w.rotate(Math.PI/180*-this.viewport.degrees),w.translate(-x,-E),a.x===0&&a.y===0&&(w.fillText("Zoom: "+this.viewport.getZoom(),a.position.x*o.pixelDensityRatio,(a.position.y-30)*o.pixelDensityRatio),w.fillText("Pan: "+this.viewport.getBounds().toString(),a.position.x*o.pixelDensityRatio,(a.position.y-20)*o.pixelDensityRatio)),w.fillText("Level: "+a.level,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+20)*o.pixelDensityRatio),w.fillText("Column: "+a.x,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+30)*o.pixelDensityRatio),w.fillText("Row: "+a.y,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+40)*o.pixelDensityRatio),w.fillText("Order: "+m+" of "+u,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+50)*o.pixelDensityRatio),w.fillText("Size: "+a.size.toString(),(a.position.x+10)*o.pixelDensityRatio,(a.position.y+60)*o.pixelDensityRatio),w.fillText("Position: "+a.position.toString(),(a.position.x+10)*o.pixelDensityRatio,(a.position.y+70)*o.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),v.getRotation(!0)%360!==0&&this._restoreRotationChanges(),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.restore()}},debugRect:function(a){if(this.useCanvas){var u=this.context;u.save(),u.lineWidth=2*o.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(a.x*o.pixelDensityRatio,a.y*o.pixelDensityRatio,a.width*o.pixelDensityRatio,a.height*o.pixelDensityRatio),u.restore()}},setImageSmoothingEnabled:function(a){this.useCanvas&&(this._imageSmoothingEnabled=a,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(a){a.msImageSmoothingEnabled=this._imageSmoothingEnabled,a.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(a){var u=this._getContext(a).canvas;return new o.Point(u.width,u.height)},getCanvasCenter:function(){return new o.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(a){var u=a.point?a.point.times(o.pixelDensityRatio):this.getCanvasCenter(),m=this._getContext(a.useSketch);m.save(),m.translate(u.x,u.y),this.viewer.viewport.flipped?(m.rotate(Math.PI/180*-a.degrees),m.scale(-1,1)):m.rotate(Math.PI/180*a.degrees),m.translate(-u.x,-u.y)},_flip:function(a){a=a||{};var u=a.point?a.point.times(o.pixelDensityRatio):this.getCanvasCenter(),m=this._getContext(a.useSketch);m.translate(u.x,0),m.scale(-1,1),m.translate(-u.x,0)},_restoreRotationChanges:function(a){var u=this._getContext(a);u.restore()},_calculateCanvasSize:function(){var a=o.pixelDensityRatio,u=this.viewport.getContainerSize();return{x:Math.round(u.x*a),y:Math.round(u.y*a)}},_calculateSketchCanvasSize:function(){var a=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return a;var u=Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y));return{x:u,y:u}}}}(c),function(o){o.Viewport=function(a){var u=arguments;u.length&&u[0]instanceof o.Point&&(a={containerSize:u[0],contentSize:u[1],config:u[2]}),a.config&&(o.extend(!0,a,a.config),delete a.config),this._margins=o.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,o.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:o.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:o.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:o.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:o.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:o.DEFAULT_SETTINGS.maxZoomLevel,degrees:o.DEFAULT_SETTINGS.degrees,flipped:o.DEFAULT_SETTINGS.flipped,homeFillsViewer:o.DEFAULT_SETTINGS.homeFillsViewer},a),this._updateContainerInnerSize(),this.centerSpringX=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new o.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new o.Rect(0,0,1,1),1),this.goHome(!0),this.update()},o.Viewport.prototype={resetContentSize:function(a){return o.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),o.console.assert(a instanceof o.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),o.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),o.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new o.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,u){o.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,u)},_setContentBounds:function(a,u){o.console.assert(a,"[Viewport._setContentBounds] bounds is required"),o.console.assert(a instanceof o.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),o.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),o.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(u),this._contentBounds=a.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(u),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:u,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),u;return this.homeFillsViewer?u=a>=1?a:1:u=a>=1?1:a,u/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),u=1/this.getHomeZoom(),m=u/this.getAspectRatio();return new o.Rect(a.x-u/2,a.y-m/2,u,m)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),u=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return u},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new o.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return o.extend({},this._margins)},setMargins:function(a){o.console.assert(o.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=o.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation())},getBoundsNoRotate:function(a){var u=this.getCenter(a),m=1/this.getZoom(a),v=m/this.getAspectRatio();return new o.Rect(u.x-m/2,u.y-v/2,m,v)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var u=this.getBoundsNoRotate(a),m=this._containerInnerSize.x*this.getZoom(a);return u.x-=this._margins.left/m,u.y-=this._margins.top/m,u.width+=(this._margins.left+this._margins.right)/m,u.height+=(this._margins.top+this._margins.bottom)/m,u},getCenter:function(a){var u=new o.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),m=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),v,b,w,x,E,O,A,j;return a?u:this.zoomPoint?(v=this.pixelFromPoint(this.zoomPoint,!0),b=this.getZoom(),w=1/b,x=w/this.getAspectRatio(),E=new o.Rect(u.x-w/2,u.y-x/2,w,x),O=this._pixelFromPoint(this.zoomPoint,E),A=O.minus(v),j=A.divide(this._containerInnerSize.x*b),m.plus(j)):m},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var u=new o.Rect(a.x,a.y,a.width,a.height);if(!this.wrapHorizontal){var m=this.visibilityRatio*u.width,v=u.x+u.width,b=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,w=this._contentBoundsNoRotate.x-v+m,x=b-u.x-m;m>this._contentBoundsNoRotate.width?u.x+=(w+x)/2:x<0?u.x+=x:w>0&&(u.x+=w)}if(!this.wrapVertical){var E=this.visibilityRatio*u.height,O=u.y+u.height,A=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,j=this._contentBoundsNoRotate.y-O+E,X=A-u.y-E;E>this._contentBoundsNoRotate.height?u.y+=(j+X)/2:X<0?u.y+=X:j>0&&(u.y+=j)}return u},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var u=this.getZoom(),m=this._applyZoomConstraints(u);u!==m&&this.zoomTo(m,this.zoomPoint,a);var v=this.getBoundsNoRotate(),b=this._applyBoundaryConstraints(v);return this._raiseConstraintsEvent(a),(v.x!==b.x||v.y!==b.y||a)&&this.fitBounds(b.rotate(-this.getRotation()),a),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,u){u=u||{};var m=u.immediately||!1,v=u.constraints||!1,b=this.getAspectRatio(),w=a.getCenter(),x=new o.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();x.getAspectRatio()>=b?x.height=x.width/b:x.width=x.height*b,x.x=w.x-x.width/2,x.y=w.y-x.height/2;var E=1/x.width;if(v){var O=x.getAspectRatio(),A=this._applyZoomConstraints(E);E!==A&&(E=A,x.width=1/E,x.x=w.x-x.width/2,x.height=x.width/O,x.y=w.y-x.height/2),x=this._applyBoundaryConstraints(x),w=x.getCenter(),this._raiseConstraintsEvent(m)}if(m)return this.panTo(w,!0),this.zoomTo(E,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var j=this.getBounds(),X=this.getZoom();if(X===0||Math.abs(E/X-1)<1e-8)return this.zoomTo(E,!0),this.panTo(w,m);x=x.rotate(-this.getRotation());var ae=x.getTopLeft().times(E).minus(j.getTopLeft().times(X)).divide(E-X);return this.zoomTo(E,ae,m)},fitBounds:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!1})},fitBoundsWithConstraints:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!0})},fitVertically:function(a){var u=new o.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(u,a)},fitHorizontally:function(a){var u=new o.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(u,a)},getConstrainedBounds:function(a){var u,m;return u=this.getBounds(a),m=this._applyBoundaryConstraints(u),m},panBy:function(a,u){var m=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(m.plus(a),u)},panTo:function(a,u){return u?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:u}),this},zoomBy:function(a,u,m){return this.zoomTo(this.zoomSpring.target.value*a,u,m)},zoomTo:function(a,u,m){var v=this;return this.zoomPoint=u instanceof o.Point&&!isNaN(u.x)&&!isNaN(u.y)?u:null,m?this._adjustCenterSpringsForZoomPoint(function(){v.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:u,immediately:m}),this},setRotation:function(a){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=o.positiveModulo(a,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a}),this)},getRotation:function(){return this.degrees},resize:function(a,u){var m=this.getBoundsNoRotate(),v=m,b;return this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),u&&(b=a.x/this.containerSize.x,v.width=m.width*b,v.height=v.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:u}),this.fitBounds(v,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new o.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var u=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,u},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var u=this.pixelFromPoint(this.zoomPoint,!0);a();var m=this.pixelFromPoint(this.zoomPoint,!0),v=m.minus(u),b=this.deltaPointsFromPixels(v,!0);this.centerSpringX.shiftBy(b.x),this.centerSpringY.shiftBy(b.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,u){return a.times(this._containerInnerSize.x*this.getZoom(u))},deltaPixelsFromPoints:function(a,u){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation()),u)},deltaPointsFromPixelsNoRotate:function(a,u){return a.divide(this._containerInnerSize.x*this.getZoom(u))},deltaPointsFromPixels:function(a,u){return this.deltaPointsFromPixelsNoRotate(a,u).rotate(-this.getRotation())},pixelFromPointNoRotate:function(a,u){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(u))},pixelFromPoint:function(a,u){return this._pixelFromPoint(a,this.getBoundsNoRotate(u))},_pixelFromPointNoRotate:function(a,u){return a.minus(u.getTopLeft()).times(this._containerInnerSize.x/u.width).plus(new o.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,u){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(),this.getCenter(!0)),u)},pointFromPixelNoRotate:function(a,u){var m=this.getBoundsNoRotate(u);return a.minus(new o.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/m.width).plus(m.getTopLeft())},pointFromPixel:function(a,u){return this.pointFromPixelNoRotate(a,u).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(a,u){var m=this._contentBoundsNoRotate.width;return new o.Point(a*this._contentSizeNoRotate.x/m,u*this._contentSizeNoRotate.x/m)},viewportToImageCoordinates:function(a,u){if(a instanceof o.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var m=this.viewer.world.getItemCount();if(m>1)o.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageCoordinates(a,u,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,u-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,u){var m=this._contentBoundsNoRotate.width;return new o.Point(a/this._contentSizeNoRotate.x*m,u/this._contentSizeNoRotate.x*m)},imageToViewportCoordinates:function(a,u){if(a instanceof o.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var m=this.viewer.world.getItemCount();if(m>1)o.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportCoordinates(a,u,!0)}}var b=this._imageToViewportDelta(a,u);return b.x+=this._contentBoundsNoRotate.x,b.y+=this._contentBoundsNoRotate.y,b},imageToViewportRectangle:function(a,u,m,v){var b=a;if(b instanceof o.Rect||(b=new o.Rect(a,u,m,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.imageToViewportRectangle(a,u,m,v,!0)}}var E=this.imageToViewportCoordinates(b.x,b.y),O=this._imageToViewportDelta(b.width,b.height);return new o.Rect(E.x,E.y,O.x,O.y,b.degrees)},viewportToImageRectangle:function(a,u,m,v){var b=a;if(b instanceof o.Rect||(b=new o.Rect(a,u,m,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.viewportToImageRectangle(a,u,m,v,!0)}}var E=this.viewportToImageCoordinates(b.x,b.y),O=this._viewportToImageDelta(b.width,b.height);return new o.Rect(E.x,E.y,O.x,O.y,b.degrees)},viewerElementToImageCoordinates:function(a){var u=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(u)},imageToViewerElementCoordinates:function(a){var u=this.imageToViewportCoordinates(a);return this.pixelFromPoint(u,!0)},windowToImageCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var u=a.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(u)},imageToWindowCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var u=this.imageToViewerElementCoordinates(a);return u.plus(o.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return o.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return o.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var u=a.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(u)},viewportToWindowCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var u=this.viewportToViewerElementCoordinates(a);return u.plus(o.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)o.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(u===1){var m=this.viewer.world.getItemAt(0);return m.viewportToImageZoom(a)}}var v=this._contentSizeNoRotate.x,b=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=b/v*w;return a*x},imageToViewportZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)o.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(u===1){var m=this.viewer.world.getItemAt(0);return m.imageToViewportZoom(a)}}var v=this._contentSizeNoRotate.x,b=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=v/b/w;return a*x},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)}}}(c),function(o){o.TiledImage=function(M){var oe=this;o.console.assert(M.tileCache,"[TiledImage] options.tileCache is required"),o.console.assert(M.drawer,"[TiledImage] options.drawer is required"),o.console.assert(M.viewer,"[TiledImage] options.viewer is required"),o.console.assert(M.imageLoader,"[TiledImage] options.imageLoader is required"),o.console.assert(M.source,"[TiledImage] options.source is required"),o.console.assert(!M.clip||M.clip instanceof o.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),o.EventSource.call(this),this._tileCache=M.tileCache,delete M.tileCache,this._drawer=M.drawer,delete M.drawer,this._imageLoader=M.imageLoader,delete M.imageLoader,M.clip instanceof o.Rect&&(this._clip=M.clip.clone()),delete M.clip;var be=M.x||0;delete M.x;var ye=M.y||0;delete M.y,this.normHeight=M.source.dimensions.y/M.source.dimensions.x,this.contentAspectX=M.source.dimensions.x/M.source.dimensions.y;var ke=1;M.width?(ke=M.width,delete M.width,M.height&&(o.console.error("specifying both width and height to a tiledImage is not supported"),delete M.height)):M.height&&(ke=M.height/this.normHeight,delete M.height);var Re=M.fitBounds;delete M.fitBounds;var qe=M.fitBoundsPlacement||c.Placement.CENTER;delete M.fitBoundsPlacement;var Ye=M.degrees||0;delete M.degrees,o.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,immediateRender:o.DEFAULT_SETTINGS.immediateRender,blendTime:o.DEFAULT_SETTINGS.blendTime,alwaysBlend:o.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:o.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:o.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:o.DEFAULT_SETTINGS.iOSDevice,debugMode:o.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:o.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:o.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:o.DEFAULT_SETTINGS.placeholderFillStyle,opacity:o.DEFAULT_SETTINGS.opacity,preload:o.DEFAULT_SETTINGS.preload,compositeOperation:o.DEFAULT_SETTINGS.compositeOperation},M),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new o.Spring({initial:be,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new o.Spring({initial:ye,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new o.Spring({initial:ke,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new o.Spring({initial:Ye,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),Re&&this.fitBounds(Re,qe,!0),this._drawingHandler=function(ut){oe.viewer.raiseEvent("tile-drawing",o.extend({tiledImage:oe},ut))}},o.extend(o.TiledImage.prototype,o.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(M){M!==this._fullyLoaded&&(this._fullyLoaded=M,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=o.now(),this._needsDraw=!0},update:function(){var M=this._xSpring.update(),oe=this._ySpring.update(),be=this._scaleSpring.update(),ye=this._degreesSpring.update();return M||oe||be||ye?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(M){return this.getBoundsNoRotate(M).rotate(this.getRotation(M),this._getRotationPoint(M))},getBoundsNoRotate:function(M){return M?new o.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new o.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return o.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(M){var oe=this.getBoundsNoRotate(M);if(this._clip){var be=M?this._worldWidthCurrent:this._worldWidthTarget,ye=be/this.source.dimensions.x,ke=this._clip.times(ye);oe=new o.Rect(oe.x+ke.x,oe.y+ke.y,ke.width,ke.height)}return oe.rotate(this.getRotation(M),this._getRotationPoint(M))},getTileBounds:function(M,oe,be){var ye=this.source.getNumTiles(M),ke=(ye.x+oe%ye.x)%ye.x,Re=(ye.y+be%ye.y)%ye.y,qe=this.source.getTileBounds(M,ke,Re);return this.getFlip()&&(qe.x=1-qe.x-qe.width),qe.x+=(oe-ke)/ye.x,qe.y+=this._worldHeightCurrent/this._worldWidthCurrent*((be-Re)/ye.y),qe},getContentSize:function(){return new o.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var M=this.imageToWindowCoordinates(new o.Point(0,0)),oe=this.imageToWindowCoordinates(this.getContentSize());return new o.Point(oe.x-M.x,oe.y-M.y)},_viewportToImageDelta:function(M,oe,be){var ye=be?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(M*(this.source.dimensions.x/ye),oe*(this.source.dimensions.y*this.contentAspectX/ye))},viewportToImageCoordinates:function(M,oe,be){var ye;return M instanceof o.Point?(be=oe,ye=M):ye=new o.Point(M,oe),ye=ye.rotate(-this.getRotation(be),this._getRotationPoint(be)),be?this._viewportToImageDelta(ye.x-this._xSpring.current.value,ye.y-this._ySpring.current.value):this._viewportToImageDelta(ye.x-this._xSpring.target.value,ye.y-this._ySpring.target.value)},_imageToViewportDelta:function(M,oe,be){var ye=be?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(M/this.source.dimensions.x*ye,oe/this.source.dimensions.y/this.contentAspectX*ye)},imageToViewportCoordinates:function(M,oe,be){M instanceof o.Point&&(be=oe,oe=M.y,M=M.x);var ye=this._imageToViewportDelta(M,oe);return be?(ye.x+=this._xSpring.current.value,ye.y+=this._ySpring.current.value):(ye.x+=this._xSpring.target.value,ye.y+=this._ySpring.target.value),ye.rotate(this.getRotation(be),this._getRotationPoint(be))},imageToViewportRectangle:function(M,oe,be,ye,ke){var Re=M;Re instanceof o.Rect?ke=oe:Re=new o.Rect(M,oe,be,ye);var qe=this.imageToViewportCoordinates(Re.getTopLeft(),ke),Ye=this._imageToViewportDelta(Re.width,Re.height,ke);return new o.Rect(qe.x,qe.y,Ye.x,Ye.y,Re.degrees+this.getRotation(ke))},viewportToImageRectangle:function(M,oe,be,ye,ke){var Re=M;M instanceof o.Rect?ke=oe:Re=new o.Rect(M,oe,be,ye);var qe=this.viewportToImageCoordinates(Re.getTopLeft(),ke),Ye=this._viewportToImageDelta(Re.width,Re.height,ke);return new o.Rect(qe.x,qe.y,Ye.x,Ye.y,Re.degrees-this.getRotation(ke))},viewerElementToImageCoordinates:function(M){var oe=this.viewport.pointFromPixel(M,!0);return this.viewportToImageCoordinates(oe)},imageToViewerElementCoordinates:function(M){var oe=this.imageToViewportCoordinates(M);return this.viewport.pixelFromPoint(oe,!0)},windowToImageCoordinates:function(M){var oe=M.minus(c.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(oe)},imageToWindowCoordinates:function(M){var oe=this.imageToViewerElementCoordinates(M);return oe.plus(c.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(M){var oe=this._scaleSpring.current.value;return M=M.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new o.Rect((M.x-this._xSpring.current.value)/oe,(M.y-this._ySpring.current.value)/oe,M.width/oe,M.height/oe,M.degrees)},viewportToImageZoom:function(M){var oe=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return oe*M},imageToViewportZoom:function(M){var oe=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return M/oe},setPosition:function(M,oe){var be=this._xSpring.target.value===M.x&&this._ySpring.target.value===M.y;if(oe){if(be&&this._xSpring.current.value===M.x&&this._ySpring.current.value===M.y)return;this._xSpring.resetTo(M.x),this._ySpring.resetTo(M.y),this._needsDraw=!0}else{if(be)return;this._xSpring.springTo(M.x),this._ySpring.springTo(M.y),this._needsDraw=!0}be||this._raiseBoundsChange()},setWidth:function(M,oe){this._setScale(M,oe)},setHeight:function(M,oe){this._setScale(M/this.normHeight,oe)},setCroppingPolygons:function(M){var oe=function(ye){return ye instanceof o.Point||typeof ye.x=="number"&&typeof ye.y=="number"},be=function(ye){return ye.map(function(ke){try{if(oe(ke))return{x:ke.x,y:ke.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!o.isArray(M))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=M.map(function(ye){return be(ye)})}catch(ye){o.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),o.console.error(ye),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(M,oe,be){oe=oe||o.Placement.CENTER;var ye=o.Placement.properties[oe],ke=this.contentAspectX,Re=0,qe=0,Ye=1,ut=1;if(this._clip&&(ke=this._clip.getAspectRatio(),Ye=this._clip.width/this.source.dimensions.x,ut=this._clip.height/this.source.dimensions.y,M.getAspectRatio()>ke?(Re=this._clip.x/this._clip.height*M.height,qe=this._clip.y/this._clip.height*M.height):(Re=this._clip.x/this._clip.width*M.width,qe=this._clip.y/this._clip.width*M.width)),M.getAspectRatio()>ke){var ft=M.height/ut,dt=0;ye.isHorizontallyCentered?dt=(M.width-M.height*ke)/2:ye.isRight&&(dt=M.width-M.height*ke),this.setPosition(new o.Point(M.x-Re+dt,M.y-qe),be),this.setHeight(ft,be)}else{var Ot=M.width/Ye,Rt=0;ye.isVerticallyCentered?Rt=(M.height-M.width/ke)/2:ye.isBottom&&(Rt=M.height-M.width/ke),this.setPosition(new o.Point(M.x-Re,M.y-qe+Rt),be),this.setWidth(Ot,be)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(M){o.console.assert(!M||M instanceof o.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),M instanceof o.Rect?this._clip=M.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(M){this.flipped=!!M,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(M){M!==this.opacity&&(this.opacity=M,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(M){this._preload=!!M,this._needsDraw=!0},getRotation:function(M){return M?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(M,oe){this._degreesSpring.target.value===M&&this._degreesSpring.isAtTargetValue()||(oe?this._degreesSpring.resetTo(M):this._degreesSpring.springTo(M),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(M){return this.getBoundsNoRotate(M).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(M){M!==this.compositeOperation&&(this.compositeOperation=M,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(M,oe){var be=this._scaleSpring.target.value===M;if(oe){if(be&&this._scaleSpring.current.value===M)return;this._scaleSpring.resetTo(M),this._updateForScale(),this._needsDraw=!0}else{if(be)return;this._scaleSpring.springTo(M),this._updateForScale(),this._needsDraw=!0}be||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var M=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),oe=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,be=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(oe/this.minPixelRatio)/Math.log(2))));return be=Math.max(be,this.source.minLevel||0),M=Math.min(M,be),{lowestLevel:M,highestLevel:be}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var M=this.lastDrawn.pop();M.beingDrawn=!1}var oe=this.viewport,be=this._viewportToTiledImageRectangle(oe.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var ye=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(be=be.intersection(ye),be===null)return}for(var ke=this._getLevelsInterval(),Re=ke.lowestLevel,qe=ke.highestLevel,Ye=null,ut=!1,ft=o.now(),dt=qe;dt>=Re;dt--){var Ot=!1,Rt=oe.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(dt),!0).x*this._scaleSpring.current.value;if(dt===Re||!ut&&Rt>=this.minPixelRatio)Ot=!0,ut=!0;else if(!ut)continue;var Kt=oe.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(dt),!1).x*this._scaleSpring.current.value,Xt=oe.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Zt=this.immediateRender?1:Xt,hn=Math.min(1,(Rt-.5)/.5),Pn=Zt/Math.abs(Zt-Kt);if(Ye=a(this,ut,Ot,dt,hn,Pn,be,ft,Ye),O(this.coverage,dt))break}ie(this,this.lastDrawn),Ye&&!Ye.context2D?(v(this,Ye,ft),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(M,oe,be){var ye,ke;this.wrapHorizontal?(ye=o.positiveModulo(oe.x,1),ke=o.positiveModulo(be.x,1)):(ye=Math.max(0,oe.x),ke=Math.min(1,be.x));var Re,qe,Ye=1/this.source.aspectRatio;this.wrapVertical?(Re=o.positiveModulo(oe.y,Ye),qe=o.positiveModulo(be.y,Ye)):(Re=Math.max(0,oe.y),qe=Math.min(Ye,be.y));var ut=this.source.getTileAtPoint(M,new o.Point(ye,Re)),ft=this.source.getTileAtPoint(M,new o.Point(ke,qe)),dt=this.source.getNumTiles(M);return this.wrapHorizontal&&(ut.x+=dt.x*Math.floor(oe.x),ft.x+=dt.x*Math.floor(be.x)),this.wrapVertical&&(ut.y+=dt.y*Math.floor(oe.y/Ye),ft.y+=dt.y*Math.floor(be.y/Ye)),{topLeft:ut,bottomRight:ft}}});function a(M,oe,be,ye,ke,Re,qe,Ye,ut){var ft=qe.getBoundingBox().getTopLeft(),dt=qe.getBoundingBox().getBottomRight();M.viewer&&M.viewer.raiseEvent("update-level",{tiledImage:M,havedrawn:oe,level:ye,opacity:ke,visibility:Re,drawArea:qe,topleft:ft,bottomright:dt,currenttime:Ye,best:ut}),X(M.coverage,ye),X(M.loadingCoverage,ye);var Ot=M._getCornerTiles(ye,ft,dt),Rt=Ot.topLeft,Kt=Ot.bottomRight,Xt=M.source.getNumTiles(ye),Zt=M.viewport.pixelFromPoint(M.viewport.getCenter());M.getFlip()&&(Kt.x+=1,M.wrapHorizontal||(Kt.x=Math.min(Kt.x,Xt.x-1)));for(var hn=Rt.x;hn<=Kt.x;hn++)for(var Pn=Rt.y;Pn<=Kt.y;Pn++){var ht;if(M.getFlip()){var nn=(Xt.x+hn%Xt.x)%Xt.x;ht=hn+Xt.x-nn-nn-1}else ht=hn;qe.intersection(M.getTileBounds(ye,ht,Pn))!==null&&(ut=u(M,be,oe,ht,Pn,ye,ke,Re,Zt,Xt,Ye,ut))}return ut}function u(M,oe,be,ye,ke,Re,qe,Ye,ut,ft,dt,Ot){var Rt=m(ye,ke,Re,M,M.source,M.tilesMatrix,dt,ft,M._worldWidthCurrent,M._worldHeightCurrent),Kt=be;M.viewer&&M.viewer.raiseEvent("update-tile",{tiledImage:M,tile:Rt}),j(M.coverage,Re,ye,ke,!1);var Xt=Rt.loaded||Rt.loading||A(M.loadingCoverage,Re,ye,ke);if(j(M.loadingCoverage,Re,ye,ke,Xt),!Rt.exists||(oe&&!Kt&&(A(M.coverage,Re,ye,ke)?j(M.coverage,Re,ye,ke,!0):Kt=!0),!Kt))return Ot;if(x(Rt,M.source.tileOverlap,M.viewport,ut,Ye,M),!Rt.loaded)if(Rt.context2D)w(M,Rt);else{var Zt=M._tileCache.getImageRecord(Rt.cacheKey);if(Zt){var hn=Zt.getImage();w(M,Rt,hn)}}if(Rt.loaded){var Pn=E(M,Rt,ye,ke,Re,qe,dt);Pn&&(M._needsDraw=!0)}else Rt.loading?M._tilesLoading++:Xt||(Ot=ae(Ot,Rt));return Ot}function m(M,oe,be,ye,ke,Re,qe,Ye,ut,ft){var dt,Ot,Rt,Kt,Xt,Zt,hn,Pn,ht;return Re[be]||(Re[be]={}),Re[be][M]||(Re[be][M]={}),(!Re[be][M][oe]||!Re[be][M][oe].flipped!=!ye.flipped)&&(dt=(Ye.x+M%Ye.x)%Ye.x,Ot=(Ye.y+oe%Ye.y)%Ye.y,Rt=ye.getTileBounds(be,M,oe),Kt=ke.getTileBounds(be,dt,Ot,!0),Xt=ke.tileExists(be,dt,Ot),Zt=ke.getTileUrl(be,dt,Ot),ye.loadTilesWithAjax?(hn=ke.getTileAjaxHeaders(be,dt,Ot),o.isPlainObject(ye.ajaxHeaders)&&(hn=o.extend({},ye.ajaxHeaders,hn))):hn=null,Pn=ke.getContext2D?ke.getContext2D(be,dt,Ot):void 0,ht=new o.Tile(be,M,oe,Rt,Xt,Zt,Pn,ye.loadTilesWithAjax,hn,Kt),ye.getFlip()?dt===0&&(ht.isRightMost=!0):dt===Ye.x-1&&(ht.isRightMost=!0),Ot===Ye.y-1&&(ht.isBottomMost=!0),ht.flipped=ye.flipped,Re[be][M][oe]=ht),ht=Re[be][M][oe],ht.lastTouchTime=qe,ht}function v(M,oe,be){oe.loading=!0,M._imageLoader.addJob({src:oe.url,loadWithAjax:oe.loadWithAjax,ajaxHeaders:oe.ajaxHeaders,crossOriginPolicy:M.crossOriginPolicy,ajaxWithCredentials:M.ajaxWithCredentials,callback:function(ye,ke,Re){b(M,oe,be,ye,ke,Re)},abort:function(){oe.loading=!1}})}function b(M,oe,be,ye,ke,Re){if(!ye){o.console.log("Tile %s failed to load: %s - error: %s",oe,oe.url,ke),M.viewer.raiseEvent("tile-load-failed",{tile:oe,tiledImage:M,time:be,message:ke,tileRequest:Re}),oe.loading=!1,oe.exists=!1;return}if(be<M.lastResetTime){o.console.log("Ignoring tile %s loaded before reset: %s",oe,oe.url),oe.loading=!1;return}var qe=function(){var Ye=M.source.getClosestLevel();w(M,oe,ye,Ye,Re)};M._midDraw?window.setTimeout(qe,1):qe()}function w(M,oe,be,ye,ke){var Re=0;function qe(){return Re++,Ye}function Ye(){Re--,Re===0&&(oe.loading=!1,oe.loaded=!0,oe.context2D||M._tileCache.cacheTile({image:be,tile:oe,cutoff:ye,tiledImage:M}),M._needsDraw=!0)}M.viewer.raiseEvent("tile-loaded",{tile:oe,tiledImage:M,tileRequest:ke,image:be,getCompletionCallback:qe}),qe()()}function x(M,oe,be,ye,ke,Re){var qe=M.bounds.getTopLeft();qe.x*=Re._scaleSpring.current.value,qe.y*=Re._scaleSpring.current.value,qe.x+=Re._xSpring.current.value,qe.y+=Re._ySpring.current.value;var Ye=M.bounds.getSize();Ye.x*=Re._scaleSpring.current.value,Ye.y*=Re._scaleSpring.current.value;var ut=be.pixelFromPointNoRotate(qe,!0),ft=be.pixelFromPointNoRotate(qe,!1),dt=be.deltaPixelsFromPointsNoRotate(Ye,!0),Ot=be.deltaPixelsFromPointsNoRotate(Ye,!1),Rt=ft.plus(Ot.divide(2)),Kt=ye.squaredDistanceTo(Rt);oe||(dt=dt.plus(new o.Point(1,1))),M.isRightMost&&Re.wrapHorizontal&&(dt.x+=.75),M.isBottomMost&&Re.wrapVertical&&(dt.y+=.75),M.position=ut,M.size=dt,M.squaredDistance=Kt,M.visibility=ke}function E(M,oe,be,ye,ke,Re,qe){var Ye=1e3*M.blendTime,ut,ft;if(oe.blendStart||(oe.blendStart=qe),ut=qe-oe.blendStart,ft=Ye?Math.min(1,ut/Ye):1,M.alwaysBlend&&(ft*=Re),oe.opacity=ft,M.lastDrawn.push(oe),ft===1)j(M.coverage,ke,be,ye,!0),M._hasOpaqueTile=!0;else if(ut<Ye)return!0;return!1}function O(M,oe,be,ye){var ke,Re,qe,Ye;if(!M[oe])return!1;if(be===void 0||ye===void 0){ke=M[oe];for(qe in ke)if(Object.prototype.hasOwnProperty.call(ke,qe)){Re=ke[qe];for(Ye in Re)if(Object.prototype.hasOwnProperty.call(Re,Ye)&&!Re[Ye])return!1}return!0}return M[oe][be]===void 0||M[oe][be][ye]===void 0||M[oe][be][ye]===!0}function A(M,oe,be,ye){return be===void 0||ye===void 0?O(M,oe+1):O(M,oe+1,2*be,2*ye)&&O(M,oe+1,2*be,2*ye+1)&&O(M,oe+1,2*be+1,2*ye)&&O(M,oe+1,2*be+1,2*ye+1)}function j(M,oe,be,ye,ke){if(!M[oe]){o.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",oe);return}M[oe][be]||(M[oe][be]={}),M[oe][be][ye]=ke}function X(M,oe){M[oe]={}}function ae(M,oe){return!M||oe.visibility>M.visibility||oe.visibility===M.visibility&&oe.squaredDistance<M.squaredDistance?oe:M}function ie(M,oe){if(!(M.opacity===0||oe.length===0&&!M.placeholderFillStyle)){var be=oe[0],ye;be&&(ye=M.opacity<1||M.compositeOperation&&M.compositeOperation!=="source-over"||!M._isBottomItem()&&be._hasTransparencyChannel());var ke,Re,qe=M.viewport.getZoom(!0),Ye=M.viewportToImageZoom(qe);oe.length>1&&Ye>M.smoothTileEdgesMinZoom&&!M.iOSDevice&&M.getRotation(!0)%360===0&&o.supportsCanvas&&(ye=!0,ke=be.getScaleForEdgeSmoothing(),Re=be.getTranslationForEdgeSmoothing(ke,M._drawer.getCanvasSize(!1),M._drawer.getCanvasSize(!0)));var ut;ye&&(ke||(ut=M.viewport.viewportToViewerElementRectangle(M.getClippedBounds(!0)).getIntegerBoundingBox(),M._drawer.viewer.viewport.getFlip()&&(M.viewport.degrees!==0||M.getRotation(!0)%360!==0)&&(ut.x=M._drawer.viewer.container.clientWidth-(ut.x+ut.width)),ut=ut.times(o.pixelDensityRatio)),M._drawer._clear(!0,ut)),ke||(M.viewport.degrees!==0&&M._drawer._offsetForRotation({degrees:M.viewport.degrees,useSketch:ye}),M.getRotation(!0)%360!==0&&M._drawer._offsetForRotation({degrees:M.getRotation(!0),point:M.viewport.pixelFromPointNoRotate(M._getRotationPoint(!0),!0),useSketch:ye}),M.viewport.degrees===0&&M.getRotation(!0)%360===0&&M._drawer.viewer.viewport.getFlip()&&M._drawer._flip());var ft=!1;if(M._clip){M._drawer.saveContext(ye);var dt=M.imageToViewportRectangle(M._clip,!0);dt=dt.rotate(-M.getRotation(!0),M._getRotationPoint(!0));var Ot=M._drawer.viewportToDrawerRectangle(dt);ke&&(Ot=Ot.times(ke)),Re&&(Ot=Ot.translate(Re)),M._drawer.setClip(Ot,ye),ft=!0}if(M._croppingPolygons){M._drawer.saveContext(ye);try{var Rt=M._croppingPolygons.map(function(hn){return hn.map(function(Pn){var ht=M.imageToViewportCoordinates(Pn.x,Pn.y,!0).rotate(-M.getRotation(!0),M._getRotationPoint(!0)),nn=M._drawer.viewportCoordToDrawerCoord(ht);return ke&&(nn=nn.times(ke)),nn})});M._drawer.clipWithPolygons(Rt,ye)}catch(hn){o.console.error(hn)}ft=!0}if(M.placeholderFillStyle&&M._hasOpaqueTile===!1){var Kt=M._drawer.viewportToDrawerRectangle(M.getBounds(!0));ke&&(Kt=Kt.times(ke)),Re&&(Kt=Kt.translate(Re));var Xt=null;typeof M.placeholderFillStyle=="function"?Xt=M.placeholderFillStyle(M,M._drawer.context):Xt=M.placeholderFillStyle,M._drawer.drawRectangle(Kt,Xt,ye)}for(var Zt=oe.length-1;Zt>=0;Zt--)be=oe[Zt],M._drawer.drawTile(be,M._drawingHandler,ye,ke,Re),be.beingDrawn=!0,M.viewer&&M.viewer.raiseEvent("tile-drawn",{tiledImage:M,tile:be});ft&&M._drawer.restoreContext(ye),ke||(M.getRotation(!0)%360!==0&&M._drawer._restoreRotationChanges(ye),M.viewport.degrees!==0&&M._drawer._restoreRotationChanges(ye)),ye&&(ke&&(M.viewport.degrees!==0&&M._drawer._offsetForRotation({degrees:M.viewport.degrees,useSketch:!1}),M.getRotation(!0)%360!==0&&M._drawer._offsetForRotation({degrees:M.getRotation(!0),point:M.viewport.pixelFromPointNoRotate(M._getRotationPoint(!0),!0),useSketch:!1})),M._drawer.blendSketch({opacity:M.opacity,scale:ke,translate:Re,compositeOperation:M.compositeOperation,bounds:ut}),ke&&(M.getRotation(!0)%360!==0&&M._drawer._restoreRotationChanges(!1),M.viewport.degrees!==0&&M._drawer._restoreRotationChanges(!1))),ke||M.viewport.degrees===0&&M.getRotation(!0)%360===0&&M._drawer.viewer.viewport.getFlip()&&M._drawer._flip(),he(M,oe)}}function he(M,oe){if(M.debugMode)for(var be=oe.length-1;be>=0;be--){var ye=oe[be];try{M._drawer.drawDebugInfo(ye,oe.length,be,M)}catch(ke){o.console.error(ke)}}}}(c),function(o){var a=function(m){o.console.assert(m,"[TileCache.cacheTile] options is required"),o.console.assert(m.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(m.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=m.tile,this.tiledImage=m.tiledImage},u=function(m){o.console.assert(m,"[ImageRecord] options is required"),o.console.assert(m.image,"[ImageRecord] options.image is required"),this._image=m.image,this._tiles=[]};u.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var m=document.createElement("canvas");m.width=this._image.width,m.height=this._image.height,this._renderedContext=m.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(m){o.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=m},addTile:function(m){o.console.assert(m,"[ImageRecord.addTile] tile is required"),this._tiles.push(m)},removeTile:function(m){for(var v=0;v<this._tiles.length;v++)if(this._tiles[v]===m){this._tiles.splice(v,1);return}o.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",m)},getTileCount:function(){return this._tiles.length}},o.TileCache=function(m){m=m||{},this._maxImageCacheCount=m.maxImageCacheCount||o.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},o.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(m){o.console.assert(m,"[TileCache.cacheTile] options is required"),o.console.assert(m.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(m.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),o.console.assert(m.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var v=m.cutoff||0,b=this._tilesLoaded.length,w=this._imagesLoaded[m.tile.cacheKey];if(w||(o.console.assert(m.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),w=this._imagesLoaded[m.tile.cacheKey]=new u({image:m.image}),this._imagesLoadedCount++),w.addTile(m.tile),m.tile.cacheImageRecord=w,this._imagesLoadedCount>this._maxImageCacheCount){for(var x=null,E=-1,O=null,A,j,X,ae,ie,he,M=this._tilesLoaded.length-1;M>=0;M--)if(he=this._tilesLoaded[M],A=he.tile,!(A.level<=v||A.beingDrawn)){if(!x){x=A,E=M,O=he;continue}ae=A.lastTouchTime,j=x.lastTouchTime,ie=A.level,X=x.level,(ae<j||ae===j&&ie>X)&&(x=A,E=M,O=he)}x&&E>=0&&(this._unloadTile(O),b=E)}this._tilesLoaded[b]=new a({tile:m.tile,tiledImage:m.tiledImage})},clearTilesFor:function(m){o.console.assert(m,"[TileCache.clearTilesFor] tiledImage is required");for(var v,b=0;b<this._tilesLoaded.length;++b)v=this._tilesLoaded[b],v.tiledImage===m&&(this._unloadTile(v),this._tilesLoaded.splice(b,1),b--)},getImageRecord:function(m){return o.console.assert(m,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[m]},_unloadTile:function(m){o.console.assert(m,"[TileCache._unloadTile] tileRecord is required");var v=m.tile,b=m.tiledImage;v.unload(),v.cacheImageRecord=null;var w=this._imagesLoaded[v.cacheKey];w.removeTile(v),w.getTileCount()||(w.destroy(),delete this._imagesLoaded[v.cacheKey],this._imagesLoadedCount--),b.viewer.raiseEvent("tile-unloaded",{tile:v,tiledImage:b})}}}(c),function(o){o.World=function(a){var u=this;o.console.assert(a.viewer,"[World] options.viewer is required"),o.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(m){u._autoRefigureSizes?u._figureSizes():u._needsSizesFigured=!0},this._figureSizes()},o.extend(o.World.prototype,o.EventSource.prototype,{addItem:function(a,u){if(o.console.assert(a,"[World.addItem] item is required"),o.console.assert(a instanceof o.TiledImage,"[World.addItem] only TiledImages supported at this time"),u=u||{},u.index!==void 0){var m=Math.max(0,Math.min(this._items.length,u.index));this._items.splice(m,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return o.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return o.console.assert(a,"[World.getIndexOfItem] item is required"),o.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,u){o.console.assert(a,"[World.setItemIndex] item is required"),o.console.assert(u!==void 0,"[World.setItemIndex] index is required");var m=this.getIndexOfItem(a);if(u>=this._items.length)throw new Error("Index bigger than number of layers.");u===m||m===-1||(this._items.splice(m,1),this._items.splice(u,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:m,newIndex:u}))},removeItem:function(a){o.console.assert(a,"[World.removeItem] item is required");var u=o.indexOf(this._items,a);u!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(u,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,u;for(u=0;u<this._items.length;u++)a=this._items[u],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var m=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,u=0;u<m.length;u++)a=m[u],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(){for(var a=!1,u=0;u<this._items.length;u++)a=this._items[u].update()||a;return a},draw:function(){for(var a=0;a<this._items.length;a++)this._items[a].draw();this._needsDraw=!1},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var u=a.immediately||!1,m=a.layout||o.DEFAULT_SETTINGS.collectionLayout,v=a.rows||o.DEFAULT_SETTINGS.collectionRows,b=a.columns||o.DEFAULT_SETTINGS.collectionColumns,w=a.tileSize||o.DEFAULT_SETTINGS.collectionTileSize,x=a.tileMargin||o.DEFAULT_SETTINGS.collectionTileMargin,E=w+x,O;!a.rows&&b?O=b:O=Math.ceil(this._items.length/v);var A=0,j=0,X,ae,ie,he,M;this.setAutoRefigureSizes(!1);for(var oe=0;oe<this._items.length;oe++)oe&&oe%O===0&&(m==="horizontal"?(j+=E,A=0):(A+=E,j=0)),X=this._items[oe],ae=X.getBounds(),ae.width>ae.height?ie=w:ie=w*(ae.width/ae.height),he=ie*(ae.height/ae.width),M=new o.Point(A+(w-ie)/2,j+(w-he)/2),X.setPosition(M,u),X.setWidth(ie,u),m==="horizontal"?A+=E:j+=E;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,u=this._contentSize?this._contentSize.clone():null,m=this._contentFactor||0;if(!this._items.length)this._homeBounds=new o.Rect(0,0,1,1),this._contentSize=new o.Point(1,1),this._contentFactor=1;else{var v=this._items[0],b=v.getBounds();this._contentFactor=v.getContentSize().x/b.width;for(var w=v.getClippedBounds().getBoundingBox(),x=w.x,E=w.y,O=w.x+w.width,A=w.y+w.height,j=1;j<this._items.length;j++)v=this._items[j],b=v.getBounds(),this._contentFactor=Math.max(this._contentFactor,v.getContentSize().x/b.width),w=v.getClippedBounds().getBoundingBox(),x=Math.min(x,w.x),E=Math.min(E,w.y),O=Math.max(O,w.x+w.width),A=Math.max(A,w.y+w.height);this._homeBounds=new o.Rect(x,E,O-x,A-E),this._contentSize=new o.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==m||!this._homeBounds.equals(a)||!this._contentSize.equals(u))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(c)})(lx);var $r=lx.exports;const an="http://www.w3.org/2000/svg",Op=s=>{const c=s.getAttribute("class");return c?new Set(c.split(" ")):new Set},Nr=(s,c)=>{const o=Op(s);o.add(c),s.setAttribute("class",Array.from(o).join(" "))},uu=(s,c)=>{const o=Op(s);o.delete(c),o.size===0?s.removeAttribute("class"):s.setAttribute("class",Array.from(o).join(" "))},Dp=(s,c)=>Op(s).has(c),Jr=(s,c)=>{const o=s.selector("FragmentSelector");if(o!=null&&o.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:a}=o,u=a.includes(":")?a.substring(a.indexOf("=")+1,a.indexOf(":")):"pixel",m=a.includes(":")?a.substring(a.indexOf(":")+1):a.substring(a.indexOf("=")+1);let[v,b,w,x]=m.split(",").map(parseFloat);return u.toLowerCase()==="percent"&&(v=v*c.naturalWidth/100,b=b*c.naturalHeight/100,w=w*c.naturalWidth/100,x=x*c.naturalHeight/100),{x:v,y:b,w,h:x}}},O3=(s,c,o,a,u)=>({source:u?.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${s},${c},${o},${a}`}}),D3=(s,c,o,a,u)=>{const m=s/u.naturalWidth*100,v=c/u.naturalHeight*100,b=o/u.naturalWidth*100,w=a/u.naturalHeight*100;return{source:u.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${m},${v},${b},${w}`}}},Gs=(s,c,o,a,u,m)=>m?.toLowerCase()==="percent"?D3(s,c,o,a,u):O3(s,c,o,a,u),du=(s,c,o,a,u)=>{s.setAttribute("x",c),s.setAttribute("y",o),s.setAttribute("width",a),s.setAttribute("height",u)},hu=(s,c,o)=>{s.setAttribute("cx",c),s.setAttribute("cy",o),s.setAttribute("r",7)},cx=(s,c,o,a,u)=>{const m=document.createElementNS(an,"path");m.setAttribute("fill-rule","evenodd");const{naturalWidth:v,naturalHeight:b}=s;return m.setAttribute("d",`M0 0 h${v} v${b} h-${v} z M${c} ${o} h${a} v${u} h-${a} z`),m},ux=(s,c,o,a,u,m)=>{const{naturalWidth:v,naturalHeight:b}=c;s.setAttribute("d",`M0 0 h${v} v${b} h-${v} z M${o} ${a} h${u} v${m} h-${u} z`)},Ap=(s,c,o,a)=>{const{x:u,y:m,w:v,h:b}=s.type==="Annotation"||s.type==="Selection"?Jr(s,c):{x:s,y:c,w:o,h:a},w=document.createElementNS(an,"g");if(v===0&&b===0){Nr(w,"a9s-point"),Nr(w,"a9s-non-scaling"),w.setAttribute("transform-origin",`${u} ${m}`);const x=document.createElementNS(an,"circle"),E=document.createElementNS(an,"circle");E.setAttribute("class","a9s-inner"),hu(E,u,m),x.setAttribute("class","a9s-outer"),hu(x,u,m),w.appendChild(x),w.appendChild(E)}else{const x=document.createElementNS(an,"rect"),E=document.createElementNS(an,"rect");E.setAttribute("class","a9s-inner"),du(E,u,m,v,b),x.setAttribute("class","a9s-outer"),du(x,u,m,v,b),w.appendChild(x),w.appendChild(E)}return w},Ip=s=>{const c=s.querySelector(".a9s-outer");if(c.nodeName==="rect"){const o=parseFloat(c.getAttribute("x")),a=parseFloat(c.getAttribute("y")),u=parseFloat(c.getAttribute("width")),m=parseFloat(c.getAttribute("height"));return{x:o,y:a,w:u,h:m}}else{const o=parseFloat(c.getAttribute("cx")),a=parseFloat(c.getAttribute("cy"));return{x:o,y:a,w:0,h:0}}},dx=(s,c,o,a,u)=>{const m=s.querySelector(".a9s-inner"),v=s.querySelector(".a9s-outer");v.nodeName==="rect"?(du(m,c,o,a,u),du(v,c,o,a,u)):(hu(m,c,o),hu(v,c,o))},A3=(s,c)=>{const{w:o,h:a}=Jr(s,c);return o*a};class I3{constructor(c,o,a,u,m){r(this,"dragTo",(v,b)=>{this.group.style.display=null,this.opposite=[v,b];const{x:w,y:x,w:E,h:O}=this.bbox;ux(this.mask,this.env.image,w,x,E,O),dx(this.rect,w,x,E,O)}),r(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),r(this,"toSelection",()=>{const{x:v,y:b,w,h:x}=this.bbox;return new tl(Gs(v,b,w,x,this.env.image,this.config.fragmentUnit))}),r(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[c,o],this.opposite=[c,o],this.config=u,this.env=m,this.group=document.createElementNS(an,"g"),this.mask=cx(m.image,c,o,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Ap(c,o,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),a.appendChild(this.group)}get bbox(){const c=this.opposite[0]-this.anchor[0],o=this.opposite[1]-this.anchor[1];return{x:c>0?this.anchor[0]:this.opposite[0],y:o>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(c)),h:Math.max(1,Math.abs(o))}}get element(){return this.rect}}const M3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Mp=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,z3=s=>{let c=null;const o=(u,m)=>new MouseEvent(u,{screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY,pageX:m.pageX,pageY:m.pageY,bubbles:!0}),a=u=>{const m=u.changedTouches[0],v=o(M3[u.type],m);m.target.dispatchEvent(v),u.preventDefault(),(u.type==="touchstart"||u.type==="touchmove")&&(c&&clearTimeout(c),c=setTimeout(()=>{const b=o("dblclick",m);m.target.dispatchEvent(b)},800)),u.type==="touchend"&&c&&clearTimeout(c)};s.addEventListener("touchstart",a,!0),s.addEventListener("touchmove",a,!0),s.addEventListener("touchend",a,!0),s.addEventListener("touchcancel",a,!0)},pu="An implementation is missing",L3=Mp();class hx extends Dr{constructor(c,o,a){super(),r(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const m=this.svg.getBoundingClientRect(),{width:v,height:b}=this.svg.viewBox.baseVal;this.scale=Math.max(v/m.width,b/m.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),r(this,"getSVGPoint",m=>{const v=this.svg.createSVGPoint();if(L3){const b=this.svg.getBoundingClientRect(),w=m.clientX-b.x,x=m.clientY-b.y,{left:E,top:O}=this.svg.getBoundingClientRect();return v.x=w+E,v.y=x+O,v.matrixTransform(this.g.getScreenCTM().inverse())}else return v.x=m.offsetX,v.y=m.offsetY,v.matrixTransform(this.g.getCTM().inverse())}),r(this,"drawHandle",(m,v)=>{const b=document.createElementNS(an,"g");b.setAttribute("class","a9s-handle");const w=document.createElementNS(an,"g"),x=j=>{const X=document.createElementNS(an,"circle");return X.setAttribute("cx",m),X.setAttribute("cy",v),X.setAttribute("r",j),X.setAttribute("transform-origin",`${m} ${v}`),X},E=this.config.handleRadius||6,O=x(E);O.setAttribute("class","a9s-handle-inner");const A=x(E+1);return A.setAttribute("class","a9s-handle-outer"),w.appendChild(A),w.appendChild(O),b.appendChild(w),b}),r(this,"setHandleXY",(m,v,b)=>{const w=m.querySelector(".a9s-handle-inner");w.setAttribute("cx",v),w.setAttribute("cy",b),w.setAttribute("transform-origin",`${v} ${b}`);const x=m.querySelector(".a9s-handle-outer");x.setAttribute("cx",v),x.setAttribute("cy",b),x.setAttribute("transform-origin",`${v} ${b}`)}),r(this,"getHandleXY",m=>{const v=m.querySelector(".a9s-handle-outer");return{x:parseFloat(v.getAttribute("cx")),y:parseFloat(v.getAttribute("cy"))}}),r(this,"scaleHandle",m=>{const v=m.querySelector(".a9s-handle-inner"),b=m.querySelector(".a9s-handle-outer"),w=this.scale*(this.config.handleRadius||6);v.setAttribute("r",w),b.setAttribute("r",w)}),this.svg=c.closest("svg"),this.g=c,this.config=o,this.env=a,this.scale=1;const{image:u}=a;(u instanceof Element||u instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class zp extends hx{constructor(c,o,a){super(c,o,a),r(this,"attachListeners",({mouseMove:u,mouseUp:m,dblClick:v})=>{u&&(this.mouseMove=b=>{const{x:w,y:x}=this.getSVGPoint(b);this.started||(this.emit("startSelection",{x:w,y:x}),this.started=!0),u(w,x,b)},this.svg.addEventListener("mousemove",this.mouseMove)),m&&(this.mouseUp=b=>{if(b.button!==0)return;const{x:w,y:x}=this.getSVGPoint(b);m(w,x,b)},document.addEventListener("mouseup",this.mouseUp)),v&&(this.dblClick=b=>{const{x:w,y:x}=this.getSVGPoint(b);v(w,x,b)},document.addEventListener("dblclick",this.dblClick))}),r(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),r(this,"start",(u,m)=>{const{x:v,y:b}=this.getSVGPoint(u);this.startDrawing(v,b,m,u)}),r(this,"startDrawing",u=>{throw new Error(pu)}),r(this,"createEditableShape",(u,m)=>{throw new Error(pu)}),this.started=!1}get isDrawing(){throw new Error(pu)}}zp.supports=s=>{throw new Error(pu)};const px="An implementation is missing";class fx extends hx{constructor(c,o,a,u){super(o,a,u),r(this,"updateState",m=>{throw new Error(px)}),this.annotation=c}get element(){throw new Error(px)}}const F3=/firefox/i.test(navigator.userAgent),mx=(s,c,o,a,u)=>{s.setAttribute("width",a),s.setAttribute("height",u),F3?(s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("transform",`translate(${c}, ${o})`)):(s.setAttribute("x",c),s.setAttribute("y",o))},N3=(s,c)=>{const{x:o,y:a,width:u,height:m}=c.getBBox(),v=document.createElementNS(an,"svg");v.setAttribute("class","a9s-formatter-el"),mx(v,o,a,u,m);const b=document.createElementNS(an,"g");b.appendChild(s),v.appendChild(b),c.append(v)},fu=(s,c,o)=>{if(!o)return s;const a=o.reduce((b,w)=>{const x=w(c);if(!x)return b;if(typeof x=="string"||x instanceof String)b.className=b.className?`${b.className} ${x}`:x;else if(x.nodeType===Node.ELEMENT_NODE)b.elements=b.elements?[...b.elements,x]:[x];else{const{className:E,style:O,element:A}=x;E&&(b.className=b.className?`${b.className} ${E}`:E),O&&(b.style=b.style?`${b.style} ${O}`:O),A&&(b.elements=b.elements?[...b.elements,A]:[A])}for(const E in x)x.hasOwnProperty(E)&&E.startsWith("data-")&&(b[E]=x[E]);return b},{}),{className:u,style:m,elements:v}=a;if(u&&Nr(s,u),m){const b=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner");b&&w?(b.setAttribute("style","display:none"),w.setAttribute("style",m)):s.setAttribute("style",m)}v&&v.forEach(b=>N3(b,s));for(const b in a)a.hasOwnProperty(b)&&b.startsWith("data-")&&s.setAttribute(b,a[b])},gx=(s,c,o,a,u)=>{const m=s.querySelector(".a9s-formatter-el");m&&mx(m,c,o,a,u)},nl="corner",mu="edge";class H3 extends fx{constructor(c,o,a,u){super(c,o,a,u),r(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),r(this,"setSize",(E,O,A,j)=>{dx(this.rectangle,E,O,A,j),ux(this.mask,this.env.image,E,O,A,j),gx(this.elementGroup,E,O,A,j);const[X,ae,ie,he,M,oe,be,ye]=this.handles;this.setHandleXY(X,E,O),this.setHandleXY(ae,E+A,O),this.setHandleXY(ie,E+A,O+j),this.setHandleXY(he,E,O+j),this.enableEdgeControls&&(this.setHandleXY(M,E+A/2,O),this.setHandleXY(oe,E+A,O+j/2),this.setHandleXY(be,E+A/2,O+j),this.setHandleXY(ye,E,O+j/2))}),r(this,"stretchCorners",(E,O,A)=>{const j=this.getHandleXY(O),X=A.x-j.x,ae=A.y-j.y,ie=X>0?j.x:A.x,he=ae>0?j.y:A.y,M=Math.abs(X),oe=Math.abs(ae);return this.setSize(ie,he,M,oe),{x:ie,y:he,w:M,h:oe}}),r(this,"stretchEdge",(E,O,A)=>{const j=this.getHandleXY(O),X=Ip(this.rectangle),ae=E%2===0,ie=ae?X.w:A.x-j.x,he=ae?A.y-j.y:X.h,M=ae?X.x:ie>0?j.x:A.x,oe=ae?he>0?j.y:A.y:X.y,be=Math.abs(ie),ye=Math.abs(he);return this.setSize(M,oe,be,ye),{x:M,y:oe,w:be,h:ye}}),r(this,"onGrab",(E,O)=>A=>{if(A.button!==0)return;this.grabbedElem=E,this.grabbedType=O;const j=this.getSVGPoint(A),{x:X,y:ae}=Ip(this.rectangle);this.mouseOffset={x:j.x-X,y:j.y-ae}}),r(this,"onMouseMove",E=>{if(E.button!==0)return;const O=(A,j)=>A<0?0:A>j?j:A;if(this.grabbedElem){const A=this.getSVGPoint(E);if(this.grabbedElem===this.rectangle){const{w:j,h:X}=Ip(this.rectangle),{naturalWidth:ae,naturalHeight:ie}=this.env.image,he=O(A.x-this.mouseOffset.x,ae-j),M=O(A.y-this.mouseOffset.y,ie-X);this.setSize(he,M,j,X),this.emit("update",Gs(he,M,j,X,this.env.image,this.config.fragmentUnit))}else{const j=this.handles.indexOf(this.grabbedElem),X=this.handles[j^2],{x:ae,y:ie,w:he,h:M}=this.grabbedType===nl?this.stretchCorners(j,X,A):this.stretchEdge(j,X,A);this.emit("update",Gs(ae,ie,he,M,this.env.image,this.config.fragmentUnit))}}}),r(this,"onMouseUp",E=>{this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}),r(this,"updateState",E=>{const{x:O,y:A,w:j,h:X}=Jr(E,this.env.image);this.setSize(O,A,j,X)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:m,y:v,w:b,h:w}=Jr(c,u.image);this.containerGroup=document.createElementNS(an,"g"),this.mask=cx(u.image,m,v,b,w),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(an,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",c.id),this.rectangle=Ap(m,v,b,w),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.enableEdgeControls=a.enableEdgeControls;const x=this.enableEdgeControls?[[m+b/2,v,mu],[m+b,v+w/2,mu],[m+b/2,v+w,mu],[m,v+w/2,mu]]:[];this.handles=[[m,v,nl],[m+b,v,nl],[m+b,v+w,nl],[m,v+w,nl],...x].map(E=>{const[O,A,j]=E,X=this.drawHandle(O,A);return X.addEventListener("mousedown",this.onGrab(X,j)),this.elementGroup.appendChild(X),X}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),fu(this.rectangle,c,a.formatters),this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class gu extends zp{constructor(c,o,a){super(c,o,a),r(this,"startDrawing",(u,m)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new I3(u,m,this.g,this.config,this.env)}),r(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),r(this,"onMouseMove",(u,m)=>this.rubberband.dragTo(u,m)),r(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:u,height:m}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,b=this.config.minSelectionHeight||4;if(u>=v&&m>=b){const{element:w}=this.rubberband;w.annotation=this.rubberband.toSelection(),this.emit("complete",w)}else this.emit("cancel");this.stop()}),r(this,"createEditableShape",(u,m)=>new H3(u,this.g,{...this.config,formatters:m},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}gu.identifier="rect",gu.supports=s=>{const c=s.selector("FragmentSelector");return c?.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const vu=s=>{let c=0,o=s.length-1;for(let a=0;a<s.length;a++)c+=(s[o][0]+s[a][0])*(s[o][1]-s[a][1]),o=a;return Math.abs(.5*c)},j3=(s,c,o,a)=>{const u=s[0]-c,m=s[1]-o;return Math.sqrt(u*u+m*m)<=a},B3=(s,c,o,a,u,m)=>{const v=Math.cos(0),b=Math.sin(0),w=s[0]-c,x=s[1]-o,E=v*w+b*x,O=b*w-v*x;return E*E/(a*a)+O*O/(u*u)<=1},Lp=(s,c)=>{const o=s[0],a=s[1];let u=!1;for(let m=0,v=c.length-1;m<c.length;v=m++){const b=c[m][0],w=c[m][1],x=c[v][0],E=c[v][1];w>a!=E>a&&o<(x-b)*(a-w)/(E-w)+b&&(u=!u)}return u},V3=(s,c)=>{for(let o of s)if(!Lp(o,c))return!1;return!0},U3=(s,c,o,a,u,m)=>{const v=s[0],b=s[1],w=a-c,x=u-o,E=Math.sqrt(w*w+x*x);return Math.abs((v-c)*x-(b-o)*w)/E<=m},vx=s=>{const c=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(u=>u.trim()),o=[];let a=[];for(let u of c){const m=u.substring(0,1);if(m.toLowerCase()==="z")o.push([...a]),a=[];else{const v=u.substring(1).split(" ").map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?v[0]:v[0]+a[a.length-1][0],x=b?v[1]:v[1]+a[a.length-1][1];a.push([w,x])}}return a.length>0&&o.push([...a]),o},W3=s=>{const c=new XMLSerializer().serializeToString(s.documentElement).replace("<svg>",`<svg xmlns="${an}">`);return new DOMParser().parseFromString(c,"image/svg+xml").documentElement},yx=s=>{const c=a=>{Array.from(a.attributes).forEach(u=>{u.name.startsWith("on")&&a.removeAttribute(u.name)})},o=s.getElementsByTagName("script");return Array.from(o).reverse().forEach(a=>a.parentNode.removeChild(a)),c(s),Array.from(s.querySelectorAll("*")).forEach(c),s},No=s=>{const c=s.selector("SvgSelector");if(c){const o=new DOMParser,{value:a}=c,u=o.parseFromString(a,"image/svg+xml"),m=u.lookupPrefix(an),v=u.lookupNamespaceURI(null);return m||v?yx(u).firstChild:yx(W3(u)).firstChild}},bx=s=>{const c=No(s),o=document.createElementNS(an,"g"),a=c.cloneNode(!0);a.setAttribute("class","a9s-inner");const u=c.cloneNode(!0);return u.setAttribute("class","a9s-outer"),o.appendChild(u),o.appendChild(a),o},Fp=(s,c)=>{const o=s.querySelector(".a9s-inner").cloneNode(!0);o.removeAttribute("class"),o.removeAttribute("xmlns");let a=o.outerHTML||new XMLSerializer().serializeToString(o);return a=a.replace(` xmlns="${an}"`,""),{source:c?.src,selector:{type:"SvgSelector",value:`<svg>${a}</svg>`}}},G3=s=>{const c=No(s),o=c.nodeName.toLowerCase();if(o==="polygon")return q3(c);if(o==="circle")return X3(c);if(o==="ellipse")return K3(c);if(o=="path")return Y3(c);if(o=="line")return 0;throw`Unsupported SVG shape type: ${o}`},q3=s=>{const c=s.getAttribute("points").trim().split(" ").map(o=>o.split(",").map(a=>parseFloat(a.trim())));return vu(c)},X3=s=>{const c=s.getAttribute("r");return c*c*Math.PI},K3=s=>{const c=s.getAttribute("rx"),o=s.getAttribute("ry");return c*o*Math.PI},Y3=s=>{const c=vx(s);if(c.length==1)return vu(c[0]);{const o=u=>c.find(m=>{if(u!==m)return V3(u,m)});let a=0;for(let u of c)o(u)?a-=vu(u):a+=vu(u);return a}};class wx{constructor(c,o){r(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),r(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=c.naturalWidth,this.h=c.naturalHeight,this.polygon=o,this.mask=document.createElementNS(an,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class Z3{constructor(c,o,a){r(this,"setPoints",u=>{const m=u.map(v=>`${v[0]},${v[1]}`).join(" ");this.outer.setAttribute("points",m),this.inner.setAttribute("points",m)}),r(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),r(this,"dragTo",u=>{this.group.style.display=null,this.mousepos=u;const m=[...this.points,u];this.setPoints(m),this.mask.redraw()}),r(this,"addPoint",()=>{const[u,m]=this.mousepos,v=this.points[this.points.length-1];Math.pow(u-v[0],2)+Math.pow(m-v[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),r(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),r(this,"toSelection",()=>new tl(Fp(this.group,this.env.image))),this.points=[c],this.env=a,this.mousepos=c,this.group=document.createElementNS(an,"g"),this.polygon=document.createElementNS(an,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(an,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(an,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new wx(a.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),o.appendChild(this.group)}get element(){return this.polygon}}const Np=s=>{const c=s.querySelector(".a9s-inner").points,o=[];for(let a=0;a<c.numberOfItems;a++)o.push(c.getItem(a));return o},$3=s=>s.querySelector(".a9s-inner").getBBox();class J3 extends fx{constructor(c,o,a,u){super(c,o,a,u),r(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),r(this,"setPoints",m=>{const v=j=>Math.round(10*j)/10,b=m.map(j=>`${v(j.x)},${v(j.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",b);const w=this.shape.querySelector(".a9s-outer");w.setAttribute("points",b),this.mask.redraw();const{x,y:E,width:O,height:A}=w.getBBox();gx(this.elementGroup,x,E,O,A)}),r(this,"onGrab",m=>v=>{v.button===0&&(this.grabbedElem=m,this.grabbedAt=this.getSVGPoint(v))}),r(this,"onMouseMove",m=>{const v=(b,w,x)=>b+w<0?-b:b+w>x?x-b:w;if(this.grabbedElem){const b=this.getSVGPoint(m);if(this.grabbedElem===this.shape){const{x:w,y:x,width:E,height:O}=$3(this.shape),{naturalWidth:A,naturalHeight:j}=this.env.image,X=v(w,b.x-this.grabbedAt.x,A-E),ae=v(x,b.y-this.grabbedAt.y,j-O),ie=Np(this.shape).map(he=>({x:he.x+X,y:he.y+ae}));this.grabbedAt=b,this.setPoints(ie),ie.forEach((he,M)=>this.setHandleXY(this.handles[M],he.x,he.y)),this.emit("update",Fp(this.shape,this.env.image))}else{const w=this.handles.indexOf(this.grabbedElem),x=Np(this.shape).map((E,O)=>O===w?b:E);this.setPoints(x),this.setHandleXY(this.handles[w],b.x,b.y),this.emit("update",Fp(this.shape,this.env.image))}}}),r(this,"onMouseUp",m=>{this.grabbedElem=null,this.grabbedAt=null}),r(this,"updateState",m=>{const v=No(m).getAttribute("points").split(" ").map(b=>{const[w,x]=b.split(",").map(E=>parseFloat(E.trim()));return{x:w,y:x}});this.setPoints(v),v.forEach((b,w)=>this.setHandleXY(this.handles[w],b.x,b.y))}),r(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(an,"g"),this.shape=bx(c),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new wx(u.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(an,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",c.id),this.elementGroup.appendChild(this.shape),this.handles=Np(this.shape).map(m=>{const v=this.drawHandle(m.x,m.y);return v.addEventListener("mousedown",this.onGrab(v)),this.elementGroup.appendChild(v),v}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),fu(this.shape,c,a.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Hp extends zp{constructor(c,o,a){super(c,o,a),r(this,"startDrawing",(u,m,v)=>{this._isDrawing=!0,this._startOnSingleClick=v,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new Z3([u,m],this.g,this.env)}),r(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),r(this,"onMouseMove",(u,m)=>this.rubberband.dragTo([u,m])),r(this,"onMouseUp",()=>{const{width:u,height:m}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,b=this.config.minSelectionHeight||4;u>=v||m>=b?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),r(this,"onDblClick",()=>{this._isDrawing=!1;const u=this.rubberband.element;u.annotation=this.rubberband.toSelection(),this.emit("complete",u),this.stop()}),r(this,"createEditableShape",(u,m)=>new J3(u,this.g,{...this.config,formatters:m},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Hp.identifier="polygon",Hp.supports=s=>{var c;const o=s.selector("SvgSelector");if(o)return(c=o.value)==null?void 0:c.match(/^<svg.*<polygon/g)};class Q3 extends Dr{constructor(c,o,a){super(),r(this,"listTools",()=>this._registered.map(u=>u.identifier)),r(this,"registerTool",u=>{const m=u.identifier;this.listTools().includes(m)&&this.unregisterTool(m),this._registered.unshift(u)}),r(this,"unregisterTool",u=>this._registered=this._registered.filter(m=>m.identifier!==u)),r(this,"setCurrent",u=>{this._current&&this._current.destroy();const m=typeof u=="string"||u instanceof String?this._registered.find(v=>v.identifier===u):u;this._current=new m(this._g,this._config,this._env),this._current.on("startSelection",v=>this.emit("startSelection",v)),this._current.on("complete",v=>this.emit("complete",v)),this._current.on("cancel",v=>this.emit("cancel",v))}),r(this,"forAnnotation",u=>{var m;const[v,...b]=u.targets,w=(m=v.renderedVia)==null?void 0:m.name,x=w?this._registered.find(E=>E.identifier===w):this._registered.find(E=>E.supports(u));return x?new x(this._g,this._config,this._env):null}),this._g=c,this._config=o,this._env=a,this._registered=[gu,Hp],this.setCurrent(gu)}get current(){return this._current}}const e6={FragmentSelector:Ap,SvgSelector:bx},t6={FragmentSelector:A3,SvgSelector:G3},xx=s=>{const c=s.targets[0];if(c)return Array.isArray(c.selector)?c.selector[0]:c.selector},jp=(s,c)=>e6[xx(s).type](s,c),Sx=(s,c)=>t6[xx(s).type](s,c);class n6{constructor(c){const o=document.createElementNS(an,"svg");o.setAttribute("class","a9s-osd-crosshair-container");const a=document.createElementNS(an,"g");a.setAttribute("class","a9s-crosshair"),o.appendChild(a);const u=document.createElementNS(an,"line"),m=document.createElementNS(an,"line");a.appendChild(u),a.appendChild(m),c.parentElement.appendChild(o);const v=b=>{const{offsetX:w,offsetY:x}=b,E=c.parentElement.offsetWidth,O=c.parentElement.offsetHeight;u.setAttribute("x1",0),u.setAttribute("y1",x),u.setAttribute("x2",E),u.setAttribute("y2",x),m.setAttribute("x1",w),m.setAttribute("y1",0),m.setAttribute("x2",w),m.setAttribute("y2",O)};c.addEventListener("pointermove",v),c.parentElement.addEventListener("pointermove",v)}}function i6(s,c,o,a,u){Ex(s,c,o||0,a||s.length-1,u||r6)}function Ex(s,c,o,a,u){for(;a>o;){if(a-o>600){var m=a-o+1,v=c-o+1,b=Math.log(m),w=.5*Math.exp(2*b/3),x=.5*Math.sqrt(b*w*(m-w)/m)*(v-m/2<0?-1:1),E=Math.max(o,Math.floor(c-v*w/m+x)),O=Math.min(a,Math.floor(c+(m-v)*w/m+x));Ex(s,c,E,O,u)}var A=s[c],j=o,X=a;for(il(s,o,c),u(s[a],A)>0&&il(s,o,a);j<X;){for(il(s,j,X),j++,X--;u(s[j],A)<0;)j++;for(;u(s[X],A)>0;)X--}u(s[o],A)===0?il(s,o,X):(X++,il(s,X,a)),X<=c&&(o=X+1),c<=X&&(a=X-1)}}function il(s,c,o){var a=s[c];s[c]=s[o],s[o]=a}function r6(s,c){return s<c?-1:s>c?1:0}class o6{constructor(c=9){this._maxEntries=Math.max(4,c),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(c){let o=this.data;const a=[];if(!bu(c,o))return a;const u=this.toBBox,m=[];for(;o;){for(let v=0;v<o.children.length;v++){const b=o.children[v],w=o.leaf?u(b):b;bu(c,w)&&(o.leaf?a.push(b):Vp(c,w)?this._all(b,a):m.push(b))}o=m.pop()}return a}collides(c){let o=this.data;if(!bu(c,o))return!1;const a=[];for(;o;){for(let u=0;u<o.children.length;u++){const m=o.children[u],v=o.leaf?this.toBBox(m):m;if(bu(c,v)){if(o.leaf||Vp(c,v))return!0;a.push(m)}}o=a.pop()}return!1}load(c){if(!(c&&c.length))return this;if(c.length<this._minEntries){for(let a=0;a<c.length;a++)this.insert(c[a]);return this}let o=this._build(c.slice(),0,c.length-1,0);if(!this.data.children.length)this.data=o;else if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){const a=this.data;this.data=o,o=a}this._insert(o,this.data.height-o.height-1,!0)}return this}insert(c){return c&&this._insert(c,this.data.height-1),this}clear(){return this.data=Xs([]),this}remove(c,o){if(!c)return this;let a=this.data;const u=this.toBBox(c),m=[],v=[];let b,w,x;for(;a||m.length;){if(a||(a=m.pop(),w=m[m.length-1],b=v.pop(),x=!0),a.leaf){const E=s6(c,a.children,o);if(E!==-1)return a.children.splice(E,1),m.push(a),this._condense(m),this}!x&&!a.leaf&&Vp(a,u)?(m.push(a),v.push(b),b=0,w=a,a=a.children[0]):w?(b++,a=w.children[b],x=!1):a=null}return this}toBBox(c){return c}compareMinX(c,o){return c.minX-o.minX}compareMinY(c,o){return c.minY-o.minY}toJSON(){return this.data}fromJSON(c){return this.data=c,this}_all(c,o){const a=[];for(;c;)c.leaf?o.push(...c.children):a.push(...c.children),c=a.pop();return o}_build(c,o,a,u){const m=a-o+1;let v=this._maxEntries,b;if(m<=v)return b=Xs(c.slice(o,a+1)),qs(b,this.toBBox),b;u||(u=Math.ceil(Math.log(m)/Math.log(v)),v=Math.ceil(m/Math.pow(v,u-1))),b=Xs([]),b.leaf=!1,b.height=u;const w=Math.ceil(m/v),x=w*Math.ceil(Math.sqrt(v));Tx(c,o,a,x,this.compareMinX);for(let E=o;E<=a;E+=x){const O=Math.min(E+x-1,a);Tx(c,E,O,w,this.compareMinY);for(let A=E;A<=O;A+=w){const j=Math.min(A+w-1,O);b.children.push(this._build(c,A,j,u-1))}}return qs(b,this.toBBox),b}_chooseSubtree(c,o,a,u){for(;u.push(o),!(o.leaf||u.length-1===a);){let m=1/0,v=1/0,b;for(let w=0;w<o.children.length;w++){const x=o.children[w],E=Bp(x),O=c6(c,x)-E;O<v?(v=O,m=E<m?E:m,b=x):O===v&&E<m&&(m=E,b=x)}o=b||o.children[0]}return o}_insert(c,o,a){const u=a?c:this.toBBox(c),m=[],v=this._chooseSubtree(u,this.data,o,m);for(v.children.push(c),ol(v,u);o>=0&&m[o].children.length>this._maxEntries;)this._split(m,o),o--;this._adjustParentBBoxes(u,m,o)}_split(c,o){const a=c[o],u=a.children.length,m=this._minEntries;this._chooseSplitAxis(a,m,u);const v=this._chooseSplitIndex(a,m,u),b=Xs(a.children.splice(v,a.children.length-v));b.height=a.height,b.leaf=a.leaf,qs(a,this.toBBox),qs(b,this.toBBox),o?c[o-1].children.push(b):this._splitRoot(a,b)}_splitRoot(c,o){this.data=Xs([c,o]),this.data.height=c.height+1,this.data.leaf=!1,qs(this.data,this.toBBox)}_chooseSplitIndex(c,o,a){let u,m=1/0,v=1/0;for(let b=o;b<=a-o;b++){const w=rl(c,0,b,this.toBBox),x=rl(c,b,a,this.toBBox),E=u6(w,x),O=Bp(w)+Bp(x);E<m?(m=E,u=b,v=O<v?O:v):E===m&&O<v&&(v=O,u=b)}return u||a-o}_chooseSplitAxis(c,o,a){const u=c.leaf?this.compareMinX:a6,m=c.leaf?this.compareMinY:l6,v=this._allDistMargin(c,o,a,u),b=this._allDistMargin(c,o,a,m);v<b&&c.children.sort(u)}_allDistMargin(c,o,a,u){c.children.sort(u);const m=this.toBBox,v=rl(c,0,o,m),b=rl(c,a-o,a,m);let w=yu(v)+yu(b);for(let x=o;x<a-o;x++){const E=c.children[x];ol(v,c.leaf?m(E):E),w+=yu(v)}for(let x=a-o-1;x>=o;x--){const E=c.children[x];ol(b,c.leaf?m(E):E),w+=yu(b)}return w}_adjustParentBBoxes(c,o,a){for(let u=a;u>=0;u--)ol(o[u],c)}_condense(c){for(let o=c.length-1,a;o>=0;o--)c[o].children.length===0?o>0?(a=c[o-1].children,a.splice(a.indexOf(c[o]),1)):this.clear():qs(c[o],this.toBBox)}}function s6(s,c,o){if(!o)return c.indexOf(s);for(let a=0;a<c.length;a++)if(o(s,c[a]))return a;return-1}function qs(s,c){rl(s,0,s.children.length,c,s)}function rl(s,c,o,a,u){u||(u=Xs(null)),u.minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0;for(let m=c;m<o;m++){const v=s.children[m];ol(u,s.leaf?a(v):v)}return u}function ol(s,c){return s.minX=Math.min(s.minX,c.minX),s.minY=Math.min(s.minY,c.minY),s.maxX=Math.max(s.maxX,c.maxX),s.maxY=Math.max(s.maxY,c.maxY),s}function a6(s,c){return s.minX-c.minX}function l6(s,c){return s.minY-c.minY}function Bp(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function yu(s){return s.maxX-s.minX+(s.maxY-s.minY)}function c6(s,c){return(Math.max(c.maxX,s.maxX)-Math.min(c.minX,s.minX))*(Math.max(c.maxY,s.maxY)-Math.min(c.minY,s.minY))}function u6(s,c){const o=Math.max(s.minX,c.minX),a=Math.max(s.minY,c.minY),u=Math.min(s.maxX,c.maxX),m=Math.min(s.maxY,c.maxY);return Math.max(0,u-o)*Math.max(0,m-a)}function Vp(s,c){return s.minX<=c.minX&&s.minY<=c.minY&&c.maxX<=s.maxX&&c.maxY<=s.maxY}function bu(s,c){return c.minX<=s.maxX&&c.minY<=s.maxY&&c.maxX>=s.minX&&c.maxY>=s.minY}function Xs(s){return{children:s,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Tx(s,c,o,a,u){const m=[c,o];for(;m.length;){if(o=m.pop(),c=m.pop(),o-c<=a)continue;const v=c+Math.ceil((o-c)/a/2)*a;i6(s,v,c,o,u),m.push(c,v,v,o)}}const Up=(s,c)=>{if(s.targets[0].selector.type==="FragmentSelector"){const{x:o,y:a,w:u,h:m}=Jr(s);return{minX:o,minY:a,maxX:o+u,maxY:a+m}}else{const o=jp(s,c),a=document.createElementNS(an,"svg");a.style.position="absolute",a.style.opacity=0,a.style.top=0,a.style.left=0,a.appendChild(o),document.body.appendChild(a);const{x:u,y:m,width:v,height:b}=o.getBBox();return document.body.removeChild(a),{minX:u,minY:m,maxX:u+v,maxY:m+b}}},d6=s=>{var c;const o=s.targets[0];return Array.isArray(o.selector)?o.selector[0].type:(c=o.selector)==null?void 0:c.type},h6=(s,c,o,a)=>{const u=No(o),m=u.nodeName.toLowerCase(),v=[s,c];if(m==="polygon"){const b=Array.from(u.points).map(w=>[w.x,w.y]);return Lp(v,b)}else if(m==="circle"){const b=u.getAttribute("cx"),w=u.getAttribute("cy"),x=u.getAttribute("r");return j3(v,b,w,x)}else if(m==="ellipse"){const b=u.getAttribute("cx"),w=u.getAttribute("cy"),x=u.getAttribute("rx"),E=u.getAttribute("ry");return B3(v,b,w,x,E)}else{if(m==="path")return vx(u).find(b=>Lp(v,b));if(m==="line"){const b=parseInt(u.getAttribute("x1")),w=parseInt(u.getAttribute("y1")),x=parseInt(u.getAttribute("x2")),E=parseInt(u.getAttribute("y2"));return U3(v,b,w,x,E,a)}else throw`Unsupported SVG shape type: ${m}`}};class p6{constructor(c){r(this,"clear",()=>this.spatial_index.clear()),r(this,"getAnnotationAt",(o,a,u)=>{const m=u?5/u:5,v=this.spatial_index.search({minX:o-m,minY:a-m,maxX:o+m,maxY:a+m}).map(b=>b.annotation).filter(b=>{const w=d6(b);if(w==="FragmentSelector")return!0;if(w==="SvgSelector")return h6(o,a,b,m);throw`Unsupported selector type: ${w}`});if(v.length>0)return v.sort((b,w)=>Sx(b,this.env.image)-Sx(w,this.env.image)),v[0]}),r(this,"getAnnotationsIntersecting",o=>{const a=o.minX,u=a?o:Up(o,this.env.image),m=this.spatial_index.search(u).map(v=>v.annotation);return a?m:m.filter(v=>!v.isEqual(o))}),r(this,"insert",o=>{(Array.isArray(o)?o:[o]).forEach(a=>{this.spatial_index.insert({...Up(a,this.env.image),annotation:a})})}),r(this,"getBounds",o=>this.getBounds(o,this.env.image)),r(this,"remove",o=>{const a={...Up(o,this.env.image),annotation:o};this.spatial_index.remove(a,(u,m)=>u.annotation.id===m.annotation.id)}),this.env=c,c.store=this,this.spatial_index=new o6}}const Cx=(s,c)=>{const o=(Dp(c,".a9s-annotation")?c:c.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:a}=s.drawer,u=a.getBoundingClientRect(),m=a.width/u.width,v=a.height/u.height,b=o.x-u.x,w=o.y-u.y,{width:x,height:E}=o,O=document.createElement("CANVAS"),A=O.getContext("2d");O.width=x,O.height=E,A.drawImage(a,b*m,w*v,x*m,E*v,0,0,x,E);const j=s.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(b,w)),X=s.viewport.viewportToImageZoom(s.viewport.getZoom());return{snippet:O,transform:ae=>{const ie=j.x+ae[0]/m/X,he=j.y+ae[1]/v/X;return[ie,he]}}},f6=Mp();class kx extends Dr{constructor(c){super(),r(this,"_getShapeAt",a=>{const u=w=>{const x=this.svg.createSVGPoint();if(window.TouchEvent&&w instanceof TouchEvent){const E=this.svg.getBoundingClientRect(),O=w.touches[0],A=O.clientX-E.x,j=O.clientY-E.y,{left:X,top:ae}=this.svg.getBoundingClientRect();return x.x=A+X,x.y=j+ae,x.matrixTransform(this.g.getScreenCTM().inverse())}else return x.x=w.offsetX,x.y=w.offsetY,x.matrixTransform(this.g.getCTM().inverse())},{x:m,y:v}=u(a),b=this.store.getAnnotationAt(m,v,this.currentScale());if(b)return this.findShape(b)}),r(this,"_initDrawingTools",a=>{var u;let m=!1,v=!1,b=!1;this.tools=new Q3(this.g,this.config,this.env),this.tools.on("complete",E=>{v=!1,this.onDrawingComplete(E)}),this.mouseTracker=new $r.MouseTracker({element:this.svg,preProcessEventHandler:E=>{this.mouseTracker.enabled||(E.preventDefault=!1,E.preventGesture=!0),this.selectedShape&&E.eventType==="wheel"&&(E.preventDefault=!1,this.viewer.canvas.dispatchEvent(new E.originalEvent.constructor(E.eventType,E.originalEvent)))},pressHandler:E=>{this.tools.current.isDrawing||(this.tools.current.start(E.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),a||this.scaleTool(this.tools.current))},moveHandler:E=>{if(this.tools.current.isDrawing){const{x:O,y:A}=this.tools.current.getSVGPoint(E.originalEvent);!E.buttons||!v?(E.originalEvent.stopPropagation(),this.tools.current.onMouseMove(O,A,E.originalEvent),m||(this.emit("startSelection",{x:O,y:A}),m=!0)):(!b&&this.tools.current.onDragStart&&this.tools.current.onDragStart(O,A,E.originalEvent),b=!0)}},releaseHandler:E=>{if(this.tools.current.isDrawing){v=!0;const{x:O,y:A}=this.tools.current.getSVGPoint(E.originalEvent);m&&this.emit("endSelection",{x:O,y:A}),this.tools.current.onMouseUp(O,A,E.originalEvent),b&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}m=!1,b=!1}});const w=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",x=(u=this.config.hotkey)==null?void 0:u.inverted;this.mouseTracker.enabled=x,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=E=>{if(E.key.toLowerCase()===w&&!this.selectedShape){const O=!this.readOnly&&!x;this.mouseTracker.enabled=O,this.tools.current.enabled=O}},this.onKeyUp=E=>{E.key.toLowerCase()===w&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=x,this.tools.current.enabled=x)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),r(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",u=>{var m,v;if(!((m=this.tools)!=null&&m.current.isDrawing)&&!u.target.closest(".a9s-annotation.editable.selected")){const b=this._getShapeAt(u);if(b?.annotation!==((v=this.hoveredShape)==null?void 0:v.annotation)){if(this.hoveredShape){const w=this.hoveredShape.element||this.hoveredShape;uu(w,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}b&&(Nr(b,"hover"),this.emit("mouseEnterAnnotation",b.annotation,b))}this.hoveredShape=b}}),this.svg.parentElement.addEventListener("mouseleave",()=>{this.hoveredShape&&(uu(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)});let a=null;this.viewer.addHandler("canvas-press",()=>a=new Date().getTime()),this.viewer.addHandler("canvas-click",u=>{var m;const{originalEvent:v}=u;if(!((m=this.tools.current)!=null&&m.isDrawing||this.disableSelect)&&new Date().getTime()-a<250){const b=v.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(v);b?(u.preventDefaultAction=!0,this.selectShape(b)):b||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),r(this,"_lazy",a=>{if(this.viewer.world.getItemAt(0))a();else{const u=()=>{a(),this.viewer.removeHandler("open",u),this.viewer.world.removeHandler("add-item",u)};this.viewer.addHandler("open",u),this.viewer.world.addHandler("add-item",u)}}),r(this,"_refreshNonScalingAnnotations",()=>{const a=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(u=>u.setAttribute("transform",`scale(${1/a})`))}),r(this,"addAnnotation",(a,u)=>{const m=u||this.g,v=jp(a,this.env.image);return Nr(v,"a9s-annotation"),v.setAttribute("data-id",a.id),v.annotation=a,m.appendChild(v),fu(v,a,this.formatters),this.scaleFormatterElements(v),v}),r(this,"addDrawingTool",a=>this.tools.registerTool(a)),r(this,"addOrUpdateAnnotation",(a,u)=>{var m;const v=(m=this.selectedShape)==null?void 0:m.annotation;(v===a||v!=null&&v.isSelection||v==u)&&this.deselect(),u&&this.removeAnnotation(a),this.removeAnnotation(a);const b=this.addAnnotation(a);Dp(b,"a9s-non-scaling")&&b.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(a)}),r(this,"currentScale",()=>{const a=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*a/this.viewer.world.getContentFactor()}),r(this,"deselect",()=>{var a;if((a=this.tools)==null||a.current.stop(),this.selectedShape){const{annotation:u}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!u.isSelection){const m=this.addAnnotation(u);Dp(m,"a9s-non-scaling")&&m.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else uu(this.selectedShape,"selected");this.selectedShape=null}}),r(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),r(this,"findShape",a=>{const u=a!=null&&a.id?a.id:a;return this.g.querySelector(`.a9s-annotation[data-id="${u}"]`)}),r(this,"_fit",(a,u,m)=>{const v=this.findShape(a);if(v){const b=u?typeof u=="boolean"?u:u.immediately:!1,w=u?.padding||0,x=this.viewer.container.getBoundingClientRect(),E=Math.min(2*w/x.width,2*w/x.height),{x:O,y:A,width:j,height:X}=v.getBBox(),ae=O-E*j,ie=A-E*X,he=j+2*E*j,M=X+2*E*X,oe=this.viewer.viewport.imageToViewportRectangle(ae,ie,he,M);this.viewer.viewport[m](oe,b)}}),r(this,"fitBounds",(a,u)=>this._fit(a,u,"fitBounds")),r(this,"fitBoundsWithConstraints",(a,u)=>this._fit(a,u,"fitBoundsWithConstraints")),r(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(a=>a.annotation)),r(this,"getAnnotationsIntersecting",a=>{const u=a.id?a:this.findShape(a).annotation;return this.store.getAnnotationsIntersecting(u)}),r(this,"getImageSnippetById",a=>{const u=this.findShape(a);if(u)return Cx(this.viewer,u)}),r(this,"getSelectedImageSnippet",()=>{var a;if(this.selectedShape){const u=(a=this.selectedShape.element)!=null?a:this.selectedShape;return Cx(this.viewer,u)}}),r(this,"init",a=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(u=>this.g.removeChild(u)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),a.forEach(u=>this.addAnnotation(u)),console.log("Indexing..."),this.store.insert(a),console.timeEnd("Took"),this.resize()})}),r(this,"listDrawingTools",()=>this.tools.listTools()),r(this,"overrideId",(a,u)=>{const m=this.findShape(a);m.setAttribute("data-id",u);const{annotation:v}=m,b=v.clone({id:u});return m.annotation=b,this.store.remove(v),this.store.insert(b),b}),r(this,"panTo",(a,u)=>{const m=this.findShape(a);if(m){const{top:v,left:b,width:w,height:x}=m.getBoundingClientRect(),E=b+w/2+window.scrollX,O=v+x/2+window.scrollY,A=this.viewer.viewport.windowToViewportCoordinates(new $r.Point(E,O));this.viewer.viewport.panTo(A,u)}}),r(this,"removeAnnotation",a=>{var u,m;const v=a.type?a.id:a;((u=this.selectedShape)==null?void 0:u.annotation.id)===v&&this.deselect();const b=this.findShape(a);if(b){const{annotation:w}=b;((m=this.selectedShape)==null?void 0:m.annotation)===w&&this.deselect(),b.parentNode.removeChild(b),this.store.remove(w)}}),r(this,"removeDrawingTool",a=>{var u;return(u=this.tools)==null?void 0:u.unregisterTool(a)}),r(this,"scaleFormatterElements",a=>{const u=1/this.currentScale();if(a){const m=a.querySelector(".a9s-formatter-el");m&&m.firstChild.setAttribute("transform",`scale(${u})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(m=>m.firstChild.setAttribute("transform",`scale(${u})`))}),r(this,"scaleTool",a=>{if(a){const u=1/this.currentScale();a.scale=u,a.onScaleChanged&&a.onScaleChanged(u)}}),r(this,"selectAnnotation",(a,u)=>{this.selectedShape&&this.deselect();const m=this.findShape(a);if(m){this.selectShape(m,u);const v=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:m.annotation,element:v}}else this.deselect()}),r(this,"selectShape",(a,u)=>{var m;if(!u&&!a.annotation.isSelection&&this.emit("clickAnnotation",a.annotation,a),((m=this.selectedShape)==null?void 0:m.annotation)===a.annotation)return;this.selectedShape&&this.selectedShape.annotation!==a.annotation&&this.deselect();const{annotation:v}=a;if(this.readOnly||v.readOnly||this.headless)this.selectedShape=a,Nr(a,"selected"),u||this.emit("select",{annotation:v,element:a,skipEvent:u});else{const b=this.tools.forAnnotation(v);if(b){setTimeout(()=>{a.parentNode.removeChild(a),u||this.emit("select",{annotation:v,element:this.selectedShape.element})},1),this.selectedShape=b.createEditableShape(v,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=v;const w=new $r.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>this.emit("updateTarget",this.selectedShape.element,x))}else this.selectedShape=a,u||this.emit("select",{annotation:v,element:this.selectedShape})}}),r(this,"setDrawingEnabled",a=>{if(this.mouseTracker){const u=a&&!this.readOnly;this.mouseTracker.enabled=u,this.mouseTracker.setTracking(u),this.tools.current&&(this.tools.current.enabled=u)}}),r(this,"setDrawingTool",a=>{var u;this.tools&&((u=this.tools.current)==null||u.stop(),this.tools.setCurrent(a))}),r(this,"setVisible",a=>{a?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),r(this,"stopDrawing",()=>{var a;(a=this.tools)!=null&&a.current&&(this.tools.current.isDrawing&&this.tools.current.stop(),this.mouseTracker.enabled=!1,this.tools.current.enabled=!1)}),this.viewer=c.viewer,this.config=c.config,this.env=c.env,this.readOnly=c.config.readOnly,this.headless=c.config.headless,c.config.formatter?this.formatters=[c.config.formatter]:c.config.formatters&&(this.formatters=Array.isArray(c.config.formatters)?c.config.formatters:[c.config.formatters]),this.disableSelect=c.config.disableSelect,this.drawOnSingleClick=c.config.drawOnSingleClick,this.svg=document.createElementNS(an,"svg"),f6?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),z3(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(an,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const o=()=>{const{x:a,y:u}=this.viewer.world.getItemAt(0).source.dimensions,m=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:m,naturalWidth:a,naturalHeight:u},c.config.crosshair&&(this.crosshair||(this.crosshair=new n6(this.svg),Nr(this.svg,"no-cursor"))),this.loaded||this.emit("load",m),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",o),this.viewer.world.addHandler("add-item",o),this.viewer.world.getItemAt(0)&&o(),this.store=new p6(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var c;const o=this.viewer.viewport.getFlip(),a=this.viewer.viewport.pixelFromPoint(new $r.Point(0,0),!0);o&&(a.x=this.viewer.viewport._containerInnerSize.x-a.x);const u=this.currentScale(),m=o?-u:u,v=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${a.x}, ${a.y}) scale(${m}, ${u}) rotate(${v})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(c=this.tools)!=null&&c.current&&this.scaleTool(this.tools.current)}}class m6 extends kx{constructor(c){super(c),r(this,"onDrawingComplete",o=>{var a;this.mouseTracker.enabled=(a=this.config.hotkey)==null?void 0:a.inverted,this.selectShape(o),this.emit("createSelection",o.annotation)}),this._initDrawingTools()}}const Wp=s=>{const c=s.viewport.viewportToImageRectangle(s.viewport.getBounds(!0)),o=s.viewport.getContainerSize().x,a=s.viewport.getZoom(!0)*o/s.world.getContentFactor();return{extent:c,scale:a}},g6=s=>{var c;const o=s.targets[0];return o?Array.isArray(o.selector)?o.selector[0].type:(c=o.selector)==null?void 0:c.type:null},Px=(s,c)=>{const{extent:o,scale:a}=Wp(s),{selector:u}=c,m=Fo.create({target:c});if(u.type==="SvgSelector"){const v=No(m),b=v.nodeName.toLowerCase();let w=null;if(b==="polygon")w=v6(v,o,a);else if(b==="circle")w=y6(v,o,a);else if(b==="ellipse")w=b6(v,o,a);else if(b==="path")w=w6(v,o,a);else throw`Unsupported SVG shape type: ${b}`;let x=w.outerHTML||new XMLSerializer().serializeToString(w);return x=x.replace(` xmlns="${an}"`,""),{...c,selector:{type:"SvgSelector",value:`<svg>${x}</svg>`}}}else if(u.type==="FragmentSelector"){const{x:v,y:b,w,h:x}=Jr(m),E=o.x+v/a,O=o.y+b/a,A=w/a,j=x/a;return w===0&&x===0?{...Gs(E,O,A,j),renderedVia:{name:"point"}}:Gs(E,O,A,j)}else throw`Unsupported selector type: ${u.type}`},v6=(s,c,o)=>{const a=Array.from(s.points).map(u=>{const m=c.x+u.x/o,v=c.y+u.y/o;return m+","+v}).join(" ");return s.setAttribute("points",a),s},y6=(s,c,o)=>{const a=parseFloat(s.getAttribute("cx")),u=parseFloat(s.getAttribute("cy")),m=parseFloat(s.getAttribute("r"));return s.setAttribute("cx",c.x+a/o),s.setAttribute("cy",c.y+u/o),s.setAttribute("r",m/o),s},b6=(s,c,o)=>{const a=parseFloat(s.getAttribute("cx")),u=parseFloat(s.getAttribute("cy")),m=parseFloat(s.getAttribute("rx")),v=parseFloat(s.getAttribute("ry"));return s.setAttribute("cx",c.x+a/o),s.setAttribute("cy",c.y+u/o),s.setAttribute("rx",m/o),s.setAttribute("ry",v/o),s},w6=(s,c,o)=>{const a=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(u=>u.trim()).map(u=>{const m=u.substring(0,1);if(m.toLowerCase()==="z")return m;{const v=u.substring(1).split(" ").map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?c.x+v[0]/o:v[0]/o,x=b?c.y+v[1]/o:v[1]/o;return m+" "+w+" "+x}}).join(" ");return s.setAttribute("d",a),s},Rx=(s,c)=>{const{extent:o,scale:a}=Wp(s),u=c.selector("FragmentSelector");if(c.selector("SvgSelector")){const m=No(c),v=m.nodeName.toLowerCase();let b=null;if(v==="polygon")b=x6(m,o,a);else if(v==="circle")b=S6(m,o,a);else if(v==="ellipse")b=E6(m,o,a);else if(v==="path")b=T6(m,o,a);else throw`Unsupported SVG shape type: ${v}`;let w=b.outerHTML||new XMLSerializer().serializeToString(b);w=w.replace(` xmlns="${an}"`,"");const x={selector:{type:"SvgSelector",value:`<svg>${w}</svg>`}};return c.clone({target:x})}else if(u){const{x:m,y:v,w:b,h:w}=Jr(c),x=(m-o.x)*a,E=(v-o.y)*a,O=Gs(x,E,b*a,w*a);return c.clone({target:O})}},x6=(s,c,o)=>{const a=Array.from(s.points).map(u=>{const m=o*(u.x-c.x),v=o*(u.y-c.y);return m+","+v}).join(" ");return s.setAttribute("points",a),s},S6=(s,c,o)=>{const a=s.getAttribute("cx"),u=s.getAttribute("cy"),m=s.getAttribute("r");return s.setAttribute("cx",o*(a-c.x)),s.setAttribute("cy",o*(u-c.y)),s.setAttribute("r",m*o),s},E6=(s,c,o)=>{const a=s.getAttribute("cx"),u=s.getAttribute("cy"),m=s.getAttribute("rx"),v=s.getAttribute("ry");return s.setAttribute("cx",o*(a-c.x)),s.setAttribute("cy",o*(u-c.y)),s.setAttribute("rx",m*o),s.setAttribute("ry",v*o),s},T6=(s,c,o)=>{const a=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(u=>u.trim()).map(u=>{const m=u.substring(0,1);if(m.toLowerCase()==="z")return m;{const v=u.substring(1).split(" ").filter(E=>E).map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?o*(v[0]-c.x):o*v[0],x=b?o*(v[1]-c.y):o*v[1];return m+" "+w+" "+x}}).join(" ");return s.setAttribute("d",a),s},_x=(s,c)=>{const{extent:o,scale:a}=Wp(s),u=g6(c.annotation);if(u==="FragmentSelector")C6(c,o,a);else if(u==="SvgSelector")k6(c,o,a);else throw`Unsupported selector type type: ${u}`;const m=c.querySelector(".a9s-formatter-el");if(m){const{x:v,y:b}=c.querySelector(".a9s-inner").getBBox();m.setAttribute("x",v),m.setAttribute("y",b)}},C6=(s,c,o)=>{const{x:a,y:u,w:m,h:v}=Jr(s.annotation),b=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner"),x=o*(a-c.x),E=o*(u-c.y);m===0&&v===0?[b,w].forEach(O=>{O.setAttribute("cx",x),O.setAttribute("cy",E)}):[b,w].forEach(O=>{O.setAttribute("x",x),O.setAttribute("y",E),O.setAttribute("width",m*o),O.setAttribute("height",v*o)})},k6=(s,c,o)=>{const a=No(s.annotation),u=a.nodeName.toLowerCase();if(u==="polygon")P6(s,a,c,o);else if(u==="circle")R6(s,a,c,o);else if(u==="ellipse")_6(s,a,c,o);else if(u==="path")O6(s,a,c,o);else throw`Unsupported SVG shape type: ${u}`},P6=(s,c,o,a)=>{const u=Array.from(c.points).map(m=>{const v=a*(m.x-o.x),b=a*(m.y-o.y);return v+","+b}).join(" ");s.querySelector(".a9s-outer").setAttribute("points",u),s.querySelector(".a9s-inner").setAttribute("points",u)},R6=(s,c,o,a)=>{const u=a*(c.getAttribute("cx")-o.x),m=a*(c.getAttribute("cy")-o.y),v=a*c.getAttribute("r"),b=s.querySelector(".a9s-outer");b.setAttribute("cx",u),b.setAttribute("cy",m),b.setAttribute("r",v);const w=s.querySelector(".a9s-inner");w.setAttribute("cx",u),w.setAttribute("cy",m),w.setAttribute("r",v)},_6=(s,c,o,a)=>{const u=a*(c.getAttribute("cx")-o.x),m=a*(c.getAttribute("cy")-o.y),v=a*c.getAttribute("rx"),b=a*c.getAttribute("ry"),w=s.querySelector(".a9s-outer");w.setAttribute("cx",u),w.setAttribute("cy",m),w.setAttribute("rx",v),w.setAttribute("ry",b);const x=s.querySelector(".a9s-inner");x.setAttribute("cx",u),x.setAttribute("cy",m),x.setAttribute("rx",v),x.setAttribute("ry",b)},O6=(s,c,o,a)=>{const u=c.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(m=>m.trim()).map(m=>{const v=m.substring(0,1);if(v.toLowerCase()==="z")return v;{const b=m.substring(1).split(" ").filter(O=>O).map(O=>parseFloat(O.trim())),w=v===v.toUpperCase(),x=w?a*(b[0]-o.x):a*b[0],E=w?a*(b[1]-o.y):a*b[1];return v+" "+x+" "+E}}).join(" ");s.querySelector(".a9s-inner").setAttribute("d",u),s.querySelector(".a9s-outer").setAttribute("d",u)},D6=Mp();class A6 extends kx{constructor(c){super(c),r(this,"_fit",(o,a,u)=>{const m=a?typeof a=="boolean"?a:a.immediately:!1,v=a?.padding||0,b=this.findShape(o);if(b){const w=this.viewer.container.getBoundingClientRect(),x=b.getBoundingClientRect(),E=x.x-w.x,O=x.y-w.y,{width:A,height:j}=x,X=E-v,ae=O-v,ie=A+2*v,he=j+2*v,M=this.viewer.viewport.viewerElementToViewportRectangle(new $r.Rect(X,ae,ie,he));this.viewer.viewport[u](M,m)}}),r(this,"_getShapeAt",o=>{const a=w=>{if(D6){const x=this.svg.getBoundingClientRect(),E=w.clientX-x.x,O=w.clientY-x.y;return new $r.Point(E,O)}else return new $r.Point(w.offsetX,w.offsetY)},u=this.viewer.viewport.viewerElementToViewportCoordinates(a(o)),{x:m,y:v}=this.viewer.viewport.viewportToImageCoordinates(u.x,u.y),b=this.store.getAnnotationAt(m,v,this.currentScale());if(b)return this.findShape(b)}),r(this,"_refreshNonScalingAnnotations",()=>{}),r(this,"addAnnotation",(o,a)=>{const u=a||this.g,m=jp(o,this.env.image);return Nr(m,"a9s-annotation"),m.setAttribute("data-id",o.id),m.annotation=o,_x(this.viewer,m),u.appendChild(m),fu(m,o,this.formatters),m}),r(this,"addOrUpdateAnnotation",(o,a)=>{var u;const m=(u=this.selectedShape)==null?void 0:u.annotation;(m===o||m!=null&&m.isSelection||m==a)&&this.deselect(),a&&this.removeAnnotation(o),this.removeAnnotation(o),this.addAnnotation(o),this.store.insert(o)}),r(this,"deselect",()=>{var o;if((o=this.tools)==null||o.current.stop(),this.selectedShape){const{annotation:a}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),a.isSelection||this.addAnnotation(a)):uu(this.selectedShape,"selected"),this.selectedShape=null}}),r(this,"onDrawingComplete",o=>{const a=o.annotation.clone({target:Px(this.viewer,o.annotation.target)});o.annotation=a,this.selectShape(o),this.emit("createSelection",o.annotation),this.mouseTracker.enabled=!1}),r(this,"selectShape",(o,a)=>{var u;if(!a&&!o.annotation.isSelection&&this.emit("clickAnnotation",o.annotation,o),((u=this.selectedShape)==null?void 0:u.annotation)===o.annotation)return;this.selectedShape&&this.selectedShape.annotation!==o.annotation&&this.deselect(!0);const{annotation:m}=o;if(this.readOnly||m.readOnly||this.headless)this.selectedShape=o,Nr(o,"selected"),a||this.emit("select",{annotation:m,element:o,skipEvent:a});else{setTimeout(()=>{o.parentNode.removeChild(o),a||this.emit("select",{annotation:m,element:this.selectedShape.element})},1);const v=this.tools.forAnnotation(m);this.selectedShape=v.createEditableShape(m),this.selectedShape.element.annotation=m;const b=Rx(this.viewer,m);this.selectedShape.updateState(b);const w=new $r.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>{const E=Px(this.viewer,x);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:E}),this.emit("updateTarget",this.selectedShape.element,E)})}}),this._initDrawingTools(!0)}resize(){if(this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(c=>_x(this.viewer,c)),this.selectedShape))if(this.selectedShape.element){const c=Rx(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(c),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var I6=0;function Ox(s,c,o,a,u){var m,v,b={};for(v in c)v=="ref"?m=c[v]:b[v]=c[v];var w={type:s,props:b,key:o,ref:m,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--I6,__source:a,__self:u};if(typeof s=="function"&&(m=s.defaultProps))for(v in m)b[v]===void 0&&(b[v]=m[v]);return h.vnode&&h.vnode(w),w}class M6 extends Z{constructor(c){super(c),r(this,"clearState",o=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},o)),r(this,"forwardEvent",(o,a)=>{this.annotationLayer.on(o,(u,m)=>{this.props[a](u.clone(),m)})}),r(this,"onKeyUp",o=>{if(o.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:a}=this.state;a&&(this.cancelSelected(),this.props.onCancelSelected(a))}else if(o.which===46){const{disableDeleteKey:a}=this.props.config;if(!a){const{selectedAnnotation:u}=this.state;u&&(u.isSelection?this.onCancelAnnotation(u):this.onDeleteAnnotation(u))}}}),r(this,"handleStartSelect",o=>this.props.onSelectionStarted(o)),r(this,"handleEndSelect",o=>this.props.onSelectionEnded(o)),r(this,"handleSelect",(o,a)=>{this.state.editorDisabled?this.onHeadlessSelect(o,a):this.onNormalSelect(o,a)}),r(this,"onNormalSelect",(o,a)=>{const{annotation:u,element:m}=o;if(u){const v=()=>{this.setState({selectedAnnotation:u,selectedDOMElement:m,modifiedTarget:null},()=>{a||(u.isSelection?this.props.onSelectionCreated(u.clone()):this.props.onAnnotationSelected(u.clone(),m))})},{selectedAnnotation:b}=this.state;b&&!b.isEqual(u)?this.clearState(()=>{this.props.onCancelSelected(b),v()}):v()}else{const{selectedAnnotation:v}=this.state;v?this.clearState(()=>this.props.onCancelSelected(v)):this.clearState()}}),r(this,"onHeadlessSelect",(o,a)=>{this.saveSelected().then(()=>{this.onNormalSelect(o,a)})}),r(this,"handleUpdateTarget",(o,a)=>{this.setState({selectedDOMElement:o,modifiedTarget:a});const u=JSON.parse(JSON.stringify(a));this.props.onSelectionTargetChanged(u)}),r(this,"handleViewportChange",o=>this.setState({selectedDOMElement:o})),r(this,"overrideAnnotationId",o=>a=>{const{id:u}=o;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(u,a)}):this.annotationLayer.overrideId(u,a)}),r(this,"onCreateOrUpdateAnnotation",(o,a)=>(u,m)=>{let v=u.isSelection?u.toAnnotation():u;v=this.state.modifiedTarget?v.clone({target:this.state.modifiedTarget}):v.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(v,m),m?this.props[o](v,m.clone()):this.props[o](v,this.overrideAnnotationId(v)),a&&a()})}),r(this,"onDeleteAnnotation",o=>{this.clearState(),this.annotationLayer.removeAnnotation(o),this.props.onAnnotationDeleted(o)}),r(this,"onCancelAnnotation",(o,a)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(o),this.clearState(a)}),r(this,"addAnnotation",o=>{var a;o.id===((a=this.state.selectedAnnotation)==null?void 0:a.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(o.clone())}),r(this,"addDrawingTool",o=>this.annotationLayer.addDrawingTool(o)),r(this,"cancelSelected",()=>new Promise(o=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(o):o()})),r(this,"fitBounds",(o,a)=>this.annotationLayer.fitBounds(o,a)),r(this,"fitBoundsWithConstraints",(o,a)=>this.annotationLayer.fitBoundsWithConstraints(o,a)),r(this,"getAnnotationById",o=>{var a;return(a=this.annotationLayer.findShape(o))==null?void 0:a.annotation}),r(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(o=>o.clone())),r(this,"getAnnotationsIntersecting",o=>this.annotationLayer.getAnnotationsIntersecting(o)),r(this,"getImageSnippetById",o=>this.annotationLayer.getImageSnippetById(o)),r(this,"getSelected",()=>{var o;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(o=this._editor.current)==null?void 0:o.getCurrentAnnotation()}),r(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),r(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),r(this,"panTo",(o,a)=>this.annotationLayer.panTo(o,a)),r(this,"removeAnnotation",o=>this.annotationLayer.removeAnnotation(o)),r(this,"removeDrawingTool",o=>this.annotationLayer.removeDrawingTool(o)),r(this,"saveSelected",()=>new Promise(o=>{const a=this.state.selectedAnnotation;if(a)if(this._editor.current)this._editor.current.onOk(),o();else if(a.isSelection)a.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",o)(a):(this.annotationLayer.deselect(),o());else{const{beforeHeadlessModify:u,modifiedTarget:m}=this.state;u?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(a,u):m?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(a,a):this.onCancelAnnotation(a,o)}else o()})),r(this,"selectAnnotation",o=>{const a=this.annotationLayer.selectAnnotation(o,!0);if(a)return this.handleSelect(a,!0),a.annotation.clone();this.clearState()}),r(this,"setAnnotations",o=>this.annotationLayer.init(o.map(a=>a.clone()))),r(this,"setDrawingEnabled",o=>this.annotationLayer.setDrawingEnabled(o)),r(this,"setDrawingTool",o=>this.annotationLayer.setDrawingTool(o)),r(this,"setVisible",o=>{this.annotationLayer.setVisible(o),o||this.clearState()}),r(this,"updateSelected",(o,a)=>new Promise(u=>{this.state.selectedAnnotation&&(a?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",u)(o):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",u)(o,this.state.selectedAnnotation):this.setState({selectedAnnotation:o,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},u))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:c.config.readOnly,editorDisabled:c.config.disableEditor,widgets:c.config.widgets,beforeHeadlessModify:null},this._editor=Ne.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new A6(this.props):new m6(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("endSelection",this.handleEndSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(c){this.setState({editorDisabled:c})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(c){this.annotationLayer.disableSelect=c}get formatters(){return this.annotationLayer.formatters}set formatters(c){this.annotationLayer.formatters=c}get readOnly(){return this.state.readOnly}set readOnly(c){this.annotationLayer.readOnly=c,this.setState({readOnly:c})}get widgets(){return this.state.widgets}set widgets(c){this.setState({widgets:c})}render(){var c;const o=this.state.selectedAnnotation&&!this.state.editorDisabled,a=this.state.readOnly||((c=this.state.selectedAnnotation)==null?void 0:c.readOnly);return o&&Ox(x3,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:a,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class z6{constructor(c,o){r(this,"handleAnnotationCreated",(u,m)=>this._emitter.emit("createAnnotation",u.underlying,m)),r(this,"handleAnnotationDeleted",u=>this._emitter.emit("deleteAnnotation",u.underlying)),r(this,"handleAnnotationSelected",(u,m)=>this._emitter.emit("selectAnnotation",u.underlying,m)),r(this,"handleAnnotationUpdated",(u,m)=>this._emitter.emit("updateAnnotation",u.underlying,m.underlying)),r(this,"handleCancelSelected",u=>this._emitter.emit("cancelSelected",u.underlying)),r(this,"handleClickAnnotation",(u,m)=>this._emitter.emit("clickAnnotation",u.underlying,m)),r(this,"handleLoad",u=>this._emitter.emit("load",u)),r(this,"handleSelectionCreated",u=>this._emitter.emit("createSelection",u.underlying)),r(this,"handleSelectionStarted",u=>this._emitter.emit("startSelection",u)),r(this,"handleSelectionEnded",u=>this._emitter.emit("endSelection",u)),r(this,"handleSelectionTargetChanged",u=>this._emitter.emit("changeSelectionTarget",u)),r(this,"handleMouseEnterAnnotation",(u,m)=>this._emitter.emit("mouseEnterAnnotation",u.underlying,m)),r(this,"handleMouseLeaveAnnotation",(u,m)=>this._emitter.emit("mouseLeaveAnnotation",u.underlying,m)),r(this,"_wrap",u=>u?.type==="Annotation"?new Fo(u):u),r(this,"addAnnotation",u=>this._app.current.addAnnotation(new Fo(u))),r(this,"addDrawingTool",u=>this._app.current.addDrawingTool(u)),r(this,"cancelSelected",()=>this._app.current.cancelSelected()),r(this,"clearAnnotations",()=>this.setAnnotations([])),r(this,"clearAuthInfo",()=>this._env.user=null),r(this,"destroy",()=>Ne.unmountComponentAtNode(this.appContainerEl)),r(this,"fitBounds",(u,m)=>this._app.current.fitBounds(this._wrap(u),m)),r(this,"fitBoundsWithConstraints",(u,m)=>this._app.current.fitBoundsWithConstraints(this._wrap(u),m)),r(this,"getAnnotationById",u=>{const m=this._app.current.getAnnotationById(u);return m?.underlying}),r(this,"getAnnotations",()=>this._app.current.getAnnotations().map(u=>u.underlying)),r(this,"getAnnotationsIntersecting",u=>this._app.current.getAnnotationsIntersecting(this._wrap(u))),r(this,"getImageSnippetById",u=>this._app.current.getImageSnippetById(u)),r(this,"getSelected",()=>{const u=this._app.current.getSelected();return u?.underlying}),r(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),r(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),r(this,"loadAnnotations",u=>fetch(u).then(m=>m.json()).then(m=>(this.setAnnotations(m),m))),r(this,"off",(u,m)=>this._emitter.off(u,m)),r(this,"on",(u,m)=>this._emitter.on(u,m)),r(this,"once",(u,m)=>this._emitter.once(u,m)),r(this,"panTo",(u,m)=>this._app.current.panTo(this._wrap(u),m)),r(this,"removeAnnotation",u=>this._app.current.removeAnnotation(this._wrap(u))),r(this,"removeDrawingTool",u=>this._app.current.removeDrawingTool(u)),r(this,"saveSelected",()=>this._app.current.saveSelected()),r(this,"selectAnnotation",u=>{const m=this._app.current.selectAnnotation(this._wrap(u));return m?.underlying}),r(this,"setAnnotations",u=>{const m=(u||[]).map(v=>new Fo(v));this._app.current.setAnnotations(m)}),r(this,"setAuthInfo",u=>this._env.user=u),r(this,"setDrawingEnabled",u=>this._app.current.setDrawingEnabled(u)),r(this,"setDrawingTool",u=>this._app.current.setDrawingTool(u)),r(this,"setServerTime",u=>this._env.setServerTime(u)),r(this,"setVisible",u=>this._app.current.setVisible(u)),r(this,"updateSelected",(u,m)=>{let v=null;u.type==="Annotation"?v=new Fo(u):u.type==="Selection"&&(v=new tl(u.target,u.body)),v&&this._app.current.updateSelected(v,m)});const a=o||{};this._app=Ne.createRef(),this._emitter=new Dr,this._env=R3(),this._element=c.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),_3(a.locale,a.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Ne.render(Ox(M6,{ref:this._app,viewer:c,wrapperEl:this._element,config:a,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionEnded:this.handleSelectionEnded,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(c){this._app.current.disableEditor=c}get disableSelect(){return this._app.current.disableSelect}set disableSelect(c){this._app.current.disableSelect=c}get formatters(){return this._app.current.formatters||[]}set formatters(c){if(c){const o=Array.isArray(c)?c:[c];this._app.current.formatters=o}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(c){this._app.current.readOnly=c}get widgets(){return this._app.current.widgets}set widgets(c){this._app.current.widgets=c}}var L6=(s,c)=>new z6(s,c);return L6})})(nP);var EY=nP.exports;const TY=Tr(EY);function CY(e){const i=`os-zoom-in ${e.side}`,t=`os-zoom-out ${e.side}`,n=e.documentView.bookMode?null:e.onZoomGrid;return U.jsxs("ul",{className:"ImageZoomControl",children:[U.jsx("li",{children:U.jsx("i",{title:"Zoom In",id:i,onClick:e.onZoomIn,className:"zoom-in fas fa-plus-circle fa-2x"})}),U.jsx("li",{children:U.jsx("i",{title:"Fixed Zoom 1",onClick:e.onZoomFixed_1,className:"zoom-3 fas fa-circle fa-2x"})}),U.jsx("li",{children:U.jsx("i",{title:"Fixed Zoom 2",onClick:e.onZoomFixed_2,className:"zoom-2 fas fa-circle fa-lg"})}),U.jsx("li",{children:U.jsx("i",{title:"Fixed Zoom 3",onClick:e.onZoomFixed_3,className:"zoom-1 fas fa-circle"})}),U.jsx("li",{children:U.jsx("i",{title:"Zoom Out",id:t,onClick:e.onZoomOut,className:"zoom-out fas fa-minus-circle fa-2x"})}),U.jsx("li",{className:e.documentView.bookMode?"disabled":"",children:U.jsx("i",{title:"Return to grid mode (not available in book mode)",onClick:n,className:"zoom-grid fas fa-th fa-2x"})})]})}function Qg(e){const{delay:i=0,color:t="dark"}=e,[n,r]=z.useState(i===0);return z.useEffect(()=>{if(i>0){const l=setTimeout(()=>{r(!0)},i);return()=>clearTimeout(l)}},[]),n?U.jsxs("div",{className:`big-ring-spinner ${t}`,children:[U.jsx("div",{}),U.jsx("div",{}),U.jsx("div",{}),U.jsx("div",{})]}):U.jsx("div",{})}function kY(e){const{side:i,initViewer:t,tileSource:n}=e,[r,l]=z.useState(!0),h=z.useRef(null);return z.useEffect(()=>{(async()=>h.current&&await t(h.current,n).then(()=>l(!1)))()},[]),z.useMemo(()=>U.jsx("div",{id:`image-view-seadragon-${i}`,ref:h,children:r&&U.jsx(Qg,{color:"light",delay:1e3})}),[r])}function PY(e){const[i,t]=z.useState(null),[n,r]=z.useState(null),{tagsLeft:l,tagsRight:h}=z.useContext(cd),d=z.useMemo(()=>e.side==="right"?h:l,[e.side,l,h]),p=mo(),f=Fl(),[g]=ng(),y=z.useRef(null),S=e.document.folioIndex[e.folioID],C=z.useCallback(()=>{if(S.zoneTagIndex&&y.current){const Z=y.current.querySelectorAll(".a9s-annotation"),Y=Object.keys(S.zoneTagIndex).filter(le=>S.zoneTagIndex[le].some(ge=>d.includes(ge))),se=g.get("zone");se&&!Y.includes(se)&&Y.push(se),Z.forEach(le=>{const ge=le.getAttribute("data-id");Y.includes(ge)?le.classList.add("selected"):le.classList.remove("selected")})}},[S,d,y,g]);z.useEffect(()=>{setTimeout(()=>C(),50)},[C]);const k=()=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},P=()=>{i.viewport.zoomTo(i.viewport.getMaxZoom())},R=()=>{i.viewport.zoomTo(i.viewport.getMaxZoom()/2)},D=()=>{i.viewport.fitVertically()},q=()=>{i.viewport.zoomBy(2)},G=()=>{i.viewport.zoomBy(.5)};z.useEffect(()=>{n&&(n.off("selectAnnotation"),n.off("cancelSelected"),n.on("selectAnnotation",Z=>{g.set("zone",Z.id),C(),f(`${p.pathname}?${es(g.toString())}`)}),n.on("cancelSelected",()=>{g.delete("zone"),f(`${p.pathname}?${es(g.toString())}`)}))},[g,n,C,S,f,p.pathname]),z.useEffect(()=>{S.tileSource&&i&&(i.open(S.tileSource),S.annotations&&n&&n.setAnnotations(S.annotations))},[n,i,S,e.document.folioIndex]);const ne=async(Z,Y)=>{if(!Z)t(null),r(null);else{const se=vm({element:Z,showNavigationControl:!1,zoomPerClick:2,gestureSettingsMouse:{clickToZoom:!1}});t(se);const le=TY(se,{});le.disableEditor=!0,le.readOnly=!0,r(le),se.addTiledImage({tileSource:Y})}};return z.useEffect(()=>()=>{i&&i.destroy()},[i]),U.jsx("div",{ref:y,children:S.tileSource?U.jsxs("div",{className:`image-view imageViewComponent ${e.side}`,style:{position:"relative"},children:[U.jsx(rs,{side:e.side,documentView:e.documentView,documentViewActions:e.documentViewActions,documentName:e.document.variorum&&e.document.folioIndex[e.folioID].doc_id}),U.jsx(CY,{side:e.side,documentView:e.documentView,onZoomFixed_1:P,onZoomFixed_2:R,onZoomFixed_3:D,onZoomGrid:k,onZoomIn:q,onZoomOut:G,viewer:i}),U.jsx(kY,{side:e.side,tileSource:S.tileSource,initViewer:ne,loading:S.loading},e.folioID)]}):U.jsx(Qg,{color:"dark",delay:300})})}function RY(e){return{document:e.document}}const _Y=qi(RY)(PY),OY={tokenize:LY,partial:!0},iP={tokenize:FY,partial:!0},rP={tokenize:NY,partial:!0},oP={tokenize:HY,partial:!0},DY={tokenize:jY,partial:!0},sP={tokenize:MY,previous:lP},aP={tokenize:zY,previous:cP},Br={tokenize:IY,previous:uP},kr={},AY={text:kr};let jo=48;for(;jo<123;)kr[jo]=Br,jo++,jo===58?jo=65:jo===91&&(jo=97);kr[43]=Br;kr[45]=Br;kr[46]=Br;kr[95]=Br;kr[72]=[Br,aP];kr[104]=[Br,aP];kr[87]=[Br,sP];kr[119]=[Br,sP];function IY(e,i,t){const n=this;let r,l;return h;function h(y){return!jm(y)||!uP.call(n,n.previous)||ev(n.events)?t(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(y))}function d(y){return jm(y)?(e.consume(y),d):y===64?(e.consume(y),p):t(y)}function p(y){return y===46?e.check(DY,g,f)(y):y===45||y===95||vi(y)?(l=!0,e.consume(y),p):g(y)}function f(y){return e.consume(y),r=!0,p}function g(y){return l&&r&&Ci(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),i(y)):t(y)}}function MY(e,i,t){const n=this;return r;function r(h){return h!==87&&h!==119||!lP.call(n,n.previous)||ev(n.events)?t(h):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(OY,e.attempt(iP,e.attempt(rP,l),t),t)(h))}function l(h){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),i(h)}}function zY(e,i,t){const n=this;let r="",l=!1;return h;function h(y){return(y===72||y===104)&&cP.call(n,n.previous)&&!ev(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(y),e.consume(y),d):t(y)}function d(y){if(Ci(y)&&r.length<5)return r+=String.fromCodePoint(y),e.consume(y),d;if(y===58){const S=r.toLowerCase();if(S==="http"||S==="https")return e.consume(y),p}return t(y)}function p(y){return y===47?(e.consume(y),l?f:(l=!0,p)):t(y)}function f(y){return y===null||Yu(y)||On(y)||is(y)||_d(y)?t(y):e.attempt(iP,e.attempt(rP,g),t)(y)}function g(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),i(y)}}function LY(e,i,t){let n=0;return r;function r(h){return(h===87||h===119)&&n<3?(n++,e.consume(h),r):h===46&&n===3?(e.consume(h),l):t(h)}function l(h){return h===null?t(h):i(h)}}function FY(e,i,t){let n,r,l;return h;function h(f){return f===46||f===95?e.check(oP,p,d)(f):f===null||On(f)||is(f)||f!==45&&_d(f)?p(f):(l=!0,e.consume(f),h)}function d(f){return f===95?n=!0:(r=n,n=void 0),e.consume(f),h}function p(f){return r||n||!l?t(f):i(f)}}function NY(e,i){let t=0,n=0;return r;function r(h){return h===40?(t++,e.consume(h),r):h===41&&n<t?l(h):h===33||h===34||h===38||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===60||h===63||h===93||h===95||h===126?e.check(oP,i,l)(h):h===null||On(h)||is(h)?i(h):(e.consume(h),r)}function l(h){return h===41&&n++,e.consume(h),r}}function HY(e,i,t){return n;function n(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),n):d===38?(e.consume(d),l):d===93?(e.consume(d),r):d===60||d===null||On(d)||is(d)?i(d):t(d)}function r(d){return d===null||d===40||d===91||On(d)||is(d)?i(d):n(d)}function l(d){return Ci(d)?h(d):t(d)}function h(d){return d===59?(e.consume(d),n):Ci(d)?(e.consume(d),h):t(d)}}function jY(e,i,t){return n;function n(l){return e.consume(l),r}function r(l){return vi(l)?t(l):i(l)}}function lP(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||On(e)}function cP(e){return!Ci(e)}function uP(e){return!(e===47||jm(e))}function jm(e){return e===43||e===45||e===46||e===95||vi(e)}function ev(e){let i=e.length,t=!1;for(;i--;){const n=e[i][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){t=!0;break}if(n._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const BY={tokenize:YY,partial:!0};function VY(){return{document:{91:{tokenize:qY,continuation:{tokenize:XY},exit:KY}},text:{91:{tokenize:GY},93:{add:"after",tokenize:UY,resolveTo:WY}}}}function UY(e,i,t){const n=this;let r=n.events.length;const l=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let h;for(;r--;){const p=n.events[r][1];if(p.type==="labelImage"){h=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return d;function d(p){if(!h||!h._balanced)return t(p);const f=ar(n.sliceSerialize({start:h.end,end:n.now()}));return f.codePointAt(0)!==94||!l.includes(f.slice(1))?t(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),i(p))}}function WY(e,i){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},h={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},d=[e[t+1],e[t+2],["enter",n,i],e[t+3],e[t+4],["enter",r,i],["exit",r,i],["enter",l,i],["enter",h,i],["exit",h,i],["exit",l,i],e[e.length-2],e[e.length-1],["exit",n,i]];return e.splice(t,e.length-t+1,...d),e}function GY(e,i,t){const n=this,r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l=0,h;return d;function d(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?t(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(y){if(l>999||y===93&&!h||y===null||y===91||On(y))return t(y);if(y===93){e.exit("chunkString");const S=e.exit("gfmFootnoteCallString");return r.includes(ar(n.sliceSerialize(S)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),i):t(y)}return On(y)||(h=!0),l++,e.consume(y),y===92?g:f}function g(y){return y===91||y===92||y===93?(e.consume(y),l++,f):f(y)}}function qY(e,i,t){const n=this,r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l,h=0,d;return p;function p(k){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(k){return k===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):t(k)}function g(k){if(h>999||k===93&&!d||k===null||k===91||On(k))return t(k);if(k===93){e.exit("chunkString");const P=e.exit("gfmFootnoteDefinitionLabelString");return l=ar(n.sliceSerialize(P)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),S}return On(k)||(d=!0),h++,e.consume(k),k===92?y:g}function y(k){return k===91||k===92||k===93?(e.consume(k),h++,g):g(k)}function S(k){return k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),r.includes(l)||r.push(l),cn(e,C,"gfmFootnoteDefinitionWhitespace")):t(k)}function C(k){return i(k)}}function XY(e,i,t){return e.check(Gl,i,e.attempt(BY,i,t))}function KY(e){e.exit("gfmFootnoteDefinition")}function YY(e,i,t){const n=this;return cn(e,r,"gfmFootnoteDefinitionIndent",5);function r(l){const h=n.events[n.events.length-1];return h&&h[1].type==="gfmFootnoteDefinitionIndent"&&h[2].sliceSerialize(h[1],!0).length===4?i(l):t(l)}}function ZY(e){let i=(e||{}).singleTilde;const t={tokenize:r,resolveAll:n};return i==null&&(i=!0),{text:{126:t},insideSpan:{null:[t]},attentionMarkers:{null:[126]}};function n(l,h){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let p=d;for(;p--;)if(l[p][0]==="exit"&&l[p][1].type==="strikethroughSequenceTemporary"&&l[p][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[p][1].end.offset-l[p][1].start.offset){l[d][1].type="strikethroughSequence",l[p][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[p][1].start),end:Object.assign({},l[d][1].end)},g={type:"strikethroughText",start:Object.assign({},l[p][1].end),end:Object.assign({},l[d][1].start)},y=[["enter",f,h],["enter",l[p][1],h],["exit",l[p][1],h],["enter",g,h]],S=h.parser.constructs.insideSpan.null;S&&Gi(y,y.length,0,Od(S,l.slice(p+1,d),h)),Gi(y,y.length,0,[["exit",g,h],["enter",l[d][1],h],["exit",l[d][1],h],["exit",f,h]]),Gi(l,p-1,d-p+3,y),d=p+y.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function r(l,h,d){const p=this.previous,f=this.events;let g=0;return y;function y(C){return p===126&&f[f.length-1][1].type!=="characterEscape"?d(C):(l.enter("strikethroughSequenceTemporary"),S(C))}function S(C){const k=Zu(p);if(C===126)return g>1?d(C):(l.consume(C),g++,S);if(g<2&&!i)return d(C);const P=l.exit("strikethroughSequenceTemporary"),R=Zu(C);return P._open=!R||R===2&&!!k,P._close=!k||k===2&&!!R,h(C)}}}class $Y{constructor(){this.map=[]}add(i,t,n){JY(this,i,t,n)}consume(i){if(this.map.sort((l,h)=>l[0]-h[0]),this.map.length===0)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(i.slice(this.map[t][0]+this.map[t][1])),n.push(this.map[t][2]),i.length=this.map[t][0];n.push([...i]),i.length=0;let r=n.pop();for(;r;)i.push(...r),r=n.pop();this.map.length=0}}function JY(e,i,t,n){let r=0;if(!(t===0&&n.length===0)){for(;r<e.map.length;){if(e.map[r][0]===i){e.map[r][1]+=t,e.map[r][2].push(...n);return}r+=1}e.map.push([i,t,n])}}function QY(e,i){let t=!1;const n=[];for(;i<e.length;){const r=e[i];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&n.push(e[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[i-1][1].type==="tableDelimiterMarker"){const l=n.length-1;n[l]=n[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);i+=1}return n}const eZ={flow:{null:{tokenize:tZ,resolveAll:nZ}}};function tZ(e,i,t){const n=this;let r=0,l=0,h;return d;function d(ue){let pe=n.events.length-1;for(;pe>-1;){const Ae=n.events[pe][1].type;if(Ae==="lineEnding"||Ae==="linePrefix")pe--;else break}const we=pe>-1?n.events[pe][1].type:null,ve=we==="tableHead"||we==="tableRow"?Y:p;return ve===Y&&n.parser.lazy[n.now().line]?t(ue):ve(ue)}function p(ue){return e.enter("tableHead"),e.enter("tableRow"),f(ue)}function f(ue){return ue===124||(h=!0,l+=1),g(ue)}function g(ue){return ue===null?t(ue):zt(ue)?l>1?(l=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(ue),e.exit("lineEnding"),C):t(ue):on(ue)?cn(e,g,"whitespace")(ue):(l+=1,h&&(h=!1,r+=1),ue===124?(e.enter("tableCellDivider"),e.consume(ue),e.exit("tableCellDivider"),h=!0,g):(e.enter("data"),y(ue)))}function y(ue){return ue===null||ue===124||On(ue)?(e.exit("data"),g(ue)):(e.consume(ue),ue===92?S:y)}function S(ue){return ue===92||ue===124?(e.consume(ue),y):y(ue)}function C(ue){return n.interrupt=!1,n.parser.lazy[n.now().line]?t(ue):(e.enter("tableDelimiterRow"),h=!1,on(ue)?cn(e,k,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):k(ue))}function k(ue){return ue===45||ue===58?R(ue):ue===124?(h=!0,e.enter("tableCellDivider"),e.consume(ue),e.exit("tableCellDivider"),P):Z(ue)}function P(ue){return on(ue)?cn(e,R,"whitespace")(ue):R(ue)}function R(ue){return ue===58?(l+=1,h=!0,e.enter("tableDelimiterMarker"),e.consume(ue),e.exit("tableDelimiterMarker"),D):ue===45?(l+=1,D(ue)):ue===null||zt(ue)?ne(ue):Z(ue)}function D(ue){return ue===45?(e.enter("tableDelimiterFiller"),q(ue)):Z(ue)}function q(ue){return ue===45?(e.consume(ue),q):ue===58?(h=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(ue),e.exit("tableDelimiterMarker"),G):(e.exit("tableDelimiterFiller"),G(ue))}function G(ue){return on(ue)?cn(e,ne,"whitespace")(ue):ne(ue)}function ne(ue){return ue===124?k(ue):ue===null||zt(ue)?!h||r!==l?Z(ue):(e.exit("tableDelimiterRow"),e.exit("tableHead"),i(ue)):Z(ue)}function Z(ue){return t(ue)}function Y(ue){return e.enter("tableRow"),se(ue)}function se(ue){return ue===124?(e.enter("tableCellDivider"),e.consume(ue),e.exit("tableCellDivider"),se):ue===null||zt(ue)?(e.exit("tableRow"),i(ue)):on(ue)?cn(e,se,"whitespace")(ue):(e.enter("data"),le(ue))}function le(ue){return ue===null||ue===124||On(ue)?(e.exit("data"),se(ue)):(e.consume(ue),ue===92?ge:le)}function ge(ue){return ue===92||ue===124?(e.consume(ue),le):le(ue)}}function nZ(e,i){let t=-1,n=!0,r=0,l=[0,0,0,0],h=[0,0,0,0],d=!1,p=0,f,g,y;const S=new $Y;for(;++t<e.length;){const C=e[t],k=C[1];C[0]==="enter"?k.type==="tableHead"?(d=!1,p!==0&&(LE(S,i,p,f,g),g=void 0,p=0),f={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},S.add(t,0,[["enter",f,i]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(n=!0,y=void 0,l=[0,0,0,0],h=[0,t+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},S.add(t,0,[["enter",g,i]])),r=k.type==="tableDelimiterRow"?2:g?3:1):r&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(n=!1,h[2]===0&&(l[1]!==0&&(h[0]=h[1],y=Iu(S,i,l,r,void 0,y),l=[0,0,0,0]),h[2]=t)):k.type==="tableCellDivider"&&(n?n=!1:(l[1]!==0&&(h[0]=h[1],y=Iu(S,i,l,r,void 0,y)),l=h,h=[l[1],t,0,0])):k.type==="tableHead"?(d=!0,p=t):k.type==="tableRow"||k.type==="tableDelimiterRow"?(p=t,l[1]!==0?(h[0]=h[1],y=Iu(S,i,l,r,t,y)):h[1]!==0&&(y=Iu(S,i,h,r,t,y)),r=0):r&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(h[3]=t)}for(p!==0&&LE(S,i,p,f,g),S.consume(i.events),t=-1;++t<i.events.length;){const C=i.events[t];C[0]==="enter"&&C[1].type==="table"&&(C[1]._align=QY(i.events,t))}return e}function Iu(e,i,t,n,r,l){const h=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",d="tableContent";t[0]!==0&&(l.end=Object.assign({},na(i.events,t[0])),e.add(t[0],0,[["exit",l,i]]));const p=na(i.events,t[1]);if(l={type:h,start:Object.assign({},p),end:Object.assign({},p)},e.add(t[1],0,[["enter",l,i]]),t[2]!==0){const f=na(i.events,t[2]),g=na(i.events,t[3]),y={type:d,start:Object.assign({},f),end:Object.assign({},g)};if(e.add(t[2],0,[["enter",y,i]]),n!==2){const S=i.events[t[2]],C=i.events[t[3]];if(S[1].end=Object.assign({},C[1].end),S[1].type="chunkText",S[1].contentType="text",t[3]>t[2]+1){const k=t[2]+1,P=t[3]-t[2]-1;e.add(k,P,[])}}e.add(t[3]+1,0,[["exit",y,i]])}return r!==void 0&&(l.end=Object.assign({},na(i.events,r)),e.add(r,0,[["exit",l,i]]),l=void 0),l}function LE(e,i,t,n,r){const l=[],h=na(i.events,t);r&&(r.end=Object.assign({},h),l.push(["exit",r,i])),n.end=Object.assign({},h),l.push(["exit",n,i]),e.add(t+1,0,l)}function na(e,i){const t=e[i],n=t[0]==="enter"?"start":"end";return t[1][n]}const iZ={tokenize:oZ},rZ={text:{91:iZ}};function oZ(e,i,t){const n=this;return r;function r(p){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?t(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),l)}function l(p){return On(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),h):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),h):t(p)}function h(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):t(p)}function d(p){return zt(p)?i(p):on(p)?e.check({tokenize:sZ},i,t)(p):t(p)}}function sZ(e,i,t){return cn(e,n,"whitespace");function n(r){return r===null?t(r):i(r)}}function aZ(e){return tk([AY,VY(),ZY(e),eZ,rZ])}function FE(e,i){const t=String(e);if(typeof i!="string")throw new TypeError("Expected character");let n=0,r=t.indexOf(i);for(;r!==-1;)n++,r=t.indexOf(i,r+i.length);return n}function lZ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const cZ={}.hasOwnProperty,uZ=function(e,i,t,n){let r,l;typeof i=="string"||i instanceof RegExp?(l=[[i,t]],r=n):(l=i,r=t),r||(r={});const h=Bg(r.ignore||[]),d=dZ(l);let p=-1;for(;++p<d.length;)bk(e,"text",f);return e;function f(y,S){let C=-1,k;for(;++C<S.length;){const P=S[C];if(h(P,k?k.children.indexOf(P):void 0,k))return;k=P}if(k)return g(y,S)}function g(y,S){const C=S[S.length-1],k=d[p][0],P=d[p][1];let R=0;const D=C.children.indexOf(y);let q=!1,G=[];k.lastIndex=0;let ne=k.exec(y.value);for(;ne;){const Z=ne.index,Y={index:ne.index,input:ne.input,stack:[...S,y]};let se=P(...ne,Y);if(typeof se=="string"&&(se=se.length>0?{type:"text",value:se}:void 0),se!==!1&&(R!==Z&&G.push({type:"text",value:y.value.slice(R,Z)}),Array.isArray(se)?G.push(...se):se&&G.push(se),R=Z+ne[0].length,q=!0),!k.global)break;ne=k.exec(y.value)}return q?(R<y.value.length&&G.push({type:"text",value:y.value.slice(R)}),C.children.splice(D,1,...G)):G=[y],D+G.length}};function dZ(e){const i=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let t=-1;for(;++t<e.length;)i.push([NE(e[t][0]),HE(e[t][1])])}else{let t;for(t in e)cZ.call(e,t)&&i.push([NE(t),HE(e[t])])}return i}function NE(e){return typeof e=="string"?new RegExp(lZ(e),"g"):e}function HE(e){return typeof e=="function"?e:()=>e}const Yf="phrasing",Zf=["autolink","link","image","label"],hZ={transforms:[bZ],enter:{literalAutolink:fZ,literalAutolinkEmail:$f,literalAutolinkHttp:$f,literalAutolinkWww:$f},exit:{literalAutolink:yZ,literalAutolinkEmail:vZ,literalAutolinkHttp:mZ,literalAutolinkWww:gZ}},pZ={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Zf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Zf},{character:":",before:"[ps]",after:"\\/",inConstruct:Yf,notInConstruct:Zf}]};function fZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $f(e){this.config.enter.autolinkProtocol.call(this,e)}function mZ(e){this.config.exit.autolinkProtocol.call(this,e)}function gZ(e){this.config.exit.data.call(this,e);const i=this.stack[this.stack.length-1];i.url="http://"+this.sliceSerialize(e)}function vZ(e){this.config.exit.autolinkEmail.call(this,e)}function yZ(e){this.exit(e)}function bZ(e){uZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wZ],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,xZ]],{ignore:["link","linkReference"]})}function wZ(e,i,t,n,r){let l="";if(!dP(r)||(/^w/i.test(i)&&(t=i+t,i="",l="http://"),!SZ(t)))return!1;const h=EZ(t+n);if(!h[0])return!1;const d={type:"link",title:null,url:l+i+h[0],children:[{type:"text",value:i+h[0]}]};return h[1]?[d,{type:"text",value:h[1]}]:d}function xZ(e,i,t,n){return!dP(n,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+i+"@"+t,children:[{type:"text",value:i+"@"+t}]}}function SZ(e){const i=e.split(".");return!(i.length<2||i[i.length-1]&&(/_/.test(i[i.length-1])||!/[a-zA-Z\d]/.test(i[i.length-1]))||i[i.length-2]&&(/_/.test(i[i.length-2])||!/[a-zA-Z\d]/.test(i[i.length-2])))}function EZ(e){const i=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!i)return[e,void 0];e=e.slice(0,i.index);let t=i[0],n=t.indexOf(")");const r=FE(e,"(");let l=FE(e,")");for(;n!==-1&&r>l;)e+=t.slice(0,n+1),t=t.slice(n+1),n=t.indexOf(")"),l++;return[e,t]}function dP(e,i){const t=e.input.charCodeAt(e.index-1);return(e.index===0||is(t)||_d(t))&&(!i||t!==47)}function hP(e){return e.label||!e.identifier?e.label||"":hk(e.identifier)}function TZ(e,i,t){const n=i.indexStack,r=e.children||[],l=i.createTracker(t),h=[];let d=-1;for(n.push(-1);++d<r.length;){const p=r[d];n[n.length-1]=d,h.push(l.move(i.handle(p,e,i,{before:`
`,after:`
`,...l.current()}))),p.type!=="list"&&(i.bulletLastUsed=void 0),d<r.length-1&&h.push(l.move(CZ(p,r[d+1],e,i)))}return n.pop(),h.join("")}function CZ(e,i,t,n){let r=n.join.length;for(;r--;){const l=n.join[r](e,i,t,n);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const kZ=/\r?\n|\r/g;function PZ(e,i){const t=[];let n=0,r=0,l;for(;l=kZ.exec(e);)h(e.slice(n,l.index)),t.push(l[0]),n=l.index+l[0].length,r++;return h(e.slice(n)),t.join("");function h(d){t.push(i(d,r,!d))}}function pP(e){if(!e._compiled){const i=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((i?"("+i+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function RZ(e,i){return jE(e,i.inConstruct,!0)&&!jE(e,i.notInConstruct,!1)}function jE(e,i,t){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return t;let n=-1;for(;++n<i.length;)if(e.includes(i[n]))return!0;return!1}function fP(e,i,t){const n=(t.before||"")+(i||"")+(t.after||""),r=[],l=[],h={};let d=-1;for(;++d<e.unsafe.length;){const g=e.unsafe[d];if(!RZ(e.stack,g))continue;const y=pP(g);let S;for(;S=y.exec(n);){const C="before"in g||!!g.atBreak,k="after"in g,P=S.index+(C?S[1].length:0);r.includes(P)?(h[P].before&&!C&&(h[P].before=!1),h[P].after&&!k&&(h[P].after=!1)):(r.push(P),h[P]={before:C,after:k})}}r.sort(_Z);let p=t.before?t.before.length:0;const f=n.length-(t.after?t.after.length:0);for(d=-1;++d<r.length;){const g=r[d];g<p||g>=f||g+1<f&&r[d+1]===g+1&&h[g].after&&!h[g+1].before&&!h[g+1].after||r[d-1]===g-1&&h[g].before&&!h[g-1].before&&!h[g-1].after||(p!==g&&l.push(BE(n.slice(p,g),"\\")),p=g,/[!-/:-@[-`{-~]/.test(n.charAt(g))&&(!t.encode||!t.encode.includes(n.charAt(g)))?l.push("\\"):(l.push("&#x"+n.charCodeAt(g).toString(16).toUpperCase()+";"),p++))}return l.push(BE(n.slice(p,f),t.after)),l.join("")}function _Z(e,i){return e-i}function BE(e,i){const t=/\\(?=[!-/:-@[-`{-~])/g,n=[],r=[],l=e+i;let h=-1,d=0,p;for(;p=t.exec(l);)n.push(p.index);for(;++h<n.length;)d!==n[h]&&r.push(e.slice(d,n[h])),r.push("\\"),d=n[h];return r.push(e.slice(d)),r.join("")}function Nd(e){const i=e||{},t=i.now||{};let n=i.lineShift||0,r=t.line||1,l=t.column||1;return{move:p,current:h,shift:d};function h(){return{now:{line:r,column:l},lineShift:n}}function d(f){n+=f}function p(f){const g=f||"",y=g.split(/\r?\n|\r/g),S=y[y.length-1];return r+=y.length-1,l=y.length===1?l+S.length:1+S.length+n,g}}mP.peek=jZ;function OZ(){return{enter:{gfmFootnoteDefinition:AZ,gfmFootnoteDefinitionLabelString:IZ,gfmFootnoteCall:LZ,gfmFootnoteCallString:FZ},exit:{gfmFootnoteDefinition:zZ,gfmFootnoteDefinitionLabelString:MZ,gfmFootnoteCall:HZ,gfmFootnoteCallString:NZ}}}function DZ(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:BZ,footnoteReference:mP}}}function AZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function IZ(){this.buffer()}function MZ(e){const i=this.resume(),t=this.stack[this.stack.length-1];t.label=i,t.identifier=ar(this.sliceSerialize(e)).toLowerCase()}function zZ(e){this.exit(e)}function LZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function FZ(){this.buffer()}function NZ(e){const i=this.resume(),t=this.stack[this.stack.length-1];t.label=i,t.identifier=ar(this.sliceSerialize(e)).toLowerCase()}function HZ(e){this.exit(e)}function mP(e,i,t,n){const r=Nd(n);let l=r.move("[^");const h=t.enter("footnoteReference"),d=t.enter("reference");return l+=r.move(fP(t,hP(e),{...r.current(),before:l,after:"]"})),d(),h(),l+=r.move("]"),l}function jZ(){return"["}function BZ(e,i,t,n){const r=Nd(n);let l=r.move("[^");const h=t.enter("footnoteDefinition"),d=t.enter("label");return l+=r.move(fP(t,hP(e),{...r.current(),before:l,after:"]"})),d(),l+=r.move("]:"+(e.children&&e.children.length>0?" ":"")),r.shift(4),l+=r.move(PZ(TZ(e,t,r.current()),VZ)),h(),l}function VZ(e,i,t){return i===0?e:(t?"":"    ")+e}function gP(e,i,t){const n=i.indexStack,r=e.children||[],l=[];let h=-1,d=t.before;n.push(-1);let p=i.createTracker(t);for(;++h<r.length;){const f=r[h];let g;if(n[n.length-1]=h,h+1<r.length){let y=i.handle.handlers[r[h+1].type];y&&y.peek&&(y=y.peek),g=y?y(r[h+1],e,i,{before:"",after:"",...p.current()}).charAt(0):""}else g=t.after;l.length>0&&(d==="\r"||d===`
`)&&f.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),d=" ",p=i.createTracker(t),p.move(l.join(""))),l.push(p.move(i.handle(f,e,i,{...p.current(),before:d,after:g}))),d=l[l.length-1].slice(-1)}return n.pop(),l.join("")}const UZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];vP.peek=KZ;const WZ={canContainEols:["delete"],enter:{strikethrough:qZ},exit:{strikethrough:XZ}},GZ={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:UZ}],handlers:{delete:vP}};function qZ(e){this.enter({type:"delete",children:[]},e)}function XZ(e){this.exit(e)}function vP(e,i,t,n){const r=Nd(n),l=t.enter("strikethrough");let h=r.move("~~");return h+=gP(e,t,{...r.current(),before:h,after:"~"}),h+=r.move("~~"),l(),h}function KZ(){return"~"}yP.peek=YZ;function yP(e,i,t){let n=e.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(n);)r+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++l<t.unsafe.length;){const h=t.unsafe[l],d=pP(h);let p;if(h.atBreak)for(;p=d.exec(n);){let f=p.index;n.charCodeAt(f)===10&&n.charCodeAt(f-1)===13&&f--,n=n.slice(0,f)+" "+n.slice(p.index+1)}}return r+n+r}function YZ(){return"`"}function ZZ(e){return e.length}function $Z(e,i){const t=i||{},n=(t.align||[]).concat(),r=t.stringLength||ZZ,l=[],h=[],d=[],p=[];let f=0,g=-1;for(;++g<e.length;){const P=[],R=[];let D=-1;for(e[g].length>f&&(f=e[g].length);++D<e[g].length;){const q=JZ(e[g][D]);if(t.alignDelimiters!==!1){const G=r(q);R[D]=G,(p[D]===void 0||G>p[D])&&(p[D]=G)}P.push(q)}h[g]=P,d[g]=R}let y=-1;if(typeof n=="object"&&"length"in n)for(;++y<f;)l[y]=VE(n[y]);else{const P=VE(n);for(;++y<f;)l[y]=P}y=-1;const S=[],C=[];for(;++y<f;){const P=l[y];let R="",D="";P===99?(R=":",D=":"):P===108?R=":":P===114&&(D=":");let q=t.alignDelimiters===!1?1:Math.max(1,p[y]-R.length-D.length);const G=R+"-".repeat(q)+D;t.alignDelimiters!==!1&&(q=R.length+q+D.length,q>p[y]&&(p[y]=q),C[y]=q),S[y]=G}h.splice(1,0,S),d.splice(1,0,C),g=-1;const k=[];for(;++g<h.length;){const P=h[g],R=d[g];y=-1;const D=[];for(;++y<f;){const q=P[y]||"";let G="",ne="";if(t.alignDelimiters!==!1){const Z=p[y]-(R[y]||0),Y=l[y];Y===114?G=" ".repeat(Z):Y===99?Z%2?(G=" ".repeat(Z/2+.5),ne=" ".repeat(Z/2-.5)):(G=" ".repeat(Z/2),ne=G):ne=" ".repeat(Z)}t.delimiterStart!==!1&&!y&&D.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&q==="")&&(t.delimiterStart!==!1||y)&&D.push(" "),t.alignDelimiters!==!1&&D.push(G),D.push(q),t.alignDelimiters!==!1&&D.push(ne),t.padding!==!1&&D.push(" "),(t.delimiterEnd!==!1||y!==f-1)&&D.push("|")}k.push(t.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return k.join(`
`)}function JZ(e){return e==null?"":String(e)}function VE(e){const i=typeof e=="string"?e.codePointAt(0):0;return i===67||i===99?99:i===76||i===108?108:i===82||i===114?114:0}const QZ={enter:{table:e$,tableData:UE,tableHeader:UE,tableRow:n$},exit:{codeText:i$,table:t$,tableData:Jf,tableHeader:Jf,tableRow:Jf}};function e$(e){const i=e._align;this.enter({type:"table",align:i.map(t=>t==="none"?null:t),children:[]},e),this.setData("inTable",!0)}function t$(e){this.exit(e),this.setData("inTable")}function n$(e){this.enter({type:"tableRow",children:[]},e)}function Jf(e){this.exit(e)}function UE(e){this.enter({type:"tableCell",children:[]},e)}function i$(e){let i=this.resume();this.getData("inTable")&&(i=i.replace(/\\([\\|])/g,r$));const t=this.stack[this.stack.length-1];t.value=i,this.exit(e)}function r$(e,i){return i==="|"?i:e}function o$(e){const i=e||{},t=i.tableCellPadding,n=i.tablePipeAlign,r=i.stringLength,l=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:h,tableRow:d,tableCell:p,inlineCode:S}};function h(C,k,P,R){return f(g(C,P,R),C.align)}function d(C,k,P,R){const D=y(C,P,R),q=f([D]);return q.slice(0,q.indexOf(`
`))}function p(C,k,P,R){const D=P.enter("tableCell"),q=P.enter("phrasing"),G=gP(C,P,{...R,before:l,after:l});return q(),D(),G}function f(C,k){return $Z(C,{align:k,alignDelimiters:n,padding:t,stringLength:r})}function g(C,k,P){const R=C.children;let D=-1;const q=[],G=k.enter("table");for(;++D<R.length;)q[D]=y(R[D],k,P);return G(),q}function y(C,k,P){const R=C.children;let D=-1;const q=[],G=k.enter("tableRow");for(;++D<R.length;)q[D]=p(R[D],C,k,P);return G(),q}function S(C,k,P){let R=yP(C,k,P);return P.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function s$(e){const i=e.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function a$(e){const i=e.options.listItemIndent||"tab";if(i===1||i==="1")return"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function l$(e,i,t,n){const r=a$(t);let l=t.bulletCurrent||s$(t);i&&i.type==="list"&&i.ordered&&(l=(typeof i.start=="number"&&i.start>-1?i.start:1)+(t.options.incrementListMarker===!1?0:i.children.indexOf(e))+l);let h=l.length+1;(r==="tab"||r==="mixed"&&(i&&i.type==="list"&&i.spread||e.spread))&&(h=Math.ceil(h/4)*4);const d=t.createTracker(n);d.move(l+" ".repeat(h-l.length)),d.shift(h);const p=t.enter("listItem"),f=t.indentLines(t.containerFlow(e,d.current()),g);return p(),f;function g(y,S,C){return S?(C?"":" ".repeat(h))+y:(C?l:l+" ".repeat(h-l.length))+y}}const c$={exit:{taskListCheckValueChecked:WE,taskListCheckValueUnchecked:WE,paragraph:d$}},u$={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:h$}};function WE(e){const i=this.stack[this.stack.length-2];i.checked=e.type==="taskListCheckValueChecked"}function d$(e){const i=this.stack[this.stack.length-2];if(i&&i.type==="listItem"&&typeof i.checked=="boolean"){const t=this.stack[this.stack.length-1],n=t.children[0];if(n&&n.type==="text"){const r=i.children;let l=-1,h;for(;++l<r.length;){const d=r[l];if(d.type==="paragraph"){h=d;break}}h===t&&(n.value=n.value.slice(1),n.value.length===0?t.children.shift():t.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function h$(e,i,t,n){const r=e.children[0],l=typeof e.checked=="boolean"&&r&&r.type==="paragraph",h="["+(e.checked?"x":" ")+"] ",d=Nd(n);l&&d.move(h);let p=l$(e,i,t,{...n,...d.current()});return l&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),p;function f(g){return g+h}}function p$(){return[hZ,OZ(),WZ,QZ,c$]}function f$(e){return{extensions:[pZ,DZ(),GZ,o$(e),u$]}}function m$(e={}){const i=this.data();t("micromarkExtensions",aZ(e)),t("fromMarkdownExtensions",p$()),t("toMarkdownExtensions",f$(e));function t(n,r){(i[n]?i[n]:i[n]=[]).push(r)}}class g$ extends z.Component{constructor(){super(),Vn(this,"onFilterChange",i=>{const t=i.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}render(){return this.props.notes.loaded?U.jsxs("div",{id:"notesView",style:{position:"relative",overflow:"auto"},children:[U.jsx(rs,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),U.jsx("div",{id:"notesViewInner",children:U.jsx("div",{id:"notesContent",children:U.jsx(Ju,{children:this.props.notes.notes,remarkPlugins:[m$]})})})]}):null}}function v$(e){return{notes:e.notes}}const y$=qi(v$)(g$);class b$ extends z.Component{render(){return U.jsx("div",{className:"single-pane-view",children:this.props.singlePane})}}function w$(e){return{document:e.document}}const x$=qi(w$)(b$);class S$ extends z.Component{constructor(i){super(),Vn(this,"onDrag",t=>{if(this.dragging){const n=this.ecComponent.clientWidth-2*this.dividerWidth;let r,l,h;this.activeDivider===1?(r=t.clientX-this.ecComponent.offsetLeft-this.dividerWidth/2,h=n*this.splitFractionRight,l=n-r-h):(h=n-t.clientX-this.dividerWidth/2,r=n*this.splitFraction,l=n-r-h),r>=this.leftPaneMinWidth&&l>=this.rightPaneMinWidth&&h>=this.thirdPaneMinWidth&&(this.splitFraction=n===0?0:r/n,this.splitFractionRight=n===0?0:h/n,this.updateUI()),this.updatePaneSize()}}),Vn(this,"onStartDrag",t=>{this.dragging=!0,this.activeDivider=t==="first"?1:2}),Vn(this,"onEndDrag",t=>{this.dragging=!1,this.activeDivider=0}),Vn(this,"onResize",t=>{this.updatePaneSize()}),this.firstFolio=i.document.folios[0],this.rightPaneMinWidth=i.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=i.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=i.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:i.thirdPane.props.documentView.third.transcriptionType==="g"?0:200,this.splitFraction=i.threePanel?.49:.5,this.splitFractionRight=i.threePanel?.01:0,this.dividerWidth=16,this.ecComponent=document.querySelector("#diplomatic"),this.ecComponent.clientWidth,this.state={style:{gridTemplateColumns:`${this.splitFraction}fr ${this.dividerWidth}px ${1-this.splitFraction-this.splitFractionRight}fr ${this.dividerWidth}px ${this.splitFractionRight}fr`}},this.dragging=!1,this.activeDivider=0,this.onDrag=this.onDrag.bind(this),this.onResize=this.onResize.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this)}updateUI(){const i=this.splitFraction,t=this.splitFractionRight,n=1-i-t;this.setState({...this.state,style:{...this.state.style,gridTemplateColumns:`${i}fr ${this.dividerWidth}px ${n}fr ${this.dividerWidth}px ${t}fr`}})}updatePaneSize(){const i=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFraction)),t=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFractionRight)),n=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction-this.splitFractionRight));this.props.onWidth&&i>=this.leftPaneMinWidth&&n>=this.rightPaneMinWidth&&t>=this.thirdPaneMinWidth&&this.props.onWidth(i,n,t)}componentDidMount(){if(this.updateUI(),window.addEventListener("pointermove",this.onDrag),window.addEventListener("pointerup",this.onEndDrag),window.addEventListener("resize",this.onResize),this.props.onWidth){const i=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFraction)),t=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction)),n=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction));this.props.onWidth(i,t,n)}}componentDidUpdate(i){this.rightPaneMinWidth=this.props.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=this.props.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=this.props.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:this.props.thirdPane.props.documentView.third.transcriptionType==="g"?0:200}componentWillUnmount(){window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("pointerup",this.onEndDrag),window.removeEventListener("resize",this.onResize)}renderDivider(i){return U.jsx("div",{className:`divider ${i}_divider`,onPointerDown:()=>this.onStartDrag(i),children:U.jsx("div",{className:"drawer-button hidden",onClick:this.onDrawerButton,children:U.jsx("i",{className:"drawer-icon fas fa-caret-left fa-2x",children:" "})})})}render(){return U.jsxs("div",{className:"split-pane-view three-pane",style:{...this.state.style},children:[this.props.leftPane,this.renderDivider("first"),this.props.rightPane,this.props.threePanel&&this.renderDivider("second"),this.props.threePanel&&this.props.thirdPane]})}}function E$(e){return{document:e.document}}const T$=qi(E$)(S$);function C$(e){const[i,t]=z.useState(null),[n,r]=z.useState(!1),l=g=>{t(g.currentTarget),r(!0)},h=g=>{r(!1)},d=()=>{const g=Wi(e.text)||`ERROR: Could not find comment for id: ${e.commentID}.`,y={maxWidth:200,padding:"25px 15px 15px 15px"},S={float:"right",padding:5,fontStyle:"bold"};return U.jsx(x1,{id:e.commentID,open:n,anchorEl:i,children:U.jsx(WC,{in:n,children:U.jsxs(vd,{className:"editor-comment-content",children:[U.jsx("div",{onClick:h,style:S,children:U.jsx("span",{className:"fa fa-window-close"})}),U.jsx(Xn,{style:y,children:g})]})})})},p={display:"inline"},f={fontStyle:"bold",fontSize:"18pt",color:"red"};return U.jsxs("div",{style:p,children:[U.jsx("span",{onClick:g=>l(g),style:f,children:"*"}),d()]})}class GE extends z.Component{constructor(i){super(i),this.state={error:null,errorInfo:null}}static getDerivedStateFromError(i){return{error:!0}}componentDidCatch(i,t){this.setState({error:i,errorInfo:t})}render(){return this.state.errorInfo?U.jsxs("div",{style:{height:"350px",overflowY:"scroll"},children:[U.jsx("h2",{children:"Something went wrong."}),U.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:["There has been an error rendering a comment",U.jsx("br",{}),this.state.error&&this.state.error.toString(),U.jsx("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}class k$ extends gt.Component{constructor(i,t){super(i,t),Vn(this,"changeCurrentFolio",n=>{const{side:r,documentView:l,documentViewActions:h}=this.props,{dataset:d}=n.currentTarget;if(typeof d.id>"u"||d.id.length===0)return;const p=d.id;h.changeCurrentFolio(p,r,l[r].transcriptionType)}),this.changeCurrentFolio=this.changeCurrentFolio.bind(this)}render(){const{side:i,document:t,documentView:n,bottom:r=!1}=this.props;if(n[i].iiifShortID==="-1")return null;const l=t.folioIndex[n[i].iiifShortID].name;return U.jsx("div",{className:r?"paginationComponent bottom":"paginationComponent",children:U.jsxs("div",{className:"paginationControl",children:[U.jsx("span",{title:"Go back",onClick:this.changeCurrentFolio,"data-id":n[i].previousFolioShortID,className:n[i].hasPrevious?"arrow":"arrow disabled",children:U.jsx(Qk,{})}),U.jsx("span",{className:"folioName",children:l}),U.jsxs("span",{title:"Go forward",onClick:this.changeCurrentFolio,"data-id":n[i].nextFolioShortID,className:n[i].hasNext?"arrow":"arrow disabled",children:[" ",U.jsx(eP,{})]})]})})}}function P$(e){return{document:e.document}}const sa=qi(P$)(k$);class R$ extends gt.Component{render(){const{html:i,htmlToReactParserOptionsSide:t}=this.props;return Wi(i,t)}}function vl({side:e,documentView:i,documentViewActions:t}){return U.jsxs("div",{style:{position:"relative"},className:"watermarkContainer",children:[i.left.iiifShortID!=="-1"&&i.right.iiifShortID!=="-1"?U.jsx(rs,{side:e,documentView:i,documentViewActions:t}):null,U.jsxs("div",{className:"transcriptContent",children:[U.jsx(sa,{side:e,className:"pagination_upper",documentView:i,documentViewActions:t}),U.jsx("div",{className:"watermark",children:U.jsx("div",{className:e!=="third"?"watermark_contents":"third_pane_blank"})})]})]})}function _$(e,i,t){return t.includes(e)&&(i.attribs.classname?i.attribs.classname+=" selected-zone":i.attribs.classname="selected-zone"),i}function Qf(e,i){if(e&&i.attribs["data-facs"]){const t=i.attribs["data-facs"].split(" ");return _$(e,i,t)}return i}function qE(e,i){var t;const n=(t=e.attribs)==null?void 0:t.ana;return n&&n.split(" ").map(r=>r.slice(1)).some(r=>i.includes(r))&&(e.attribs.class="active"),e}function O$(e,i){return{replace(t){var n,r,l;switch(t.name){case"div":return t=qE(t,i),Qf(e,t);case"tei-seg":return qE(t,i);case"tei-line":return Qf(e,t);case"tei-surface":return Qf(e,t);case"tei-note":{const h=((n=t.children[0])==null?void 0:n.data)||"",d=t.attribs.n||t.attribs.id;return d?U.jsx(C$,{commentID:d,text:h}):t}case"tei-figure":{const h=t.children.find(g=>g.name==="tei-graphic"),d=(r=h?.attribs)==null?void 0:r.url;if(!d)return t;const p=t.children.find(g=>g.name==="tei-figdesc"),f=(l=p?.children[0])==null?void 0:l.data;return U.jsxs("figure",{className:"inline-figure",children:[U.jsx("img",{src:d,alt:f||"",className:"inline-image"}),f?U.jsx("figcaption",{children:f}):null]})}default:return t}}}}function D$(e){const[i]=ng(),{side:t,folioID:n,transcriptionType:r,document:l,documentView:h,documentViewActions:d}=e,{tagsLeft:p,tagsRight:f}=z.useContext(cd),g=t==="left"?p:f;if(n==="-1")return U.jsx(vl,{documentView:h,documentViewActions:d,side:t});const y=l.folioIndex[n];if(y&&!y.loading&&!y.transcription)return U.jsx(vl,{documentView:h,documentViewActions:d,side:t});const S=y&&y.transcription&&y.transcription[r];if(y&&!y.loading&&!S)return U.jsx(vl,{documentView:h,documentViewActions:d,side:t});const C=O$(i.get("zone"),g),k=S&&S.html,P=S&&S.layout;return y&&!y.loading&&!k?U.jsx(vl,{documentView:h,documentViewActions:d,side:t}):y&&y.loading?U.jsxs("div",{children:[U.jsx(rs,{side:t,documentView:h,documentViewActions:d,documentName:l.variorum&&y.doc_id}),U.jsx(sa,{side:t,documentView:h,documentViewActions:d}),U.jsx("div",{className:"transcriptionViewComponent",children:U.jsx("div",{className:"transcriptContent",children:U.jsx(GE,{children:U.jsx(Qg,{delay:3e3,color:"dark"})})})}),U.jsx(sa,{side:t,documentView:h,documentViewActions:d,bottom:!0})]}):U.jsxs("div",{style:{position:"relative",overflow:"auto"},children:[U.jsx(rs,{side:t,documentView:h,documentViewActions:d,documentName:l.variorum&&y.doc_id}),U.jsx(sa,{side:t,documentView:h,documentViewActions:d}),U.jsx("div",{className:"transcriptionViewComponent",children:U.jsx("div",{className:"transcriptContent",children:U.jsx(GE,{children:U.jsx("div",{className:"surface grid-mode",style:{gridTemplateAreas:P},children:U.jsx(R$,{html:k,htmlToReactParserOptionsSide:C})})})})}),U.jsx(sa,{side:t,documentView:h,documentViewActions:d,bottom:!0})]})}function A$(e){return{annotations:e.annotations,document:e.document}}const I$=qi(A$)(D$);class M$ extends z.Component{render(){const{side:i,document:t,documentView:n,documentViewActions:r}=this.props,l=`xmlViewComponent ${i}`,h=`xmlViewComponent_${i}`,d=n[i].iiifShortID;if(d==="-1")return U.jsx("div",{className:"watermark",children:U.jsx("div",{className:"watermark_contents"})});const p=t.folioIndex[d];if(!p.transcription)return U.jsx(vl,{documentView:n,documentViewActions:r,side:i});const{transcriptionType:f}=n[i],g=p.transcription[f],{xml:y}=g;return U.jsxs("div",{id:h,className:l,style:{position:"relative",overflow:"auto"},children:[U.jsx(rs,{side:i,documentView:n,documentViewActions:r,documentName:t.variorum&&p.doc_id}),U.jsx(sa,{side:i,className:"pagination_upper",documentView:n,documentViewActions:r}),U.jsx("div",{className:"xmlContentInner",children:U.jsx("pre",{children:y})})]})}}function z$(e){return{document:e.document}}const L$=qi(z$)(M$),em={isXMLMode:!1,width:0};function F$(e){const[i,t]=z.useState(!e.document.variorum),[n,r]=z.useState(!1),[l,h]=z.useState(em),[d,p]=z.useState(em),[f,g]=z.useState(em),[y,S]=z.useState(e.containerWidth<960),C=nN(),k=Fl(),P=mo();z.useEffect(()=>{ym(e,"RouteListenerSaga.userNavigation",P.pathname)},[e.config]),z.useEffect(()=>{S(e.containerWidth<960)},[e.containerWidth]);const R=xe=>{k(xe+P.search)},D=()=>{const{folioID:xe,transcriptionType:me,folioID2:De,transcriptionType2:Oe,folioID3:$,transcriptionType3:He}=C,{document:ot}=e,ee=ot.variorum?Object.keys(ot.transcriptionTypes[Object.keys(ot.transcriptionTypes)[0]])[0]:Object.keys(ot.transcriptionTypes)[0];if(!xe)return{left:{folioID:"-1",transcriptionType:"g"},right:{folioID:"-1",transcriptionType:ot.variorum?"g":ee},third:{folioID:"-1",transcriptionType:"g"}};const kt=Object.keys(ot.folioIndex).includes(xe),tt=kt?xe:"-1";let lt,vt,_t,St,nt;if(De){const Bt=Object.keys(ot.folioIndex).includes(De);if(lt=kt?me:"g",vt=Bt?De:"-1",_t=Bt?Oe||ee:"g",$){const Gt=Object.keys(ot.folioIndex).includes($);St=Gt?$:"-1",nt=Gt?He||ee:"g"}else St="-1",nt="g"}else lt="f",vt=kt?xe:"-1",_t=kt?me||ee:"g",St="-1",nt="g";return{left:{folioID:tt,transcriptionType:lt},right:{folioID:vt,transcriptionType:_t},third:{folioID:St,transcriptionType:nt}}};z.useEffect(()=>{ym(e,"DiplomaticActions.setFixedFrameMode",!0)},[]);const q=(xe,me)=>{xe==="left"?h({...l,isXMLMode:me}):xe==="right"?p({...d,isXMLMode:me}):g({...f,isXMLMode:me})},G=(xe,me)=>{if(r(me),me){const[De,Oe]=Z(xe);le(De,"f",Oe,"f")}},ne=(xe,me)=>{var De;const{document:Oe}=e;if(Oe.folioByName[xe]){const $=(De=Oe.folioByName[xe])==null?void 0:De.id;ge($,me,D()[me].transcriptionType)}},Z=xe=>{const{document:me}=e,De=me.folioIndex[xe],{name:Oe,pageNumber:$}=De,He=me.variorum?me.folios.filter(ot=>ot.doc_id===De.doc_id):me.folios;return!Oe.endsWith("v")&&Oe.endsWith("r")?[He[$-1].id,He[$].id]:He[$+1]?[He[$].id,He[$+1].id]:[He[$].id,null]},Y=(xe,me,De)=>{h({...l,width:xe}),p({...d,width:me}),g({...f,width:De})},se=(xe,me)=>{const De=D();if(xe==="left"){const{folioID:Oe}=De.left,$=De.right;le(Oe,me,$.folioID,$.transcriptionType,De.third.folioID,De.third.transcriptionType)}else if(xe==="right"){const{folioID:Oe}=De.right,$=De.left;le($.folioID,$.transcriptionType,Oe,me,De.third.folioID,De.third.transcriptionType)}else{const{folioID:Oe}=De.third;le(De.left.folioID,De.left.transcriptionType,De.right.folioID,De.right.transcriptionType,Oe,me)}},le=(xe,me,De,Oe,$,He)=>{if(!xe){R("/ec");return}if(!me){R(`/ec/${xe}`);return}if(!De){R(`/ec/${xe}/${me}`);return}if(!Oe){R(`/ec/${xe}/${me}/${De}/tc`);return}if(!$){R(`/ec/${xe}/${me}/${De}/${Oe}`);return}if(!He){R(`/ec/${xe}/${me}/${De}/${Oe}/${$}/f`);return}R(`/ec/${xe}/${me}/${De}/${Oe}/${$}/${He}`)},ge=(xe,me,De)=>{const Oe=D();if(n){const[$,He]=Z(xe);$&&le($,"f",He,"f")}else if(i)if(me==="left"){const $=Oe.right;le(xe,De,xe,$.transcriptionType)}else if(me==="right"){const $=Oe.left;le(xe,$.transcriptionType,xe,De)}else le(Oe.left.folioID,Oe.left.transcriptionType,Oe.right.folioID,Oe.right.transcriptionType,xe,De);else if(me==="left"){const $=Oe.right,He=Oe.third;le(xe,De,$.folioID,$.transcriptionType,He.folioID,He.transcriptionType)}else if(me==="right"){const $=Oe.left,He=Oe.third;le($.folioID,$.transcriptionType,xe,De,He.folioID,He.transcriptionType)}else le(Oe.left.folioID,Oe.left.transcriptionType,Oe.right.folioID,Oe.right.transcriptionType,xe,De)},ue=xe=>{const{transcriptionType:me}=D()[xe],De=xe==="left"?l.isXMLMode:xe==="right"?d.isXMLMode:f.isXMLMode;return me==="g"?"ImageGridView":me==="f"?"ImageView":me==="glossary"?"GlossaryView":me==="notes"?"NotesView":De?"XMLView":"TranscriptionView"},pe=xe=>{const{document:me}=e,De=D()[xe];if(De.folioID==="-1")return{...xe==="left"?l:xe==="right"?d:f,iiifShortID:De.folioID,transcriptionType:De.transcriptionType};const Oe=De.folioID,$=me.variorum?me.folios.filter(lt=>lt.doc_id===me.folioIndex[Oe].doc_id):me.folios,He=$.length;let ot="",ee="",kt=!1,tt=!1;if(n){const[lt]=Z(Oe),vt=me.folioIndex[lt].pageNumber;vt>-1&&(tt=vt<He-2,ot=tt?$[vt+2].id:"",kt=vt>1&&He>1,ee=kt?$[vt-2].id:"")}else{const lt=me.folioIndex[Oe].pageNumber;lt>-1&&(tt=lt<He-1,ot=tt?$[lt+1].id:"",kt=lt>0&&He>1,ee=kt?$[lt-1].id:"")}return{...xe==="left"?l:xe==="right"?d:f,iiifShortID:Oe,transcriptionType:De.transcriptionType,hasPrevious:kt,hasNext:tt,previousFolioShortID:ee,nextFolioShortID:ot,documentID:me.variorum?me.folioIndex[Oe].doc_id:me.documentName}},we={setXMLMode:q,setLinkedMode:t,setBookMode:G,changeTranscriptionType:se,changeCurrentFolio:ge,jumpToFolio:ne},ve=(xe,me)=>{const De=ue(xe),Oe=Ae(xe),$=me[xe].iiifShortID,He=me[xe].documentID,{transcriptionType:ot}=me[xe];return De==="ImageView"?U.jsx(_Y,{folioID:$,documentView:me,documentViewActions:we,side:xe},Oe):De==="TranscriptionView"?U.jsx(I$,{documentView:me,documentViewActions:we,side:xe,folioID:$,transcriptionType:ot},Oe):De==="XMLView"?U.jsx(L$,{folioID:$,transcriptionType:ot,documentView:me,documentViewActions:we,side:xe},Oe):De==="ImageGridView"?e.tagExplorerMode?U.jsx(_V,{side:xe,documentView:me}):U.jsx(SY,{documentView:me,documentViewActions:we,side:xe,selectedDoc:He||e.document.variorum&&Object.keys(e.document.derivativeNames)[xe==="left"?0:xe==="right"?1:Object.keys(e.document.derivativeNames).length>2?2:1]},Oe):De==="GlossaryView"?U.jsx(bY,{documentView:me,documentViewActions:we,side:xe},Oe):De==="NotesView"?U.jsx(y$,{documentView:me,documentViewActions:we,side:xe},Oe):U.jsx("div",{children:"ERROR: Unrecognized viewType."})},Ae=xe=>{const me=xe==="left"?l:xe==="right"?d:f;return me.viewType==="ImageGridView"?`${xe}-${me.viewType}`:typeof me.folio<"u"?`${xe}-${me.viewType}-${me.folio.id}`:`${xe}-${me.viewType}`};if(!e.document.loaded)return null;const je={linkedMode:i,bookMode:n,left:pe("left"),right:pe("right"),third:pe("third")};return{...pe("right")},YF("md",e.width)&&!y?U.jsx("div",{style:{height:"100%"},children:U.jsx(T$,{leftPane:ve("left",je),rightPane:ve("right",je),thirdPane:ve("third",je),onWidth:Y,threePanel:e.document.threePanel})}):U.jsx("div",{style:{height:"100%"},children:U.jsx(x$,{singlePane:ve(pe("left").iiifShortID==="-1"?"left":"right",je)})})}function N$(e){return{document:e.document,glossary:e.glossary}}const dl=IT()(qi(N$)(F$));function H$(e){const i=z.useRef(!1),{pathname:t}=mo(),n=()=>{ym(e,"RouteListenerSaga.userNavigation",t)};return z.useEffect(()=>{i.current||(n(),i.current=!0)},[]),z.useEffect(()=>{n()},[t]),null}function j$(e){return{}}const B$=qi(j$)(H$);function bP(e){const[i,t]=z.useState(0),[n,r]=z.useState("min(100%, 100dvh"),l=z.useRef(null);z.useEffect(()=>{JF().listen(()=>{window.scrollTo(0,0)})},[]),z.useEffect(()=>{l.current&&(t(l.current.offsetWidth),l.current.clientHeight===0&&r("100dvh"))},[l]);const{fixedFrameMode:h}=e.diplomatic,d=h?"editioncrafter":"editioncrafter sticky",p=U.jsxs("div",{id:"diplomatic",className:d,ref:l,style:{height:n},children:[U.jsx(B$,{}),U.jsx("div",{id:"content",style:{height:"100%"},children:U.jsxs(vN,{children:[U.jsx(Bo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2/:folioID3/:transcriptionType3",element:U.jsx(dl,{...e,containerWidth:i}),exact:!0}),U.jsx(Bo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2",element:U.jsx(dl,{...e,containerWidth:i}),exact:!0}),U.jsx(Bo,{path:"/ec/:folioID/:transcriptionType",element:U.jsx(dl,{...e,containerWidth:i}),exact:!0}),U.jsx(Bo,{path:"/ec/:folioID",element:U.jsx(dl,{...e,containerWidth:i}),exact:!0}),U.jsx(Bo,{path:"/ec",element:U.jsx(dl,{...e,containerWidth:i}),exact:!0}),U.jsx(Bo,{path:"/",element:U.jsx(mN,{to:"/ec"}),exact:!0})]})})]}),f=e.tagExplorerMode!==!0?U.jsx(bN,{children:U.jsx(wN,{children:p})}):p;return U.jsx(R5,{store:e.store,children:f})}bP.propTypes={store:bt.object.isRequired,config:bt.object.isRequired};function V$(e){return{diplomatic:e.diplomatic,documentView:e.documentView}}const U$=IT()(qi(V$)(bP));function DJ(e){const i=dT({palette:{primary:{main:"#792421"},secondary:{main:"#EBE3DD"}}}),t=e.tagExplorerMode===!0;return U.jsx(GF,{theme:i,children:U.jsx(U$,{config:e,store:Sj(e),tagExplorerMode:t})})}var wP={exports:{}};const W$={},G$=Object.freeze(Object.defineProperty({__proto__:null,default:W$},Symbol.toStringTag,{value:"Module"})),XE=Bm(G$);(function(e,i){var t=void 0,n=function(r){return t||(t=new Promise(function(l,h){var d=typeof r<"u"?r:{},p=d.onAbort;d.onAbort=function(T){h(new Error(T)),p&&p(T)},d.postRun=d.postRun||[],d.postRun.push(function(){l(d)}),e=void 0;var f;f||(f=typeof d<"u"?d:{});var g=typeof window=="object",y=typeof WorkerGlobalScope<"u",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";f.onRuntimeInitialized=function(){function T(Ee,Ge){switch(typeof Ge){case"boolean":xi(Ee,Ge?1:0);break;case"number":Ts(Ee,Ge);break;case"string":Cs(Ee,Ge,-1,-1);break;case"object":if(Ge===null)mc(Ee);else if(Ge.length!=null){var yt=Ss(Ge,xs);Fa(Ee,yt,Ge.length,-1),Gr(yt)}else ks(Ee,"Wrong API use : tried to return a value of an unknown type ("+Ge+").",-1);break;default:mc(Ee)}}function _(Ee,Ge){for(var yt=[],It=0;It<Ee;It+=1){var qt=Gt(Ge+4*It,"i32"),mn=nh(qt);if(mn===1||mn===2)qt=Es(qt);else if(mn===3)qt=rh(qt);else if(mn===4){mn=qt,qt=ih(mn),mn=La(mn);for(var zi=new Uint8Array(qt),Si=0;Si<qt;Si+=1)zi[Si]=ue[mn+Si];qt=zi}else qt=null;yt.push(qt)}return yt}function H(Ee,Ge){this.Qa=Ee,this.db=Ge,this.Oa=1,this.lb=[]}function K(Ee,Ge){if(this.db=Ge,Ge=At(Ee)+1,this.eb=rr(Ge),this.eb===null)throw Error("Unable to allocate memory for the SQL string");fe(Ee,pe,this.eb,Ge),this.kb=this.eb,this.Za=this.pb=null}function de(Ee){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Ee!=null){var Ge=this.filename,yt="/",It=Ge;if(yt&&(yt=typeof yt=="string"?yt:Rr(yt),It=Ge?Se(yt+"/"+Ge):yt),Ge=mt(!0,!0),It=sc(It,Ge),Ee){if(typeof Ee=="string"){yt=Array(Ee.length);for(var qt=0,mn=Ee.length;qt<mn;++qt)yt[qt]=Ee.charCodeAt(qt);Ee=yt}Eo(It,Ge|146),yt=Or(It,577),vs(yt,Ee,0,Ee.length,0),gs(yt),Eo(It,Ge)}}this.handleError(Tt(this.filename,Ce)),this.db=Gt(Ce,"i32"),or(this.db),this.fb={},this.Sa={}}var Ce=mr(4),Le=f.cwrap,Tt=Le("sqlite3_open","number",["string","number"]),Qt=Le("sqlite3_close_v2","number",["number"]),en=Le("sqlite3_exec","number",["number","string","number","number","number"]),zn=Le("sqlite3_changes","number",["number"]),bi=Le("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ud=Le("sqlite3_sql","string",["number"]),Wd=Le("sqlite3_normalized_sql","string",["number"]),dc=Le("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Gd=Le("sqlite3_bind_text","number",["number","number","number","number","number"]),hc=Le("sqlite3_bind_blob","number",["number","number","number","number","number"]),qd=Le("sqlite3_bind_double","number",["number","number","number"]),Xd=Le("sqlite3_bind_int","number",["number","number","number"]),Ma=Le("sqlite3_bind_parameter_index","number",["number","string"]),Kd=Le("sqlite3_step","number",["number"]),Yd=Le("sqlite3_errmsg","string",["number"]),Zd=Le("sqlite3_column_count","number",["number"]),$d=Le("sqlite3_data_count","number",["number"]),pc=Le("sqlite3_column_double","number",["number","number"]),za=Le("sqlite3_column_text","string",["number","number"]),Xi=Le("sqlite3_column_blob","number",["number","number"]),wi=Le("sqlite3_column_bytes","number",["number","number"]),qr=Le("sqlite3_column_type","number",["number","number"]),Jd=Le("sqlite3_column_name","string",["number","number"]),Qd=Le("sqlite3_reset","number",["number"]),eh=Le("sqlite3_clear_bindings","number",["number"]),th=Le("sqlite3_finalize","number",["number"]),fc=Le("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),nh=Le("sqlite3_value_type","number",["number"]),ih=Le("sqlite3_value_bytes","number",["number"]),rh=Le("sqlite3_value_text","string",["number"]),La=Le("sqlite3_value_blob","number",["number"]),Es=Le("sqlite3_value_double","number",["number"]),Ts=Le("sqlite3_result_double","",["number","number"]),mc=Le("sqlite3_result_null","",["number"]),Cs=Le("sqlite3_result_text","",["number","string","number","number"]),Fa=Le("sqlite3_result_blob","",["number","number","number","number"]),xi=Le("sqlite3_result_int","",["number","number"]),ks=Le("sqlite3_result_error","",["number","string","number"]),Yn=Le("sqlite3_aggregate_context","number",["number","number"]),or=Le("RegisterExtensionFunctions","number",["number"]),Ps=Le("sqlite3_update_hook","number",["number","number","number"]);H.prototype.bind=function(Ee){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Ee)?this.Cb(Ee):Ee!=null&&typeof Ee=="object"?this.Db(Ee):!0},H.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Ee=Kd(this.Qa);switch(Ee){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Ee)}},H.prototype.wb=function(Ee){return Ee==null&&(Ee=this.Oa,this.Oa+=1),pc(this.Qa,Ee)},H.prototype.Gb=function(Ee){if(Ee==null&&(Ee=this.Oa,this.Oa+=1),Ee=za(this.Qa,Ee),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Ee)},H.prototype.Hb=function(Ee){return Ee==null&&(Ee=this.Oa,this.Oa+=1),za(this.Qa,Ee)},H.prototype.getBlob=function(Ee){Ee==null&&(Ee=this.Oa,this.Oa+=1);var Ge=wi(this.Qa,Ee);Ee=Xi(this.Qa,Ee);for(var yt=new Uint8Array(Ge),It=0;It<Ge;It+=1)yt[It]=ue[Ee+It];return yt},H.prototype.get=function(Ee,Ge){Ge=Ge||{},Ee!=null&&this.bind(Ee)&&this.step(),Ee=[];for(var yt=$d(this.Qa),It=0;It<yt;It+=1)switch(qr(this.Qa,It)){case 1:var qt=Ge.useBigInt?this.Gb(It):this.wb(It);Ee.push(qt);break;case 2:Ee.push(this.wb(It));break;case 3:Ee.push(this.Hb(It));break;case 4:Ee.push(this.getBlob(It));break;default:Ee.push(null)}return Ee},H.prototype.getColumnNames=function(){for(var Ee=[],Ge=Zd(this.Qa),yt=0;yt<Ge;yt+=1)Ee.push(Jd(this.Qa,yt));return Ee},H.prototype.getAsObject=function(Ee,Ge){Ee=this.get(Ee,Ge),Ge=this.getColumnNames();for(var yt={},It=0;It<Ge.length;It+=1)yt[Ge[It]]=Ee[It];return yt},H.prototype.getSQL=function(){return Ud(this.Qa)},H.prototype.getNormalizedSQL=function(){return Wd(this.Qa)},H.prototype.run=function(Ee){return Ee!=null&&this.bind(Ee),this.step(),this.reset()},H.prototype.sb=function(Ee,Ge){Ge==null&&(Ge=this.Oa,this.Oa+=1),Ee=Fe(Ee);var yt=Ss(Ee,xs);this.lb.push(yt),this.db.handleError(Gd(this.Qa,Ge,yt,Ee.length-1,0))},H.prototype.Bb=function(Ee,Ge){Ge==null&&(Ge=this.Oa,this.Oa+=1);var yt=Ss(Ee,xs);this.lb.push(yt),this.db.handleError(hc(this.Qa,Ge,yt,Ee.length,0))},H.prototype.rb=function(Ee,Ge){Ge==null&&(Ge=this.Oa,this.Oa+=1),this.db.handleError((Ee===(Ee|0)?Xd:qd)(this.Qa,Ge,Ee))},H.prototype.Eb=function(Ee){Ee==null&&(Ee=this.Oa,this.Oa+=1),hc(this.Qa,Ee,0,0,0)},H.prototype.tb=function(Ee,Ge){switch(Ge==null&&(Ge=this.Oa,this.Oa+=1),typeof Ee){case"string":this.sb(Ee,Ge);return;case"number":this.rb(Ee,Ge);return;case"bigint":this.sb(Ee.toString(),Ge);return;case"boolean":this.rb(Ee+0,Ge);return;case"object":if(Ee===null){this.Eb(Ge);return}if(Ee.length!=null){this.Bb(Ee,Ge);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Ee+")."},H.prototype.Db=function(Ee){var Ge=this;return Object.keys(Ee).forEach(function(yt){var It=Ma(Ge.Qa,yt);It!==0&&Ge.tb(Ee[yt],It)}),!0},H.prototype.Cb=function(Ee){for(var Ge=0;Ge<Ee.length;Ge+=1)this.tb(Ee[Ge],Ge+1);return!0},H.prototype.reset=function(){return this.freemem(),eh(this.Qa)===0&&Qd(this.Qa)===0},H.prototype.freemem=function(){for(var Ee;(Ee=this.lb.pop())!==void 0;)Gr(Ee)},H.prototype.free=function(){this.freemem();var Ee=th(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Ee},K.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Ee=Ro(),Ge=mr(4);dn(Ce),dn(Ge);try{this.db.handleError(dc(this.db.db,this.kb,-1,Ce,Ge)),this.kb=Gt(Ge,"i32");var yt=Gt(Ce,"i32");return yt===0?(this.mb(),{done:!0}):(this.Za=new H(yt,this.db),this.db.fb[yt]=this.Za,{value:this.Za,done:!1})}catch(It){throw this.pb=I(this.kb),this.mb(),It}finally{Po(Ee)}},K.prototype.mb=function(){Gr(this.eb),this.eb=null},K.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:I(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(K.prototype[Symbol.iterator]=function(){return this}),de.prototype.run=function(Ee,Ge){if(!this.db)throw"Database closed";if(Ge){Ee=this.prepare(Ee,Ge);try{Ee.step()}finally{Ee.free()}}else this.handleError(en(this.db,Ee,0,0,Ce));return this},de.prototype.exec=function(Ee,Ge,yt){if(!this.db)throw"Database closed";var It=Ro(),qt=null;try{var mn=ws(Ee),zi=mr(4);for(Ee=[];Gt(mn,"i8")!==0;){dn(Ce),dn(zi),this.handleError(dc(this.db,mn,-1,Ce,zi));var Si=Gt(Ce,"i32");if(mn=Gt(zi,"i32"),Si!==0){var Ei=null;for(qt=new H(Si,this),Ge!=null&&qt.bind(Ge);qt.step();)Ei===null&&(Ei={columns:qt.getColumnNames(),values:[]},Ee.push(Ei)),Ei.values.push(qt.get(null,yt));qt.free()}}return Ee}catch(Li){throw qt&&qt.free(),Li}finally{Po(It)}},de.prototype.each=function(Ee,Ge,yt,It,qt){typeof Ge=="function"&&(It=yt,yt=Ge,Ge=void 0),Ee=this.prepare(Ee,Ge);try{for(;Ee.step();)yt(Ee.getAsObject(null,qt))}finally{Ee.free()}if(typeof It=="function")return It()},de.prototype.prepare=function(Ee,Ge){if(dn(Ce),this.handleError(bi(this.db,Ee,-1,Ce,0)),Ee=Gt(Ce,"i32"),Ee===0)throw"Nothing to prepare";var yt=new H(Ee,this);return Ge!=null&&yt.bind(Ge),this.fb[Ee]=yt},de.prototype.iterateStatements=function(Ee){return new K(Ee,this)},de.prototype.export=function(){Object.values(this.fb).forEach(function(Ge){Ge.free()}),Object.values(this.Sa).forEach(fr),this.Sa={},this.handleError(Qt(this.db));var Ee=hr(this.filename);return this.handleError(Tt(this.filename,Ce)),this.db=Gt(Ce,"i32"),or(this.db),Ee},de.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Ee){Ee.free()}),Object.values(this.Sa).forEach(fr),this.Sa={},this.Ya&&(fr(this.Ya),this.Ya=void 0),this.handleError(Qt(this.db)),Pa("/"+this.filename),this.db=null)},de.prototype.handleError=function(Ee){if(Ee===0)return null;throw Ee=Yd(this.db),Error(Ee)},de.prototype.getRowsModified=function(){return zn(this.db)},de.prototype.create_function=function(Ee,Ge){Object.prototype.hasOwnProperty.call(this.Sa,Ee)&&(fr(this.Sa[Ee]),delete this.Sa[Ee]);var yt=ko(function(It,qt,mn){qt=_(qt,mn);try{var zi=Ge.apply(null,qt)}catch(Si){ks(It,Si,-1);return}T(It,zi)},"viii");return this.Sa[Ee]=yt,this.handleError(fc(this.db,Ee,Ge.length,1,0,yt,0,0,0)),this},de.prototype.create_aggregate=function(Ee,Ge){var yt=Ge.init||function(){return null},It=Ge.finalize||function(Ei){return Ei},qt=Ge.step;if(!qt)throw"An aggregate function must have a step function in "+Ee;var mn={};Object.hasOwnProperty.call(this.Sa,Ee)&&(fr(this.Sa[Ee]),delete this.Sa[Ee]),Ge=Ee+"__finalize",Object.hasOwnProperty.call(this.Sa,Ge)&&(fr(this.Sa[Ge]),delete this.Sa[Ge]);var zi=ko(function(Ei,Li,Na){var Ir=Yn(Ei,1);Object.hasOwnProperty.call(mn,Ir)||(mn[Ir]=yt()),Li=_(Li,Na),Li=[mn[Ir]].concat(Li);try{mn[Ir]=qt.apply(null,Li)}catch(oh){delete mn[Ir],ks(Ei,oh,-1)}},"viii"),Si=ko(function(Ei){var Li=Yn(Ei,1);try{var Na=It(mn[Li])}catch(Ir){delete mn[Li],ks(Ei,Ir,-1);return}T(Ei,Na),delete mn[Li]},"vi");return this.Sa[Ee]=zi,this.Sa[Ge]=Si,this.handleError(fc(this.db,Ee,qt.length-1,1,0,0,zi,Si,0)),this},de.prototype.updateHook=function(Ee){this.Ya&&(Ps(this.db,0,0),fr(this.Ya),this.Ya=void 0),Ee&&(this.Ya=ko(function(Ge,yt,It,qt,mn){switch(yt){case 18:Ge="insert";break;case 23:Ge="update";break;case 9:Ge="delete";break;default:throw"unknown operationCode in updateHook callback: "+yt}if(It=It?wt(pe,It):"",qt=qt?wt(pe,qt):"",mn>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Ee(Ge,It,qt,Number(mn))},"viiiij"),Ps(this.db,this.Ya,0))},f.Database=de};var C={...f},k="./this.program",P=(T,_)=>{throw _},R="",D,q;if(S){var G=XE;R=__dirname+"/",q=T=>(T=De(T)?new URL(T):T,G.readFileSync(T)),D=async T=>(T=De(T)?new URL(T):T,G.readFileSync(T,void 0)),!f.thisProgram&&1<process.argv.length&&(k=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=f,P=(T,_)=>{throw process.exitCode=T,_}}else(g||y)&&(y?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),R=R.startsWith("blob:")?"":R.slice(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1),y&&(q=T=>{var _=new XMLHttpRequest;return _.open("GET",T,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),D=async T=>{if(De(T))return new Promise((H,K)=>{var de=new XMLHttpRequest;de.open("GET",T,!0),de.responseType="arraybuffer",de.onload=()=>{de.status==200||de.status==0&&de.response?H(de.response):K(de.status)},de.onerror=K,de.send(null)});var _=await fetch(T,{credentials:"same-origin"});if(_.ok)return _.arrayBuffer();throw Error(_.status+" : "+_.url)});var ne=f.print||console.log.bind(console),Z=f.printErr||console.error.bind(console);Object.assign(f,C),C=null,f.thisProgram&&(k=f.thisProgram);var Y=f.wasmBinary,se,le=!1,ge,ue,pe,we,ve,Ae,je,xe,me,De=T=>T.startsWith("file://");function Oe(){var T=se.buffer;f.HEAP8=ue=new Int8Array(T),f.HEAP16=we=new Int16Array(T),f.HEAPU8=pe=new Uint8Array(T),f.HEAPU16=new Uint16Array(T),f.HEAP32=ve=new Int32Array(T),f.HEAPU32=Ae=new Uint32Array(T),f.HEAPF32=je=new Float32Array(T),f.HEAPF64=me=new Float64Array(T),f.HEAP64=xe=new BigInt64Array(T),f.HEAPU64=new BigUint64Array(T)}var $=0,He=null;function ot(T){var _;throw(_=f.onAbort)==null||_.call(f,T),T="Aborted("+T+")",Z(T),le=!0,new WebAssembly.RuntimeError(T+". Build with -sASSERTIONS for more info.")}var ee;async function kt(T){if(!Y)try{var _=await D(T);return new Uint8Array(_)}catch{}if(T==ee&&Y)T=new Uint8Array(Y);else if(q)T=q(T);else throw"both async and sync fetching of the wasm failed";return T}async function tt(T,_){try{var H=await kt(T);return await WebAssembly.instantiate(H,_)}catch(K){Z(`failed to asynchronously prepare wasm: ${K}`),ot(K)}}async function lt(T){var _=ee;if(!Y&&typeof WebAssembly.instantiateStreaming=="function"&&!De(_)&&!S)try{var H=fetch(_,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(H,T)}catch(K){Z(`wasm streaming compile failed: ${K}`),Z("falling back to ArrayBuffer instantiation")}return tt(_,T)}class vt{constructor(_){Vn(this,"name","ExitStatus"),this.message=`Program terminated with exit(${_})`,this.status=_}}var _t=T=>{for(;0<T.length;)T.shift()(f)},St=[],nt=[],Bt=()=>{var T=f.preRun.shift();nt.unshift(T)};function Gt(T,_="i8"){switch(_.endsWith("*")&&(_="*"),_){case"i1":return ue[T];case"i8":return ue[T];case"i16":return we[T>>1];case"i32":return ve[T>>2];case"i64":return xe[T>>3];case"float":return je[T>>2];case"double":return me[T>>3];case"*":return Ae[T>>2];default:ot(`invalid type for getValue: ${_}`)}}var Vt=f.noExitRuntime||!0;function dn(T){var _="i32";switch(_.endsWith("*")&&(_="*"),_){case"i1":ue[T]=0;break;case"i8":ue[T]=0;break;case"i16":we[T>>1]=0;break;case"i32":ve[T>>2]=0;break;case"i64":xe[T>>3]=BigInt(0);break;case"float":je[T>>2]=0;break;case"double":me[T>>3]=0;break;case"*":Ae[T>>2]=0;break;default:ot(`invalid type for setValue: ${_}`)}}var Ft=typeof TextDecoder<"u"?new TextDecoder:void 0,wt=(T,_=0,H=NaN)=>{var K=_+H;for(H=_;T[H]&&!(H>=K);)++H;if(16<H-_&&T.buffer&&Ft)return Ft.decode(T.subarray(_,H));for(K="";_<H;){var de=T[_++];if(de&128){var Ce=T[_++]&63;if((de&224)==192)K+=String.fromCharCode((de&31)<<6|Ce);else{var Le=T[_++]&63;de=(de&240)==224?(de&15)<<12|Ce<<6|Le:(de&7)<<18|Ce<<12|Le<<6|T[_++]&63,65536>de?K+=String.fromCharCode(de):(de-=65536,K+=String.fromCharCode(55296|de>>10,56320|de&1023))}}else K+=String.fromCharCode(de)}return K},I=(T,_)=>T?wt(pe,T,_):"",Q=(T,_)=>{for(var H=0,K=T.length-1;0<=K;K--){var de=T[K];de==="."?T.splice(K,1):de===".."?(T.splice(K,1),H++):H&&(T.splice(K,1),H--)}if(_)for(;H;H--)T.unshift("..");return T},Se=T=>{var _=T.charAt(0)==="/",H=T.slice(-1)==="/";return(T=Q(T.split("/").filter(K=>!!K),!_).join("/"))||_||(T="."),T&&H&&(T+="/"),(_?"/":"")+T},Ve=T=>{var _=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(T).slice(1);return T=_[0],_=_[1],!T&&!_?".":(_&&(_=_.slice(0,-1)),T+_)},ze=T=>T&&T.match(/([^\/]+|\/)\/*$/)[1],Je=()=>{if(S){var T=XE;return _=>T.randomFillSync(_)}return _=>crypto.getRandomValues(_)},Xe=T=>{(Xe=Je())(T)},Et=(...T)=>{for(var _="",H=!1,K=T.length-1;-1<=K&&!H;K--){if(H=0<=K?T[K]:"/",typeof H!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!H)return"";_=H+"/"+_,H=H.charAt(0)==="/"}return _=Q(_.split("/").filter(de=>!!de),!H).join("/"),(H?"/":"")+_||"."},Lt=[],At=T=>{for(var _=0,H=0;H<T.length;++H){var K=T.charCodeAt(H);127>=K?_++:2047>=K?_+=2:55296<=K&&57343>=K?(_+=4,++H):_+=3}return _},fe=(T,_,H,K)=>{if(!(0<K))return 0;var de=H;K=H+K-1;for(var Ce=0;Ce<T.length;++Ce){var Le=T.charCodeAt(Ce);if(55296<=Le&&57343>=Le){var Tt=T.charCodeAt(++Ce);Le=65536+((Le&1023)<<10)|Tt&1023}if(127>=Le){if(H>=K)break;_[H++]=Le}else{if(2047>=Le){if(H+1>=K)break;_[H++]=192|Le>>6}else{if(65535>=Le){if(H+2>=K)break;_[H++]=224|Le>>12}else{if(H+3>=K)break;_[H++]=240|Le>>18,_[H++]=128|Le>>12&63}_[H++]=128|Le>>6&63}_[H++]=128|Le&63}}return _[H]=0,H-de},Fe=(T,_)=>{var H=Array(At(T)+1);return T=fe(T,H,0,H.length),_&&(H.length=T),H},L=[];function N(T,_){L[T]={input:[],output:[],cb:_},ka(T,W)}var W={open(T){var _=L[T.node.rdev];if(!_)throw new at(43);T.tty=_,T.seekable=!1},close(T){T.tty.cb.fsync(T.tty)},fsync(T){T.tty.cb.fsync(T.tty)},read(T,_,H,K){if(!T.tty||!T.tty.cb.xb)throw new at(60);for(var de=0,Ce=0;Ce<K;Ce++){try{var Le=T.tty.cb.xb(T.tty)}catch{throw new at(29)}if(Le===void 0&&de===0)throw new at(6);if(Le==null)break;de++,_[H+Ce]=Le}return de&&(T.node.atime=Date.now()),de},write(T,_,H,K){if(!T.tty||!T.tty.cb.qb)throw new at(60);try{for(var de=0;de<K;de++)T.tty.cb.qb(T.tty,_[H+de])}catch{throw new at(29)}return K&&(T.node.mtime=T.node.ctime=Date.now()),de}},J={xb(){e:{if(!Lt.length){var T=null;if(S){var _=Buffer.alloc(256),H=0,K=process.stdin.fd;try{H=G.readSync(K,_,0,256)}catch(de){if(de.toString().includes("EOF"))H=0;else throw de}0<H&&(T=_.slice(0,H).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(T=window.prompt("Input: "),T!==null&&(T+=`
`));if(!T){T=null;break e}Lt=Fe(T,!0)}T=Lt.shift()}return T},qb(T,_){_===null||_===10?(ne(wt(T.output)),T.output=[]):_!=0&&T.output.push(_)},fsync(T){var _;0<((_=T.output)==null?void 0:_.length)&&(ne(wt(T.output)),T.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Te={qb(T,_){_===null||_===10?(Z(wt(T.output)),T.output=[]):_!=0&&T.output.push(_)},fsync(T){var _;0<((_=T.output)==null?void 0:_.length)&&(Z(wt(T.output)),T.output=[])}},_e={Wa:null,Xa(){return _e.createNode(null,"/",16895,0)},createNode(T,_,H,K){if((H&61440)===24576||(H&61440)===4096)throw new at(63);return _e.Wa||(_e.Wa={dir:{node:{Ta:_e.La.Ta,Ua:_e.La.Ua,lookup:_e.La.lookup,hb:_e.La.hb,rename:_e.La.rename,unlink:_e.La.unlink,rmdir:_e.La.rmdir,readdir:_e.La.readdir,symlink:_e.La.symlink},stream:{Va:_e.Ma.Va}},file:{node:{Ta:_e.La.Ta,Ua:_e.La.Ua},stream:{Va:_e.Ma.Va,read:_e.Ma.read,write:_e.Ma.write,ib:_e.Ma.ib,jb:_e.Ma.jb}},link:{node:{Ta:_e.La.Ta,Ua:_e.La.Ua,readlink:_e.La.readlink},stream:{}},ub:{node:{Ta:_e.La.Ta,Ua:_e.La.Ua},stream:jd}}),H=Ea(T,_,H,K),di(H.mode)?(H.La=_e.Wa.dir.node,H.Ma=_e.Wa.dir.stream,H.Na={}):(H.mode&61440)===32768?(H.La=_e.Wa.file.node,H.Ma=_e.Wa.file.stream,H.Ra=0,H.Na=null):(H.mode&61440)===40960?(H.La=_e.Wa.link.node,H.Ma=_e.Wa.link.stream):(H.mode&61440)===8192&&(H.La=_e.Wa.ub.node,H.Ma=_e.Wa.ub.stream),H.atime=H.mtime=H.ctime=Date.now(),T&&(T.Na[_]=H,T.atime=T.mtime=T.ctime=H.atime),H},Sb(T){return T.Na?T.Na.subarray?T.Na.subarray(0,T.Ra):new Uint8Array(T.Na):new Uint8Array(0)},La:{Ta(T){var _={};return _.dev=(T.mode&61440)===8192?T.id:1,_.ino=T.id,_.mode=T.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=T.rdev,di(T.mode)?_.size=4096:(T.mode&61440)===32768?_.size=T.Ra:(T.mode&61440)===40960?_.size=T.link.length:_.size=0,_.atime=new Date(T.atime),_.mtime=new Date(T.mtime),_.ctime=new Date(T.ctime),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},Ua(T,_){for(var H of["mode","atime","mtime","ctime"])_[H]!=null&&(T[H]=_[H]);_.size!==void 0&&(_=_.size,T.Ra!=_&&(_==0?(T.Na=null,T.Ra=0):(H=T.Na,T.Na=new Uint8Array(_),H&&T.Na.set(H.subarray(0,Math.min(_,T.Ra))),T.Ra=_)))},lookup(){throw _e.vb},hb(T,_,H,K){return _e.createNode(T,_,H,K)},rename(T,_,H){try{var K=Pi(_,H)}catch{}if(K){if(di(T.mode))for(var de in K.Na)throw new at(55);hs(K)}delete T.parent.Na[T.name],_.Na[H]=T,T.name=H,_.ctime=_.mtime=T.parent.ctime=T.parent.mtime=Date.now()},unlink(T,_){delete T.Na[_],T.ctime=T.mtime=Date.now()},rmdir(T,_){var H=Pi(T,_),K;for(K in H.Na)throw new at(55);delete T.Na[_],T.ctime=T.mtime=Date.now()},readdir(T){return[".","..",...Object.keys(T.Na)]},symlink(T,_,H){return T=_e.createNode(T,_,41471,0),T.link=H,T},readlink(T){if((T.mode&61440)!==40960)throw new at(28);return T.link}},Ma:{read(T,_,H,K,de){var Ce=T.node.Na;if(de>=T.node.Ra)return 0;if(T=Math.min(T.node.Ra-de,K),8<T&&Ce.subarray)_.set(Ce.subarray(de,de+T),H);else for(K=0;K<T;K++)_[H+K]=Ce[de+K];return T},write(T,_,H,K,de,Ce){if(_.buffer===ue.buffer&&(Ce=!1),!K)return 0;if(T=T.node,T.mtime=T.ctime=Date.now(),_.subarray&&(!T.Na||T.Na.subarray)){if(Ce)return T.Na=_.subarray(H,H+K),T.Ra=K;if(T.Ra===0&&de===0)return T.Na=_.slice(H,H+K),T.Ra=K;if(de+K<=T.Ra)return T.Na.set(_.subarray(H,H+K),de),K}Ce=de+K;var Le=T.Na?T.Na.length:0;if(Le>=Ce||(Ce=Math.max(Ce,Le*(1048576>Le?2:1.125)>>>0),Le!=0&&(Ce=Math.max(Ce,256)),Le=T.Na,T.Na=new Uint8Array(Ce),0<T.Ra&&T.Na.set(Le.subarray(0,T.Ra),0)),T.Na.subarray&&_.subarray)T.Na.set(_.subarray(H,H+K),de);else for(Ce=0;Ce<K;Ce++)T.Na[de+Ce]=_[H+Ce];return T.Ra=Math.max(T.Ra,de+K),K},Va(T,_,H){if(H===1?_+=T.position:H===2&&(T.node.mode&61440)===32768&&(_+=T.node.Ra),0>_)throw new at(28);return _},ib(T,_,H,K,de){if((T.node.mode&61440)!==32768)throw new at(43);if(T=T.node.Na,de&2||!T||T.buffer!==ue.buffer){de=!0,K=65536*Math.ceil(_/65536);var Ce=Aa(65536,K);if(Ce&&pe.fill(0,Ce,Ce+K),K=Ce,!K)throw new at(48);T&&((0<H||H+_<T.length)&&(T.subarray?T=T.subarray(H,H+_):T=Array.prototype.slice.call(T,H,H+_)),ue.set(T,K))}else de=!1,K=T.byteOffset;return{Kb:K,Ab:de}},jb(T,_,H,K){return _e.Ma.write(T,_,0,K,H,!1),0}}},mt=(T,_)=>{var H=0;return T&&(H|=365),_&&(H|=146),H},it=null,st={},bn=[],tn=1,Wn=null,Vr=!1,wo=!0,Pr={},at=class{constructor(T){Vn(this,"name","ErrnoError"),this.Pa=T}},tc=class{constructor(){Vn(this,"gb",{}),Vn(this,"node",null)}get flags(){return this.gb.flags}set flags(T){this.gb.flags=T}get position(){return this.gb.position}set position(T){this.gb.position=T}},Hd=class{constructor(T,_,H,K){Vn(this,"La",{}),Vn(this,"Ma",{}),Vn(this,"ab",null),T||(T=this),this.parent=T,this.Xa=T.Xa,this.id=tn++,this.name=_,this.mode=H,this.rdev=K,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(T){T?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(T){T?this.mode|=146:this.mode&=-147}};function yi(T,_={}){if(!T)throw new at(44);_.nb??(_.nb=!0),T.charAt(0)==="/"||(T="//"+T);var H=0;e:for(;40>H;H++){T=T.split("/").filter(Tt=>!!Tt);for(var K=it,de="/",Ce=0;Ce<T.length;Ce++){var Le=Ce===T.length-1;if(Le&&_.parent)break;if(T[Ce]!==".")if(T[Ce]==="..")de=Ve(de),K=K.parent;else{de=Se(de+"/"+T[Ce]);try{K=Pi(K,T[Ce])}catch(Tt){if(Tt?.Pa===44&&Le&&_.Jb)return{path:de};throw Tt}if(!K.ab||Le&&!_.nb||(K=K.ab.root),(K.mode&61440)===40960&&(!Le||_.$a)){if(!K.La.readlink)throw new at(52);K=K.La.readlink(K),K.charAt(0)==="/"||(K=Ve(de)+"/"+K),T=K+"/"+T.slice(Ce+1).join("/");continue e}}}return{path:de,node:K}}throw new at(32)}function Rr(T){for(var _;;){if(T===T.parent)return T=T.Xa.zb,_?T[T.length-1]!=="/"?`${T}/${_}`:T+_:T;_=_?`${T.name}/${_}`:T.name,T=T.parent}}function ds(T,_){for(var H=0,K=0;K<_.length;K++)H=(H<<5)-H+_.charCodeAt(K)|0;return(T+H>>>0)%Wn.length}function hs(T){var _=ds(T.parent.id,T.name);if(Wn[_]===T)Wn[_]=T.bb;else for(_=Wn[_];_;){if(_.bb===T){_.bb=T.bb;break}_=_.bb}}function Pi(T,_){var H=di(T.mode)?(H=dr(T,"x"))?H:T.La.lookup?0:2:54;if(H)throw new at(H);for(H=Wn[ds(T.id,_)];H;H=H.bb){var K=H.name;if(H.parent.id===T.id&&K===_)return H}return T.La.lookup(T,_)}function Ea(T,_,H,K){return T=new Hd(T,_,H,K),_=ds(T.parent.id,T.name),T.bb=Wn[_],Wn[_]=T}function di(T){return(T&61440)===16384}function nc(T){var _=["r","w","rw"][T&3];return T&512&&(_+="w"),_}function dr(T,_){if(wo)return 0;if(!_.includes("r")||T.mode&292){if(_.includes("w")&&!(T.mode&146)||_.includes("x")&&!(T.mode&73))return 2}else return 2;return 0}function Ta(T,_){if(!di(T.mode))return 54;try{return Pi(T,_),20}catch{}return dr(T,"wx")}function ic(T,_,H){try{var K=Pi(T,_)}catch(de){return de.Pa}if(T=dr(T,"wx"))return T;if(H){if(!di(K.mode))return 54;if(K===K.parent||Rr(K)==="/")return 10}else if(di(K.mode))return 31;return 0}function ps(T){if(!T)throw new at(63);return T}function ii(T){if(T=bn[T],!T)throw new at(8);return T}function Ca(T,_=-1){if(T=Object.assign(new tc,T),_==-1)e:{for(_=0;4096>=_;_++)if(!bn[_])break e;throw new at(33)}return T.fd=_,bn[_]=T}function rc(T,_=-1){var H,K;return T=Ca(T,_),(K=(H=T.Ma)==null?void 0:H.Rb)==null||K.call(H,T),T}function fs(T,_,H){var K=T?.Ma.Ua;T=K?T:_,K??(K=_.La.Ua),ps(K),K(T,H)}var jd={open(T){var _,H;T.Ma=st[T.node.rdev].Ma,(H=(_=T.Ma).open)==null||H.call(_,T)},Va(){throw new at(70)}};function ka(T,_){st[T]={Ma:_}}function oc(T,_){var H=_==="/";if(H&&it)throw new at(10);if(!H&&_){var K=yi(_,{nb:!1});if(_=K.path,K=K.node,K.ab)throw new at(10);if(!di(K.mode))throw new at(54)}_={type:T,Wb:{},zb:_,Ib:[]},T=T.Xa(_),T.Xa=_,_.root=T,H?it=T:K&&(K.ab=_,K.Xa&&K.Xa.Ib.push(_))}function xo(T,_,H){var K=yi(T,{parent:!0}).node;if(T=ze(T),!T)throw new at(28);if(T==="."||T==="..")throw new at(20);var de=Ta(K,T);if(de)throw new at(de);if(!K.La.hb)throw new at(63);return K.La.hb(K,T,_,H)}function sc(T,_=438){return xo(T,_&4095|32768,0)}function Mi(T,_=511){return xo(T,_&1023|16384,0)}function So(T,_,H){typeof H>"u"&&(H=_,_=438),xo(T,_|8192,H)}function ms(T,_){if(!Et(T))throw new at(44);var H=yi(_,{parent:!0}).node;if(!H)throw new at(44);_=ze(_);var K=Ta(H,_);if(K)throw new at(K);if(!H.La.symlink)throw new at(63);H.La.symlink(H,_,T)}function ac(T){var _=yi(T,{parent:!0}).node;T=ze(T);var H=Pi(_,T),K=ic(_,T,!0);if(K)throw new at(K);if(!_.La.rmdir)throw new at(63);if(H.ab)throw new at(10);_.La.rmdir(_,T),hs(H)}function Pa(T){var _=yi(T,{parent:!0}).node;if(!_)throw new at(44);T=ze(T);var H=Pi(_,T),K=ic(_,T,!1);if(K)throw new at(K);if(!_.La.unlink)throw new at(63);if(H.ab)throw new at(10);_.La.unlink(_,T),hs(H)}function _r(T,_){return T=yi(T,{$a:!_}).node,ps(T.La.Ta)(T)}function Ra(T,_,H,K){fs(T,_,{mode:H&4095|_.mode&-4096,ctime:Date.now(),Fb:K})}function Eo(T,_){T=typeof T=="string"?yi(T,{$a:!0}).node:T,Ra(null,T,_)}function _a(T,_,H){if(di(_.mode))throw new at(31);if((_.mode&61440)!==32768)throw new at(28);var K=dr(_,"w");if(K)throw new at(K);fs(T,_,{size:H,timestamp:Date.now()})}function Or(T,_,H=438){if(T==="")throw new at(44);if(typeof _=="string"){var K={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[_];if(typeof K>"u")throw Error(`Unknown file open mode: ${_}`);_=K}if(H=_&64?H&4095|32768:0,typeof T=="object")K=T;else{var de=T.endsWith("/");T=yi(T,{$a:!(_&131072),Jb:!0}),K=T.node,T=T.path}var Ce=!1;if(_&64)if(K){if(_&128)throw new at(20)}else{if(de)throw new at(31);K=xo(T,H|511,0),Ce=!0}if(!K)throw new at(44);if((K.mode&61440)===8192&&(_&=-513),_&65536&&!di(K.mode))throw new at(54);if(!Ce&&(de=K?(K.mode&61440)===40960?32:di(K.mode)&&(nc(_)!=="r"||_&576)?31:dr(K,nc(_)):44))throw new at(de);return _&512&&!Ce&&(de=K,de=typeof de=="string"?yi(de,{$a:!0}).node:de,_a(null,de,0)),_&=-131713,de=Ca({node:K,path:Rr(K),flags:_,seekable:!0,position:0,Ma:K.Ma,Lb:[],error:!1}),de.Ma.open&&de.Ma.open(de),Ce&&Eo(K,H&511),!f.logReadFiles||_&1||T in Pr||(Pr[T]=1),de}function gs(T){if(T.fd===null)throw new at(8);T.ob&&(T.ob=null);try{T.Ma.close&&T.Ma.close(T)}catch(_){throw _}finally{bn[T.fd]=null}T.fd=null}function lc(T,_,H){if(T.fd===null)throw new at(8);if(!T.seekable||!T.Ma.Va)throw new at(70);if(H!=0&&H!=1&&H!=2)throw new at(28);T.position=T.Ma.Va(T,_,H),T.Lb=[]}function Ne(T,_,H,K,de){if(0>K||0>de)throw new at(28);if(T.fd===null)throw new at(8);if((T.flags&2097155)===1)throw new at(8);if(di(T.node.mode))throw new at(31);if(!T.Ma.read)throw new at(28);var Ce=typeof de<"u";if(!Ce)de=T.position;else if(!T.seekable)throw new at(70);return _=T.Ma.read(T,_,H,K,de),Ce||(T.position+=_),_}function vs(T,_,H,K,de){if(0>K||0>de)throw new at(28);if(T.fd===null)throw new at(8);if(!(T.flags&2097155))throw new at(8);if(di(T.node.mode))throw new at(31);if(!T.Ma.write)throw new at(28);T.seekable&&T.flags&1024&&lc(T,0,2);var Ce=typeof de<"u";if(!Ce)de=T.position;else if(!T.seekable)throw new at(70);return _=T.Ma.write(T,_,H,K,de,void 0),Ce||(T.position+=_),_}function hr(T){var _,H=Or(T,H||0);T=_r(T).size;var K=new Uint8Array(T);return Ne(H,K,0,T,0),_=K,gs(H),_}function pr(T,_,H){T=Se("/dev/"+T);var K=mt(!!_,!!H);pr.yb??(pr.yb=64);var de=pr.yb++<<8|0;ka(de,{open(Ce){Ce.seekable=!1},close(){var Ce;(Ce=H?.buffer)!=null&&Ce.length&&H(10)},read(Ce,Le,Tt,Qt){for(var en=0,zn=0;zn<Qt;zn++){try{var bi=_()}catch{throw new at(29)}if(bi===void 0&&en===0)throw new at(6);if(bi==null)break;en++,Le[Tt+zn]=bi}return en&&(Ce.node.atime=Date.now()),en},write(Ce,Le,Tt,Qt){for(var en=0;en<Qt;en++)try{H(Le[Tt+en])}catch{throw new at(29)}return Qt&&(Ce.node.mtime=Ce.node.ctime=Date.now()),en}}),So(T,K,de)}var Cn={};function nr(T,_,H){if(_.charAt(0)==="/")return _;if(T=T===-100?"/":ii(T).path,_.length==0){if(!H)throw new at(44);return T}return T+"/"+_}function Ur(T,_){ve[T>>2]=_.dev,ve[T+4>>2]=_.mode,Ae[T+8>>2]=_.nlink,ve[T+12>>2]=_.uid,ve[T+16>>2]=_.gid,ve[T+20>>2]=_.rdev,xe[T+24>>3]=BigInt(_.size),ve[T+32>>2]=4096,ve[T+36>>2]=_.blocks;var H=_.atime.getTime(),K=_.mtime.getTime(),de=_.ctime.getTime();return xe[T+40>>3]=BigInt(Math.floor(H/1e3)),Ae[T+48>>2]=H%1e3*1e6,xe[T+56>>3]=BigInt(Math.floor(K/1e3)),Ae[T+64>>2]=K%1e3*1e6,xe[T+72>>3]=BigInt(Math.floor(de/1e3)),Ae[T+80>>2]=de%1e3*1e6,xe[T+88>>3]=BigInt(_.ino),0}var Dr=void 0,Ar=()=>{var T=ve[+Dr>>2];return Dr+=4,T},ys=0,Wr=[0,31,60,91,121,152,182,213,244,274,305,335],To=[0,31,59,90,120,151,181,212,243,273,304,334],Co={},cc=T=>{var _;ge=T,Vt||0<ys||((_=f.onExit)==null||_.call(f,T),le=!0),P(T,new vt(T))},Bd=T=>{if(!le)try{if(T(),!(Vt||0<ys))try{ge=T=ge,cc(T)}catch(_){_ instanceof vt||_=="unwind"||P(1,_)}}catch(_){_ instanceof vt||_=="unwind"||P(1,_)}},bs={},Oa=()=>{if(!Da){var T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:k||"./this.program"},_;for(_ in bs)bs[_]===void 0?delete T[_]:T[_]=bs[_];var H=[];for(_ in T)H.push(`${_}=${T[_]}`);Da=H}return Da},Da,ws=T=>{var _=At(T)+1,H=mr(_);return fe(T,pe,H,_),H},uc=(T,_,H,K)=>{var de={string:en=>{var zn=0;return en!=null&&en!==0&&(zn=ws(en)),zn},array:en=>{var zn=mr(en.length);return ue.set(en,zn),zn}};T=f["_"+T];var Ce=[],Le=0;if(K)for(var Tt=0;Tt<K.length;Tt++){var Qt=de[H[Tt]];Qt?(Le===0&&(Le=Ro()),Ce[Tt]=Qt(K[Tt])):Ce[Tt]=K[Tt]}return H=T(...Ce),H=function(en){return Le!==0&&Po(Le),_==="string"?en?wt(pe,en):"":_==="boolean"?!!en:en}(H)},xs=0,Ss=(T,_)=>(_=_==1?mr(T.length):rr(T.length),T.subarray||T.slice||(T=new Uint8Array(T)),pe.set(T,_),_),wn,Ri=[],ir,fr=T=>{wn.delete(ir.get(T)),ir.set(T,null),Ri.push(T)},ko=(T,_)=>{if(!wn){wn=new WeakMap;var H=ir.length;if(wn)for(var K=0;K<0+H;K++){var de=ir.get(K);de&&wn.set(de,K)}}if(H=wn.get(T)||0)return H;if(Ri.length)H=Ri.pop();else{try{ir.grow(1)}catch(Qt){throw Qt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Qt}H=ir.length-1}try{ir.set(H,T)}catch(Qt){if(!(Qt instanceof TypeError))throw Qt;if(typeof WebAssembly.Function=="function"){var Ce=WebAssembly.Function;K={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},de={parameters:[],results:_[0]=="v"?[]:[K[_[0]]]};for(var Le=1;Le<_.length;++Le)de.parameters.push(K[_[Le]]);_=new Ce(de,T)}else{K=[1],de=_.slice(0,1),_=_.slice(1),Le={i:127,p:127,j:126,f:125,d:124,e:111},K.push(96);var Tt=_.length;128>Tt?K.push(Tt):K.push(Tt%128|128,Tt>>7);for(Ce of _)K.push(Le[Ce]);de=="v"?K.push(0):K.push(1,Le[de]),_=[0,97,115,109,1,0,0,0,1],Ce=K.length,128>Ce?_.push(Ce):_.push(Ce%128|128,Ce>>7),_.push(...K),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),_=new WebAssembly.Module(new Uint8Array(_)),_=new WebAssembly.Instance(_,{e:{f:T}}).exports.f}ir.set(H,_)}return wn.set(T,H),H};Wn=Array(4096),oc(_e,"/"),Mi("/tmp"),Mi("/home"),Mi("/home/web_user"),function(){Mi("/dev"),ka(259,{read:()=>0,write:(K,de,Ce,Le)=>Le,Va:()=>0}),So("/dev/null",259),N(1280,J),N(1536,Te),So("/dev/tty",1280),So("/dev/tty1",1536);var T=new Uint8Array(1024),_=0,H=()=>(_===0&&(Xe(T),_=T.byteLength),T[--_]);pr("random",H),pr("urandom",H),Mi("/dev/shm"),Mi("/dev/shm/tmp")}(),function(){Mi("/proc");var T=Mi("/proc/self");Mi("/proc/self/fd"),oc({Xa(){var _=Ea(T,"fd",16895,73);return _.Ma={Va:_e.Ma.Va},_.La={lookup(H,K){H=+K;var de=ii(H);return H={parent:null,Xa:{zb:"fake"},La:{readlink:()=>de.path},id:H+1},H.parent=H},readdir(){return Array.from(bn.entries()).filter(([,H])=>H).map(([H])=>H.toString())}},_}},"/proc/self/fd")}(),_e.vb=new at(44),_e.vb.stack="<generic error, no stack>";var Vd={a:(T,_,H,K)=>ot(`Assertion failed: ${T?wt(pe,T):""}, at: `+[_?_?wt(pe,_):"":"unknown filename",H,K?K?wt(pe,K):"":"unknown function"]),i:function(T,_){try{return T=T?wt(pe,T):"",Eo(T,_),0}catch(H){if(typeof Cn>"u"||H.name!=="ErrnoError")throw H;return-H.Pa}},L:function(T,_,H){try{if(_=_?wt(pe,_):"",_=nr(T,_),H&-8)return-28;var K=yi(_,{$a:!0}).node;return K?(T="",H&4&&(T+="r"),H&2&&(T+="w"),H&1&&(T+="x"),T&&dr(K,T)?-2:0):-44}catch(de){if(typeof Cn>"u"||de.name!=="ErrnoError")throw de;return-de.Pa}},j:function(T,_){try{var H=ii(T);return Ra(H,H.node,_,!1),0}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return-K.Pa}},h:function(T){try{var _=ii(T);return fs(_,_.node,{timestamp:Date.now(),Fb:!1}),0}catch(H){if(typeof Cn>"u"||H.name!=="ErrnoError")throw H;return-H.Pa}},b:function(T,_,H){Dr=H;try{var K=ii(T);switch(_){case 0:var de=Ar();if(0>de)break;for(;bn[de];)de++;return rc(K,de).fd;case 1:case 2:return 0;case 3:return K.flags;case 4:return de=Ar(),K.flags|=de,0;case 12:return de=Ar(),we[de+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(Ce){if(typeof Cn>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},g:function(T,_){try{var H=ii(T),K=H.node,de=H.Ma.Ta;T=de?H:K,de??(de=K.La.Ta),ps(de);var Ce=de(T);return Ur(_,Ce)}catch(Le){if(typeof Cn>"u"||Le.name!=="ErrnoError")throw Le;return-Le.Pa}},H:function(T,_){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var H=ii(T);if(0>_||!(H.flags&2097155))throw new at(28);return _a(H,H.node,_),0}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return-K.Pa}},G:function(T,_){try{if(_===0)return-28;var H=At("/")+1;return _<H?-68:(fe("/",pe,T,_),H)}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return-K.Pa}},K:function(T,_){try{return T=T?wt(pe,T):"",Ur(_,_r(T,!0))}catch(H){if(typeof Cn>"u"||H.name!=="ErrnoError")throw H;return-H.Pa}},C:function(T,_,H){try{return _=_?wt(pe,_):"",_=nr(T,_),Mi(_,H),0}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return-K.Pa}},J:function(T,_,H,K){try{_=_?wt(pe,_):"";var de=K&256;return _=nr(T,_,K&4096),Ur(H,de?_r(_,!0):_r(_))}catch(Ce){if(typeof Cn>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},x:function(T,_,H,K){Dr=K;try{_=_?wt(pe,_):"",_=nr(T,_);var de=K?Ar():0;return Or(_,H,de).fd}catch(Ce){if(typeof Cn>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},v:function(T,_,H,K){try{if(_=_?wt(pe,_):"",_=nr(T,_),0>=K)return-28;var de=yi(_).node;if(!de)throw new at(44);if(!de.La.readlink)throw new at(28);var Ce=de.La.readlink(de),Le=Math.min(K,At(Ce)),Tt=ue[H+Le];return fe(Ce,pe,H,K+1),ue[H+Le]=Tt,Le}catch(Qt){if(typeof Cn>"u"||Qt.name!=="ErrnoError")throw Qt;return-Qt.Pa}},u:function(T){try{return T=T?wt(pe,T):"",ac(T),0}catch(_){if(typeof Cn>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},f:function(T,_){try{return T=T?wt(pe,T):"",Ur(_,_r(T))}catch(H){if(typeof Cn>"u"||H.name!=="ErrnoError")throw H;return-H.Pa}},r:function(T,_,H){try{return _=_?wt(pe,_):"",_=nr(T,_),H===0?Pa(_):H===512?ac(_):ot("Invalid flags passed to unlinkat"),0}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return-K.Pa}},q:function(T,_,H){try{_=_?wt(pe,_):"",_=nr(T,_,!0);var K=Date.now(),de,Ce;if(H){var Le=Ae[H>>2]+4294967296*ve[H+4>>2],Tt=ve[H+8>>2];Tt==1073741823?de=K:Tt==1073741822?de=null:de=1e3*Le+Tt/1e6,H+=16,Le=Ae[H>>2]+4294967296*ve[H+4>>2],Tt=ve[H+8>>2],Tt==1073741823?Ce=K:Tt==1073741822?Ce=null:Ce=1e3*Le+Tt/1e6}else Ce=de=K;if((Ce??de)!==null){T=de;var Qt=yi(_,{$a:!0}).node;ps(Qt.La.Ua)(Qt,{atime:T,mtime:Ce})}return 0}catch(en){if(typeof Cn>"u"||en.name!=="ErrnoError")throw en;return-en.Pa}},m:()=>ot(""),l:()=>{Vt=!1,ys=0},A:function(T,_){T=-9007199254740992>T||9007199254740992<T?NaN:Number(T),T=new Date(1e3*T),ve[_>>2]=T.getSeconds(),ve[_+4>>2]=T.getMinutes(),ve[_+8>>2]=T.getHours(),ve[_+12>>2]=T.getDate(),ve[_+16>>2]=T.getMonth(),ve[_+20>>2]=T.getFullYear()-1900,ve[_+24>>2]=T.getDay();var H=T.getFullYear();ve[_+28>>2]=(H%4!==0||H%100===0&&H%400!==0?To:Wr)[T.getMonth()]+T.getDate()-1|0,ve[_+36>>2]=-(60*T.getTimezoneOffset()),H=new Date(T.getFullYear(),6,1).getTimezoneOffset();var K=new Date(T.getFullYear(),0,1).getTimezoneOffset();ve[_+32>>2]=(H!=K&&T.getTimezoneOffset()==Math.min(K,H))|0},y:function(T,_,H,K,de,Ce,Le){de=-9007199254740992>de||9007199254740992<de?NaN:Number(de);try{if(isNaN(de))return 61;var Tt=ii(K);if(_&2&&!(H&2)&&(Tt.flags&2097155)!==2)throw new at(2);if((Tt.flags&2097155)===1)throw new at(2);if(!Tt.Ma.ib)throw new at(43);if(!T)throw new at(28);var Qt=Tt.Ma.ib(Tt,T,de,_,H),en=Qt.Kb;return ve[Ce>>2]=Qt.Ab,Ae[Le>>2]=en,0}catch(zn){if(typeof Cn>"u"||zn.name!=="ErrnoError")throw zn;return-zn.Pa}},z:function(T,_,H,K,de,Ce){Ce=-9007199254740992>Ce||9007199254740992<Ce?NaN:Number(Ce);try{var Le=ii(de);if(H&2){if(H=Ce,(Le.node.mode&61440)!==32768)throw new at(43);if(!(K&2)){var Tt=pe.slice(T,T+_);Le.Ma.jb&&Le.Ma.jb(Le,Tt,H,_,K)}}}catch(Qt){if(typeof Cn>"u"||Qt.name!=="ErrnoError")throw Qt;return-Qt.Pa}},n:(T,_)=>{if(Co[T]&&(clearTimeout(Co[T].id),delete Co[T]),!_)return 0;var H=setTimeout(()=>{delete Co[T],Bd(()=>Ia(T,performance.now()))},_);return Co[T]={id:H,Xb:_},0},B:(T,_,H,K)=>{var de=new Date().getFullYear(),Ce=new Date(de,0,1).getTimezoneOffset();de=new Date(de,6,1).getTimezoneOffset(),Ae[T>>2]=60*Math.max(Ce,de),ve[_>>2]=+(Ce!=de),_=Le=>{var Tt=Math.abs(Le);return`UTC${0<=Le?"-":"+"}${String(Math.floor(Tt/60)).padStart(2,"0")}${String(Tt%60).padStart(2,"0")}`},T=_(Ce),_=_(de),de<Ce?(fe(T,pe,H,17),fe(_,pe,K,17)):(fe(T,pe,K,17),fe(_,pe,H,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:T=>{var _=pe.length;if(T>>>=0,2147483648<T)return!1;for(var H=1;4>=H;H*=2){var K=_*(1+.2/H);K=Math.min(K,T+100663296);e:{K=(Math.min(2147483648,65536*Math.ceil(Math.max(T,K)/65536))-se.buffer.byteLength+65535)/65536|0;try{se.grow(K),Oe();var de=1;break e}catch{}de=void 0}if(de)return!0}return!1},E:(T,_)=>{var H=0;return Oa().forEach((K,de)=>{var Ce=_+H;for(de=Ae[T+4*de>>2]=Ce,Ce=0;Ce<K.length;++Ce)ue[de++]=K.charCodeAt(Ce);ue[de]=0,H+=K.length+1}),0},F:(T,_)=>{var H=Oa();Ae[T>>2]=H.length;var K=0;return H.forEach(de=>K+=de.length+1),Ae[_>>2]=K,0},e:function(T){try{var _=ii(T);return gs(_),0}catch(H){if(typeof Cn>"u"||H.name!=="ErrnoError")throw H;return H.Pa}},p:function(T,_){try{var H=ii(T);return ue[_]=H.tty?2:di(H.mode)?3:(H.mode&61440)===40960?7:4,we[_+2>>1]=0,xe[_+8>>3]=BigInt(0),xe[_+16>>3]=BigInt(0),0}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return K.Pa}},w:function(T,_,H,K){try{e:{var de=ii(T);T=_;for(var Ce,Le=_=0;Le<H;Le++){var Tt=Ae[T>>2],Qt=Ae[T+4>>2];T+=8;var en=Ne(de,ue,Tt,Qt,Ce);if(0>en){var zn=-1;break e}if(_+=en,en<Qt)break;typeof Ce<"u"&&(Ce+=en)}zn=_}return Ae[K>>2]=zn,0}catch(bi){if(typeof Cn>"u"||bi.name!=="ErrnoError")throw bi;return bi.Pa}},D:function(T,_,H,K){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var de=ii(T);return lc(de,_,H),xe[K>>3]=BigInt(de.position),de.ob&&_===0&&H===0&&(de.ob=null),0}catch(Ce){if(typeof Cn>"u"||Ce.name!=="ErrnoError")throw Ce;return Ce.Pa}},I:function(T){var _;try{var H=ii(T);return(_=H.Ma)!=null&&_.fsync?H.Ma.fsync(H):0}catch(K){if(typeof Cn>"u"||K.name!=="ErrnoError")throw K;return K.Pa}},t:function(T,_,H,K){try{e:{var de=ii(T);T=_;for(var Ce,Le=_=0;Le<H;Le++){var Tt=Ae[T>>2],Qt=Ae[T+4>>2];T+=8;var en=vs(de,ue,Tt,Qt,Ce);if(0>en){var zn=-1;break e}if(_+=en,en<Qt)break;typeof Ce<"u"&&(Ce+=en)}zn=_}return Ae[K>>2]=zn,0}catch(bi){if(typeof Cn>"u"||bi.name!=="ErrnoError")throw bi;return bi.Pa}},k:cc},Pt;(async function(){var T;function _(K){var de;return Pt=K.exports,se=Pt.M,Oe(),ir=Pt.O,$--,(de=f.monitorRunDependencies)==null||de.call(f,$),$==0&&He&&(K=He,He=null,K()),Pt}$++,(T=f.monitorRunDependencies)==null||T.call(f,$);var H={a:Vd};return f.instantiateWasm?new Promise(K=>{f.instantiateWasm(H,(de,Ce)=>{_(de),K(de.exports)})}):(ee??(ee=f.locateFile?f.locateFile("sql-wasm.wasm",R):R+"sql-wasm.wasm"),_((await lt(H)).instance))})(),f._sqlite3_free=T=>(f._sqlite3_free=Pt.P)(T),f._sqlite3_value_text=T=>(f._sqlite3_value_text=Pt.Q)(T),f._sqlite3_prepare_v2=(T,_,H,K,de)=>(f._sqlite3_prepare_v2=Pt.R)(T,_,H,K,de),f._sqlite3_step=T=>(f._sqlite3_step=Pt.S)(T),f._sqlite3_reset=T=>(f._sqlite3_reset=Pt.T)(T),f._sqlite3_exec=(T,_,H,K,de)=>(f._sqlite3_exec=Pt.U)(T,_,H,K,de),f._sqlite3_finalize=T=>(f._sqlite3_finalize=Pt.V)(T),f._sqlite3_column_name=(T,_)=>(f._sqlite3_column_name=Pt.W)(T,_),f._sqlite3_column_text=(T,_)=>(f._sqlite3_column_text=Pt.X)(T,_),f._sqlite3_column_type=(T,_)=>(f._sqlite3_column_type=Pt.Y)(T,_),f._sqlite3_errmsg=T=>(f._sqlite3_errmsg=Pt.Z)(T),f._sqlite3_clear_bindings=T=>(f._sqlite3_clear_bindings=Pt._)(T),f._sqlite3_value_blob=T=>(f._sqlite3_value_blob=Pt.$)(T),f._sqlite3_value_bytes=T=>(f._sqlite3_value_bytes=Pt.aa)(T),f._sqlite3_value_double=T=>(f._sqlite3_value_double=Pt.ba)(T),f._sqlite3_value_int=T=>(f._sqlite3_value_int=Pt.ca)(T),f._sqlite3_value_type=T=>(f._sqlite3_value_type=Pt.da)(T),f._sqlite3_result_blob=(T,_,H,K)=>(f._sqlite3_result_blob=Pt.ea)(T,_,H,K),f._sqlite3_result_double=(T,_)=>(f._sqlite3_result_double=Pt.fa)(T,_),f._sqlite3_result_error=(T,_,H)=>(f._sqlite3_result_error=Pt.ga)(T,_,H),f._sqlite3_result_int=(T,_)=>(f._sqlite3_result_int=Pt.ha)(T,_),f._sqlite3_result_int64=(T,_)=>(f._sqlite3_result_int64=Pt.ia)(T,_),f._sqlite3_result_null=T=>(f._sqlite3_result_null=Pt.ja)(T),f._sqlite3_result_text=(T,_,H,K)=>(f._sqlite3_result_text=Pt.ka)(T,_,H,K),f._sqlite3_aggregate_context=(T,_)=>(f._sqlite3_aggregate_context=Pt.la)(T,_),f._sqlite3_column_count=T=>(f._sqlite3_column_count=Pt.ma)(T),f._sqlite3_data_count=T=>(f._sqlite3_data_count=Pt.na)(T),f._sqlite3_column_blob=(T,_)=>(f._sqlite3_column_blob=Pt.oa)(T,_),f._sqlite3_column_bytes=(T,_)=>(f._sqlite3_column_bytes=Pt.pa)(T,_),f._sqlite3_column_double=(T,_)=>(f._sqlite3_column_double=Pt.qa)(T,_),f._sqlite3_bind_blob=(T,_,H,K,de)=>(f._sqlite3_bind_blob=Pt.ra)(T,_,H,K,de),f._sqlite3_bind_double=(T,_,H)=>(f._sqlite3_bind_double=Pt.sa)(T,_,H),f._sqlite3_bind_int=(T,_,H)=>(f._sqlite3_bind_int=Pt.ta)(T,_,H),f._sqlite3_bind_text=(T,_,H,K,de)=>(f._sqlite3_bind_text=Pt.ua)(T,_,H,K,de),f._sqlite3_bind_parameter_index=(T,_)=>(f._sqlite3_bind_parameter_index=Pt.va)(T,_),f._sqlite3_sql=T=>(f._sqlite3_sql=Pt.wa)(T),f._sqlite3_normalized_sql=T=>(f._sqlite3_normalized_sql=Pt.xa)(T),f._sqlite3_changes=T=>(f._sqlite3_changes=Pt.ya)(T),f._sqlite3_close_v2=T=>(f._sqlite3_close_v2=Pt.za)(T),f._sqlite3_create_function_v2=(T,_,H,K,de,Ce,Le,Tt,Qt)=>(f._sqlite3_create_function_v2=Pt.Aa)(T,_,H,K,de,Ce,Le,Tt,Qt),f._sqlite3_update_hook=(T,_,H)=>(f._sqlite3_update_hook=Pt.Ba)(T,_,H),f._sqlite3_open=(T,_)=>(f._sqlite3_open=Pt.Ca)(T,_);var rr=f._malloc=T=>(rr=f._malloc=Pt.Da)(T),Gr=f._free=T=>(Gr=f._free=Pt.Ea)(T);f._RegisterExtensionFunctions=T=>(f._RegisterExtensionFunctions=Pt.Fa)(T);var Aa=(T,_)=>(Aa=Pt.Ga)(T,_),Ia=(T,_)=>(Ia=Pt.Ha)(T,_),Po=T=>(Po=Pt.Ia)(T),mr=T=>(mr=Pt.Ja)(T),Ro=()=>(Ro=Pt.Ka)();f.stackSave=()=>Ro(),f.stackRestore=T=>Po(T),f.stackAlloc=T=>mr(T),f.cwrap=(T,_,H,K)=>{var de=!H||H.every(Ce=>Ce==="number"||Ce==="boolean");return _!=="string"&&de&&!K?f["_"+T]:(...Ce)=>uc(T,_,H,Ce)},f.addFunction=ko,f.removeFunction=fr,f.UTF8ToString=I,f.ALLOC_NORMAL=xs,f.allocate=Ss,f.allocateUTF8OnStack=ws;function _o(){function T(){var _;if(f.calledRun=!0,!le){if(!f.noFSInit&&!Vr){var H,K;Vr=!0,de??(de=f.stdin),H??(H=f.stdout),K??(K=f.stderr),de?pr("stdin",de):ms("/dev/tty","/dev/stdin"),H?pr("stdout",null,H):ms("/dev/tty","/dev/stdout"),K?pr("stderr",null,K):ms("/dev/tty1","/dev/stderr"),Or("/dev/stdin",0),Or("/dev/stdout",1),Or("/dev/stderr",1)}if(Pt.N(),wo=!1,(_=f.onRuntimeInitialized)==null||_.call(f),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var de=f.postRun.shift();St.unshift(de)}_t(St)}}if(0<$)He=_o;else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Bt();_t(nt),0<$?He=_o:f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),T()},1)):T()}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return _o(),d}),t)};e.exports=n,e.exports.default=n})(wP);var q$=wP.exports;const X$=Tr(q$),K$="1.13.0",Y$={version:K$};function Z$(e){return ni({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}}]})(e)}function $$(){return U.jsxs("div",{className:"loading",children:[U.jsx(Z$,{}),U.jsx("span",{children:"Loading"})]})}function Pl(e){const i=[];for(;e.step();)i.push(e.getAsObject());return i}const ec=z.createContext({categories:[],tags:[]});function ed(e){return U.jsxs("button",{className:e.isActive?"active pill":"pill",onClick:e.onClick,type:"button",children:[e.children,e.label]})}const KE=20;function J$(e){const i=z.useMemo(()=>{const t=[];return e.phrases.forEach(n=>{n.layer===e.layer&&(t.includes(n.name)||(n.name.length>KE?t.push(`${n.name.slice(0,KE)}...`):t.push(n.name)))}),t.join("; ")},[e.layer,e.phrases]);return U.jsx("p",{children:i})}function Q$(e){const i=z.useContext(ec),[t,n]=z.useState(Object.keys(i.layers)[0]),r=z.useMemo(()=>Object.keys(e.tagCounts).filter(l=>e.tagCounts[l].phrases.some(h=>h.layer===t)),[t,e.tagCounts]);return U.jsxs("div",{className:"phrase-list-table-container",style:{display:e.visible?"initial":"none"},children:[U.jsxs("div",{className:"layer-select-container",children:[U.jsx("span",{children:"Layer"}),U.jsx("select",{className:"layer-select",onChange:l=>n(l.target.value),children:Object.keys(i.layers).map(l=>U.jsx("option",{value:l,children:i.layers[l]},l))})]}),U.jsxs("table",{className:"phrase-list-table",children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{children:"Tags for phrases"}),U.jsx("th",{children:U.jsx("span",{children:"References in this layer"})})]})}),U.jsxs("tbody",{children:[r.length===0&&U.jsx("tr",{children:U.jsx("td",{colSpan:2,children:U.jsx("div",{className:"empty-table-container",children:"No tags in this layer."})})}),r.map(l=>U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx(ed,{label:l,isActive:i.tags.includes(e.tagCounts[l].id),children:U.jsx("span",{className:"tag-count",children:e.tagCounts[l].count})})}),U.jsx("td",{children:U.jsx(J$,{layer:t,phrases:e.tagCounts[l].phrases})})]},l))]})]})]})}function eJ(e){return e.element_name?`${e.element_name} - ${e.surface_name}`:e.surface_name}function YE(e,i){return e.map(t=>i.find(n=>n.xml_id===t)).filter(Boolean)}function tJ(e,i,t,n){return`${e}#/ec/${i.surface_xml_id}/f/${i.surface_xml_id}/${i.layer_xml_id}?tags=${[...t,...n].join(",")}`}function nJ(e){return U.jsx("button",{"aria-label":"Toggle phrases",className:"phrase-toggle",onClick:e.onClick,type:"button",children:e.toggled?U.jsx(iY,{}):U.jsx(nY,{})})}function iJ(e){const[i,t]=z.useState(!1),n=z.useContext(ec),r=z.useMemo(()=>YE(e.div.tagging_ids,e.tags),[e.div.tagging_ids,e.tags]),l=z.useMemo(()=>{const h={};return e.childElements.forEach(d=>{YE(d.tagging_ids,e.tags).forEach(p=>{h[p.name]?(h[p.name].count++,h[p.name].phrases.push({name:d.element_name,layer:d.layer_xml_id})):h[p.name]={id:p.xml_id,count:1,phrases:[{name:d.element_name,layer:d.layer_xml_id}]}})}),h},[e.childElements,e.tags]);return U.jsxs("div",{className:"record-box",children:[U.jsx("p",{children:U.jsx("a",{href:tJ(e.viewerUrl,e.div,n.categories,n.tags),target:"_blank",rel:"noopener noreferrer",children:eJ(e.div)})}),U.jsx("div",{className:"category-list",children:r.map(h=>U.jsx(ed,{label:h.name,isActive:n.categories.includes(h.xml_id)},h.id))}),U.jsxs("div",{className:"tag-list",children:[U.jsx("span",{className:"tag-list-label",children:"Tags"}),Object.keys(l).map(h=>U.jsx(ed,{label:h,isActive:n.tags.includes(l[h].id),children:U.jsx("span",{className:"tag-count",children:l[h].count})},h)),U.jsx(nJ,{toggled:i,onClick:()=>t(!i)})]}),U.jsx(Q$,{tagCounts:l,elements:e.childElements,visible:i})]})}function rJ(e){return{...e,tagging_ids:e.tagging_ids.split(",")}}function oJ(e){const i=e.prepare(`
  SELECT
    elements.id AS id,
    elements.name AS element_name,
    elements.type AS element_type,
    elements.parent_id AS parent_id,
    surfaces.name AS surface_name,
    surfaces.xml_id AS surface_xml_id,
    layers.xml_id AS layer_xml_id,
    GROUP_CONCAT(tags.xml_id) as tagging_ids
  FROM
    taggings
  INNER JOIN elements
    ON elements.id = taggings.element_id
  INNER JOIN tags
    ON tags.id = taggings.tag_id
  INNER JOIN surfaces
    ON surfaces.id = elements.surface_id
  INNER JOIN layers
    ON layers.id = elements.layer_id
  GROUP BY elements.id`),t=e.prepare("SELECT * from tags");return{elements:Pl(i).map(rJ),tags:Pl(t)}}function sJ(e,i){const t=e.categories.length===0||i.element.tagging_ids.some(r=>e.categories.includes(r)),n=e.tags.length===0||i.childTags.some(r=>e.tags.includes(r));return t&&n}function aJ(e){const i=z.useContext(ec),{elements:t,tags:n}=z.useMemo(()=>oJ(e.db),[e.db]),r=z.useMemo(()=>{const l=[];for(const h of t){if(h.element_type!=="div")continue;const d=t.filter(f=>f.parent_id===h.id),p=d.flatMap(f=>f.tagging_ids);l.push({element:h,children:d,childTags:p})}return l},[t]);return U.jsxs("div",{className:"record-list-view",children:[U.jsxs("h1",{className:"entries-header",children:[e.recordLabel||"Records"," ","(",r.length,")"]}),r.map(l=>sJ(i,l)?U.jsx(iJ,{childElements:t.filter(h=>h.parent_id===l.element.id),div:l.element,tags:n,viewerUrl:e.viewerUrl},l.element.id):null)]})}function ZE(e){const[i,t]=z.useState(!0);return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"collapsible-menu",children:U.jsxs("button",{className:"collapsible-menu-toggle",onClick:()=>t(!i),type:"button",children:[U.jsx("p",{className:"collapsible-menu-title",children:e.title}),i?U.jsx($K,{}):U.jsx(ZK,{})]})}),i&&e.children]})}function lJ(e){const{categories:i,toggleCategoryFilter:t,tags:n,toggleTagFilter:r}=z.useContext(ec),l=e.type==="categories"?t:r,h=z.useMemo(()=>e.type==="categories"?i.includes(e.tag.xml_id):n.includes(e.tag.xml_id),[e.type,e.tag.xml_id,i,n]);return U.jsx(ed,{isActive:h,onClick:()=>l(e.tag.xml_id),label:e.tag.name,children:h&&U.jsx(tY,{})})}function $E(e){return U.jsx("div",{className:"sidebar-tag-list",children:e.tags.map(i=>U.jsx(lJ,{type:e.type,tag:i},i.id))})}function cJ(e){const i=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id
    FROM
      tags
    INNER JOIN taggings
      ON taggings.tag_id = tags.id
    INNER JOIN elements
      ON elements.id = taggings.element_id
    WHERE
      elements.type = 'seg'
    GROUP BY
      tags.xml_id`),t=Pl(i),n=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id
    FROM
      tags
    INNER JOIN taggings
      ON taggings.tag_id = tags.id
    INNER JOIN elements
      ON elements.id = taggings.element_id
    WHERE
      elements.type = 'div'
    GROUP BY
      tags.xml_id`),r=Pl(n),l=e.prepare("SELECT * FROM taggings"),h=Pl(l);return{tags:t.map(d=>{if(d.parent_id){const p=t.find(f=>f.id===d.parent_id);return{...d,name:`${p.name} - ${d.name}`}}return d}),categories:r,taggings:h}}function uJ(e){const i=z.useMemo(()=>cJ(e.db),[e.db]);return U.jsxs("div",{className:"ec-sidebar",children:[U.jsx("h2",{children:"Filters"}),U.jsx("div",{className:"h-separator"}),U.jsx(ZE,{title:"Categories",children:U.jsx($E,{tags:i.categories,type:"categories"})}),U.jsx("div",{className:"h-separator"}),U.jsx(ZE,{title:"Tags",children:U.jsx($E,{tags:i.tags,type:"tags"})})]})}const dJ={categories:[],tags:[]};async function hJ(e){const i=await fetch(e);if(!i.ok)throw new Error("Failed fetching SQLite file.");const t=await i.arrayBuffer(),n=new Uint8Array(t),r=await X$({locateFile:l=>`https://cdnjs.cloudflare.com/ajax/libs/sql.js/${Y$.version}/${l}`});return new r.Database(n)}function AJ(e){const[i,t]=z.useState(null),[n,r]=z.useState(dJ),l=z.useCallback(p=>r({...n,categories:n.categories.includes(p)?n.categories.filter(f=>f!==p):[...n.categories,p]}),[n]),h=z.useCallback(p=>r({...n,tags:n.tags.includes(p)?n.tags.filter(f=>f!==p):[...n.tags,p]}),[n]),d=z.useMemo(()=>({...n,toggleCategoryFilter:l,toggleTagFilter:h,layers:e.layers}),[n,l,h,e.layers]);return z.useEffect(()=>(i||(async()=>{const p=await hJ(e.dbUrl);t(p)})(),()=>{i&&i.close()}),[e.dbUrl,i]),i?U.jsx(ec.Provider,{value:d,children:U.jsxs("div",{className:"editioncrafter-record-list",children:[U.jsx(uJ,{db:i}),U.jsx(aJ,{db:i,recordLabel:e.recordLabel,viewerUrl:e.viewerUrl})]})}):U.jsx($$,{})}var tv={},xP={exports:{}};(function(e){function i(t){return t&&t.__esModule?t:{default:t}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(xP);var nv=xP.exports,SP={exports:{}},EP={exports:{}};(function(e){function i(t){"@babel/helpers - typeof";return e.exports=i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(EP);var pJ=EP.exports;(function(e){var i=pJ.default;function t(r){if(typeof WeakMap!="function")return null;var l=new WeakMap,h=new WeakMap;return(t=function(d){return d?h:l})(r)}function n(r,l){if(!l&&r&&r.__esModule)return r;if(r===null||i(r)!=="object"&&typeof r!="function")return{default:r};var h=t(l);if(h&&h.has(r))return h.get(r);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in r)if(f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)){var g=p?Object.getOwnPropertyDescriptor(r,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=r[f]}return d.default=r,h&&h.set(r,d),d}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(SP);var iv=SP.exports,JE={};const fJ=Bm(Nj);var QE;function rv(){return QE||(QE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=fJ}(JE)),JE}var mJ=nv,gJ=iv;Object.defineProperty(tv,"__esModule",{value:!0});tv.default=void 0;var vJ=gJ(gt),yJ=mJ(rv()),bJ=(0,yJ.default)(vJ.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");tv.default=bJ;var ov={},wJ=nv,xJ=iv;Object.defineProperty(ov,"__esModule",{value:!0});ov.default=void 0;var SJ=xJ(gt),EJ=wJ(rv()),TJ=(0,EJ.default)(SJ.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");ov.default=TJ;var sv={},CJ=nv,kJ=iv;Object.defineProperty(sv,"__esModule",{value:!0});sv.default=void 0;var PJ=kJ(gt),RJ=CJ(rv()),_J=(0,RJ.default)(PJ.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");sv.default=_J;export{AJ as RecordList,DJ as default};
