import{r as z,E as vt,a as cr,Z as al}from"./index.CPSiHpUv.js";(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@charset "UTF-8";@import"https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css";@import"https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Martel+Sans:wght@200&family=Martel:wght@400;700&family=Taviraj:wght@300;500&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";@import"https://fonts.googleapis.com/icon?family=Material+Icons";@import"https://use.fontawesome.com/releases/v5.0.8/css/all.css";@import"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.a9s-osd-crosshair-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.editioncrafter .MuiInputBase-root{font-family:Inter,sans-serif}.editioncrafter *{box-sizing:border-box}.editioncrafter div{width:auto}.editioncrafter body{padding:0;margin:0;box-sizing:border-box}.editioncrafter .warning{color:#ff0}.editioncrafter .fa{width:max(1.5rem,24px);padding:max(.2rem,3.2px) max(.1rem,1.6px) max(.1rem,1.6px);text-align:center}.editioncrafter .fa.active{background-color:#9e9e9e0a;border:max(.2rem,3.2px) solid #FF9800}.editioncrafter .fa-book.active{border-radius:0 max(2rem,32px) max(2rem,32px) 0}.editioncrafter .fa:not(.active){color:gray}.editioncrafter .fa.fa-lock,.editioncrafter .fa.fa-lock-open{border-radius:max(2rem,32px) 0 0 max(2rem,32px)}.editioncrafter .vertical-separator{height:100%;border-right:1px solid #6F747C;margin:10px 0}.editioncrafter .line-clamp{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.editioncrafter .line-clamp.two-lines{-webkit-line-clamp:2}.editioncrafter .flex-parent{display:flex}.editioncrafter .flex-parent.half-width{width:50%}.editioncrafter .flex-parent.full-width{width:100%}.editioncrafter .flex-parent.column{flex-direction:column}.editioncrafter .flex-parent.jc-start{justify-content:flex-start}.editioncrafter .flex-parent.jc-center{justify-content:center}.editioncrafter .flex-parent.jc-end{justify-content:flex-end}.editioncrafter .flex-parent.jc-space-btw{justify-content:space-between}.editioncrafter .flex-parent.jc-space-around{justify-content:space-around}.editioncrafter .flex-parent.ai-start{align-items:flex-start}.editioncrafter .flex-parent.ai-center{align-items:center}.editioncrafter .flex-parent.ai-end{align-items:flex-end}.editioncrafter .flex-parent.wrap{flex-wrap:wrap}.editioncrafter .flex-parent.row-reverse{flex-direction:row-reverse}.editioncrafter .flex-parent.column-reverse{flex-direction:column-reverse}.editioncrafter .flex-parent .flex-1{flex:1}.editioncrafter .flex-parent .flex-2{flex:2}.editioncrafter .flex-parent .flex-3{flex:3}.editioncrafter .flex-parent .flex-4{flex:4}.editioncrafter .flex-parent .flex-5{flex:5}.editioncrafter .flex-parent .flex-6{flex:6}.editioncrafter .flex-parent .flex-7{flex:7}.editioncrafter .flex-parent .flex-8{flex:8}.editioncrafter .flex-parent .flex-9{flex:9}.editioncrafter .flex-parent .flex-10{flex:10}.editioncrafter .flex-parent .flex-11{flex:11}.editioncrafter .flex-parent .flex-12{flex:12}.editioncrafter .bg-maroon-gradient{background-image:linear-gradient(to right,#792421,#66211c,#531d17,#411912,#30140d)}.editioncrafter .bg-dark-gradient-bt{background-image:linear-gradient(to bottom,#f2e6d9,#e6e0c1,#e4d2a5)}.editioncrafter .bg-dark-gradient-tb{background-image:linear-gradient(to bottom,#e4d2a5,#e6e0c1,#f2e6d9)}.editioncrafter .bg-light-gradient-bt{background-image:linear-gradient(to bottom,#fefcfb,#f0eddb,#ede2c4)}.editioncrafter .bg-light-gradient-tb{background-image:linear-gradient(to bottom,#ede2c4,#f0eddb,#fefcfb)}.editioncrafter .accent-bar{height:10px;width:100%}.editioncrafter .invisible{display:none}.editioncrafter .disabled{opacity:.5}.editioncrafter .figure-dialog-img-container img{display:block;width:100%;height:auto}.editioncrafter a:hover{text-decoration:underline}.editioncrafter a{color:#792421;text-decoration:none}@-webkit-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-moz-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-ms-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-o-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}.editioncrafter #globalNavigation{display:flex;align-items:center;flex-direction:row-reverse;font-size:max(.9rem,14.4px);position:relative;top:min(-4rem,-64px);right:max(2rem,32px);float:right}@container diplomatic (min-width: 960px){.editioncrafter #globalNavigation{display:block}}.editioncrafter #globalNavigation .expandedViewOnly span,.editioncrafter #globalNavigation .expandedViewOnly a{color:#fff;margin-left:max(1rem,16px);cursor:pointer}.editioncrafter #globalNavigation span .francais{font-weight:100}.editioncrafter #globalNavigation input{height:max(1.5rem,24px);padding:0 0 0 max(.5rem,8px);font-style:italic;border:1px solid rgba(0,0,0,.3882352941);color:#756c6c;background-color:#d8d8d8}.editioncrafter #loadingStateModal{position:fixed;z-index:9000;background-color:#0000007a;width:100vw;height:100vh}.editioncrafter .spinner{width:100%;height:100%;margin:calc(50vh - (max(1rem,16px)/2)) auto 0 auto;text-align:center}.editioncrafter .spinner>div{width:max(1rem,16px);height:max(1rem,16px);background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:sk-bouncedelay 1.4s infinite ease-in-out both}.editioncrafter .spinner .bounce1{-webkit-animation-delay:-.32s;animation-delay:-.32s}.editioncrafter .spinner .bounce2{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.editioncrafter figure{padding:max(.3rem,4.8px) 0 0;border-radius:max(.2rem,3.2px);margin:0;text-align:center}.editioncrafter figure.current{background-color:#077affd4}.editioncrafter .thumbnail-caption.current{color:#077affd4!important;font-weight:900}.editioncrafter .watermarkContainer .navigationComponent{position:absolute}.editioncrafter .watermark{width:100%;height:100%;margin:calc(50% - (max(10rem,160px)/2)) auto 0 auto}.editioncrafter .transcriptContent .watermark{margin:calc(50% - 12.5rem) auto 0 auto}.editioncrafter .watermark_contents{width:max(10rem,160px);height:max(10rem,160px);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAABKCAYAAAB+UyxeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB4ISURBVHgB7V1LcBtncu4ZgNRjt4rQLTeOKntgZb0reNd2uWpTReiWnAQdNpbsrRJ88EZyUiXylhupUyonkVVZy9k9CKqyrTg5EDrmJPDmJJsVmN2kdNPw5pwMVa1lPoD50193/4PBiwRAkJJldRUJYGYw8z/678fX3T8CmpDKV65HFIYb5FyBWq3LtX/9TYNe0UtDIU1KQbDKTBHzayGYmZ2nV/RSUZ4mIJYWFWaIa/IhoKZrt5/SK3qpKEcT0MKP3togcnV+++/MGW8zk5QXfvjT/3v8h99+69VJubxUWPjJT64svPZGxP15TN9RCmhMwsDRmd1HrEbeZ4YoiuRIkm1+rfPpS3z8Xu2fP67St4TK7914SI77QdTkv6jrpKpKMDvG6RL/VWufffQ+fQdofFXy/VaRkiDiAeMBFamBQV3mv5Xa/TsXy7/421L53Q9XmVli2jldq9XWmvQikwvOy2uSYMLj9PjO6Wa27dwnnNum7wiNzRi1T/6xzoPUlDUEieGoyt5JxAN7Sy5Idpu1z36zWr56Y4nO7j3ia+u0v7/+wnotYO6AFrkPt8XDCgLtx9m9iKVJkxmH/1yJj8DAjuk7QhMZn/Rs9nz6/uxemQfuGg/spriwLiiwumERvMerzTWYcSKamdkQZkqS9RdSzThaZ+a4xn8NYQ7natzO2J/mtoOpS9mviEo9vVOUxSFqxm3V7n+8RC8JTcYYp3cKzAgl1rdV/lTlgYPk4NUWFuGl4Hzts4/9uQq/VniwHewRliTXTAXdyw7+c6MgiFmi1Zl5uc13VgdekyRN7u88t/sS92eRoD6DPV4E4TovkjXuLxgnppeIJmMMUSG8sjrUrN3/aBVvRGrkgjIPYIEHtJoyD44D+8BEBEHExx6KmmEV9JwZJKZcDrZE2h9ta7gkKgYGKdSmk1O4Zpv7vsWfYzG8v7d3k9ohS0Lt/yAqX+HF0d5vfJtAwMkYQwYr6BiVrjOoNslreC+G6NUPl6jNEmLnVJ2NuYqIYFU/GHBInjVmkK+eI4P4yYrSI0B0iYDNPJB2Es3xaihzn0skHgp7KrmwJnbV17PxoQZ2jm5TkMdzLtK3hCaVGCwNwg73u2Rt0GUwVPmlLuokv1dlNVKnb9hYdY6N12CTsFph2AUY6+CuWP5JAhVTp5OkdhsMKpLCmLNorupNCrltCd2jkJnbtZbZsB5r1XOfyyJtWMpm7v/C06QSI85+OKyzqTphCcIYiDIRqxkW12WOs6xRPh/xEQzgUx7ASvndGzcpcQ9OyFAt8vObwqwdguta4kbWa59qG1jyrdXuj8kU715fYWP8HDPdZb7/mrj4RKnhnhqwJGNYpxeIJlcl7V0ZpHKFO7e7szqKRZ5KELU3yixqCqLfT52q0+4uG3NJQ6384AJWquAhcBOPW80E7gLrD3gj2k5j5O6L3PjxIFU9MTN/zO0vcn+cMQNUL3tBexxaYFefbTRmomUz2F8ImpQxCqkhtcfW+ZixuF47hHZ2oiDMPXFBOxKjDqvVATgDxhDA21likRzLqp42aDY7W+M+fCXvFb3tU4uy8sPcOo1LLtji/6yOwqIY41BPIjFD4ECRXQWVyh4Pe2xXrscviuSYNLoade6QFMT/n5AgRaAyXNLmQeTVA29nf3/V7slShZQJnFOX8MxuBZJEdPcUqFYVJlu3Z5R6zwtTJGFg0m5kEskQBM7uq5gOGC9gaShMweLJsXFL7it5zeVuMdO/MF5LAN2pb1mcwo1Uoyum4fAv/PkI8Dc+lH9xvURtNtIo2BbVgBXuLX3V23Gqv0MRm3rcH2u3m1AnXlVYnkcJmAFhNTHYxJ8ripNQU7wE4CD5PAzVkrXnAcS1qKUeKHtUMrzlJquR1zvHxEbYknuD1K2NVIoFBUNKC4PGR+NI/ClxVf5/znCQiN+zEesCGeMwrI/LcCdFeQr2q0QzbBQFNVJ0DxPBnMwT4Vi0gwALhyGQSxhK24b2Zeke4xi1QQ+QifaE+IkamiT3T5KCMAtPOksAHuCgKZMPCkQMlwVLgO5X97gormIYLDJDIez/QDwaiOuZmRJBupzdq/EkD2ZqnRgj3M8V7BX2Q0S9i8GFeP45ys8wU2PB5GJ5RqvVkDYxE8p1cL+JGVltCrjvTWFW2Er63Cfc+XllJjGwGzYekTEknn1BXrEwMTYBOibSxI/FvIxHkqzxIrpFx0x5uF88KYiU3uVJusgPvssdbw55uEw+X7/YddTlhq7QAUZjTGOSIqtuSUSxY28ml49MWvjVign1KicSZhkjPiMGNOwMhuy7TsiKl4mI+75zhSXl2b2SSDJFcjcFBcPEk6gLTDSkBn833GbJAYn6gCXt2oFtUZwnYsnVsOdE3ijm+VmH9Cy/88ul2ue/PvA+R6U07K4iPLhN1GKGmNkQ1HIAc4jqSAQOX5XP4qdDFZyMSJQVpvEMlmJtHrwZSC8M3qJJspqt1hJpD+fk8zcCsA1k4JQx4KYGfO+2U+kXhpJewJOpC0I9ipuM7DJD9KlbXdGeWUXtiVQ8D8aycYvM4znqGNw97sBk6pVI469c5/D5TIWXyUUMCnPm0z7OTEIM7kr55x/UpGEQj63dmE6I/MCqy5sv2+DXAVDxJG6LOHds7wROjb9A4Osyr8IlHtAnfO1mr2cDA9SCfPWe4NlTexZAuBV2L0tir8NzcrTF6Gc9aLfnXRBU7Sub/LwafX2qSt9nfMKFG+n92rBLaDo0O7vMfb3L7y7TMVGXu2rMUeXOVyQRJ5ffuHz1xlcb9+/cSy/SgFIz5VZnWMQJU5/L2xZ7aF6tf9gljKxCjDuo6mRVxHHICGeQRzoAUNZqH8rKABQfR19xb9xvjo9tsCRtqq4XKbAujAhGSZJrTg3RLX7+WhaQYwnR3eB+I3XyvoORr97YPE6V0ueuyoCH+4gDQDTewmqQFZM9z2I8NSqn2OFJSVze+3eUmaEKJbuMCub6NgB5o90CZzuHJKLzYguw4cso64bkjpD05bKoyGezMMDrpHYLpANUCTME39ex9xaGD5lZinLs2ey52qe/KvahtG0dl/I7f31TPmvQMaIpkdgqudxil3E/RRoIcIlBeuV6kdqtgPK5usQxrly/mIpFHkD+W+MBrVqm1olLjEHUYyQuidE6MwO9D3UgriYkhDI60M6AXWKAWmLcFczrapiaQYxHvQE1aCvmAW3CSD/UzQSau7eHmNCWqaLpL6DELfN92S6cvko5UOvZSooliQVuooreOD0vRtvX0biBpedBho9UCFB0x5tpGm4D9HFFjjiH95AQms+q6mNLvIyEttgtL434SIX0kcTEng0/G/hIzRuy0yIxaveT4rRVyqHmkDBHm5kDojPglfPNqaUXPo+TugJUiyr2AzJAyvAQURPblkBU1hS/4J43QM2LQNALTI+g2k1BRp27NU5wz3AKMN0W33vpOGI+/Iw1VpnVaXopI9nJKXPkxB0D6lmiF4w6qXZh2RJsYiIDmmAvYcUqUyxKog2kAuBp5yom5iWlLwMmgSqGUawLVhMmZQm4JeKm1sQ9hipltfO8w+mwlejZqfentWhHdqCYKxkedggZz/FfzMyxTFOiNGOKo6ujrkbV22HZoHzNrNLVPS8uKQeufKWcfGGfDeqZmaKIdk1ivkcBR3OdqAugr5sGczcF+xBElO+prnBJ7qG2hrPjkgXPsZuSeC7ETAU32SU1xDxOWqqqERpWDsokG4fG8qzL7/3NbUEgsRqHAGCTEDMd9C4AJkC+r/euPqtlqcgKB+kEPbXvbKdxFDUoedLwHi6lMM68xS0KMvmSkifJu400Xc9xACtAsg7iIHzcPAqVKAyJQ8oEkryzLMG8PNvsrs3SQpBNze5CvgUkUS53U1x6H29S1VSnEyABG5N2NA17YzzG0DwKACvbsrrarfpRG2HSgnW5ru7uINYHPBl5QOEIqAGomtP4Bk9um8V7XnJPGxaQQwnAkmWHeXh8S1Y+0vD+mG/01IlUCKpCXUiXws4S1Q2K5F1Lj10g6ReEupp2u2gBR6gcZUowXiLf2ZRnOjE4NRioObJq5EICHaNEsZqe6lFV2/iMoWIVQFLRVsrlSS1tYzQYeJvka2EliBQ80MF23XUdqhb4PHkYPE7tA+89IHoJDKKHEUboF1DR970qE4MOBifxsQMSaARcg/RwMhZqm4QSLPMeD8CvJyxJzgmDS+BQgLeYNPK8BeY+aCJFbWLcmTkP65PB+7ePWjE3HmNoMAvGZ00wDDXeoJcvTsKhmv2190hwBAwm1AADSAEbhI4kCnlJJIRmZMO+uZRpuTKCo8YgiTBWOyCCxU4gK0ASAxTPinysY6T7QOVJpZ4E+LxUceoNUcOkConk8JJNc15hLNcFdGMbJat6JMM8ELtIFoJPdziwHZC07aB0FGk+HmPAhWvlCQEz48wnmZyL98dhDvF0kGyrIhtA2S2ONC+y77hKEk6HbSCJO0X7yrYgkBjgnpjGSM9ThLCkMRVvG5BGQ/EsSD8lgcqlT5Ai7KoOCnyBCUZhxAyz4P5z5hEp5uzM2PVMgryPU6cigfd10W1p7MdxRJmvYfeZ2zKaJwlVOcE4eZqYMezhKm6dw0DOM8ZxeWTxnYpqT4hoBhGpmogVaBpsH0xCGVyCxJ4hxixCyXRv8kRUUlWmBJCrSsAfYORCJfjEIjUq0cYLbGOtj7MqU1UchrEwiqoazxgcjOTXmXBRJEySQPXM6Zg436Zxx3jVR8HHpfFyPtVazzYK1j/rskCTZs7uPeQVcnHEhlepizF88g8P1rNTr0/dOMufbrCE0/snUH134sxZrcfV9ggcTt6GUbsj7r2dFlblH/Hr3Kjemd2n6p+Z3kulCjNMqyDZXZBocLe1LQUD57ZFipzd+8pKJhuHht7ZCMVeJpNk24dpJ0ejct+R/TbrztayNDphH/7s7l3p6CFkiSgY0Ka8Ppt9nTu/jpV8HBa75XY2TSpdG9CeJUnzR+U+JAnKG7A6h4hiO47EmVUevxU6Stu4vxx7gW1RlXa4BO3A+BTUWxO7Z96kVpUlyy3JspuZeXjgfSUgGo4zvympxEBW0Hsf3uzkVcrRpqWZmfiUNLiyVLd7Ap6AxkmirossTa8xsuSQ7wVbaXnjux9GhjROhdiOeWigVUxaWRaL2gvD2/wsYCaXu3JE/5ivS2p/kkQEiYGK93c/9G3tze/0iTkkzHH1RoUZaSqSTiD5dz9EemVRgnzAUgJRfyVBXfMc8m9LEnZ86L3YPrIyjFUag5QxdII0RY199q6MpbMoDyBE8hgSDvi9JcaCQkQeaVm+F4YF1dMCgClzXL1x63BX1gMIpPUdSW4i17eXzDiOSJN3G7pNQ7AkfdUoKRJ0V7idT23y2QuRUgiTLFKz2uyAYoEa2Wof4L4rinaKq40IZzxlSSdM6N1O8+B4bFiSJeKSR1piMQKFiUSUxwHalDFg8bZpWbyETMKsdTTVYTyAm13fdoI1FFLIOAgemNF0TQaNXUBmjuE4hxYalSGKRU+76Saz8Mt5WS2B1HZUSPASnnjkUPRMIrdhza4BxYTw+6cfDdXf3K+mMoTwNd6XWOp+hXJGloBLdHSK+o4E9KR2X1RYrNABg2UjUO2Tj+tSclFeGtmIV8bQdL2IDQbWbTOwEaoDb9Bd4Y6WBvT1bJXO7K2KqmkbFKxZ0Cz2WGwjl+PnH8SDjCSbvAq2O+KBLhGNuALGILPKVw+9Tm2GQ69Lr1dmr2Uqy6g23UDavBVfKbUQKQ7THFOfLDwyzTJym+yBYVdHuTxMH4L4QZIDlLvOcYnBxhQbmD2dn9cgEkuVUAAcwRhEbCtQBOCmwLGFjQMNoDYyr0jRzp38eB1+ziSGI7LDph1dFbzD0bRIFmEgmXelUa7PpPaxtGCdK64NI01DLO11RuJghUfmeRQFlBFmIAOOOHCFHFBELzvGq0DfLDkGSgQZ2Pt31lh0n/s25HocN+kiwqIKtntOxXQEknRAr/YPoZQxLAtrW4wUuEw51pk9EykIYJ5dOehiFNnAvfNVZN+cqkK3in5lQMqCW7dI60GbkgSTz9+WPUJf0cEkScviIc6lkrZlVXxHJcM2DrusC/lUS373LhI+RG8iknoI0pbmM3r7IzReC826hwXvABzJ+XUYptkI6isaTClKCuNewvvBpWyNy5HuPQJcHgxskCV8SDCGZm4eFqmzKGnR/Pwo3WEnsCxr9fcXDaDZ1JI93YNr1JjDd52mPU6IVR1UFTcwViIuXrvVpN2zVVYZVYsQdm1kYhHJEvkUe/j3ug9E7DsiUge71eRyBUu5A+TcEIRUP/td8uTeds/iIHxfmPTZ9wQrGDZIg44L02ZALPmMcoKMlzTOTjdZL6SHovSdL3rOkqYAesq+p6kbriOQX8zDJNBgxlBw6JHgFCQRPsYl9hmyzpd6uUzsEKTMqcizu7YYgDlVEMM0OynIXUgSv59mZFcj1P7IPqOxyHrq90z0vD/u389nrgCDnUuBqGwtqy+W1syviBTV9WHvgg9pp/fXzwULmFHnPkRdx7ITjIUxjJDRhb9sQTcKxjW6GvXc056Xqe7vPHc+c/4pBTRcguj3OxFkuYd89lX6m1LW2WotD4IShkZXTcc9DJxblRI8pK6pGrgwLGiUqhRMnIaVm6ntEdggYPBV0lySyTAY2UoV5jVe0kNe6gwj20oBb0de+cPd5/7jYZfhN+x73ZSdmG7Kehpx//dcJ9qqgTzPrCqFIHky/T10bAY9C9/JS2YcShsgrcu9Fx9cV2LMIZE9ZFMjP2FAsY0v2JVVg4f6jnTS9OO003oultzREBlNUoDc1DxMJN6kg4K/edLcTke+kssXC2vrm+lq6PRoLruLoD1vy57du9cWUXbrhcEUd33KSgb0VYqrhXEiW/1NqcPRNlSpwwgFOS79JRooJXxppDLVJdKxWxdp7JD5LjkjUL9PDSPK0oO+vg1+hp1DfgfFw4q9D83HsEnXXxtwkhA7MFtL1E+rVZQPPSpk4H0B6TLjpEXKWsV+SWD1DkWCkXRWSER+og64v6gsapFsHi/iuscY1gzvFB72mWnyjFZr0AYvcdcD/CrNYgLqnjes/rckW1A/m00DiZpIjRwMlCIg4Zj7NDND6XOhajxpfTBL6KTm0wrTfBIkJPvNaLSdGEfZVJfV/NQq0katK6laIktM4OJMh/uu9YMsd2/Fw6rUerdPsKqtyHCPiLKTISsmzff0n5u2f5aooICC2sZnv3pgkUS0AWL8HOnWRprQ6wfUT6AZkgOz0nX3Y/3zBIbPy94ckXzWzWSy0qlhk1riGV+pfXbnfHpPnVgkUmt2WJJ0XPsu1YG9T5EYFABPKmfGC6J/JZtFn7YTJaKWRT+tX0cYp67kkXHpOW7ck1G5U7O+5G1MVjsqxzPuUidTXGDxrIHpSb6rK9/jJXxdWwJ1ZbFnEt0dz1ZyZN/XxBtncHu3wdlh7OzWTygNwH08Q8zOxiJnBnkimBAk2GjNa7atRXt2VWpcpMwTOASrxXCAwQoJ5L0YzyQOv+bwUYexlOFXSPc9b2TGJ/UIBXhkb/JEywfM3rDfKeFGtMPF2uf/NP5Odv5+6Ggm61lyJ8AYPhcS1LHMbbDAmGh1riGqQmOAuLYpaGuG+txWUS9Ecl1GSphXRV6UmyqI+hrcwWmU0BavAjSh13tBHRsLKkuZtCTGO+tzyf/MuPVDx4fHI5v4a1IbdsdFkVJqjHYY0koGplWuOH7OJ+wNFmeyUrUirUZjkuV5LKE6zHdASuwSt9wn1v0kqSUdCVOy2wwGqX16Zy1VXZ5xQIDpJ9llb+brKLXw/Q56tkGr/3xo+n4H54hYJJSovV9DKMAYBdsrbKdMBVKGxFjiOcrkgZuTX21wbG99M7uaem2aJXerMxamfpRqCIZq3sbuxrjJ2b00FmNIxzWJdw66rHz1+hp3YO1Q7v8rtidQHERYQXm9NklKWSBLVJXUiKb6tpsgLjNJwX3AFQZkJ/MzEb4SbJD6yNgZ9uxiqjr8Dn1DjNtBdkkKX2uN7LbZHjFLxFgkhK+ub7UaI7vTshNxJ6/DCqRQVHXPcBFTqfJbMTFhkWZ3PhwhnHEQjb8B7OzsKht8D+Xhp06v0i5yMWjpwO/ssQjN7TIbhgWpuUBV15nd3slv6IoXjAOGo7p5fmKTXdbnVLSkXV3FZ3bxviaG7M6Oeg+aEKa76mURyA5zoOCH34dFS7ap4/QgCZNKK9gSuMsuUgz2ijBwGImtCYinbSzKvXXbyZoBdEVJSUgyKkY3gu30CZu6aD1tiTrFVA0xTANa7ENyvWuuRjHeFcS7oW78xqr1b7FURmbZRMbo2BIDZMbiBou5ixZsKx+Eu6e1FSBzZel7uxWogvQabDj2bHbZioT9gGeMMvJ7WCkaiJ1xTvN9kL6X9Ryy5BFHpeig1LYBUHeUvvPuq9gMmIiZYt8NMMlH2Ge0qy22l0ePRK0QJIbWvPTbPGCqZ7Nde4tZFHV+khrjiRhDHmpIJare5X2rVT/I4LE61JLA5UgIQu5HNp9xZ6fKg1qx4pwotbQPwiuyRmIakwmyzMQqQgp3zpOv3/Ab3HZqXHGPOL1PFsDKMhZ0uqmyXjXW1SafIc/2CsbDtzE1ajV9END2tm60zxMMo9TcY7ETNGZ0Ket6ZnYrrMkBfM//zgrUSlpEtb+ehQhg5DN6/aRrH7URaGLGsIdixS8C15A9sg/YVMUitUWbEKy4+ZQxbBuEcXMlU0+jWzLQUVeteCoW15ByTJvcIMxdAFZCx0wG/nVFtRX3cemEj1X1Bw8wY+iPQpNuMi+EhB4xGs/s3hVE7vQBOYUcGWWdZ6tjr9C1LVweCCeNPZF90LyKW6xWDEDXIKTIrLqXkRyE22iruktH4xh+181/7pyL6STIb2KbJd3uCqkL2A0ZOykXU1RWbJvUoK733g4qCe4u93N1VIaa6Ad5s7Tww5/+Gzfs79TYo6cLP/zJ24//57++6Ltu4e3TtJ97jJW8cOENNoqCysKfvf4U1y78+A1hjKP+AO7j3/9ng9vTrP3Lr/vu87jxxc7j//6PmK/5Es+Rv//93Zdy7g+/7WPKx4/5ev6j50ALP37rbX4JuK319NiP3jrDY/w5T2xj4Qd//iXlW6pGULGmpZanoVoWXnujgD723fO1NxqwCxd+8LPPR+nXkSQGSEGVDy5TOPOIUbdlyuculd/5JfWib93WtWyGxjZB/jZz8jy1Zb8NQO41OiI97y2Pjo0gEXyA0pPGe+qjfF3m6eqNeyLdR9jl78gSA/T497/7kjmS4d4cY/nuL5lz7/DKLfBK3Bx0/cKf/qxBs1L93TSg7DS/PmZOfyA/oV0s/gmvCpEyeD9oRb/MtPCjN+WlW2K8+RcwriEVRZrxmIwr0fg7XyxcePP6wmtvPj1MOk/6eyV9ZO7qPSlaSmTL6Qpz6O2B10J6JJIAFEhI3LwIMZKQZJzPd9zBF2QP0RMltYNkWynJyNescY00H5VcC9HZ24fVsx7JKxlEYowC+gWTILaiUG0fyNIL3rzK/ewmM6TL9rExje2T0nsD30Ck9oANb6bPGJ3knmWJaxzwSwav6PnRYcwxFRsjS9B9bF/ApbpP35z5B8rtf46kEz62xediekUvBPFcNNhuCXhu/p69wzO9nuTUbIwsCQfmODx/ZndF3qvNcahee0UnS1qZliyzd7jSOzfHwhjy0E8EaNmGAWrMcVkKnEfYVOVloUwp59Hvxfc5jrGTeVLQrKuEdOo2Ri9Zyt5cGlORzCbbrlFJU+Kz6fC9P7InLbU9PT36OGp2dH+NR2SvMR2e8R0POBZlMsC3qZOxhX5sdV2p10WGSq7K7sc+A83/JpvGa5ojtAkZYRorybl1aqeb2/rv+qTj+QHfzWyS29WnyEIUwJCK2Y3fjp0xQJJ9ZDvv2/uG1LoOi6v4SGenDqObWpnNWzwNuxakOZqNNJ4yhQjo86CugNwUt1/QmJebDxzVfLDtZBjDsoqQqoZMrdpn08tmfkVHI8umQ1rlumSItdvyQ4knwhjSAP191gLp7rg+p6DQk0dZoKP+4MvwQp/e655mRHGhL59T8z4Kdi62M9uU3ZJ6lHZD/UHCzdiP+vmQu1KceR51korSrHhKd0fuiP1mWu7oyypQHe9y7H6Gw/udrf7rrgTM1ufEJL/L4honxhgg7JwjZY9h7p78dqlPsOku3xusKo5CvWrGknHHqVmdhLIZYNNSXYYTZcsaCl0lDFmmymbVy7lAfhyg64YD2oZn/D8pcUShcyMVEAAAAABJRU5ErkJggg==);background-size:100%;background-repeat:no-repeat;margin:auto}.editioncrafter .third_pane_blank{min-width:8px}.editioncrafter .navigationComponent{position:sticky;display:none;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;border-radius:max(.3rem,4.8px);font-family:Inter,sans-serif;font-size:14px;justify-content:space-between;align-items:center;align-self:stretch}@container diplomatic (min-width: 600px){.editioncrafter .navigationComponent{top:80px}}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponent{top:0;left:0;display:flex}}.editioncrafter .navigationComponent button{cursor:pointer}.editioncrafter .navigationComponentNarrow{display:flex;width:auto;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;font-size:14px}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponentNarrow{display:none}}.editioncrafter .navigationComponentNarrow button{cursor:pointer}.editioncrafter .dropdownV2{width:150px;margin-right:10px}.editioncrafter .toolbar-side{display:flex;gap:10px;height:48px;align-items:center;justify-content:center}.editioncrafter .nav-arrow{height:18px;width:18px}.editioncrafter .nav-arrow svg{height:100%;width:100%}.editioncrafter .imageViewComponent .navigationComponent{background-color:#4a4a4a;border-radius:max(.3rem,4.8px);opacity:.8}@container diplomatic (min-width: 960px){.editioncrafter .imageViewComponent .navigationComponent{background-color:#000;color:#fff;border-radius:0;opacity:1}}.editioncrafter .imageViewComponent .navigationComponentNarrow{background-color:#000;color:#fff;border-radius:0;opacity:1}.editioncrafter .transcriptionViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter #doc-type-help:after{color:#978e8e}.editioncrafter #doc-type-help .dark .MuiSvgIcon-root.MuiSelect-icon{color:#fff}.editioncrafter .breadcrumbs{overflow-x:hidden;display:hidden;align-items:baseline;width:100%;justify-content:space-between;align-items:center;gap:10px}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbs{display:flex}}.editioncrafter .breadcrumbs .vertical-separator{height:24px}.editioncrafter .breadcrumbsNarrow{overflow-x:hidden;display:flex;align-items:baseline;max-width:70%}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbsNarrow{display:none}}.editioncrafter .breadcrumbs .folio-path{display:flex;gap:6px;font-weight:400}.editioncrafter .breadcrumbs .folio-path .document-title{max-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .breadcrumbs .folioName,.editioncrafter .breadcrumbsNarrow .folioName{font-size:14px;font-weight:700;text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:none;text-decoration-thickness:auto;text-underline-offset:auto;text-underline-position:from-font}.editioncrafter .grid-view-button{height:18px;width:18px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none}.editioncrafter .grid-view-button svg{height:18px;width:18px}.editioncrafter .imageViewComponent .grid-view-button{color:#fff}.editioncrafter .toggle-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none;color:#6f747c;display:flex;width:32px;height:32px;padding:8px;justify-content:center;align-items:center;gap:10px;border-radius:5px}.editioncrafter .imageViewComponent .toggle-button{background:none;color:#fff}.editioncrafter .toggle-button.active{background:#07529a;color:#fff}.editioncrafter .tag-bar{display:flex;position:absolute;background:#f3f4f7;width:100%;z-index:100}.editioncrafter .tag-bar-close{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:48px;width:48px;display:flex;align-items:center;justify-content:center;border:none;background:none;border-radius:50%}.editioncrafter .tag-bar-close:hover{cursor:pointer;background-color:#ddd}.editioncrafter .tag-bar-close svg{height:24px;width:24px}.editioncrafter .tag-list{width:calc(100% - 30px);top:46px;display:flex;flex-wrap:wrap;align-items:center;gap:6px;align-self:stretch;padding:8px 16px}.editioncrafter .tag-list button{display:flex;padding:6px 10px;justify-content:center;align-items:center;gap:4px;border-radius:50px;border:1px solid rgba(10,10,10,.2);background:#fff}.editioncrafter .tag-list button.active{background-color:#07529a;color:#fff}.editioncrafter .tag-list button:hover{cursor:pointer}.editioncrafter .tag-list .tag-label{display:flex;align-items:center;gap:6px}.editioncrafter .imageViewComponent .tag-bar{background:#242629;top:44px}.editioncrafter .imageViewComponent .tag-bar *{color:#fff}.editioncrafter .imageViewComponent .tag-bar .tag-list button{background-color:#484b51}.editioncrafter .imageViewComponent .tag-bar .tag-list button.active{background-color:#07529a;color:#fff}.editioncrafter .imageViewComponent .tag-bar .tag-bar-close:hover{background:#898888}.editioncrafter .book-mode-toggles{cursor:pointer}.editioncrafter .lockmode-container{display:flex;align-items:center;justify-content:space-between;width:100%}.editioncrafter .lockmode-container:hover{cursor:pointer}.editioncrafter .lockmode-container .switch{width:42px;position:relative;background-color:#f3f4f7;border-radius:5px;transition:all .2s ease-out;display:flex;padding:1px;align-items:center;gap:10px;height:22px}.editioncrafter .lockmode-container .switch:hover{cursor:pointer}.editioncrafter .imageViewComponent .lockmode-container .switch{background-color:#242629}.editioncrafter .lockmode-container .switch .slider{position:absolute;left:calc(50% - 20px);top:calc(50% - 10px);border-radius:5px;transition:all .2s ease-out;background-color:#fff;display:flex;width:20px;height:20px;justify-content:center;align-items:center;gap:10px;flex-shrink:0}.editioncrafter .lockmode-container .switch .slider svg{height:12px;width:12px}.editioncrafter .imageViewComponent .lockmode-container .slider{background-color:#0a0a0a}.editioncrafter .lockmode-container input{opacity:0;width:0;height:0;position:absolute}.editioncrafter .lockmode-container input:checked+.switch{background-color:#07529a}.editioncrafter .lockmode-container input:checked+.switch .slider{left:calc(50% + 0px)}.editioncrafter .book-mode-toggles button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#f3f4f7;border:none;height:32px;width:32px;color:#6f747c}.editioncrafter .book-mode-toggles button svg{height:100%;width:100%}.editioncrafter .book-mode-toggles .document-pages-icon{stroke-width:0;fill:#6f747c}.editioncrafter .book-mode-toggles button.selected,.editioncrafter .imageViewComponent .book-mode-toggles button.selected{background-color:#07529a;color:#fff;stroke:#fff}.editioncrafter .book-mode-toggles button.selected .document-pages-icon{fill:#fff}.editioncrafter .book-mode-toggles button:nth-child(1){border-radius:5px 0 0 5px}.editioncrafter .book-mode-toggles button:nth-child(2){border-radius:0 5px 5px 0}.editioncrafter .imageViewComponent .book-mode-toggles button{background-color:#242629;color:#6f747c}.editioncrafter .closeX{float:right;padding:3px;font-style:bold}.editioncrafter .closeX:hover{cursor:pointer}.editioncrafter .helpContainer .MuiListItem-root{display:flex;gap:10px}.editioncrafter .helpContainer{padding:12px;width:335px;height:min(600px,100vh - 40px);position:relative;top:40px;overflow-x:auto}.editioncrafter .helpContainer .readingGuide td{padding:8px}.editioncrafter .helpContainer .readingGuide h2{margin-top:16px;margin-bottom:10px}.editioncrafter .searchHelpContainer{padding:10px 15px 10px 0;width:335px}.editioncrafter .helpHeader{text-align:center}.editioncrafter .paginationComponent{white-space:nowrap;text-align:center;font-size:max(1.2rem,19.2px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:52px}@container diplomatic (min-width: 960px){.editioncrafter .paginationComponent{margin-bottom:0}}.editioncrafter .paginationComponent.bottom{margin-top:0}.editioncrafter .paginationControl{padding:16px}.editioncrafter .paginationControl .arrow{font-size:max(1.8rem,28.8px);color:#4a4a4a;margin:max(1rem,16px) max(1rem,16px) 0;cursor:pointer;display:inline-block}.editioncrafter .arrow svg{font-size:inherit!important}.editioncrafter .paginationControl .folioName{position:relative;top:min(-.2rem,-3.2px);color:#4a4a4a}#diplomatic.editioncrafter{container-type:inline-size;container-name:diplomatic}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #annotation-list-view h1,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3,#diplomatic.editioncrafter #annotation-list-view h4{font-family:Lato,sans-serif;color:#000;padding:0;margin:0}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter #annotation-list-view h1{font-family:Taviraj,serif;font-size:32px}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3{font-weight:700}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter #annotation-list-view h2{font-size:22px}#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #annotation-list-view h3{font-size:18px}#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #annotation-list-view h4{font-size:18px;font-weight:700}#diplomatic.editioncrafter #content-view p,#diplomatic.editioncrafter .header-wrapper p,#diplomatic.editioncrafter #annotation-list-view p{font-family:Martel,serif;line-height:1.25}#diplomatic.editioncrafter #content-view span,#diplomatic.editioncrafter .header-wrapper span,#diplomatic.editioncrafter #annotation-list-view span{font-family:Martel,serif;line-height:1.25;margin:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button{color:#fff;padding:10px 70px;border-radius:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span{font-family:Lato,sans-serif;font-size:20px}#diplomatic.editioncrafter #content-view a,#diplomatic.editioncrafter .header-wrapper a,#diplomatic.editioncrafter #annotation-list-view a{color:#792421}#diplomatic.editioncrafter #content-view a:hover,#diplomatic.editioncrafter .header-wrapper a:hover,#diplomatic.editioncrafter #annotation-list-view a:hover{color:#cba374}#diplomatic.editioncrafter #content-view .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter .header-wrapper .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter #annotation-list-view .cta-link.MuiLink-underlineHover:hover{text-decoration:none}#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{color:#000;text-align:center;width:fit-content;text-decoration:none;font-family:Lato,sans-serif;font-size:16px;font-weight:700;position:relative;cursor:pointer;margin-bottom:5px}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{font-size:18px}}#diplomatic.editioncrafter #content-view a.cta-link:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:before{position:absolute;content:"";height:2px;background-color:#000;width:50%;right:30%;bottom:-5px;border-radius:2px}#diplomatic.editioncrafter #content-view a.cta-link:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link:hover:after,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.active:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link.active:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.light,#diplomatic.editioncrafter .header-wrapper a.cta-link.light,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light{color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:before{background-color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:hover:before{background-color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.video-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.video-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.video-link:after{content:"";font-size:12px;margin-bottom:-2px}#diplomatic.editioncrafter #content-view a.cta-link.search-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.search-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.search-link:after{font-family:Material Icons;content:"search";font-size:16px}#diplomatic.editioncrafter #header{width:100%;padding:0 20px;background-color:#fff;border-radius:0}@container diplomatic (min-width: 1280px){#diplomatic.editioncrafter #header{padding:5px 50px}}#diplomatic.editioncrafter #header img{width:210px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #header img{width:300px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #header img{width:300px}}#diplomatic.editioncrafter #header .expandedViewOnly{width:100%}#diplomatic.editioncrafter #header .nav-item{font-size:16px;margin-right:5px;white-space:nowrap;margin-bottom:15px}#diplomatic.editioncrafter #header .search-btn{margin-bottom:10px;font-size:18px}#diplomatic.editioncrafter .maroon-dropdown{background-color:#460c0a;border-radius:0;-webkit-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);-moz-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);box-shadow:inset 0 5px 5px -5px #000c,0 5px 5px -5px #000c}#diplomatic.editioncrafter .mobile-menu{padding:50px 0}#diplomatic.editioncrafter .mobile-menu .list-container{position:relative}#diplomatic.editioncrafter .mobile-menu .list-container .list{color:"white"}#diplomatic.editioncrafter .search-bar{height:162px}#diplomatic.editioncrafter .search-bar .label{font-size:32px;color:#fff;font-weight:400;white-space:nowrap}#diplomatic.editioncrafter .search-bar .content{width:50%}#diplomatic.editioncrafter .search-bar #search input{border:1px solid #DEDEDF;border-radius:4px;width:300px;height:38px;font-size:14px;padding:5px 15px;font-family:Lato,sans-serif}#diplomatic.editioncrafter.sticky .header-wrapper.sticky{position:sticky;top:0;z-index:2}#diplomatic.editioncrafter #footer{color:#fff;background-color:#460c0a;display:flex;flex-direction:column;padding:10px 20px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer{padding:20px 30px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #footer{padding:30px 40px}}#diplomatic.editioncrafter #footer p,#diplomatic.editioncrafter #footer a{font-family:Lato,sans-serif;font-size:16px;color:#fafafa;line-height:1.5;margin:0}#diplomatic.editioncrafter #footer a:hover{color:#cba374;fill:#cba374}#diplomatic.editioncrafter #footer .top{margin-bottom:10px}#diplomatic.editioncrafter #footer .top p{margin:0 5px;white-space:nowrap}#diplomatic.editioncrafter #footer .doi{text-align:center}#diplomatic.editioncrafter #footer .copyright .symbols{text-decoration:none}#diplomatic.editioncrafter #footer .copyright svg{width:14px;height:14px}#diplomatic.editioncrafter #footer .logos{margin-bottom:10px}#diplomatic.editioncrafter #footer .logos img{width:150px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:200px}}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:250px}}#diplomatic.editioncrafter #footer .footer-links{width:100%;text-align:center;font-size:12px;line-height:2}#diplomatic.editioncrafter{background:#fff;width:auto;height:min(100%,100dvh);overflow-y:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:OpenSans,sans-serif;font-size:max(.9rem,14.4px)}#diplomatic.editioncrafter #content{line-height:max(1.2rem,19.2px)}#diplomatic.editioncrafter h1,#diplomatic.editioncrafter h2,#diplomatic.editioncrafter h3,#diplomatic.editioncrafter h4{color:#000000b8;font-family:OpenSans,sans-serif;font-weight:700;padding:0;line-height:max(1.5rem,24px)}.editioncrafter .imageGridComponent{background-color:#000;font-size:max(.8rem,12.8px);overflow:scroll;height:100%;max-height:100dvh}.editioncrafter .imageGridComponent .thumbnail{background-color:inherit;border:none}.editioncrafter .imageGridComponent>ul{display:flex;flex-wrap:wrap;list-style:none;padding-left:0;margin:max(1.5rem,24px) 0 max(8rem,128px) max(2rem,32px)}.editioncrafter .imageGridComponent>ul>li{margin-bottom:20px;width:150px}.editioncrafter .imageGridComponent>ul>li>figure{margin:8px}.editioncrafter .imageGridComponent>ul>li>figure:hover{border:2px #eee solid;margin:6px}.editioncrafter .imageGridComponent>ul>li>.thumbnail-caption{text-align:center;color:#fff;margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .hidden{display:none}.editioncrafter .imageGridComponent .imageGridToolbar{padding:5px;color:#fff}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to{float:right;display:"inline";margin-right:30px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-input{margin-left:5px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-button{margin-left:5px;cursor:pointer}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select{display:inline;margin-left:30px;font-size:max(.8rem,12.8px)}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select .MuiInputBase-root{font-size:max(.8rem,12.8px)}.editioncrafter .split-pane-view{height:100%;width:100%;display:grid}.editioncrafter .split-pane-view.two-pane{grid-template-areas:"image_viewer divider transcription"}.editioncrafter .split-pane-view.three-pane{grid-template-areas:"image_viewer divider transcription divider_two third_pane"}.editioncrafter .split-pane-view>.divider{z-index:2;width:max(1rem,16px);background:#bbb;cursor:ew-resize;display:flex}.editioncrafter .split-pane-view>.divider.first_divider{grid-area:divider}.editioncrafter .split-pane-view>.divider.second_divider{grid-area:divider_two}.editioncrafter .split-pane-view>.divider>.drawer-button{align-self:center;cursor:auto}.editioncrafter .split-pane-view>.divider>.drawer-button:hover{color:#fff}.editioncrafter .split-pane-view>.divider>.hidden{display:none}.editioncrafter .split-pane-view #annotation-view{font-size:16px}.editioncrafter #image-view-seadragon-left,.editioncrafter #image-view-seadragon-right,.editioncrafter #image-view-seadragon-third{width:100%;height:100%;max-height:100dvh;grid-area:image_viewer;background:#000}.editioncrafter .imageViewComponent{position:relative;padding:0;margin:0;width:100%;height:100%;max-height:100dvh}.editioncrafter .imageViewComponent .navigationComponent{position:absolute}.editioncrafter .a9s-annotation.a9s-annotation.selected>rect,.editioncrafter .a9s-annotation.a9s-annotation.selected>polygon{stroke:#4385f6!important;stroke-linejoin:round;fill:#4385f61a!important}.editioncrafter .a9s-annotation.a9s-annotation.hover>rect,.editioncrafter .a9s-annotation.a9s-annotation.hover>polygon{stroke:#4385f6!important;stroke-linejoin:round}.editioncrafter .ImageZoomControl{position:absolute;z-index:1;top:max(8rem,128px);color:#fff;list-style:none;background:#4a4a4a;opacity:.4;margin:0;padding:max(.4rem,6.4px) max(.5rem,8px);border-radius:max(.3rem,4.8px)}@container diplomatic (min-width: 960px){.editioncrafter .ImageZoomControl{top:max(4rem,64px);left:max(2rem,32px)}}.editioncrafter .ImageZoomControl>li{color:#e0e0e0;margin:0!important}.editioncrafter .ImageZoomControl>li>.zoom-in{margin-top:8px}.editioncrafter .ImageZoomControl>li:hover{color:#fff}.editioncrafter .ImageZoomControl>li>.zoom-3{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-2{margin-top:8px;margin-left:5px}.editioncrafter .ImageZoomControl>li>.zoom-1{margin-top:8px;margin-left:7px}.editioncrafter .ImageZoomControl>li>.zoom-out{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-grid{margin-top:30px}.editioncrafter .transcriptionViewComponent .transcriptContent{padding:50px 16px;font-size:max(.9rem,14.4px);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@container diplomatic (min-width: 960px){.editioncrafter .transcriptionViewComponent .transcriptContent{padding:5px 16px}}.editioncrafter .transcriptionViewComponent .transcriptContent figure{display:inline-flex;flex-direction:column;width:100%;align-items:center;gap:6px}.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-middle],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-top],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-bottom]{max-width:250px}.editioncrafter .transcriptionViewComponent .transcriptContent .x-small-inline-figure{margin:5px;border:1px solid gray;width:30px}.editioncrafter .transcriptionViewComponent .transcriptContent .small-inline-figure{margin:5px;border:1px solid gray;width:60px}.editioncrafter .transcriptionViewComponent .transcriptContent .medium-inline-figure{margin:5px;border:1px solid gray;width:200px}.editioncrafter .transcriptionViewComponent .transcriptContent .large-inline-figure{margin:5px;border:1px solid gray;width:350px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface{grid-area:transcription;margin:0;padding:0;list-style:none}.editioncrafter .transcriptionViewComponent .transcriptContent .grid-mode{display:grid;grid-auto-rows:minmax(min-content,0fr);grid-gap:2px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>.small-font{font-size:11pt}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>div{padding:10px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z0{grid-area:z0}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z1{grid-area:z1}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z2{grid-area:z2}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z3{grid-area:z3}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z4{grid-area:z4}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z5{grid-area:z5}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z6{grid-area:z6}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z7{grid-area:z7}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z8{grid-area:z8}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z9{grid-area:z9}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z10{grid-area:z10}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z11{grid-area:z11}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z12{grid-area:z12}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z13{grid-area:z13}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z14{grid-area:z14}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z15{grid-area:z15}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z16{grid-area:z16}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z17{grid-area:z17}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z18{grid-area:z18}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z19{grid-area:z19}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z20{grid-area:z20}.editioncrafter .transcriptionViewComponent .transcriptContent .highlight{background-color:#ff0}.editioncrafter tei-line{display:block}.editioncrafter tei-add{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-seg.active{background:#d4e9ff}.editioncrafter div.active{background:#f1f3f5;border-radius:5px}.editioncrafter .selected-zone{background:#eaf1fd;border-radius:5px}.editioncrafter .editor-comment-content{word-wrap:break-word}.editioncrafter .inline-image{max-width:90%;max-height:360px;margin:auto;text-align:center}.editioncrafter .xmlViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter .xmlContent{padding:0;margin:4.5rem 0 0;width:calc(100% - 1.2rem);max-height:100vh;min-height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}.editioncrafter .xmlViewComponent{overflow:auto;margin:0 0 0 max(1rem,16px);max-height:calc(100vh - max(7rem,112px))}.editioncrafter .xmlContentInner{max-height:100%}.editioncrafter .xmlContentInner pre{overflow-x:auto}.editioncrafter #glossaryView #glossaryViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryViewInner{margin:52px 0 0}}.editioncrafter #glossaryView .cite-header{text-align:center;margin-bottom:5px}.editioncrafter #glossaryView .cite-instructions{margin:20px 15%}.editioncrafter #glossaryView .glossaryNav{background:#fff;padding:5px;position:relative}.editioncrafter #glossaryView .glossaryNav #glossary-filter{margin-right:10px}.editioncrafter #glossaryView .glossaryNav .alphaNav{display:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .glossaryNav .alphaNav{display:block}}.editioncrafter #glossaryView .alphaNav{color:#00f;display:inline}.editioncrafter #glossaryView .title{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-size:max(1.8rem,28.8px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .title{top:-1em}}.editioncrafter #glossaryView .subtitle{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-style:italic;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .subtitle{top:-1em}}.editioncrafter #glossaryView #glossaryContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter #notesView #notesViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}.editioncrafter #notesView #notesContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #notesView #notesContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter #notesView #notesContent table{margin-top:30px}.editioncrafter #notesView #notesContent td,.editioncrafter #notesView #notesContent th{border:1px solid #ddd;padding:8px}.editioncrafter #notesView #notesContent tr:nth-child(2n){background-color:#f2f2f2}.editioncrafter #notesView #notesContent th{padding-top:12px;padding-bottom:12px;text-align:left;background-color:gray;color:#fff}.editioncrafter .jumpToFolio_component{margin:max(1rem,16px) 0 0 min(-4.5rem,-72px);padding:max(.6rem,9.6px);height:max(1.2rem,19.2px);width:max(9.5rem,152px);background:#e7e7e7;border:1px solid rgba(90,98,102,.53);border-radius:max(.3rem,4.8px);-webkit-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);-moz-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);box-shadow:6px 6px 5px #00000036;font-family:sans-serif}.editioncrafter .jumpToFolio_component input:focus{outline:none}.editioncrafter .jumpToFolio_component:after,.editioncrafter .jumpToFolio_component:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.editioncrafter .jumpToFolio_component:after{border-color:#fff0;border-bottom-color:#e7e7e7;border-width:9px;margin-left:-9px}.editioncrafter .jumpToFolio_component:before{border-color:#c2e1f500;border-bottom-color:#5a626687;border-width:11px;margin-left:-11px}.editioncrafter [lang=ar],.editioncrafter [lang=ota],.editioncrafter [lang=fa],.editioncrafter [lang=he],.editioncrafter [lang*=-Arab-AR]{direction:rtl;text-align:right}.editioncrafter [lang=en],.editioncrafter [lang=fr],.editioncrafter [lang=de],.editioncrafter [lang=it],.editioncrafter [lang*=ar-Latn-],.editioncrafter [lang*=ota-Latn-]{direction:ltr;text-align:left}.editioncrafter tei-choice tei-abbr+tei-expan:before,.editioncrafter tei-choice tei-expan+tei-abbr:before,.editioncrafter tei-choice tei-sic+tei-corr:before,.editioncrafter tei-choice tei-corr+tei-sic:before,.editioncrafter tei-choice tei-orig+tei-reg:before,.editioncrafter tei-choice tei-reg+tei-orig:before{content:" ("}.editioncrafter tei-choice tei-abbr+tei-expan:after,.editioncrafter tei-choice tei-expan+tei-abbr:after,.editioncrafter tei-choice tei-sic+tei-corr:after,.editioncrafter tei-choice tei-corr+tei-sic:after,.editioncrafter tei-choice tei-orig+tei-reg:after,.editioncrafter tei-choice tei-reg+tei-orig:after{content:")"}.editioncrafter tei-ab{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-accMat{display:block}.editioncrafter tei-accMat:before{content:"accompanying materials: "}.editioncrafter tei-acquisition{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-acquisition:before{font-weight:700;content:"acquisition"}.editioncrafter tei-activity{display:block}.editioncrafter tei-activity:before{content:"activity: "}.editioncrafter tei-add[place=above]{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-add[place=inline]:before{content:"«"}.editioncrafter tei-add[place=inline]:after{content:"»"}.editioncrafter tei-add[place=below]{vertical-align:sub}.editioncrafter tei-additional{display:block}.editioncrafter tei-additions{display:block}.editioncrafter tei-additions:before{content:"Significant additions within the document: "}.editioncrafter tei-addrLine{display:block}.editioncrafter tei-address[data-tei-rend~=block],.editioncrafter addresss[data-tei-rendition~="#block"]{display:block}.editioncrafter tei-adminInfo{display:block}.editioncrafter tei-app tei-note{display:none}.editioncrafter tei-appInfo{display:block}.editioncrafter tei-appInfo:before{content:"Application information: "}.editioncrafter tei-application{display:block}.editioncrafter tei-application:after{content:" " attr(version)}.editioncrafter tei-argument{display:block}.editioncrafter tei-att{font-family:Courier,monospace}.editioncrafter tei-att:before{content:"@"}.editioncrafter tei-titlestmt>tei-author{display:block;margin-bottom:1em}.editioncrafter tei-publicationstmt>tei-availability{font-size:80%}.editioncrafter tei-publicationstmt>tei-availability:before{font-weight:700;content:"Availability: "}.editioncrafter tei-publicationstmt>tei-availability[data-tei-status]:before{font-weight:700;content:"Availability (" attr(status) "): "}.editioncrafter tei-back{display:block}.editioncrafter tei-bibl[data-tei-rend~=block],.editioncrafter bibl[data-tei-rendition~="#block"]{display:block;padding-left:2em;text-indent:-2em}.editioncrafter tei-biblFull{display:block}.editioncrafter tei-binding{display:block}.editioncrafter tei-binding:before{content:"Binding: \\a";white-space:pre-wrap}.editioncrafter tei-binding[data-tei-contemporary]:before{content:"Binding: \\a" "Contemporary: " attr(contemporary) "\\a";white-space:pre-wrap}.editioncrafter tei-bindingdesc{display:block}.editioncrafter tei-bindngdesc:before{content:"Binding description: \\a"}.editioncrafter tei-birth{display:block}.editioncrafter tei-birth:before{content:"Birth: "}.editioncrafter tei-cRefPattern{display:none}.editioncrafter tei-caption{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-case[data-tei-value]:before{font-weight:700;content:attr(value) " "}.editioncrafter tei-castgroup{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-castitem{display:list-item}.editioncrafter tei-castlist{display:block;list-style-type:none;margin-top:1em;margin-bottom:1em;margin-left:2em}.editioncrafter tei-cb{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-cb:before{content:"[column break]"}.editioncrafter tei-cell{border-right:thin solid black;border-bottom:thin solid black;padding:2px}.editioncrafter tei-cell[data-tei-role=label]{font-weight:700}.editioncrafter tei-climate{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-climate:before{font-weight:700;content:"Climate: "}.editioncrafter tei-code{font-family:Courier,monospace}.editioncrafter tei-collation{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-condition{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution:before{font-weight:700;content:"Constitution: "}.editioncrafter tei-constitution[data-tei-type]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type]:before{font-weight:700;content:"Constitution (" attr(type) "): "}.editioncrafter tei-constitution[data-tei-type=frags]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type=frags]:before{font-weight:700;content:"Constitution (fragments): "}.editioncrafter tei-custevent{display:list-item}.editioncrafter tei-custodialhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-date[data-tei-when]:empty:before{content:attr(when)}.editioncrafter tei-del{color:red}.editioncrafter tei-editionstmt{display:block}.editioncrafter teieg-egxml{display:block;font-size:80%;margin-left:1em;padding-left:1em;border-left:1px solid #aaaaaa;margin-top:.75em;margin-bottom:.75em;padding-top:.75em;padding-bottom:.75em;font-family:monospace;white-space:pre}.editioncrafter tei-emph{font-style:italic}.editioncrafter tei-encodingdesc{display:none}.editioncrafter tei-epigraph{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-explicit{font-style:italic}.editioncrafter tei-filedesc>tei-extent{display:none}.editioncrafter tei-figure{display:block;text-align:center;margin-left:auto;margin-right:auto}.editioncrafter tei-gap[data-tei-reason=lost]:before{content:"["}.editioncrafter tei-gap[data-tei-reason=lost]:after{content:attr(data-content) "]"}.editioncrafter tei-gap[data-tei-reason=illegible]:after{content:attr(data-content)}.editioncrafter tei-gi{font-family:Courier,monospace}.editioncrafter tei-gi:before{content:"<"}.editioncrafter tei-gi:after{content:">"}.editioncrafter tei-head{display:block;font-family:OpenSans,sans-serif;font-weight:700;font-size:1.5em;line-height:max(1.5rem,24px)}.editioncrafter tei-body>tei-head{font-size:180%;text-indent:-.5em}.editioncrafter tei-div.textpart{display:none}.editioncrafter tei-div>tei-head{font-size:170%;text-indent:-.5em}.editioncrafter tei-div>tei-div>tei-head{font-size:155%}.editioncrafter tei-div>tei-div>tei-div>tei-head{font-size:140%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-head,.editioncrafter list>tei-head{font-size:130%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-head{font-size:120%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-div tei-head{font-size:110%}.editioncrafter tei-figure>tei-head{display:block;margin:1.5em auto;padding:.5em 1.5em 1.5em;border:1px solid black;border-radius:15px;width:325px;position:relative;border:1px solid #aaaaaa;background:#fafafa;text-indent:0;font-size:85%;text-align:justify;-webkit-box-shadow:0px 1px 3px rgba(0,0,0,.25);-moz-box-shadow:0px 1px 3px rgba(0,0,0,.25);box-shadow:0 1px 3px #00000040;width:85%;font-family:Georgia,Serif;font-size:13pt}.editioncrafter tei-hi[rend~=caps]{font-weight:700}.editioncrafter tei-hi[rend~=italic]{font-style:italic}.editioncrafter tei-hi[rend~=underline]{text-decoration:underline}.editioncrafter tei-ident{font-family:Courier,monospace}.editioncrafter tei-incipit{font-style:italic}.editioncrafter tei-item{display:list-item;margin-left:1em}.editioncrafter tei-cell item{margin-left:1em}.editioncrafter tei-l{display:block}.editioncrafter tei-l[data-lineno]:before{content:attr(data-lineno);position:absolute;left:2em}.editioncrafter tei-lb:after{content:"\\a";white-space:pre}.editioncrafter tei-lg{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-list{display:block;margin-top:1em;margin-bottom:1em;list-style-type:none}.editioncrafter tei-item>tei-list{margin-top:0}.editioncrafter tei-sourcedesc tei-list{list-style-type:none}.editioncrafter tei-sourcedesc>tei-list>tei-head{font-size:140%;font-weight:700}.editioncrafter tei-sourcedesc tei-list>tei-item{display:list-item}.editioncrafter tei-text tei-list[type=simple]{list-style-type:none}.editioncrafter tei-text tei-list[type=bulleted]{list-style-type:disc}.editioncrafter tei-text tei-list[type=ordered]{list-style-type:none;counter-reset:items 0}.editioncrafter tei-text tei-list[type=ordered]>tei-item{display:list-item;margin-left:0}.editioncrafter tei-text tei-list[type=ordered]>item:before{counter-increment:items 1;content:counter(items,decimal) ". "}.editioncrafter tei-text tei-list[type=gloss]{list-style-type:none}.editioncrafter tei-list[type=gloss]>tei-label{display:block;margin-top:.25em;margin-bottom:.25em;font-weight:700}.editioncrafter tei-list[type=gloss]>tei-item{margin-left:2em}.editioncrafter tei-item>tei-list[type=ordered]{margin-left:1em}.editioncrafter tei-listapp{display:block;margin:1em;padding:1em}.editioncrafter tei-listbibl{display:block;list-style-type:none;margin-left:.5 em;margin-top:.5em}.editioncrafter tei-listbibl>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listbibl>tei-bibl{display:list-item;margin-left:.5em}.editioncrafter tei-listwit{display:block;list-style-type:none;margin-left:.5em}.editioncrafter tei-listwit>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listwit>tei-witness{display:list-item;margin-left:2em;text-indent:-1.1em}.editioncrafter tei-witness>tei-listwit{display:inline}.editioncrafter tei-witness>tei-listwit>tei-head{display:inline}.editioncrafter tei-witness>tei-listwit>tei-witness{display:inline}.editioncrafter tei-locus{display:none}.editioncrafter tei-milestone{display:none;margin-left:auto;margin-right:auto;text-align:center}.editioncrafter tei-musicNotation{font-weight:700}.editioncrafter tei-musicNotation:before{font-weight:700;content:"Musical Notation: "}.editioncrafter tei-node{display:none}.editioncrafter tei-note{display:none}.editioncrafter tei-notesstmt{display:none}.editioncrafter tei-ovar{font-style:italic}.editioncrafter tei-origPlace{font-weight:700}.editioncrafter tei-origPlace:before{font-weight:700;content:"Place of Origin: "}.editioncrafter tei-p{display:block;margin-top:1em;margin-bottom:1em;text-align:justify}.editioncrafter *[data-tei-rendition~="#center"] p{text-align:center}.editioncrafter tei-availability>p:first-child{margin-top:0}.editioncrafter tei-performance{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-person{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-personGrp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-postscript{display:block;margin-top:2em}.editioncrafter tei-principal{font-weight:700}.editioncrafter tei-principal:before{font-weight:700;content:"Principal: "}.editioncrafter tei-profiledesc{display:none}.editioncrafter tei-publicationstmt>*{display:none}.editioncrafter tei-publicationstmt{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-publicationstmt>date{display:none}.editioncrafter tei-publicationstmt>publisher{display:none}.editioncrafter tei-q{quotes:"“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”"}.editioncrafter tei-q:before{content:""}.editioncrafter tei-q:after{content:""}.editioncrafter tei-q[data-tei-next]:after{content:""!important}.editioncrafter tei-q[data-tei-prev]:before{content:""!important}.editioncrafter tei-quote{font-style:italic}.editioncrafter tei-app tei-rdg{display:none}.editioncrafter tei-re{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-recordhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-ref{color:#5f0000}.editioncrafter tei-remarks{font-weight:700}.editioncrafter tei-remarks:before{font-weight:700;content:"remarks: "}.editioncrafter tei-respstmt{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-revisiondesc{display:none}.editioncrafter tei-row{display:grid;grid-auto-flow:column;grid-auto-columns:1fr}.editioncrafter tei-salute{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-samplingdecl{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-scriptnote{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-seal{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seal:before{font-weight:700;content:"Seal: "}.editioncrafter tei-sealdesc{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-secFol:before{font-weight:700;content:"Second Folio: "}.editioncrafter tei-secl>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-secl>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-seg{outline:0px solid transparent}.editioncrafter tei-sense{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seriesstmt{display:none}.editioncrafter tei-setting{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-signed{display:block;margin-top:2em}.editioncrafter tei-soCalled{quotes:"“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”"}.editioncrafter tei-soCalled:before{content:open-quote}.editioncrafter tei-soCalled:after{content:close-quote}.editioncrafter tei-soCalled[data-tei-next]:after{content:""!important}.editioncrafter tei-soCalled[data-tei-prev]:before{content:""!important}.editioncrafter tei-sound{font-style:italic}.editioncrafter tei-source{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sourcedesc{display:none}.editioncrafter tei-space:before{font-weight:700;content:""}.editioncrafter tei-span[data-tei-data-n]:before{content:attr(data-n)}.editioncrafter tei-speaker{font-weight:700;margin-right:0}.editioncrafter tei-sponsor{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sponsor:before{font-weight:700;content:"Sponsor:"}.editioncrafter tei-stage{display:block;margin-top:1em;margin-bottom:1em;font-style:italic}.editioncrafter tei-stamp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-stamp:before{font-weight:700;content:"Stamped: "}.editioncrafter tei-surplus>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-surplus>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-tei{display:block}.editioncrafter tei-table{display:block;border-top:thin solid black;border-left:thin solid black}.editioncrafter tei-table{margin-top:2em;margin-bottom:2em;font-size:12pt}.editioncrafter tei-table>tei-head{border-bottom:thin solid black;border-right:thin solid black;font-size:120%;font-weight:700;padding:2px;text-align:center}.editioncrafter tei-teiheader{display:block;margin-top:2em;margin-bottom:2em}.editioncrafter tei-tei>tei-text{display:block;line-height:1.5}.editioncrafter tei-textclass{display:none}.editioncrafter tei-textdesc{display:none}.editioncrafter tei-tei tei-title{display:inline}.editioncrafter tei-tei tei-title[level=a]{quotes:"“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”" "‘" "’" "“" "”"}.editioncrafter tei-tei tei-title[level=a]:before{content:open-quote}.editioncrafter tei-tei tei-title[level=a]:after{content:close-quote}.editioncrafter tei-tei tei-title[level=a][next]:after{content:""!important}.editioncrafter tei-tei tei-title[level=a][prev]:before{content:""!important}.editioncrafter tei-title[level=m]{font-style:italic}.editioncrafter tei-titlestmt>tei-title{display:block;font-family:Arvo,sans-serif;font-weight:400;font-weight:700!important;font-size:150%}.editioncrafter tei-typedesc{display:none}.editioncrafter tei-u:before{content:"-"}.editioncrafter tei-view{font-style:italic}.editioncrafter tei-wit{display:inline}.editioncrafter tei-witdetail{display:none}.editioncrafter .inline-ring-spinner{display:inline-block;margin-left:10px;margin-right:10px;width:16px;height:16px}.editioncrafter .inline-ring-spinner .light{border:3px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .inline-ring-spinner .dark{border:3px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .inline-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:16px;height:16px;border-radius:50%;animation:inline-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .inline-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .inline-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .inline-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes inline-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .big-ring-spinner{width:100%;height:100vh;display:flex;justify-content:center}.editioncrafter .big-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:128px;height:128px;margin-top:30vh;border-radius:50%;animation:big-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .big-ring-spinner.dark div{border:16px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .big-ring-spinner.light div{border:16px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .big-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .big-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .big-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes big-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .single-pane-view{height:100%;width:100%;overflow:auto}.editioncrafter .single-pane-view>div{height:100%}.pill{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;height:32px;padding:4px 12px;justify-content:center;align-items:center;gap:4px;border-radius:50px;border:1px solid #CEDAE7;background:#cedae7;color:#0a0a0a;font-family:Inter;font-size:14px;font-weight:500}.editioncrafter-record-list{width:100%;height:100%;display:grid;grid-template-columns:auto 1fr;gap:20px;font-family:Inter,sans-serif;margin:0;padding:0}.editioncrafter-record-list h1,h2,h3,h4,p{margin:0;padding:0}.editioncrafter-record-list h1{font-size:32px;font-style:normal;font-weight:600}.editioncrafter-record-list h2{font-size:24px;font-style:normal;font-weight:600}.editioncrafter-record-list div.h-separator{border-top:1px solid #E1E3E6;width:100%}.editioncrafter-record-list *{box-sizing:border-box}.editioncrafter-record-list a{color:#07529a;font-family:Inter;font-size:18px;font-style:normal;font-weight:700;text-decoration:none}.editioncrafter-record-list button:hover{cursor:pointer}.editioncrafter-record-list .loading{height:100%;width:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;gap:20px;background-color:#fff}.editioncrafter-record-list .record-list-view{flex-grow:1;display:flex;flex-flow:column;gap:16px}.editioncrafter-record-list .record-list-view .entries-header{padding:10px 0}.editioncrafter-record-list .record-list-view .record-box{width:100%;border-radius:5px;border:1px solid #E1E3E6;display:flex;flex-flow:column;gap:8px;padding:16px;transition:.3s}.editioncrafter-record-list .record-list-view .record-box:hover{box-shadow:1px 1px 6px #00000040}.editioncrafter-record-list .record-list-view .record-box .category-list{display:flex;gap:6px}.editioncrafter-record-list .record-list-view .record-box .tag-list{display:flex;flex-wrap:wrap;gap:8px;align-items:center;font-size:14px;font-weight:500;position:relative}.editioncrafter-record-list .record-list-view .record-box .tag-list .tag-list-label{font-weight:600}.editioncrafter-record-list .record-list-view .record-box .phrase-toggle{position:absolute;right:0;bottom:2px;background:#07529a;border:none;border-radius:5px;color:#fff;display:flex;align-items:center;justify-content:center;padding:6px}.editioncrafter-record-list .record-list-view .record-box .phrase-toggle svg{height:18px;width:18px}.editioncrafter-record-list .record-list-view .record-box .tag-list .pill,.editioncrafter-record-list .record-list-view .record-box .phrase-list-table .pill{background:#fff;display:flex;height:32px;padding:4px 12px 4px 4px;justify-content:center;align-items:center;gap:8px;border-radius:50px;border:1px solid #E1E3E6}.editioncrafter-record-list .record-list-view .record-box .category-list .pill.active{background:#07529a;color:#fff}.editioncrafter-record-list .record-list-view .record-box .pill .tag-count{display:inline-flex;height:24px;min-width:24px;padding:4px;flex-direction:column;justify-content:center;align-items:center;gap:10px;flex-shrink:0;border-radius:50px;background:#b5c8dc99}.editioncrafter-record-list .record-list-view .record-box .pill.active{border:1px solid #07529A;color:#07529a}.editioncrafter-record-list .record-list-view .record-box .pill.active .tag-count{background:#07529a;color:#fff}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container{position:relative}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select-container{position:absolute;right:10px;top:0;display:flex;align-items:center;justify-content:center;gap:12px;font-size:13px;font-style:normal;font-weight:400;line-height:140%}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container button:hover{cursor:default}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select{display:flex;height:32px;padding:0 12px;justify-content:space-between;align-items:center;font-size:14px;border-radius:4px;border:1px solid#E1E3E6;background:#f3f4f7}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select:hover{cursor:pointer}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table th{font-weight:600}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table{text-align:left;border-collapse:collapse;font-size:14px;width:100%}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table tr{border-bottom:1px solid #E1E3E6}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table td,.editioncrafter-record-list .record-list-view .record-box .phrase-list-table th{padding:12px}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table .empty-table-container{height:80px;width:100%;display:flex;align-items:center;justify-content:center}.editioncrafter-record-list .ec-sidebar{background-color:#f3f4f7;padding:32px 24px;display:flex;flex-direction:column;gap:20px;width:380px;flex-grow:0}.editioncrafter-record-list .collapsible-menu .collapsible-menu-toggle{display:flex;align-items:center;justify-content:space-between;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;width:100%}.editioncrafter-record-list .collapsible-menu .collapsible-menu-title{font-size:16px;font-weight:700}.editioncrafter-record-list .sidebar-tag-list{display:flex;flex-wrap:wrap;gap:6px}.editioncrafter-record-list .sidebar-tag-list .pill.active{background:#07529a;color:#fff}.editioncrafter-record-list .sidebar-tag-list .hidden{visibility:hidden}.tag-explore{display:grid;max-height:100vh;grid-template-columns:50px 1fr}.tag-explore-sidebar{position:relative;z-index:999;height:100%;max-height:100dvh}.tag-explore .narrow-sidebar{height:100vh;width:48px}.tag-explore-sidebar{overflow-y:none;height:100%;background-color:#000}.tag-explore .tag-filters{overflow-y:auto;position:absolute;top:48px;left:400px;background-color:#242629;z-index:10000;padding:12px 0 12px 12px;width:300px;height:100%;max-height:calc(97dvh - 48px);border-left:solid white 1px}.tag-explore .tag-filters .tag-filters-search{margin-bottom:24px}.tag-explore .tag-filter-button{background-color:#242629;padding:12px;color:#fff;border:1px solid white;border-radius:6px;margin:6px auto 12px;cursor:pointer}.tag-explore .tag-filter-button:hover{background-color:#fff;color:#000}.tag-explore .tag-filters ul{display:flex;flex-direction:column}.tag-explore .surface-browser-close{position:absolute;top:0;right:-24px;background-color:#242629}.tag-explore .tag-filters .tag-list,.tag-explore-sidebar{display:flex;gap:4px;flex-wrap:wrap}.surface-thumbnail-caption{text-align:center}.surface-thumbnail-overlay{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;background-color:#2426297d;opacity:0%;display:flex;justify-content:center;align-items:center;gap:12px}.surface-thumbnail-overlay-selected{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;display:flex;justify-content:flex-end;align-items:flex-end}.surface-thumbnail-overlay-selected.left{border:2px solid #008F81}.surface-thumbnail-overlay-selected.right{border:2px solid #A31621}.surface-thumbnail-overlay-selected>div{color:#fff;display:flex;flex-direction:row;justify-content:space-around;gap:6px;align-items:center;padding:6px;border-top-left-radius:6px;font-size:small}.surface-thumbnail-overlay-selected.left>div{background-color:#008f81}.surface-thumbnail-overlay-selected.right>div{background-color:#a31621}.surface-thumbnail-overlay .surface-thumbnail-overlay-content{opacity:100%;display:flex;flex-direction:row;gap:12px;justify-content:center;align-items:center;border-radius:12px;padding:8px;background-color:#242629}.surface-thumbnail-overlay:hover{opacity:100%}.surface-thumbnail-overlay a{cursor:pointer}.surface-thumbnail-figure{padding:0;margin:16px;position:relative}.tag-explore .surface-browser{position:absolute;top:0;left:48px;height:97dvh;width:400px;display:flex;flex-direction:column;background-color:#242629;color:#fff;padding:12px}.tag-explore .surface-browser-document-details{overflow-y:auto;position:relative}.tag-explore .accordion-summary{flex-direction:row-reverse;background-color:#242629}.tag-explore .accordion-summary div{display:flex;flex-direction:row;justify-content:space-between}.tag-explore .accordion-summary .MuiAccordionSummary-content{padding-left:12px;gap:12px}.tag-explore .accordion-detail{background-color:#242629}')),document.head.appendChild(e)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();var Bz=Object.defineProperty,Nz=(e,i,t)=>i in e?Bz(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Ai=(e,i,t)=>Nz(e,typeof i!="symbol"?i+"":i,t),ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hm(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var t=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};t.prototype=i.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var $E={exports:{}},Ws={},Up,Ix;function jz(){if(Ix)return Up;Ix=1;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function r(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var h={},d=0;d<10;d++)h["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(h).map(function(g){return h[g]});if(p.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(g){f[g]=g}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Up=r()?Object.assign:function(l,h){for(var d,p=n(l),f,g=1;g<arguments.length;g++){d=Object(arguments[g]);for(var y in d)i.call(d,y)&&(p[y]=d[y]);if(e){f=e(d);for(var S=0;S<f.length;S++)t.call(d,f[S])&&(p[f[S]]=d[f[S]])}}return p},Up}var Mx;function Hz(){if(Mx)return Ws;Mx=1;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */jz();var e=vt,i=60103;if(Ws.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var t=Symbol.for;i=t("react.element"),Ws.Fragment=t("react.fragment")}var n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,f){var g,y={},S=null,k=null;f!==void 0&&(S=""+f),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(k=p.ref);for(g in p)r.call(p,g)&&!l.hasOwnProperty(g)&&(y[g]=p[g]);if(d&&d.defaultProps)for(g in p=d.defaultProps,p)y[g]===void 0&&(y[g]=p[g]);return{$$typeof:i,type:d,key:S,ref:k,props:y,_owner:n.current}}return Ws.jsx=h,Ws.jsxs=h,Ws}$E.exports=Hz();var U=$E.exports;function Fm(e,i){return function(){return null}}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ce.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ao(e)}function Wp(e){return e&&ao(e)==="object"&&e.constructor===Object}function Zo(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},n=t.clone?Ce({},e):e;return Wp(e)&&Wp(i)&&Object.keys(i).forEach(function(r){r!=="__proto__"&&(Wp(i[r])&&r in e?n[r]=Zo(e[r],i[r],t):n[r]=i[r])}),n}var QE={exports:{}},Gp,zx;function Fz(){if(zx)return Gp;zx=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gp=e,Gp}var qp,Lx;function Vz(){if(Lx)return qp;Lx=1;var e=Fz();function i(){}function t(){}return t.resetWarningCache=i,qp=function(){function n(h,d,p,f,g,y){if(y!==e){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}n.isRequired=n;function r(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:i};return l.PropTypes=l,l},qp}QE.exports=Vz()();var da=QE.exports;const wt=Sr(da);var Uz=Fm(wt.element);Uz.isRequired=Fm(wt.element.isRequired);Fm(da.elementType);function Wz(e,i){if(ao(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,i);if(ao(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function eT(e){var i=Wz(e,"string");return ao(i)==="symbol"?i:String(i)}function qo(e,i,t){return i=eT(i),i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function oa(e){for(var i="https://mui.com/production-error/?code="+e,t=1;t<arguments.length;t+=1)i+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+e+"; visit "+i+" for the full message."}var Pn={},Bx;function Gz(){if(Bx)return Pn;Bx=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=60103,i=60106,t=60107,n=60108,r=60114,l=60109,h=60110,d=60112,p=60113,f=60120,g=60115,y=60116,S=60121,k=60122,C=60117,P=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var D=Symbol.for;e=D("react.element"),i=D("react.portal"),t=D("react.fragment"),n=D("react.strict_mode"),r=D("react.profiler"),l=D("react.provider"),h=D("react.context"),d=D("react.forward_ref"),p=D("react.suspense"),f=D("react.suspense_list"),g=D("react.memo"),y=D("react.lazy"),S=D("react.block"),k=D("react.server.block"),C=D("react.fundamental"),P=D("react.debug_trace_mode"),_=D("react.legacy_hidden")}function q(we){if(typeof we=="object"&&we!==null){var Ie=we.$$typeof;switch(Ie){case e:switch(we=we.type,we){case t:case r:case n:case p:case f:return we;default:switch(we=we&&we.$$typeof,we){case h:case d:case y:case g:case l:return we;default:return Ie}}case i:return Ie}}}var G=l,ne=e,K=d,Y=t,se=y,ue=g,he=i,le=r,ye=n,fe=p;return Pn.ContextConsumer=h,Pn.ContextProvider=G,Pn.Element=ne,Pn.ForwardRef=K,Pn.Fragment=Y,Pn.Lazy=se,Pn.Memo=ue,Pn.Portal=he,Pn.Profiler=le,Pn.StrictMode=ye,Pn.Suspense=fe,Pn.isAsyncMode=function(){return!1},Pn.isConcurrentMode=function(){return!1},Pn.isContextConsumer=function(we){return q(we)===h},Pn.isContextProvider=function(we){return q(we)===l},Pn.isElement=function(we){return typeof we=="object"&&we!==null&&we.$$typeof===e},Pn.isForwardRef=function(we){return q(we)===d},Pn.isFragment=function(we){return q(we)===t},Pn.isLazy=function(we){return q(we)===y},Pn.isMemo=function(we){return q(we)===g},Pn.isPortal=function(we){return q(we)===i},Pn.isProfiler=function(we){return q(we)===r},Pn.isStrictMode=function(we){return q(we)===n},Pn.isSuspense=function(we){return q(we)===p},Pn.isValidElementType=function(we){return typeof we=="string"||typeof we=="function"||we===t||we===r||we===P||we===n||we===p||we===f||we===_||typeof we=="object"&&we!==null&&(we.$$typeof===y||we.$$typeof===g||we.$$typeof===l||we.$$typeof===h||we.$$typeof===d||we.$$typeof===C||we.$$typeof===S||we[0]===k)},Pn.typeOf=q,Pn}Gz();wt.oneOfType([wt.func,wt.object]);function Vm(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(i,e),t)}function qz(e){e=e.substr(1);var i=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),t=e.match(i);return t&&t[0].length===1&&(t=t.map(function(n){return n+n})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(n,r){return r<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3}).join(", "),")"):""}function Xz(e){e=Jo(e);var i=e,t=i.values,n=t[0],r=t[1]/100,l=t[2]/100,h=r*Math.min(l,1-l),d=function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(g+n/30)%12;return l-h*Math.max(Math.min(y-3,9-y,1),-1)},p="rgb",f=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(p+="a",f.push(t[3])),Jc({type:p,values:f})}function Jo(e){if(e.type)return e;if(e.charAt(0)==="#")return Jo(qz(e));var i=e.indexOf("("),t=e.substring(0,i);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error(oa(3,e));var n=e.substring(i+1,e.length-1).split(",");return n=n.map(function(r){return parseFloat(r)}),{type:t,values:n}}function Jc(e){var i=e.type,t=e.values;return i.indexOf("rgb")!==-1?t=t.map(function(n,r){return r<3?parseInt(n,10):n}):i.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(i,"(").concat(t.join(", "),")")}function Yz(e,i){var t=Nx(e),n=Nx(i);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function Nx(e){e=Jo(e);var i=e.type==="hsl"?Jo(Xz(e)).values:e.values;return i=i.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*i[0]+.7152*i[1]+.0722*i[2]).toFixed(3))}function Ui(e,i){return e=Jo(e),i=Vm(i),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.values[3]=i,Jc(e)}function Kz(e,i){if(e=Jo(e),i=Vm(i),e.type.indexOf("hsl")!==-1)e.values[2]*=1-i;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]*=1-i;return Jc(e)}function Zz(e,i){if(e=Jo(e),i=Vm(i),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*i;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*i;return Jc(e)}function is(e,i){if(e==null)return{};var t={},n=Object.keys(e),r,l;for(l=0;l<n.length;l++)r=n[l],!(i.indexOf(r)>=0)&&(t[r]=e[r]);return t}function At(e,i){if(e==null)return{};var t=is(e,i),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(i.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var $i=["xs","sm","md","lg","xl"];function Jz(e){var i=e.values,t=i===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:i,n=e.unit,r=n===void 0?"px":n,l=e.step,h=l===void 0?5:l,d=At(e,["values","unit","step"]);function p(k){var C=typeof t[k]=="number"?t[k]:k;return"@media (min-width:".concat(C).concat(r,")")}function f(k){var C=$i.indexOf(k)+1,P=t[$i[C]];if(C===$i.length)return p("xs");var _=typeof P=="number"&&C>0?P:k;return"@media (max-width:".concat(_-h/100).concat(r,")")}function g(k,C){var P=$i.indexOf(C);return P===$i.length-1?p(k):"@media (min-width:".concat(typeof t[k]=="number"?t[k]:k).concat(r,") and ")+"(max-width:".concat((P!==-1&&typeof t[$i[P+1]]=="number"?t[$i[P+1]]:C)-h/100).concat(r,")")}function y(k){return g(k,k)}function S(k){return t[k]}return Ce({keys:$i,values:t,up:p,down:f,between:g,only:y,width:S},d)}function $z(e,i,t){var n;return Ce({gutters:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Ce({paddingLeft:i(2),paddingRight:i(2)},r,qo({},e.up("sm"),Ce({paddingLeft:i(3),paddingRight:i(3)},r[e.up("sm")])))},toolbar:(n={minHeight:56},qo(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),qo(n,e.up("sm"),{minHeight:64}),n)},t)}var zc={black:"#000",white:"#fff"},Um={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Xp={300:"#7986cb",500:"#3f51b5",700:"#303f9f"},Yp={A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Kp={300:"#e57373",500:"#f44336",700:"#d32f2f"},Zp={300:"#ffb74d",500:"#ff9800",700:"#f57c00"},Jp={300:"#64b5f6",500:"#2196f3",700:"#1976d2"},$p={300:"#81c784",500:"#4caf50",700:"#388e3c"},jx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zc.white,default:Um[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qp={text:{primary:zc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Um[800],default:"#303030"},action:{active:zc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Hx(e,i,t,n){var r=n.light||n,l=n.dark||n*1.5;e[i]||(e.hasOwnProperty(t)?e[i]=e[t]:i==="light"?e.light=Zz(e.main,r):i==="dark"&&(e.dark=Kz(e.main,l)))}function Qz(e){var i=e.primary,t=i===void 0?{light:Xp[300],main:Xp[500],dark:Xp[700]}:i,n=e.secondary,r=n===void 0?{light:Yp.A200,main:Yp.A400,dark:Yp.A700}:n,l=e.error,h=l===void 0?{light:Kp[300],main:Kp[500],dark:Kp[700]}:l,d=e.warning,p=d===void 0?{light:Zp[300],main:Zp[500],dark:Zp[700]}:d,f=e.info,g=f===void 0?{light:Jp[300],main:Jp[500],dark:Jp[700]}:f,y=e.success,S=y===void 0?{light:$p[300],main:$p[500],dark:$p[700]}:y,k=e.type,C=k===void 0?"light":k,P=e.contrastThreshold,_=P===void 0?3:P,D=e.tonalOffset,q=D===void 0?.2:D,G=At(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function ne(ue){var he=Yz(ue,Qp.text.primary)>=_?Qp.text.primary:jx.text.primary;return he}var K=function(ue){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(ue=Ce({},ue),!ue.main&&ue[he]&&(ue.main=ue[he]),!ue.main)throw new Error(oa(4,he));if(typeof ue.main!="string")throw new Error(oa(5,JSON.stringify(ue.main)));return Hx(ue,"light",le,q),Hx(ue,"dark",ye,q),ue.contrastText||(ue.contrastText=ne(ue.main)),ue},Y={dark:Qp,light:jx},se=Zo(Ce({common:zc,type:C,primary:K(t),secondary:K(r,"A400","A200","A700"),error:K(h),warning:K(p),info:K(g),success:K(S),grey:Um,contrastThreshold:_,getContrastText:ne,augmentColor:K,tonalOffset:q},Y[C]),G);return se}function tT(e){return Math.round(e*1e5)/1e5}function eL(e){return tT(e)}var Fx={textTransform:"uppercase"},Vx='"Roboto", "Helvetica", "Arial", sans-serif';function tL(e,i){var t=typeof i=="function"?i(e):i,n=t.fontFamily,r=n===void 0?Vx:n,l=t.fontSize,h=l===void 0?14:l,d=t.fontWeightLight,p=d===void 0?300:d,f=t.fontWeightRegular,g=f===void 0?400:f,y=t.fontWeightMedium,S=y===void 0?500:y,k=t.fontWeightBold,C=k===void 0?700:k,P=t.htmlFontSize,_=P===void 0?16:P,D=t.allVariants,q=t.pxToRem,G=At(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),ne=h/14,K=q||function(ue){return"".concat(ue/_*ne,"rem")},Y=function(ue,he,le,ye,fe){return Ce({fontFamily:r,fontWeight:ue,fontSize:K(he),lineHeight:le},r===Vx?{letterSpacing:"".concat(tT(ye/he),"em")}:{},fe,D)},se={h1:Y(p,96,1.167,-1.5),h2:Y(p,60,1.2,-.5),h3:Y(g,48,1.167,0),h4:Y(g,34,1.235,.25),h5:Y(g,24,1.334,0),h6:Y(S,20,1.6,.15),subtitle1:Y(g,16,1.75,.15),subtitle2:Y(S,14,1.57,.1),body1:Y(g,16,1.5,.15),body2:Y(g,14,1.43,.15),button:Y(S,14,1.75,.4,Fx),caption:Y(g,12,1.66,.4),overline:Y(g,12,2.66,1,Fx)};return Zo(Ce({htmlFontSize:_,pxToRem:K,round:eL,fontFamily:r,fontSize:h,fontWeightLight:p,fontWeightRegular:g,fontWeightMedium:S,fontWeightBold:C},se),G,{clone:!1})}var nL=.2,iL=.14,rL=.12;function In(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(nL,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(iL,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(rL,")")].join(",")}var oL=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],sL={borderRadius:4};function em(e,i){(i==null||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function aL(e){if(Array.isArray(e))return em(e)}function nT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wm(e,i){if(e){if(typeof e=="string")return em(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return em(e,i)}}function lL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $c(e){return aL(e)||nT(e)||Wm(e)||lL()}function Lc(e,i){return i?Zo(e,i,{clone:!1}):e}var uL={xs:0,sm:600,md:960,lg:1280,xl:1920},Ux={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(uL[e],"px)")}};function iT(e,i,t){if(Array.isArray(i)){var n=e.theme.breakpoints||Ux;return i.reduce(function(h,d,p){return h[n.up(n.keys[p])]=t(i[p]),h},{})}if(ao(i)==="object"){var r=e.theme.breakpoints||Ux;return Object.keys(i).reduce(function(h,d){return h[r.up(d)]=t(i[d]),h},{})}var l=t(i);return l}function Wx(e,i){return!i||typeof i!="string"?null:i.split(".").reduce(function(t,n){return t&&t[n]?t[n]:null},e)}function St(e){var i=e.prop,t=e.cssProperty,n=t===void 0?e.prop:t,r=e.themeKey,l=e.transform,h=function(d){if(d[i]==null)return null;var p=d[i],f=d.theme,g=Wx(f,r)||{},y=function(S){var k;return typeof g=="function"?k=g(S):Array.isArray(g)?k=g[S]||S:(k=Wx(g,S)||S,l&&(k=l(k))),n===!1?k:qo({},n,k)};return iT(d,p,y)};return h.propTypes={},h.filterProps=[i],h}function Nr(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var n=function(r){return i.reduce(function(l,h){var d=h(r);return d?Lc(l,d):l},{})};return n.propTypes={},n.filterProps=i.reduce(function(r,l){return r.concat(l.filterProps)},[]),n}function Rl(e){return typeof e!="number"?e:"".concat(e,"px solid")}var cL=St({prop:"border",themeKey:"borders",transform:Rl}),dL=St({prop:"borderTop",themeKey:"borders",transform:Rl}),hL=St({prop:"borderRight",themeKey:"borders",transform:Rl}),pL=St({prop:"borderBottom",themeKey:"borders",transform:Rl}),fL=St({prop:"borderLeft",themeKey:"borders",transform:Rl}),mL=St({prop:"borderColor",themeKey:"palette"}),gL=St({prop:"borderRadius",themeKey:"shape"}),vL=Nr(cL,dL,hL,pL,fL,mL,gL);function Gx(e,i){var t={};return Object.keys(e).forEach(function(n){i.indexOf(n)===-1&&(t[n]=e[n])}),t}function yL(e){var i=function(t){var n=e(t);return t.css?Ce({},Lc(n,e(Ce({theme:t.theme},t.css))),Gx(t.css,[e.filterProps])):t.sx?Ce({},Lc(n,e(Ce({theme:t.theme},t.sx))),Gx(t.sx,[e.filterProps])):n};return i.propTypes={},i.filterProps=["css","sx"].concat($c(e.filterProps)),i}var bL=St({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),wL=St({prop:"display"}),xL=St({prop:"overflow"}),SL=St({prop:"textOverflow"}),EL=St({prop:"visibility"}),TL=St({prop:"whiteSpace"});const kL=Nr(bL,wL,xL,SL,EL,TL);var CL=St({prop:"flexBasis"}),PL=St({prop:"flexDirection"}),_L=St({prop:"flexWrap"}),RL=St({prop:"justifyContent"}),OL=St({prop:"alignItems"}),DL=St({prop:"alignContent"}),AL=St({prop:"order"}),IL=St({prop:"flex"}),ML=St({prop:"flexGrow"}),zL=St({prop:"flexShrink"}),LL=St({prop:"alignSelf"}),BL=St({prop:"justifyItems"}),NL=St({prop:"justifySelf"}),jL=Nr(CL,PL,_L,RL,OL,DL,AL,IL,ML,zL,LL,BL,NL),HL=St({prop:"gridGap"}),FL=St({prop:"gridColumnGap"}),VL=St({prop:"gridRowGap"}),UL=St({prop:"gridColumn"}),WL=St({prop:"gridRow"}),GL=St({prop:"gridAutoFlow"}),qL=St({prop:"gridAutoColumns"}),XL=St({prop:"gridAutoRows"}),YL=St({prop:"gridTemplateColumns"}),KL=St({prop:"gridTemplateRows"}),ZL=St({prop:"gridTemplateAreas"}),JL=St({prop:"gridArea"}),$L=Nr(HL,FL,VL,UL,WL,GL,qL,XL,YL,KL,ZL,JL),QL=St({prop:"color",themeKey:"palette"}),e3=St({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),t3=Nr(QL,e3),n3=St({prop:"position"}),i3=St({prop:"zIndex",themeKey:"zIndex"}),r3=St({prop:"top"}),o3=St({prop:"right"}),s3=St({prop:"bottom"}),a3=St({prop:"left"});const l3=Nr(n3,i3,r3,o3,s3,a3);var u3=St({prop:"boxShadow",themeKey:"shadows"});function co(e){return e<=1?"".concat(e*100,"%"):e}var c3=St({prop:"width",transform:co}),d3=St({prop:"maxWidth",transform:co}),h3=St({prop:"minWidth",transform:co}),p3=St({prop:"height",transform:co}),f3=St({prop:"maxHeight",transform:co}),m3=St({prop:"minHeight",transform:co});St({prop:"size",cssProperty:"width",transform:co});St({prop:"size",cssProperty:"height",transform:co});var g3=St({prop:"boxSizing"}),v3=Nr(c3,d3,h3,p3,f3,m3,g3);function rT(e){if(Array.isArray(e))return e}function y3(e,i){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,r,l,h,d=[],p=!0,f=!1;try{if(l=(t=t.call(e)).next,i!==0)for(;!(p=(n=l.call(t)).done)&&(d.push(n.value),d.length!==i);p=!0);}catch(g){f=!0,r=g}finally{try{if(!p&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(f)throw r}}return d}}function oT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rs(e,i){return rT(e)||y3(e,i)||Wm(e,i)||oT()}function b3(e){var i={};return function(t){return i[t]===void 0&&(i[t]=e(t)),i[t]}}var w3={m:"margin",p:"padding"},x3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},S3=b3(function(e){if(e.length>2)if(qx[e])e=qx[e];else return[e];var i=e.split(""),t=rs(i,2),n=t[0],r=t[1],l=w3[n],h=x3[r]||"";return Array.isArray(h)?h.map(function(d){return l+d}):[l+h]}),sT=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function aT(e){var i=e.spacing||8;return typeof i=="number"?function(t){return i*t}:Array.isArray(i)?function(t){return i[t]}:typeof i=="function"?i:function(){}}function E3(e,i){if(typeof i=="string"||i==null)return i;var t=Math.abs(i),n=e(t);return i>=0?n:typeof n=="number"?-n:"-".concat(n)}function T3(e,i){return function(t){return e.reduce(function(n,r){return n[r]=E3(i,t),n},{})}}function Gm(e){var i=e.theme,t=aT(i);return Object.keys(e).map(function(n){if(sT.indexOf(n)===-1)return null;var r=S3(n),l=T3(r,t),h=e[n];return iT(e,h,l)}).reduce(Lc,{})}Gm.propTypes={};Gm.filterProps=sT;var k3=St({prop:"fontFamily",themeKey:"typography"}),C3=St({prop:"fontSize",themeKey:"typography"}),P3=St({prop:"fontStyle",themeKey:"typography"}),_3=St({prop:"fontWeight",themeKey:"typography"}),R3=St({prop:"letterSpacing"}),O3=St({prop:"lineHeight"}),D3=St({prop:"textAlign"}),A3=Nr(k3,C3,P3,_3,R3,O3,D3);function I3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var i=aT({spacing:e}),t=function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return r.length===0?i(1):r.length===1?i(r[0]):r.map(function(h){if(typeof h=="string")return h;var d=i(h);return typeof d=="number"?"".concat(d,"px"):d}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return e}}),t.mui=!0,t}var Xx={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},El={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Yx(e){return"".concat(Math.round(e),"ms")}const M3={easing:Xx,duration:El,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=i.duration,n=t===void 0?El.standard:t,r=i.easing,l=r===void 0?Xx.easeInOut:r,h=i.delay,d=h===void 0?0:h;return At(i,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(p){return"".concat(p," ").concat(typeof n=="string"?n:Yx(n)," ").concat(l," ").concat(typeof d=="string"?d:Yx(d))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var i=e/36;return Math.round((4+15*Math.pow(i,.25)+i/5)*10)}};var lT={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function uT(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.breakpoints,t=i===void 0?{}:i,n=e.mixins,r=n===void 0?{}:n,l=e.palette,h=l===void 0?{}:l,d=e.spacing,p=e.typography,f=p===void 0?{}:p,g=At(e,["breakpoints","mixins","palette","spacing","typography"]),y=Qz(h),S=Jz(t),k=I3(d),C=Zo({breakpoints:S,direction:"ltr",mixins:$z(S,k,r),overrides:{},palette:y,props:{},shadows:oL,typography:tL(y,f),spacing:k,shape:sL,transitions:M3,zIndex:lT},g),P=arguments.length,_=new Array(P>1?P-1:0),D=1;D<P;D++)_[D-1]=arguments[D];return C=_.reduce(function(q,G){return Zo(q,G)},C),C}var z3=typeof Symbol=="function"&&Symbol.for;const cT=z3?Symbol.for("mui.nested"):"__THEME_NESTED__";var L3=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function B3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.disableGlobal,t=i===void 0?!1:i,n=e.productionPrefix,r=n===void 0?"jss":n,l=e.seed,h=l===void 0?"":l,d=h===""?"":"".concat(h,"-"),p=0,f=function(){return p+=1,p};return function(g,y){var S=y.options.name;if(S&&S.indexOf("Mui")===0&&!y.options.link&&!t){if(L3.indexOf(g.key)!==-1)return"Mui-".concat(g.key);var k="".concat(d).concat(S,"-").concat(g.key);return!y.options.theme[cT]||h!==""?k:"".concat(k,"-").concat(f())}return"".concat(d).concat(r).concat(f())}}function Qc(e){var i=e.theme,t=e.name,n=e.props;if(!i||!i.props||!i.props[t])return n;var r=i.props[t],l;for(l in r)n[l]===void 0&&(n[l]=r[l]);return n}var Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol=(typeof window>"u"?"undefined":Kx(window))==="object"&&(typeof document>"u"?"undefined":Kx(document))==="object"&&document.nodeType===9;function N3(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eT(n.key),n)}}function qm(e,i,t){return i&&N3(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function tm(e,i){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},tm(e,i)}function ed(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,tm(e,i)}function nm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j3={}.constructor;function im(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(im);if(e.constructor!==j3)return e;var i={};for(var t in e)i[t]=im(e[t]);return i}function Xm(e,i,t){e===void 0&&(e="unnamed");var n=t.jss,r=im(i),l=n.plugins.onCreateRule(e,r,t);return l||(e[0],null)}var Zx=function(e,i){for(var t="",n=0;n<e.length&&e[n]!=="!important";n++)t&&(t+=i),t+=e[n];return t},Xo=function(e){if(!Array.isArray(e))return e;var i="";if(Array.isArray(e[0]))for(var t=0;t<e.length&&e[t]!=="!important";t++)i&&(i+=", "),i+=Zx(e[t]," ");else i=Zx(e,", ");return e[e.length-1]==="!important"&&(i+=" !important"),i};function ha(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function tl(e,i){for(var t="",n=0;n<i;n++)t+="  ";return t+e}function Tl(e,i,t){t===void 0&&(t={});var n="";if(!i)return n;var r=t,l=r.indent,h=l===void 0?0:l,d=i.fallbacks;t.format===!1&&(h=-1/0);var p=ha(t),f=p.linebreak,g=p.space;if(e&&h++,d)if(Array.isArray(d))for(var y=0;y<d.length;y++){var S=d[y];for(var k in S){var C=S[k];C!=null&&(n&&(n+=f),n+=tl(k+":"+g+Xo(C)+";",h))}}else for(var P in d){var _=d[P];_!=null&&(n&&(n+=f),n+=tl(P+":"+g+Xo(_)+";",h))}for(var D in i){var q=i[D];q!=null&&D!=="fallbacks"&&(n&&(n+=f),n+=tl(D+":"+g+Xo(q)+";",h))}return!n&&!t.allowEmpty||!e?n:(h--,n&&(n=""+f+n+f),tl(""+e+g+"{"+n,h)+tl("}",h))}var H3=/([[\].#*$><+~=|^:(),"'`\s])/g,Jx=typeof CSS<"u"&&CSS.escape,Ym=function(e){return Jx?Jx(e):e.replace(H3,"\\$1")},dT=function(){function e(t,n,r){this.type="style",this.isProcessed=!1;var l=r.sheet,h=r.Renderer;this.key=t,this.options=r,this.style=n,l?this.renderer=l.renderer:h&&(this.renderer=new h)}var i=e.prototype;return i.prop=function(t,n,r){if(n===void 0)return this.style[t];var l=r?r.force:!1;if(!l&&this.style[t]===n)return this;var h=n;(!r||r.process!==!1)&&(h=this.options.jss.plugins.onChangeValue(n,t,this));var d=h==null||h===!1,p=t in this.style;if(d&&!p&&!l)return this;var f=d&&p;if(f?delete this.style[t]:this.style[t]=h,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,h),this;var g=this.options.sheet;return g&&g.attached,this},e}(),rm=function(e){ed(i,e);function i(n,r,l){var h;h=e.call(this,n,r,l)||this;var d=l.selector,p=l.scoped,f=l.sheet,g=l.generateId;return d?h.selectorText=d:p!==!1&&(h.id=g(nm(nm(h)),f),h.selectorText="."+Ym(h.id)),h}var t=i.prototype;return t.applyTo=function(n){var r=this.renderer;if(r){var l=this.toJSON();for(var h in l)r.setProperty(n,h,l[h])}return this},t.toJSON=function(){var n={};for(var r in this.style){var l=this.style[r];typeof l!="object"?n[r]=l:Array.isArray(l)&&(n[r]=Xo(l))}return n},t.toString=function(n){var r=this.options.sheet,l=r?r.options.link:!1,h=l?Ce({},n,{allowEmpty:!0}):n;return Tl(this.selectorText,this.style,h)},qm(i,[{key:"selector",set:function(n){if(n!==this.selectorText){this.selectorText=n;var r=this.renderer,l=this.renderable;if(!(!l||!r)){var h=r.setSelector(l,n);h||r.replaceRule(l,this)}}},get:function(){return this.selectorText}}]),i}(dT),F3={onCreateRule:function(e,i,t){return e[0]==="@"||t.parent&&t.parent.type==="keyframes"?null:new rm(e,i,t)}},ef={indent:1,children:!0},V3=/@([\w-]+)/,U3=function(){function e(t,n,r){this.type="conditional",this.isProcessed=!1,this.key=t;var l=t.match(V3);this.at=l?l[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new td(Ce({},r,{parent:this}));for(var h in n)this.rules.add(h,n[h]);this.rules.process()}var i=e.prototype;return i.getRule=function(t){return this.rules.get(t)},i.indexOf=function(t){return this.rules.indexOf(t)},i.addRule=function(t,n,r){var l=this.rules.add(t,n,r);return l?(this.options.jss.plugins.onProcessRule(l),l):null},i.replaceRule=function(t,n,r){var l=this.rules.replace(t,n,r);return l&&this.options.jss.plugins.onProcessRule(l),l},i.toString=function(t){t===void 0&&(t=ef);var n=ha(t),r=n.linebreak;if(t.indent==null&&(t.indent=ef.indent),t.children==null&&(t.children=ef.children),t.children===!1)return this.query+" {}";var l=this.rules.toString(t);return l?this.query+" {"+r+l+r+"}":""},e}(),W3=/@container|@media|@supports\s+/,G3={onCreateRule:function(e,i,t){return W3.test(e)?new U3(e,i,t):null}},tf={indent:1,children:!0},q3=/@keyframes\s+([\w-]+)/,om=function(){function e(t,n,r){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var l=t.match(q3);l&&l[1]?this.name=l[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var h=r.scoped,d=r.sheet,p=r.generateId;this.id=h===!1?this.name:Ym(p(this,d)),this.rules=new td(Ce({},r,{parent:this}));for(var f in n)this.rules.add(f,n[f],Ce({},r,{parent:this}));this.rules.process()}var i=e.prototype;return i.toString=function(t){t===void 0&&(t=tf);var n=ha(t),r=n.linebreak;if(t.indent==null&&(t.indent=tf.indent),t.children==null&&(t.children=tf.children),t.children===!1)return this.at+" "+this.id+" {}";var l=this.rules.toString(t);return l&&(l=""+r+l+r),this.at+" "+this.id+" {"+l+"}"},e}(),X3=/@keyframes\s+/,Y3=/\$([\w-]+)/g,sm=function(e,i){return typeof e=="string"?e.replace(Y3,function(t,n){return n in i?i[n]:t}):e},$x=function(e,i,t){var n=e[i],r=sm(n,t);r!==n&&(e[i]=r)},K3={onCreateRule:function(e,i,t){return typeof e=="string"&&X3.test(e)?new om(e,i,t):null},onProcessStyle:function(e,i,t){return i.type!=="style"||!t||("animation-name"in e&&$x(e,"animation-name",t.keyframes),"animation"in e&&$x(e,"animation",t.keyframes)),e},onChangeValue:function(e,i,t){var n=t.options.sheet;if(!n)return e;switch(i){case"animation":return sm(e,n.keyframes);case"animation-name":return sm(e,n.keyframes);default:return e}}},Z3=function(e){ed(i,e);function i(){return e.apply(this,arguments)||this}var t=i.prototype;return t.toString=function(n){var r=this.options.sheet,l=r?r.options.link:!1,h=l?Ce({},n,{allowEmpty:!0}):n;return Tl(this.key,this.style,h)},i}(dT),J3={onCreateRule:function(e,i,t){return t.parent&&t.parent.type==="keyframes"?new Z3(e,i,t):null}},$3=function(){function e(t,n,r){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=n,this.options=r}var i=e.prototype;return i.toString=function(t){var n=ha(t),r=n.linebreak;if(Array.isArray(this.style)){for(var l="",h=0;h<this.style.length;h++)l+=Tl(this.at,this.style[h]),this.style[h+1]&&(l+=r);return l}return Tl(this.at,this.style,t)},e}(),Q3=/@font-face/,e4={onCreateRule:function(e,i,t){return Q3.test(e)?new $3(e,i,t):null}},t4=function(){function e(t,n,r){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=n,this.options=r}var i=e.prototype;return i.toString=function(t){return Tl(this.key,this.style,t)},e}(),n4={onCreateRule:function(e,i,t){return e==="@viewport"||e==="@-ms-viewport"?new t4(e,i,t):null}},i4=function(){function e(t,n,r){this.type="simple",this.isProcessed=!1,this.key=t,this.value=n,this.options=r}var i=e.prototype;return i.toString=function(t){if(Array.isArray(this.value)){for(var n="",r=0;r<this.value.length;r++)n+=this.key+" "+this.value[r]+";",this.value[r+1]&&(n+=`
`);return n}return this.key+" "+this.value+";"},e}(),r4={"@charset":!0,"@import":!0,"@namespace":!0},o4={onCreateRule:function(e,i,t){return e in r4?new i4(e,i,t):null}},Qx=[F3,G3,K3,J3,e4,n4,o4],s4={process:!0},e0={force:!0,process:!0},td=function(){function e(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var i=e.prototype;return i.add=function(t,n,r){var l=this.options,h=l.parent,d=l.sheet,p=l.jss,f=l.Renderer,g=l.generateId,y=l.scoped,S=Ce({classes:this.classes,parent:h,sheet:d,jss:p,Renderer:f,generateId:g,scoped:y,name:t,keyframes:this.keyframes,selector:void 0},r),k=t;t in this.raw&&(k=t+"-d"+this.counter++),this.raw[k]=n,k in this.classes&&(S.selector="."+Ym(this.classes[k]));var C=Xm(k,n,S);if(!C)return null;this.register(C);var P=S.index===void 0?this.index.length:S.index;return this.index.splice(P,0,C),C},i.replace=function(t,n,r){var l=this.get(t),h=this.index.indexOf(l);l&&this.remove(l);var d=r;return h!==-1&&(d=Ce({},r,{index:h})),this.add(t,n,d)},i.get=function(t){return this.map[t]},i.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},i.indexOf=function(t){return this.index.indexOf(t)},i.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},i.register=function(t){this.map[t.key]=t,t instanceof rm?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof om&&this.keyframes&&(this.keyframes[t.name]=t.id)},i.unregister=function(t){delete this.map[t.key],t instanceof rm?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof om&&delete this.keyframes[t.name]},i.update=function(){var t,n,r;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.get(t),n,r);else for(var l=0;l<this.index.length;l++)this.updateOne(this.index[l],n,r)},i.updateOne=function(t,n,r){r===void 0&&(r=s4);var l=this.options,h=l.jss.plugins,d=l.sheet;if(t.rules instanceof e){t.rules.update(n,r);return}var p=t.style;if(h.onUpdate(n,t,d,r),r.process&&p&&p!==t.style){h.onProcessStyle(t.style,t,d);for(var f in t.style){var g=t.style[f],y=p[f];g!==y&&t.prop(f,g,e0)}for(var S in p){var k=t.style[S],C=p[S];k==null&&k!==C&&t.prop(S,null,e0)}}},i.toString=function(t){for(var n="",r=this.options.sheet,l=r?r.options.link:!1,h=ha(t),d=h.linebreak,p=0;p<this.index.length;p++){var f=this.index[p],g=f.toString(t);!g&&!l||(n&&(n+=d),n+=g)}return n},e}(),hT=function(){function e(t,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ce({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new td(this.options);for(var r in t)this.rules.add(r,t[r]);this.rules.process()}var i=e.prototype;return i.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},i.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},i.addRule=function(t,n,r){var l=this.queue;this.attached&&!l&&(this.queue=[]);var h=this.rules.add(t,n,r);return h?(this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&(l?l.push(h):(this.insertRule(h),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),h):(this.deployed=!1,h)):null},i.replaceRule=function(t,n,r){var l=this.rules.get(t);if(!l)return this.addRule(t,n,r);var h=this.rules.replace(t,n,r);return h&&this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&this.renderer&&(h?l.renderable&&this.renderer.replaceRule(l.renderable,h):this.renderer.deleteRule(l)),h):(this.deployed=!1,h)},i.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},i.addRules=function(t,n){var r=[];for(var l in t){var h=this.addRule(l,t[l],n);h&&r.push(h)}return r},i.getRule=function(t){return this.rules.get(t)},i.deleteRule=function(t){var n=typeof t=="object"?t:this.rules.get(t);return!n||this.attached&&!n.renderable?!1:(this.rules.remove(n),this.attached&&n.renderable&&this.renderer?this.renderer.deleteRule(n.renderable):!0)},i.indexOf=function(t){return this.rules.indexOf(t)},i.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},i.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},i.updateOne=function(t,n,r){return this.rules.updateOne(t,n,r),this},i.toString=function(t){return this.rules.toString(t)},e}(),a4=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var i=e.prototype;return i.onCreateRule=function(t,n,r){for(var l=0;l<this.registry.onCreateRule.length;l++){var h=this.registry.onCreateRule[l](t,n,r);if(h)return h}return null},i.onProcessRule=function(t){if(!t.isProcessed){for(var n=t.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](t,n);t.style&&this.onProcessStyle(t.style,t,n),t.isProcessed=!0}},i.onProcessStyle=function(t,n,r){for(var l=0;l<this.registry.onProcessStyle.length;l++)n.style=this.registry.onProcessStyle[l](n.style,n,r)},i.onProcessSheet=function(t){for(var n=0;n<this.registry.onProcessSheet.length;n++)this.registry.onProcessSheet[n](t)},i.onUpdate=function(t,n,r,l){for(var h=0;h<this.registry.onUpdate.length;h++)this.registry.onUpdate[h](t,n,r,l)},i.onChangeValue=function(t,n,r){for(var l=t,h=0;h<this.registry.onChangeValue.length;h++)l=this.registry.onChangeValue[h](l,n,r);return l},i.use=function(t,n){n===void 0&&(n={queue:"external"});var r=this.plugins[n.queue];r.indexOf(t)===-1&&(r.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(l,h){for(var d in h)d in l&&l[d].push(h[d]);return l},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),l4=function(){function e(){this.registry=[]}var i=e.prototype;return i.add=function(t){var n=this.registry,r=t.options.index;if(n.indexOf(t)===-1){if(n.length===0||r>=this.index){n.push(t);return}for(var l=0;l<n.length;l++)if(n[l].options.index>r){n.splice(l,0,t);return}}},i.reset=function(){this.registry=[]},i.remove=function(t){var n=this.registry.indexOf(t);this.registry.splice(n,1)},i.toString=function(t){for(var n=t===void 0?{}:t,r=n.attached,l=is(n,["attached"]),h=ha(l),d=h.linebreak,p="",f=0;f<this.registry.length;f++){var g=this.registry[f];r!=null&&g.attached!==r||(p&&(p+=d),p+=g.toString(l))}return p},qm(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),pl=new l4,am=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),lm="2f1acc6c3a606b082e5eef5e54414ffb";am[lm]==null&&(am[lm]=0);var t0=am[lm]++,n0=function(e){e===void 0&&(e={});var i=0,t=function(n,r){i+=1;var l="",h="";return r&&(r.options.classNamePrefix&&(h=r.options.classNamePrefix),r.options.jss.id!=null&&(l=String(r.options.jss.id))),e.minify?""+(h||"c")+t0+l+i:h+n.key+"-"+t0+(l?"-"+l:"")+"-"+i};return t},pT=function(e){var i;return function(){return i||(i=e()),i}},u4=function(e,i){try{return e.attributeStyleMap?e.attributeStyleMap.get(i):e.style.getPropertyValue(i)}catch{return""}},c4=function(e,i,t){try{var n=t;if(Array.isArray(t)&&(n=Xo(t)),e.attributeStyleMap)e.attributeStyleMap.set(i,n);else{var r=n?n.indexOf("!important"):-1,l=r>-1?n.substr(0,r-1):n;e.style.setProperty(i,l,r>-1?"important":"")}}catch{return!1}return!0},d4=function(e,i){try{e.attributeStyleMap?e.attributeStyleMap.delete(i):e.style.removeProperty(i)}catch{}},h4=function(e,i){return e.selectorText=i,e.selectorText===i},fT=pT(function(){return document.querySelector("head")});function p4(e,i){for(var t=0;t<e.length;t++){var n=e[t];if(n.attached&&n.options.index>i.index&&n.options.insertionPoint===i.insertionPoint)return n}return null}function f4(e,i){for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.attached&&n.options.insertionPoint===i.insertionPoint)return n}return null}function m4(e){for(var i=fT(),t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];if(n.nodeType===8&&n.nodeValue.trim()===e)return n}return null}function g4(e){var i=pl.registry;if(i.length>0){var t=p4(i,e);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=f4(i,e),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&typeof n=="string"){var r=m4(n);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}function v4(e,i){var t=i.insertionPoint,n=g4(i);if(n!==!1&&n.parent){n.parent.insertBefore(e,n.node);return}if(t&&typeof t.nodeType=="number"){var r=t,l=r.parentNode;l&&l.insertBefore(e,r.nextSibling);return}fT().appendChild(e)}var y4=pT(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),i0=function(e,i,t){try{"insertRule"in e?e.insertRule(i,t):"appendRule"in e&&e.appendRule(i)}catch{return!1}return e.cssRules[t]},r0=function(e,i){var t=e.cssRules.length;return i===void 0||i>t?t:i},b4=function(){var e=document.createElement("style");return e.textContent=`
`,e},w4=function(){function e(t){this.getPropertyValue=u4,this.setProperty=c4,this.removeProperty=d4,this.setSelector=h4,this.hasInsertedRules=!1,this.cssRules=[],t&&pl.add(t),this.sheet=t;var n=this.sheet?this.sheet.options:{},r=n.media,l=n.meta,h=n.element;this.element=h||b4(),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),l&&this.element.setAttribute("data-meta",l);var d=y4();d&&this.element.setAttribute("nonce",d)}var i=e.prototype;return i.attach=function(){if(!(this.element.parentNode||!this.sheet)){v4(this.element,this.sheet.options);var t=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},i.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},i.deploy=function(){var t=this.sheet;if(t){if(t.options.link){this.insertRules(t.rules);return}this.element.textContent=`
`+t.toString()+`
`}},i.insertRules=function(t,n){for(var r=0;r<t.index.length;r++)this.insertRule(t.index[r],r,n)},i.insertRule=function(t,n,r){if(r===void 0&&(r=this.element.sheet),t.rules){var l=t,h=r;if(t.type==="conditional"||t.type==="keyframes"){var d=r0(r,n);if(h=i0(r,l.toString({children:!1}),d),h===!1)return!1;this.refCssRule(t,d,h)}return this.insertRules(l.rules,h),h}var p=t.toString();if(!p)return!1;var f=r0(r,n),g=i0(r,p,f);return g===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(t,f,g),g)},i.refCssRule=function(t,n,r){t.renderable=r,t.options.parent instanceof hT&&this.cssRules.splice(n,0,r)},i.deleteRule=function(t){var n=this.element.sheet,r=this.indexOf(t);return r===-1?!1:(n.deleteRule(r),this.cssRules.splice(r,1),!0)},i.indexOf=function(t){return this.cssRules.indexOf(t)},i.replaceRule=function(t,n){var r=this.indexOf(t);return r===-1?!1:(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(n,r))},i.getRules=function(){return this.element.sheet.cssRules},e}(),x4=0,S4=function(){function e(t){this.id=x4++,this.version="10.10.0",this.plugins=new a4,this.options={id:{minify:!1},createGenerateId:n0,Renderer:Ol?w4:null,plugins:[]},this.generateId=n0({minify:!1});for(var n=0;n<Qx.length;n++)this.plugins.use(Qx[n],{queue:"internal"});this.setup(t)}var i=e.prototype;return i.setup=function(t){return t===void 0&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Ce({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),t.insertionPoint!=null&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},i.createStyleSheet=function(t,n){n===void 0&&(n={});var r=n,l=r.index;typeof l!="number"&&(l=pl.index===0?0:pl.index+1);var h=new hT(t,Ce({},n,{jss:this,generateId:n.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:l}));return this.plugins.onProcessSheet(h),h},i.removeStyleSheet=function(t){return t.detach(),pl.remove(t),this},i.createRule=function(t,n,r){if(n===void 0&&(n={}),r===void 0&&(r={}),typeof t=="object")return this.createRule(void 0,t,n);var l=Ce({},r,{name:t,jss:this,Renderer:this.options.Renderer});l.generateId||(l.generateId=this.generateId),l.classes||(l.classes={}),l.keyframes||(l.keyframes={});var h=Xm(t,n,l);return h&&this.plugins.onProcessRule(h),h},i.use=function(){for(var t=this,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return r.forEach(function(h){t.plugins.use(h)}),this},e}(),mT=function(e){return new S4(e)},Km=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function gT(e){var i=null;for(var t in e){var n=e[t],r=typeof n;if(r==="function")i||(i={}),i[t]=n;else if(r==="object"&&n!==null&&!Array.isArray(n)){var l=gT(n);l&&(i||(i={}),i[t]=l)}}return i}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */mT();var vT=Date.now(),nf="fnValues"+vT,rf="fnStyle"+ ++vT,E4=function(){return{onCreateRule:function(e,i,t){if(typeof i!="function")return null;var n=Xm(e,{},t);return n[rf]=i,n},onProcessStyle:function(e,i){if(nf in i||rf in i)return e;var t={};for(var n in e){var r=e[n];typeof r=="function"&&(delete e[n],t[n]=r)}return i[nf]=t,e},onUpdate:function(e,i,t,n){var r=i,l=r[rf];l&&(r.style=l(e)||{});var h=r[nf];if(h)for(var d in h)r.prop(d,h[d](e),n)}}},oo="@global",um="@global ",T4=function(){function e(t,n,r){this.type="global",this.at=oo,this.isProcessed=!1,this.key=t,this.options=r,this.rules=new td(Ce({},r,{parent:this}));for(var l in n)this.rules.add(l,n[l]);this.rules.process()}var i=e.prototype;return i.getRule=function(t){return this.rules.get(t)},i.addRule=function(t,n,r){var l=this.rules.add(t,n,r);return l&&this.options.jss.plugins.onProcessRule(l),l},i.replaceRule=function(t,n,r){var l=this.rules.replace(t,n,r);return l&&this.options.jss.plugins.onProcessRule(l),l},i.indexOf=function(t){return this.rules.indexOf(t)},i.toString=function(t){return this.rules.toString(t)},e}(),k4=function(){function e(t,n,r){this.type="global",this.at=oo,this.isProcessed=!1,this.key=t,this.options=r;var l=t.substr(um.length);this.rule=r.jss.createRule(l,n,Ce({},r,{parent:this}))}var i=e.prototype;return i.toString=function(t){return this.rule?this.rule.toString(t):""},e}(),C4=/\s*,\s*/g;function yT(e,i){for(var t=e.split(C4),n="",r=0;r<t.length;r++)n+=i+" "+t[r].trim(),t[r+1]&&(n+=", ");return n}function P4(e,i){var t=e.options,n=e.style,r=n?n[oo]:null;if(r){for(var l in r)i.addRule(l,r[l],Ce({},t,{selector:yT(l,e.selector)}));delete n[oo]}}function _4(e,i){var t=e.options,n=e.style;for(var r in n)if(!(r[0]!=="@"||r.substr(0,oo.length)!==oo)){var l=yT(r.substr(oo.length),e.selector);i.addRule(l,n[r],Ce({},t,{selector:l})),delete n[r]}}function R4(){function e(t,n,r){if(!t)return null;if(t===oo)return new T4(t,n,r);if(t[0]==="@"&&t.substr(0,um.length)===um)return new k4(t,n,r);var l=r.parent;return l&&(l.type==="global"||l.options.parent&&l.options.parent.type==="global")&&(r.scoped=!1),!r.selector&&r.scoped===!1&&(r.selector=t),null}function i(t,n){t.type!=="style"||!n||(P4(t,n),_4(t,n))}return{onCreateRule:e,onProcessRule:i}}var o0=/\s*,\s*/g,O4=/&/g,D4=/\$([\w-]+)/g;function A4(){function e(r,l){return function(h,d){var p=r.getRule(d)||l&&l.getRule(d);return p?p.selector:d}}function i(r,l){for(var h=l.split(o0),d=r.split(o0),p="",f=0;f<h.length;f++)for(var g=h[f],y=0;y<d.length;y++){var S=d[y];p&&(p+=", "),p+=S.indexOf("&")!==-1?S.replace(O4,g):g+" "+S}return p}function t(r,l,h){if(h)return Ce({},h,{index:h.index+1});var d=r.options.nestingLevel;d=d===void 0?1:d+1;var p=Ce({},r.options,{nestingLevel:d,index:l.indexOf(r)+1});return delete p.name,p}function n(r,l,h){if(l.type!=="style")return r;var d=l,p=d.options.parent,f,g;for(var y in r){var S=y.indexOf("&")!==-1,k=y[0]==="@";if(!(!S&&!k)){if(f=t(d,p,f),S){var C=i(y,d.selector);g||(g=e(p,h)),C=C.replace(D4,g);var P=d.key+"-"+y;"replaceRule"in p?p.replaceRule(P,r[y],Ce({},f,{selector:C})):p.addRule(P,r[y],Ce({},f,{selector:C}))}else k&&p.addRule(y,{},f).addRule(d.key,r[y],{selector:d.selector});delete r[y]}}return r}return{onProcessStyle:n}}var I4=/[A-Z]/g,M4=/^ms-/,of={};function z4(e){return"-"+e.toLowerCase()}function bT(e){if(of.hasOwnProperty(e))return of[e];var i=e.replace(I4,z4);return of[e]=M4.test(i)?"-"+i:i}function Bc(e){var i={};for(var t in e){var n=t.indexOf("--")===0?t:bT(t);i[n]=e[t]}return e.fallbacks&&(Array.isArray(e.fallbacks)?i.fallbacks=e.fallbacks.map(Bc):i.fallbacks=Bc(e.fallbacks)),i}function L4(){function e(t){if(Array.isArray(t)){for(var n=0;n<t.length;n++)t[n]=Bc(t[n]);return t}return Bc(t)}function i(t,n,r){if(n.indexOf("--")===0)return t;var l=bT(n);return n===l?t:(r.prop(l,t),null)}return{onProcessStyle:e,onChangeValue:i}}var Fe=Km&&CSS?CSS.px:"px",gc=Km&&CSS?CSS.ms:"ms",Gs=Km&&CSS?CSS.percent:"%",B4={"animation-delay":gc,"animation-duration":gc,"background-position":Fe,"background-position-x":Fe,"background-position-y":Fe,"background-size":Fe,border:Fe,"border-bottom":Fe,"border-bottom-left-radius":Fe,"border-bottom-right-radius":Fe,"border-bottom-width":Fe,"border-left":Fe,"border-left-width":Fe,"border-radius":Fe,"border-right":Fe,"border-right-width":Fe,"border-top":Fe,"border-top-left-radius":Fe,"border-top-right-radius":Fe,"border-top-width":Fe,"border-width":Fe,"border-block":Fe,"border-block-end":Fe,"border-block-end-width":Fe,"border-block-start":Fe,"border-block-start-width":Fe,"border-block-width":Fe,"border-inline":Fe,"border-inline-end":Fe,"border-inline-end-width":Fe,"border-inline-start":Fe,"border-inline-start-width":Fe,"border-inline-width":Fe,"border-start-start-radius":Fe,"border-start-end-radius":Fe,"border-end-start-radius":Fe,"border-end-end-radius":Fe,margin:Fe,"margin-bottom":Fe,"margin-left":Fe,"margin-right":Fe,"margin-top":Fe,"margin-block":Fe,"margin-block-end":Fe,"margin-block-start":Fe,"margin-inline":Fe,"margin-inline-end":Fe,"margin-inline-start":Fe,padding:Fe,"padding-bottom":Fe,"padding-left":Fe,"padding-right":Fe,"padding-top":Fe,"padding-block":Fe,"padding-block-end":Fe,"padding-block-start":Fe,"padding-inline":Fe,"padding-inline-end":Fe,"padding-inline-start":Fe,"mask-position-x":Fe,"mask-position-y":Fe,"mask-size":Fe,height:Fe,width:Fe,"min-height":Fe,"max-height":Fe,"min-width":Fe,"max-width":Fe,bottom:Fe,left:Fe,top:Fe,right:Fe,inset:Fe,"inset-block":Fe,"inset-block-end":Fe,"inset-block-start":Fe,"inset-inline":Fe,"inset-inline-end":Fe,"inset-inline-start":Fe,"box-shadow":Fe,"text-shadow":Fe,"column-gap":Fe,"column-rule":Fe,"column-rule-width":Fe,"column-width":Fe,"font-size":Fe,"font-size-delta":Fe,"letter-spacing":Fe,"text-decoration-thickness":Fe,"text-indent":Fe,"text-stroke":Fe,"text-stroke-width":Fe,"word-spacing":Fe,motion:Fe,"motion-offset":Fe,outline:Fe,"outline-offset":Fe,"outline-width":Fe,perspective:Fe,"perspective-origin-x":Gs,"perspective-origin-y":Gs,"transform-origin":Gs,"transform-origin-x":Gs,"transform-origin-y":Gs,"transform-origin-z":Gs,"transition-delay":gc,"transition-duration":gc,"vertical-align":Fe,"flex-basis":Fe,"shape-margin":Fe,size:Fe,gap:Fe,grid:Fe,"grid-gap":Fe,"row-gap":Fe,"grid-row-gap":Fe,"grid-column-gap":Fe,"grid-template-rows":Fe,"grid-template-columns":Fe,"grid-auto-rows":Fe,"grid-auto-columns":Fe,"box-shadow-x":Fe,"box-shadow-y":Fe,"box-shadow-blur":Fe,"box-shadow-spread":Fe,"font-line-height":Fe,"text-shadow-x":Fe,"text-shadow-y":Fe,"text-shadow-blur":Fe};function wT(e){var i=/(-[a-z])/g,t=function(l){return l[1].toUpperCase()},n={};for(var r in e)n[r]=e[r],n[r.replace(i,t)]=e[r];return n}var N4=wT(B4);function fl(e,i,t){if(i==null)return i;if(Array.isArray(i))for(var n=0;n<i.length;n++)i[n]=fl(e,i[n],t);else if(typeof i=="object")if(e==="fallbacks")for(var r in i)i[r]=fl(r,i[r],t);else for(var l in i)i[l]=fl(e+"-"+l,i[l],t);else if(typeof i=="number"&&isNaN(i)===!1){var h=t[e]||N4[e];return h&&!(i===0&&h===Fe)?typeof h=="function"?h(i).toString():""+i+h:i.toString()}return i}function j4(e){e===void 0&&(e={});var i=wT(e);function t(r,l){if(l.type!=="style")return r;for(var h in r)r[h]=fl(h,r[h],i);return r}function n(r,l){return fl(l,r,i)}return{onProcessStyle:t,onChangeValue:n}}var ll="",cm="",xT="",ST="",H4=Ol&&"ontouchstart"in document.documentElement;if(Ol){var sf={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},F4=document.createElement("p"),af=F4.style,V4="Transform";for(var lf in sf)if(lf+V4 in af){ll=lf,cm=sf[lf];break}ll==="Webkit"&&"msHyphens"in af&&(ll="ms",cm=sf.ms,ST="edge"),ll==="Webkit"&&"-apple-trailing-word"in af&&(xT="apple")}var $t={js:ll,css:cm,vendor:xT,browser:ST,isTouch:H4};function U4(e){return e[1]==="-"||$t.js==="ms"?e:"@"+$t.css+"keyframes"+e.substr(10)}var W4={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:$t.js==="ms"?"-webkit-"+e:$t.css+e}},G4={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:$t.js==="Webkit"?$t.css+"print-"+e:e}},q4=/[-\s]+(.)?/g;function X4(e,i){return i?i.toUpperCase():""}function Zm(e){return e.replace(q4,X4)}function lo(e){return Zm("-"+e)}var Y4={noPrefill:["mask"],supportedProperty:function(e,i){if(!/^mask/.test(e))return!1;if($t.js==="Webkit"){var t="mask-image";if(Zm(t)in i)return e;if($t.js+lo(t)in i)return $t.css+e}return e}},K4={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:$t.vendor==="apple"&&!$t.isTouch?$t.css+e:e}},Z4={noPrefill:["transform"],supportedProperty:function(e,i,t){return e!=="transform"?!1:t.transform?e:$t.css+e}},J4={noPrefill:["transition"],supportedProperty:function(e,i,t){return e!=="transition"?!1:t.transition?e:$t.css+e}},$4={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:$t.js==="Webkit"||$t.js==="ms"&&$t.browser!=="edge"?$t.css+e:e}},Q4={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:$t.js==="Moz"||$t.js==="ms"||$t.vendor==="apple"?$t.css+e:e}},e5={supportedProperty:function(e,i){if(!/^break-/.test(e))return!1;if($t.js==="Webkit"){var t="WebkitColumn"+lo(e);return t in i?$t.css+"column-"+e:!1}if($t.js==="Moz"){var n="page"+lo(e);return n in i?"page-"+e:!1}return!1}},t5={supportedProperty:function(e,i){if(!/^(border|margin|padding)-inline/.test(e))return!1;if($t.js==="Moz")return e;var t=e.replace("-inline","");return $t.js+lo(t)in i?$t.css+t:!1}},n5={supportedProperty:function(e,i){return Zm(e)in i?e:!1}},i5={supportedProperty:function(e,i){var t=lo(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:$t.js+t in i?$t.css+e:$t.js!=="Webkit"&&"Webkit"+t in i?"-webkit-"+e:!1}},r5={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:$t.js==="ms"?""+$t.css+e:e}},o5={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:$t.js==="ms"?$t.css+"scroll-chaining":e}},s5={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},a5={supportedProperty:function(e,i){var t=s5[e];return t&&$t.js+lo(t)in i?$t.css+t:!1}},ET={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},l5=Object.keys(ET),u5=function(e){return $t.css+e},c5={supportedProperty:function(e,i,t){var n=t.multiple;if(l5.indexOf(e)>-1){var r=ET[e];if(!Array.isArray(r))return $t.js+lo(r)in i?$t.css+r:!1;if(!n)return!1;for(var l=0;l<r.length;l++)if(!($t.js+lo(r[0])in i))return!1;return r.map(u5)}return!1}},TT=[W4,G4,Y4,K4,Z4,J4,$4,Q4,e5,t5,n5,i5,r5,o5,a5,c5],s0=TT.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),d5=TT.filter(function(e){return e.noPrefill}).reduce(function(e,i){return e.push.apply(e,$c(i.noPrefill)),e},[]),ul,Vo={};if(Ol){ul=document.createElement("p");var uf=window.getComputedStyle(document.documentElement,"");for(var cf in uf)isNaN(cf)||(Vo[uf[cf]]=uf[cf]);d5.forEach(function(e){return delete Vo[e]})}function dm(e,i){if(i===void 0&&(i={}),!ul)return e;if(Vo[e]!=null)return Vo[e];(e==="transition"||e==="transform")&&(i[e]=e in ul.style);for(var t=0;t<s0.length&&(Vo[e]=s0[t](e,ul.style,i),!Vo[e]);t++);try{ul.style[e]=""}catch{return!1}return Vo[e]}var qs={},h5={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},p5=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,to;function f5(e,i,t){if(i==="var")return"var";if(i==="all")return"all";if(t==="all")return", all";var n=i?dm(i):", "+dm(t);return n||i||t}Ol&&(to=document.createElement("p"));function a0(e,i){var t=i;if(!to||e==="content")return i;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var n=e+t;if(qs[n]!=null)return qs[n];try{to.style[e]=t}catch{return qs[n]=!1,!1}if(h5[e])t=t.replace(p5,f5);else if(to.style[e]===""&&(t=$t.css+t,t==="-ms-flex"&&(to.style[e]="-ms-flexbox"),to.style[e]=t,to.style[e]===""))return qs[n]=!1,!1;return to.style[e]="",qs[n]=t,qs[n]}function m5(){function e(r){if(r.type==="keyframes"){var l=r;l.at=U4(l.at)}}function i(r){for(var l in r){var h=r[l];if(l==="fallbacks"&&Array.isArray(h)){r[l]=h.map(i);continue}var d=!1,p=dm(l);p&&p!==l&&(d=!0);var f=!1,g=a0(p,Xo(h));g&&g!==h&&(f=!0),(d||f)&&(d&&delete r[l],r[p||l]=g||h)}return r}function t(r,l){return l.type!=="style"?r:i(r)}function n(r,l){return a0(l,Xo(r))||r}return{onProcessRule:e,onProcessStyle:t,onChangeValue:n}}function g5(){var e=function(i,t){return i.length===t.length?i>t?1:-1:i.length-t.length};return{onProcessStyle:function(i,t){if(t.type!=="style")return i;for(var n={},r=Object.keys(i).sort(e),l=0;l<r.length;l++)n[r[l]]=i[r[l]];return n}}}function v5(){return{plugins:[E4(),R4(),A4(),L4(),j4(),typeof window>"u"?null:m5(),g5()]}}function Jm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.baseClasses,t=e.newClasses;if(e.Component,!t)return i;var n=Ce({},i);return Object.keys(t).forEach(function(r){t[r]&&(n[r]="".concat(i[r]," ").concat(t[r]))}),n}var $s={set:function(e,i,t,n){var r=e.get(i);r||(r=new Map,e.set(i,r)),r.set(t,n)},get:function(e,i,t){var n=e.get(i);return n?n.get(t):void 0},delete:function(e,i,t){var n=e.get(i);n.delete(t)}},kT=vt.createContext(null);function os(){var e=vt.useContext(kT);return e}var y5=mT(v5()),b5=B3(),w5=new Map,x5={disableGeneration:!1,generateClassName:b5,jss:y5,sheetsCache:null,sheetsManager:w5,sheetsRegistry:null},S5=vt.createContext(x5),l0=-1e9;function E5(){return l0+=1,l0}var T5={};function k5(e){var i=typeof e=="function";return{create:function(t,n){var r;try{r=i?e(t):e}catch(d){throw d}if(!n||!t.overrides||!t.overrides[n])return r;var l=t.overrides[n],h=Ce({},r);return Object.keys(l).forEach(function(d){h[d]=Zo(h[d],l[d])}),h},options:{}}}function C5(e,i,t){var n=e.state,r=e.stylesOptions;if(r.disableGeneration)return i||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});var l=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,l=!0),i!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=i,l=!0),l&&(n.cacheClasses.value=Jm({baseClasses:n.cacheClasses.lastJSS,newClasses:i,Component:t})),n.cacheClasses.value}function P5(e,i){var t=e.state,n=e.theme,r=e.stylesOptions,l=e.stylesCreator,h=e.name;if(!r.disableGeneration){var d=$s.get(r.sheetsManager,l,n);d||(d={refs:0,staticSheet:null,dynamicStyles:null},$s.set(r.sheetsManager,l,n,d));var p=Ce({},l.options,r,{theme:n,flip:typeof r.flip=="boolean"?r.flip:n.direction==="rtl"});p.generateId=p.serverGenerateClassName||p.generateClassName;var f=r.sheetsRegistry;if(d.refs===0){var g;r.sheetsCache&&(g=$s.get(r.sheetsCache,l,n));var y=l.create(n,h);g||(g=r.jss.createStyleSheet(y,Ce({link:!1},p)),g.attach(),r.sheetsCache&&$s.set(r.sheetsCache,l,n,g)),f&&f.add(g),d.staticSheet=g,d.dynamicStyles=gT(y)}if(d.dynamicStyles){var S=r.jss.createStyleSheet(d.dynamicStyles,Ce({link:!0},p));S.update(i),S.attach(),t.dynamicSheet=S,t.classes=Jm({baseClasses:d.staticSheet.classes,newClasses:S.classes}),f&&f.add(S)}else t.classes=d.staticSheet.classes;d.refs+=1}}function _5(e,i){var t=e.state;t.dynamicSheet&&t.dynamicSheet.update(i)}function R5(e){var i=e.state,t=e.theme,n=e.stylesOptions,r=e.stylesCreator;if(!n.disableGeneration){var l=$s.get(n.sheetsManager,r,t);l.refs-=1;var h=n.sheetsRegistry;l.refs===0&&($s.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(l.staticSheet),h&&h.remove(l.staticSheet)),i.dynamicSheet&&(n.jss.removeStyleSheet(i.dynamicSheet),h&&h.remove(i.dynamicSheet))}}function O5(e,i){var t=vt.useRef([]),n,r=vt.useMemo(function(){return{}},i);t.current!==r&&(t.current=r,n=e()),vt.useEffect(function(){return function(){n&&n()}},[r])}function CT(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=i.name,n=i.classNamePrefix,r=i.Component,l=i.defaultTheme,h=l===void 0?T5:l,d=At(i,["name","classNamePrefix","Component","defaultTheme"]),p=k5(e),f=t||n||"makeStyles";p.options={index:E5(),name:t,meta:f,classNamePrefix:f};var g=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=os()||h,k=Ce({},vt.useContext(S5),d),C=vt.useRef(),P=vt.useRef();O5(function(){var D={name:t,state:{},stylesCreator:p,stylesOptions:k,theme:S};return P5(D,y),P.current=!1,C.current=D,function(){R5(D)}},[S,p]),vt.useEffect(function(){P.current&&_5(C.current,y),P.current=!0});var _=C5(C.current,y.classes,r);return _};return g}function D5(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function PT(e){var i,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(i=0;i<e.length;i++)e[i]&&(t=PT(e[i]))&&(n&&(n+=" "),n+=t);else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function jt(){for(var e,i,t=0,n="";t<arguments.length;)(e=arguments[t++])&&(i=PT(e))&&(n&&(n+=" "),n+=i);return n}var _T={exports:{}},bn={},u0;function A5(){if(u0)return bn;u0=1;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=typeof Symbol=="function"&&Symbol.for,i=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,h=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,p=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,S=e?Symbol.for("react.suspense_list"):60120,k=e?Symbol.for("react.memo"):60115,C=e?Symbol.for("react.lazy"):60116,P=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,D=e?Symbol.for("react.responder"):60118,q=e?Symbol.for("react.scope"):60119;function G(K){if(typeof K=="object"&&K!==null){var Y=K.$$typeof;switch(Y){case i:switch(K=K.type,K){case p:case f:case n:case l:case r:case y:return K;default:switch(K=K&&K.$$typeof,K){case d:case g:case C:case k:case h:return K;default:return Y}}case t:return Y}}}function ne(K){return G(K)===f}return bn.AsyncMode=p,bn.ConcurrentMode=f,bn.ContextConsumer=d,bn.ContextProvider=h,bn.Element=i,bn.ForwardRef=g,bn.Fragment=n,bn.Lazy=C,bn.Memo=k,bn.Portal=t,bn.Profiler=l,bn.StrictMode=r,bn.Suspense=y,bn.isAsyncMode=function(K){return ne(K)||G(K)===p},bn.isConcurrentMode=ne,bn.isContextConsumer=function(K){return G(K)===d},bn.isContextProvider=function(K){return G(K)===h},bn.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===i},bn.isForwardRef=function(K){return G(K)===g},bn.isFragment=function(K){return G(K)===n},bn.isLazy=function(K){return G(K)===C},bn.isMemo=function(K){return G(K)===k},bn.isPortal=function(K){return G(K)===t},bn.isProfiler=function(K){return G(K)===l},bn.isStrictMode=function(K){return G(K)===r},bn.isSuspense=function(K){return G(K)===y},bn.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===n||K===f||K===l||K===r||K===y||K===S||typeof K=="object"&&K!==null&&(K.$$typeof===C||K.$$typeof===k||K.$$typeof===h||K.$$typeof===d||K.$$typeof===g||K.$$typeof===_||K.$$typeof===D||K.$$typeof===q||K.$$typeof===P)},bn.typeOf=G,bn}_T.exports=A5();var I5=_T.exports,$m=I5,M5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qm={};Qm[$m.ForwardRef]=L5;Qm[$m.Memo]=RT;function c0(e){return $m.isMemo(e)?RT:Qm[e.$$typeof]||M5}var B5=Object.defineProperty,N5=Object.getOwnPropertyNames,d0=Object.getOwnPropertySymbols,j5=Object.getOwnPropertyDescriptor,H5=Object.getPrototypeOf,h0=Object.prototype;function OT(e,i,t){if(typeof i!="string"){if(h0){var n=H5(i);n&&n!==h0&&OT(e,n,t)}var r=N5(i);d0&&(r=r.concat(d0(i)));for(var l=c0(e),h=c0(i),d=0;d<r.length;++d){var p=r[d];if(!z5[p]&&!(t&&t[p])&&!(h&&h[p])&&!(l&&l[p])){var f=j5(i,p);try{B5(e,p,f)}catch{}}}}return e}var F5=OT;const kl=Sr(F5);function V5(e,i){var t={};return Object.keys(e).forEach(function(n){i.indexOf(n)===-1&&(t[n]=e[n])}),t}function U5(e){var i=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.name,l=At(n,["name"]),h=r,d=typeof t=="function"?function(y){return{root:function(S){return t(Ce({theme:y},S))}}}:{root:t},p=CT(d,Ce({Component:e,name:r||e.displayName,classNamePrefix:h},l)),f;t.filterProps&&(f=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var g=vt.forwardRef(function(y,S){var k=y.children,C=y.className,P=y.clone,_=y.component,D=At(y,["children","className","clone","component"]),q=p(y),G=jt(q.root,C),ne=D;if(f&&(ne=V5(ne,f)),P)return vt.cloneElement(k,Ce({className:jt(k.props.className,G)},ne));if(typeof k=="function")return k(Ce({className:G},ne));var K=_||e;return vt.createElement(K,Ce({ref:S,className:G},ne),k)});return kl(g,e),g};return i}function W5(e,i){if(typeof i=="function"){var t=i(e);return t}return Ce({},e,i)}function G5(e){var i=e.children,t=e.theme,n=os(),r=vt.useMemo(function(){var l=n===null?t:W5(n,t);return l!=null&&(l[cT]=n!==null),l},[t,n]);return vt.createElement(kT.Provider,{value:r},i)}var q5=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){var n=i.defaultTheme,r=i.withTheme,l=r===void 0?!1:r,h=i.name,d=At(i,["defaultTheme","withTheme","name"]),p=h,f=CT(e,Ce({defaultTheme:n,Component:t,name:h||t.displayName,classNamePrefix:p},d)),g=vt.forwardRef(function(y,S){y.classes;var k=y.innerRef,C=At(y,["classes","innerRef"]),P=f(Ce({},t.defaultProps,y)),_,D=C;return(typeof h=="string"||l)&&(_=os()||n,h&&(D=Qc({theme:_,name:h,props:C})),l&&!D.theme&&(D.theme=_)),vt.createElement(t,Ce({ref:k||S,classes:P},D))});return kl(g,t),g}},eg=uT(),X5=function(e){var i=U5(e);return function(t,n){return i(t,Ce({defaultTheme:eg},n))}};function pa(){var e=os()||eg;return e}function vn(e,i){return q5(e,Ce({defaultTheme:eg},i))}function Y5(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=os(),n=Qc({theme:t,name:"MuiUseMediaQuery",props:{}}),r=typeof e=="function"?e(t):e;r=r.replace(/^@media( ?)/m,"");var l=typeof window<"u"&&typeof window.matchMedia<"u",h=Ce({},n,i),d=h.defaultMatches,p=d===void 0?!1:d,f=h.matchMedia,g=f===void 0?l?window.matchMedia:null:f,y=h.noSsr,S=y===void 0?!1:y,k=h.ssrMatchMedia,C=k===void 0?null:k,P=z.useState(function(){return S&&l?g(r).matches:C?C(r).matches:p}),_=P[0],D=P[1];return z.useEffect(function(){var q=!0;if(l){var G=g(r),ne=function(){q&&D(G.matches)};return ne(),G.addListener(ne),function(){q=!1,G.removeListener(ne)}}},[r,g,l]),_}var K5=function(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t?$i.indexOf(e)<=$i.indexOf(i):$i.indexOf(e)<$i.indexOf(i)},Z5=typeof window>"u"?z.useEffect:z.useLayoutEffect,DT=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(i){var t=e.withTheme,n=t===void 0?!1:t,r=e.noSSR,l=r===void 0?!1:r,h=e.initialWidth;function d(p){var f=pa(),g=p.theme||f,y=Qc({theme:g,name:"MuiWithWidth",props:Ce({},p)}),S=y.initialWidth,k=y.width,C=At(y,["initialWidth","width"]),P=z.useState(!1),_=P[0],D=P[1];Z5(function(){D(!0)},[]);var q=g.breakpoints.keys.slice().reverse(),G=q.reduce(function(K,Y){var se=Y5(g.breakpoints.up(Y));return!K&&se?Y:K},null),ne=Ce({width:k||(_||l?G:void 0)||S||h},n?{theme:g}:{},C);return ne.width===void 0?null:z.createElement(i,ne)}return kl(d,i),d}},Qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qs||(Qs={}));var p0=function(e){return e},f0="beforeunload",J5="popstate";function $5(e){e===void 0&&(e={});var i=e,t=i.window,n=t===void 0?document.defaultView:t,r=n.history;function l(){var se=n.location,ue=se.pathname,he=se.search,le=se.hash,ye=r.state||{};return[ye.idx,p0({pathname:ue,search:he,hash:le,state:ye.usr||null,key:ye.key||"default"})]}var h=null;function d(){if(h)k.call(h),h=null;else{var se=Qs.Pop,ue=l(),he=ue[0],le=ue[1];if(k.length){if(he!=null){var ye=g-he;ye&&(h={action:se,location:le,retry:function(){K(ye*-1)}},K(ye))}}else q(se)}}n.addEventListener(J5,d);var p=Qs.Pop,f=l(),g=f[0],y=f[1],S=g0(),k=g0();g==null&&(g=0,r.replaceState(Ce({},r.state,{idx:g}),""));function C(se){return typeof se=="string"?se:eB(se)}function P(se,ue){return ue===void 0&&(ue=null),p0(Ce({pathname:y.pathname,hash:"",search:""},typeof se=="string"?tB(se):se,{state:ue,key:Q5()}))}function _(se,ue){return[{usr:se.state,key:se.key,idx:ue},C(se)]}function D(se,ue,he){return!k.length||(k.call({action:se,location:ue,retry:he}),!1)}function q(se){p=se;var ue=l();g=ue[0],y=ue[1],S.call({action:p,location:y})}function G(se,ue){var he=Qs.Push,le=P(se,ue);function ye(){G(se,ue)}if(D(he,le,ye)){var fe=_(le,g+1),we=fe[0],Ie=fe[1];try{r.pushState(we,"",Ie)}catch{n.location.assign(Ie)}q(he)}}function ne(se,ue){var he=Qs.Replace,le=P(se,ue);function ye(){ne(se,ue)}if(D(he,le,ye)){var fe=_(le,g),we=fe[0],Ie=fe[1];r.replaceState(we,"",Ie),q(he)}}function K(se){r.go(se)}var Y={get action(){return p},get location(){return y},createHref:C,push:G,replace:ne,go:K,back:function(){K(-1)},forward:function(){K(1)},listen:function(se){return S.push(se)},block:function(se){var ue=k.push(se);return k.length===1&&n.addEventListener(f0,m0),function(){ue(),k.length||n.removeEventListener(f0,m0)}}};return Y}function m0(e){e.preventDefault(),e.returnValue=""}function g0(){var e=[];return{get length(){return e.length},push:function(i){return e.push(i),function(){e=e.filter(function(t){return t!==i})}},call:function(i){e.forEach(function(t){return t&&t(i)})}}}function Q5(){return Math.random().toString(36).substr(2,8)}function eB(e){var i=e.pathname,t=i===void 0?"/":i,n=e.search,r=n===void 0?"":n,l=e.hash,h=l===void 0?"":l;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),h&&h!=="#"&&(t+=h.charAt(0)==="#"?h:"#"+h),t}function tB(e){var i={};if(e){var t=e.indexOf("#");t>=0&&(i.hash=e.substr(t),e=e.substr(0,t));var n=e.indexOf("?");n>=0&&(i.search=e.substr(n),e=e.substr(0,n)),e&&(i.pathname=e)}return i}var AT={exports:{}},df={},v0;function nB(){if(v0)return df;v0=1;/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=vt;function i(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var t=typeof Object.is=="function"?Object.is:i,n=e.useState,r=e.useEffect,l=e.useLayoutEffect,h=e.useDebugValue;function d(y,S){var k=S(),C=n({inst:{value:k,getSnapshot:S}}),P=C[0].inst,_=C[1];return l(function(){P.value=k,P.getSnapshot=S,p(P)&&_({inst:P})},[y,k,S]),r(function(){return p(P)&&_({inst:P}),y(function(){p(P)&&_({inst:P})})},[y]),h(k),k}function p(y){var S=y.getSnapshot;y=y.value;try{var k=S();return!t(y,k)}catch{return!0}}function f(y,S){return S()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return df.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,df}AT.exports=nB();var IT=AT.exports,hf={},y0;function iB(){if(y0)return hf;y0=1;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=vt,i=IT;function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=i.useSyncExternalStore,l=e.useRef,h=e.useEffect,d=e.useMemo,p=e.useDebugValue;return hf.useSyncExternalStoreWithSelector=function(f,g,y,S,k){var C=l(null);if(C.current===null){var P={hasValue:!1,value:null};C.current=P}else P=C.current;C=d(function(){function D(Y){if(!q){if(q=!0,G=Y,Y=S(Y),k!==void 0&&P.hasValue){var se=P.value;if(k(se,Y))return ne=se}return ne=Y}if(se=ne,n(G,Y))return se;var ue=S(Y);return k!==void 0&&k(se,ue)?se:(G=Y,ne=ue)}var q=!1,G,ne,K=y===void 0?null:y;return[function(){return D(g())},K===null?void 0:function(){return D(K())}]},[g,y,S,k]);var _=r(f,C[0],C[1]);return h(function(){P.hasValue=!0,P.value=_},[_]),p(_),_},hf}iB();function rB(e){e()}let MT=rB;const oB=e=>MT=e,sB=()=>MT,zT=z.createContext(null),aB=()=>{throw new Error("uSES not initialized!")};var LT={exports:{}},wn={},b0;function lB(){if(b0)return wn;b0=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),i=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),C;C=Symbol.for("react.module.reference");function P(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case e:switch(_=_.type,_){case t:case r:case n:case f:case g:return _;default:switch(_=_&&_.$$typeof,_){case d:case h:case p:case S:case y:case l:return _;default:return D}}case i:return D}}}return wn.ContextConsumer=h,wn.ContextProvider=l,wn.Element=e,wn.ForwardRef=p,wn.Fragment=t,wn.Lazy=S,wn.Memo=y,wn.Portal=i,wn.Profiler=r,wn.StrictMode=n,wn.Suspense=f,wn.SuspenseList=g,wn.isAsyncMode=function(){return!1},wn.isConcurrentMode=function(){return!1},wn.isContextConsumer=function(_){return P(_)===h},wn.isContextProvider=function(_){return P(_)===l},wn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},wn.isForwardRef=function(_){return P(_)===p},wn.isFragment=function(_){return P(_)===t},wn.isLazy=function(_){return P(_)===S},wn.isMemo=function(_){return P(_)===y},wn.isPortal=function(_){return P(_)===i},wn.isProfiler=function(_){return P(_)===r},wn.isStrictMode=function(_){return P(_)===n},wn.isSuspense=function(_){return P(_)===f},wn.isSuspenseList=function(_){return P(_)===g},wn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===t||_===r||_===n||_===f||_===g||_===k||typeof _=="object"&&_!==null&&(_.$$typeof===S||_.$$typeof===y||_.$$typeof===l||_.$$typeof===h||_.$$typeof===p||_.$$typeof===C||_.getModuleId!==void 0)},wn.typeOf=P,wn}LT.exports=lB();var uB=LT.exports;const cB=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function dB(e,i,t,n,{areStatesEqual:r,areOwnPropsEqual:l,areStatePropsEqual:h}){let d=!1,p,f,g,y,S;function k(q,G){return p=q,f=G,g=e(p,f),y=i(n,f),S=t(g,y,f),d=!0,S}function C(){return g=e(p,f),i.dependsOnOwnProps&&(y=i(n,f)),S=t(g,y,f),S}function P(){return e.dependsOnOwnProps&&(g=e(p,f)),i.dependsOnOwnProps&&(y=i(n,f)),S=t(g,y,f),S}function _(){const q=e(p,f),G=!h(q,g);return g=q,G&&(S=t(g,y,f)),S}function D(q,G){const ne=!l(G,f),K=!r(q,p,G,f);return p=q,f=G,ne&&K?C():ne?P():K?_():S}return function(q,G){return d?D(q,G):k(q,G)}}function hB(e,i){let{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r}=i,l=is(i,cB);const h=t(e,l),d=n(e,l),p=r(e,l);return dB(h,d,p,e,l)}function BT(e){return function(i){const t=e(i);function n(){return t}return n.dependsOnOwnProps=!1,n}}function w0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function pB(e,i){return function(t,{displayName:n}){const r=function(l,h){return r.dependsOnOwnProps?r.mapToProps(l,h):r.mapToProps(l,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(l,h){r.mapToProps=e,r.dependsOnOwnProps=w0(e);let d=r(l,h);return typeof d=="function"&&(r.mapToProps=d,r.dependsOnOwnProps=w0(d),d=r(l,h)),d},r}}function fB(e,i){return(t,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${i} argument when connecting component ${n.wrappedComponentName}.`)}}function mB(e){return BT(i=>({dispatch:i}))}function gB(e){return e?typeof e=="function"?pB(e):fB(e,"mapStateToProps"):BT(()=>({}))}function vB(e,i,t){return Ce({},t,e,i)}function yB(e){return()=>vB}function bB(){const e=sB();let i=null,t=null;return{clear(){i=null,t=null},notify(){e(()=>{let n=i;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=i;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:i=l,function(){!r||i===null||(r=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:i=l.next)}}}}const x0={notify(){},get:()=>[]};function NT(e,i){let t,n=x0;function r(y){return p(),n.subscribe(y)}function l(){n.notify()}function h(){g.onStateChange&&g.onStateChange()}function d(){return!!t}function p(){t||(t=i?i.addNestedSub(h):e.subscribe(h),n=bB())}function f(){t&&(t(),t=void 0,n.clear(),n=x0)}const g={addNestedSub:r,notifyNestedSubs:l,handleChangeWrapper:h,isSubscribed:d,trySubscribe:p,tryUnsubscribe:f,getListeners:()=>n};return g}const wB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nc=wB?z.useLayoutEffect:z.useEffect;function S0(e,i){return e===i?e!==0||i!==0||1/e===1/i:e!==e&&i!==i}function pf(e,i){if(S0(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;const t=Object.keys(e),n=Object.keys(i);if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(i,t[r])||!S0(e[t[r]],i[t[r]]))return!1;return!0}const xB=["reactReduxForwardedRef"];let jT=aB;const SB=e=>{jT=e},EB=[null,null];function TB(e,i,t){Nc(()=>e(...i),t)}function kB(e,i,t,n,r,l){e.current=n,t.current=!1,r.current&&(r.current=null,l())}function CB(e,i,t,n,r,l,h,d,p,f,g){if(!e)return()=>{};let y=!1,S=null;const k=()=>{if(y||!d.current)return;const C=i.getState();let P,_;try{P=n(C,r.current)}catch(D){_=D,S=D}_||(S=null),P===l.current?h.current||f():(l.current=P,p.current=P,h.current=!0,g())};return t.onStateChange=k,t.trySubscribe(),k(),()=>{if(y=!0,t.tryUnsubscribe(),t.onStateChange=null,S)throw S}}function PB(e,i){return e===i}function qi(e,i,t,{pure:n,areStatesEqual:r=PB,areOwnPropsEqual:l=pf,areStatePropsEqual:h=pf,areMergedPropsEqual:d=pf,forwardRef:p=!1,context:f=zT}={}){const g=f,y=gB(e),S=mB(),k=yB(),C=!!e;return P=>{const _=P.displayName||P.name||"Component",D=`Connect(${_})`,q={shouldHandleStateChanges:C,displayName:D,wrappedComponentName:_,WrappedComponent:P,initMapStateToProps:y,initMapDispatchToProps:S,initMergeProps:k,areStatesEqual:r,areStatePropsEqual:h,areOwnPropsEqual:l,areMergedPropsEqual:d};function G(K){const[Y,se,ue]=z.useMemo(()=>{const{reactReduxForwardedRef:Tt}=K,rt=is(K,xB);return[K.context,Tt,rt]},[K]),he=z.useMemo(()=>Y&&Y.Consumer&&uB.isContextConsumer(vt.createElement(Y.Consumer,null))?Y:g,[Y,g]),le=z.useContext(he),ye=!!K.store&&!!K.store.getState&&!!K.store.dispatch,fe=!!le&&!!le.store,we=ye?K.store:le.store,Ie=fe?le.getServerState:we.getState,je=z.useMemo(()=>hB(we.dispatch,q),[we]),[Se,ge]=z.useMemo(()=>{if(!C)return EB;const Tt=NT(we,ye?void 0:le.subscription),rt=Tt.notifyNestedSubs.bind(Tt);return[Tt,rt]},[we,ye,le]),Re=z.useMemo(()=>ye?le:Ce({},le,{subscription:Se}),[ye,le,Se]),_e=z.useRef(),J=z.useRef(ue),ze=z.useRef(),st=z.useRef(!1);z.useRef(!1);const ee=z.useRef(!1),kt=z.useRef();Nc(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const tt=z.useMemo(()=>()=>ze.current&&ue===J.current?ze.current:je(we.getState(),ue),[we,ue]),at=z.useMemo(()=>Tt=>Se?CB(C,we,Se,je,J,_e,st,ee,ze,ge,Tt):()=>{},[Se]);TB(kB,[J,_e,st,ue,ze,ge]);let yt;try{yt=jT(at,tt,Ie?()=>je(Ie(),ue):tt)}catch(Tt){throw kt.current&&(Tt.message+=`
The error may be correlated with this previous error:
${kt.current.stack}

`),Tt}Nc(()=>{kt.current=void 0,ze.current=void 0,_e.current=yt});const Ot=z.useMemo(()=>vt.createElement(P,Ce({},yt,{ref:se})),[se,P,yt]);return z.useMemo(()=>C?vt.createElement(he.Provider,{value:Re},Ot):Ot,[he,Ot,Re])}const ne=vt.memo(G);if(ne.WrappedComponent=P,ne.displayName=G.displayName=D,p){const K=vt.forwardRef(function(Y,se){return vt.createElement(ne,Ce({},Y,{reactReduxForwardedRef:se}))});return K.displayName=D,K.WrappedComponent=P,kl(K,P)}return kl(ne,P)}}function _B({store:e,context:i,children:t,serverState:n}){const r=z.useMemo(()=>{const d=NT(e);return{store:e,subscription:d,getServerState:n?()=>n:void 0}},[e,n]),l=z.useMemo(()=>e.getState(),[e]);Nc(()=>{const{subscription:d}=r;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[r,l]);const h=i||zT;return vt.createElement(h.Provider,{value:r},t)}SB(IT.useSyncExternalStore);oB(cr.unstable_batchedUpdates);/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cl.apply(this,arguments)}var io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(io||(io={}));const E0="popstate";function RB(e){e===void 0&&(e={});function i(r,l){let{pathname:h="/",search:d="",hash:p=""}=ss(r.location.hash.substr(1));return hm("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){let h=r.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=r.location.href,f=p.indexOf("#");d=f===-1?p:p.slice(0,f)}return d+"#"+(typeof l=="string"?l:HT(l))}function n(r,l){nd(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return DB(i,t,n,e)}function Yn(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function nd(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function OB(){return Math.random().toString(36).substr(2,8)}function T0(e,i){return{usr:e.state,key:e.key,idx:i}}function hm(e,i,t,n){return t===void 0&&(t=null),Cl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?ss(i):i,{state:t,key:i&&i.key||n||OB()})}function HT(e){let{pathname:i="/",search:t="",hash:n=""}=e;return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ss(e){let i={};if(e){let t=e.indexOf("#");t>=0&&(i.hash=e.substr(t),e=e.substr(0,t));let n=e.indexOf("?");n>=0&&(i.search=e.substr(n),e=e.substr(0,n)),e&&(i.pathname=e)}return i}function DB(e,i,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,h=r.history,d=io.Pop,p=null,f=g();f==null&&(f=0,h.replaceState(Cl({},h.state,{idx:f}),""));function g(){return(h.state||{idx:null}).idx}function y(){d=io.Pop;let _=g(),D=_==null?null:_-f;f=_,p&&p({action:d,location:P.location,delta:D})}function S(_,D){d=io.Push;let q=hm(P.location,_,D);t&&t(q,_),f=g()+1;let G=T0(q,f),ne=P.createHref(q);try{h.pushState(G,"",ne)}catch{r.location.assign(ne)}l&&p&&p({action:d,location:P.location,delta:1})}function k(_,D){d=io.Replace;let q=hm(P.location,_,D);t&&t(q,_),f=g();let G=T0(q,f),ne=P.createHref(q);h.replaceState(G,"",ne),l&&p&&p({action:d,location:P.location,delta:0})}function C(_){let D=r.location.origin!=="null"?r.location.origin:r.location.href,q=typeof _=="string"?_:HT(_);return Yn(D,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,D)}let P={get action(){return d},get location(){return e(r,h)},listen(_){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(E0,y),p=_,()=>{r.removeEventListener(E0,y),p=null}},createHref(_){return i(r,_)},createURL:C,encodeLocation(_){let D=C(_);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:k,go(_){return h.go(_)}};return P}var k0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k0||(k0={}));function AB(e,i,t){t===void 0&&(t="/");let n=typeof i=="string"?ss(i):i,r=UT(n.pathname||"/",t);if(r==null)return null;let l=FT(e);IB(l);let h=null;for(let d=0;h==null&&d<l.length;++d)h=VB(l[d],GB(r));return h}function FT(e,i,t,n){i===void 0&&(i=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Yn(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let f=Yo([n,p.relativePath]),g=t.concat(p);l.children&&l.children.length>0&&(Yn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),FT(l.children,i,g,f)),!(l.path==null&&!l.index)&&i.push({path:f,score:HB(f,l.index),routesMeta:g})};return e.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,h);else for(let p of VT(l.path))r(l,h,p)}),i}function VT(e){let i=e.split("/");if(i.length===0)return[];let[t,...n]=i,r=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let h=VT(n.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),r&&d.push(...h),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function IB(e){e.sort((i,t)=>i.score!==t.score?t.score-i.score:FB(i.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const MB=/^:\w+$/,zB=3,LB=2,BB=1,NB=10,jB=-2,C0=e=>e==="*";function HB(e,i){let t=e.split("/"),n=t.length;return t.some(C0)&&(n+=jB),i&&(n+=LB),t.filter(r=>!C0(r)).reduce((r,l)=>r+(MB.test(l)?zB:l===""?BB:NB),n)}function FB(e,i){return e.length===i.length&&e.slice(0,-1).every((t,n)=>t===i[n])?e[e.length-1]-i[i.length-1]:0}function VB(e,i){let{routesMeta:t}=e,n={},r="/",l=[];for(let h=0;h<t.length;++h){let d=t[h],p=h===t.length-1,f=r==="/"?i:i.slice(r.length)||"/",g=UB({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},f);if(!g)return null;Object.assign(n,g.params);let y=d.route;l.push({params:n,pathname:Yo([r,g.pathname]),pathnameBase:KB(Yo([r,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(r=Yo([r,g.pathnameBase]))}return l}function UB(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,n]=WB(e.path,e.caseSensitive,e.end),r=i.match(t);if(!r)return null;let l=r[0],h=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:n.reduce((p,f,g)=>{if(f==="*"){let y=d[g]||"";h=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}return p[f]=qB(d[g]||"",f),p},{}),pathname:l,pathnameBase:h,pattern:e}}function WB(e,i,t){i===void 0&&(i=!1),t===void 0&&(t=!0),nd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,h)=>(n.push(h),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,i?void 0:"i"),n]}function GB(e){try{return decodeURI(e)}catch(i){return nd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function qB(e,i){try{return decodeURIComponent(e)}catch(t){return nd(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),e}}function UT(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let t=i.endsWith("/")?i.length-1:i.length,n=e.charAt(t);return n&&n!=="/"?null:e.slice(t)||"/"}function XB(e,i){i===void 0&&(i="/");let{pathname:t,search:n="",hash:r=""}=typeof e=="string"?ss(e):e;return{pathname:t?t.startsWith("/")?t:YB(t,i):i,search:ZB(n),hash:JB(r)}}function YB(e,i){let t=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function ff(e,i,t,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WT(e){return e.filter((i,t)=>t===0||i.route.path&&i.route.path.length>0)}function GT(e,i,t,n){n===void 0&&(n=!1);let r;typeof e=="string"?r=ss(e):(r=Cl({},e),Yn(!r.pathname||!r.pathname.includes("?"),ff("?","pathname","search",r)),Yn(!r.pathname||!r.pathname.includes("#"),ff("#","pathname","hash",r)),Yn(!r.search||!r.search.includes("#"),ff("#","search","hash",r)));let l=e===""||r.pathname==="",h=l?"/":r.pathname,d;if(n||h==null)d=t;else{let y=i.length-1;if(h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;r.pathname=S.join("/")}d=y>=0?i[y]:"/"}let p=XB(r,d),f=h&&h!=="/"&&h.endsWith("/"),g=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}const Yo=e=>e.join("/").replace(/\/\/+/g,"/"),KB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $B(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qT=["post","put","patch","delete"];new Set(qT);const QB=["get",...qT];new Set(QB);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jc.apply(this,arguments)}const XT=z.createContext(null),eN=z.createContext(null),id=z.createContext(null),rd=z.createContext(null),ho=z.createContext({outlet:null,matches:[],isDataRoute:!1}),YT=z.createContext(null);function Dl(){return z.useContext(rd)!=null}function po(){return Dl()||Yn(!1),z.useContext(rd).location}function KT(e){z.useContext(id).static||z.useLayoutEffect(e)}function Al(){let{isDataRoute:e}=z.useContext(ho);return e?fN():tN()}function tN(){Dl()||Yn(!1);let{basename:e,navigator:i}=z.useContext(id),{matches:t}=z.useContext(ho),{pathname:n}=po(),r=JSON.stringify(WT(t).map(h=>h.pathnameBase)),l=z.useRef(!1);return KT(()=>{l.current=!0}),z.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){i.go(h);return}let p=GT(h,JSON.parse(r),n,d.relative==="path");e!=="/"&&(p.pathname=p.pathname==="/"?e:Yo([e,p.pathname])),(d.replace?i.replace:i.push)(p,d.state,d)},[e,i,r,n])}function nN(){let{matches:e}=z.useContext(ho),i=e[e.length-1];return i?i.params:{}}function iN(e,i){return rN(e,i)}function rN(e,i,t){Dl()||Yn(!1);let{navigator:n}=z.useContext(id),{matches:r}=z.useContext(ho),l=r[r.length-1],h=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=po(),f;if(i){var g;let P=typeof i=="string"?ss(i):i;d==="/"||(g=P.pathname)!=null&&g.startsWith(d)||Yn(!1),f=P}else f=p;let y=f.pathname||"/",S=d==="/"?y:y.slice(d.length)||"/",k=AB(e,{pathname:S}),C=uN(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Yo([d,n.encodeLocation?n.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Yo([d,n.encodeLocation?n.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),r,t);return i&&C?z.createElement(rd.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:io.Pop}},C):C}function oN(){let e=pN(),i=$B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},i),t?z.createElement("pre",{style:r},t):null,null)}const sN=z.createElement(oN,null);class aN extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error?z.createElement(ho.Provider,{value:this.props.routeContext},z.createElement(YT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lN(e){let{routeContext:i,match:t,children:n}=e,r=z.useContext(XT);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(ho.Provider,{value:i},n)}function uN(e,i,t){var n;if(i===void 0&&(i=[]),t===void 0&&(t=null),e==null){var r;if((r=t)!=null&&r.errors)e=t.matches;else return null}let l=e,h=(n=t)==null?void 0:n.errors;if(h!=null){let d=l.findIndex(p=>p.route.id&&h?.[p.route.id]);d>=0||Yn(!1),l=l.slice(0,Math.min(l.length,d+1))}return l.reduceRight((d,p,f)=>{let g=p.route.id?h?.[p.route.id]:null,y=null;t&&(y=p.route.errorElement||sN);let S=i.concat(l.slice(0,f+1)),k=()=>{let C;return g?C=y:p.route.Component?C=z.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,z.createElement(lN,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?z.createElement(aN,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}var pm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(pm||(pm={}));var Pl;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Pl||(Pl={}));function cN(e){let i=z.useContext(XT);return i||Yn(!1),i}function dN(e){let i=z.useContext(eN);return i||Yn(!1),i}function hN(e){let i=z.useContext(ho);return i||Yn(!1),i}function ZT(e){let i=hN(),t=i.matches[i.matches.length-1];return t.route.id||Yn(!1),t.route.id}function pN(){var e;let i=z.useContext(YT),t=dN(Pl.UseRouteError),n=ZT(Pl.UseRouteError);return i||((e=t.errors)==null?void 0:e[n])}function fN(){let{router:e}=cN(pm.UseNavigateStable),i=ZT(Pl.UseNavigateStable),t=z.useRef(!1);return KT(()=>{t.current=!0}),z.useCallback(function(n,r){r===void 0&&(r={}),t.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,jc({fromRouteId:i},r)))},[e,i])}function mN(e){let{to:i,replace:t,state:n,relative:r}=e;Dl()||Yn(!1);let{matches:l}=z.useContext(ho),{pathname:h}=po(),d=Al(),p=GT(i,WT(l).map(g=>g.pathnameBase),h,r==="path"),f=JSON.stringify(p);return z.useEffect(()=>d(JSON.parse(f),{replace:t,state:n,relative:r}),[d,f,r,t,n]),null}function jo(e){Yn(!1)}function gN(e){let{basename:i="/",children:t=null,location:n,navigationType:r=io.Pop,navigator:l,static:h=!1}=e;Dl()&&Yn(!1);let d=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:d,navigator:l,static:h}),[d,l,h]);typeof n=="string"&&(n=ss(n));let{pathname:f="/",search:g="",hash:y="",state:S=null,key:k="default"}=n,C=z.useMemo(()=>{let P=UT(f,d);return P==null?null:{location:{pathname:P,search:g,hash:y,state:S,key:k},navigationType:r}},[d,f,g,y,S,k,r]);return C==null?null:z.createElement(id.Provider,{value:p},z.createElement(rd.Provider,{children:t,value:C}))}function vN(e){let{children:i,location:t}=e;return iN(fm(i),t)}var P0;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(P0||(P0={}));new Promise(()=>{});function fm(e,i){i===void 0&&(i=[]);let t=[];return z.Children.forEach(e,(n,r)=>{if(!z.isValidElement(n))return;let l=[...i,r];if(n.type===z.Fragment){t.push.apply(t,fm(n.props.children,l));return}n.type!==jo&&Yn(!1),!n.props.index||!n.props.children||Yn(!1);let h={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(h.children=fm(n.props.children,l)),t.push(h)}),t}function $o(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((i,t)=>{let n=e[t];return i.concat(Array.isArray(n)?n.map(r=>[t,r]):[[t,n]])},[]))}function yN(e,i){let t=$o(e);if(i)for(let n of i.keys())t.has(n)||i.getAll(n).forEach(r=>{t.append(n,r)});return t}function bN(e){let{basename:i,children:t,window:n}=e,r=z.useRef();r.current==null&&(r.current=RB({window:n,v5Compat:!0}));let l=r.current,[h,d]=z.useState({action:l.action,location:l.location});return z.useLayoutEffect(()=>l.listen(d),[l]),z.createElement(gN,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:l})}var _0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(_0||(_0={}));var R0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(R0||(R0={}));function tg(e){let i=z.useRef($o(e)),t=z.useRef(!1),n=po(),r=z.useMemo(()=>yN(n.search,t.current?null:i.current),[n.search]),l=Al(),h=z.useCallback((d,p)=>{const f=$o(typeof d=="function"?d(r):d);t.current=!0,l("?"+f,p)},[l,r]);return[r,h]}const od=z.createContext({tagsLeft:[],tagsRight:[],toggleTag:()=>null,clearTags:()=>null});function nl(e){return e&&e!=="null"?e.split(","):[]}function wN(e){const[i]=tg(),t=po(),n=Al(),[r,l]=z.useState(nl(i.get("tagsLeft"))),[h,d]=z.useState(nl(i.get("tagsRight"))),p=i.get("tagsLeft"),f=i.get("tagsRight");z.useEffect(()=>{const y=nl(p);l(y)},[p]),z.useEffect(()=>{const y=nl(f);d(y)},[f]);const g=z.useMemo(()=>({tagsLeft:r,tagsRight:h,toggleTag:(y,S)=>{const k=S==="right"?h:r,C=S==="right"?f:p,P=S==="right"?d:l;if(k.includes(y)){const _=nl(C).filter(D=>D!==y);i.set(`tags${S==="right"?"Right":"Left"}`,_.join(",")),P(_),n(`${t.pathname}?${$o(i.toString())}`)}else i.set(`tags${S==="right"?"Right":"Left"}`,`${C},${y}`),P([...k,y]),n(`${t.pathname}?${$o(i.toString())}`)},clearTags:()=>{d([]),l([])}}),[t.pathname,n,i,p,f,r,h]);return U.jsx(od.Provider,{value:g,children:e.children})}function O0(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function D0(e){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?O0(Object(t),!0).forEach(function(n){qo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O0(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function vi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var A0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Hc={INIT:"@@redux/INIT"+mf(),REPLACE:"@@redux/REPLACE"+mf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mf()}};function xN(e){if(typeof e!="object"||e===null)return!1;for(var i=e;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(e)===i}function JT(e,i,t){var n;if(typeof i=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof i=="function"&&typeof t>"u"&&(t=i,i=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(vi(1));return t(JT)(e,i)}if(typeof e!="function")throw new Error(vi(2));var r=e,l=i,h=[],d=h,p=!1;function f(){d===h&&(d=h.slice())}function g(){if(p)throw new Error(vi(3));return l}function y(P){if(typeof P!="function")throw new Error(vi(4));if(p)throw new Error(vi(5));var _=!0;return f(),d.push(P),function(){if(_){if(p)throw new Error(vi(6));_=!1,f();var D=d.indexOf(P);d.splice(D,1),h=null}}}function S(P){if(!xN(P))throw new Error(vi(7));if(typeof P.type>"u")throw new Error(vi(8));if(p)throw new Error(vi(9));try{p=!0,l=r(l,P)}finally{p=!1}for(var _=h=d,D=0;D<_.length;D++){var q=_[D];q()}return P}function k(P){if(typeof P!="function")throw new Error(vi(10));r=P,S({type:Hc.REPLACE})}function C(){var P,_=y;return P={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(vi(11));function q(){D.next&&D.next(g())}q();var G=_(q);return{unsubscribe:G}}},P[A0]=function(){return this},P}return S({type:Hc.INIT}),n={dispatch:S,subscribe:y,getState:g,replaceReducer:k},n[A0]=C,n}function SN(e){Object.keys(e).forEach(function(i){var t=e[i],n=t(void 0,{type:Hc.INIT});if(typeof n>"u")throw new Error(vi(12));if(typeof t(void 0,{type:Hc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vi(13))})}function EN(e){for(var i=Object.keys(e),t={},n=0;n<i.length;n++){var r=i[n];typeof e[r]=="function"&&(t[r]=e[r])}var l=Object.keys(t),h;try{SN(t)}catch(d){h=d}return function(d,p){if(d===void 0&&(d={}),h)throw h;for(var f=!1,g={},y=0;y<l.length;y++){var S=l[y],k=t[S],C=d[S],P=k(C,p);if(typeof P>"u")throw p&&p.type,new Error(vi(14));g[S]=P,f=f||P!==C}return f=f||l.length!==Object.keys(d).length,f?g:d}}function $T(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return i.length===0?function(n){return n}:i.length===1?i[0]:i.reduce(function(n,r){return function(){return n(r.apply(void 0,arguments))}})}function TN(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return function(n){return function(){var r=n.apply(void 0,arguments),l=function(){throw new Error(vi(15))},h={getState:r.getState,dispatch:function(){return l.apply(void 0,arguments)}},d=i.map(function(p){return p(h)});return l=$T.apply(void 0,d)(r.dispatch),D0(D0({},r),{},{dispatch:l})}}}var dr=function(e){return"@@redux-saga/"+e},kN=dr("CANCEL_PROMISE"),QT=dr("CHANNEL_END"),e1=dr("IO"),I0=dr("MATCH"),t1=dr("MULTICAST"),n1=dr("SAGA_ACTION"),CN=dr("SELF_CANCELLATION"),PN=dr("TASK"),na=dr("TASK_CANCEL"),i1=dr("TERMINATE"),_N=dr("LOCATION"),r1=function(e){return e==null},Oc=function(e){return e!=null},Mi=function(e){return typeof e=="function"},ng=function(e){return typeof e=="string"},fo=Array.isArray,sd=function(e){return e&&Mi(e.then)},ig=function(e){return e&&Mi(e.next)&&Mi(e.throw)},M0=function e(i){return i&&(ng(i)||s1(i)||Mi(i)||fo(i)&&i.every(e))},rg=function(e){return e&&Mi(e.take)&&Mi(e.close)},o1=function(e){return Mi(e)&&e.hasOwnProperty("toString")},s1=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},RN=function(e){return rg(e)&&e[t1]},ON=function(e){return function(){return e}},DN=ON(!0),Ei=function(){},a1=function(e){return e},og=function(e,i){Ce(e,i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(i).forEach(function(t){e[t]=i[t]})},AN=function(e,i){var t;return(t=[]).concat.apply(t,i.map(e))};function ad(e,i){var t=e.indexOf(i);t>=0&&e.splice(t,1)}function IN(e){var i=!1;return function(){i||(i=!0,e())}}var MN=function(e){throw e},zN=function(e){return{value:e,done:!0}};function mm(e,i,t){i===void 0&&(i=MN),t===void 0&&(t="iterator");var n={meta:{name:t},next:e,throw:i,return:zN,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function LN(e,i){var t=i.sagaStack;console.error(e),console.error(t)}var l1=function(e){return Array.apply(null,new Array(e))},BN=function(e){return function(i){return e(Object.defineProperty(i,n1,{value:!0}))}},u1=function(e){return e===i1},c1=function(e){return e===na},d1=function(e){return u1(e)||c1(e)};function h1(e,i){var t=Object.keys(e),n=t.length,r=0,l,h=fo(e)?l1(n):{},d={};function p(){r===n&&(l=!0,i(h))}return t.forEach(function(f){var g=function(y,S){l||(S||d1(y)?(i.cancel(),i(y,S)):(h[f]=y,r++,p()))};g.cancel=Ei,d[f]=g}),i.cancel=function(){l||(l=!0,t.forEach(function(f){return d[f].cancel()}))},d}function sg(e){return{name:e.name||"anonymous",location:p1(e)}}function p1(e){return e[_N]}var NN="Channel's Buffer overflow!",jN=1,HN=3,f1=4;function FN(e,i){e===void 0&&(e=10);var t=new Array(e),n=0,r=0,l=0,h=function(f){t[r]=f,r=(r+1)%e,n++},d=function(){if(n!=0){var f=t[l];return t[l]=null,n--,l=(l+1)%e,f}},p=function(){for(var f=[];n;)f.push(d());return f};return{isEmpty:function(){return n==0},put:function(f){if(n<e)h(f);else{var g;switch(i){case jN:throw new Error(NN);case HN:t[r]=f,r=(r+1)%e,l=r;break;case f1:g=2*e,t=p(),n=t.length,r=t.length,l=0,t.length=g,e=g,h(f);break}}},take:d,flush:p}}var VN=function(e){return FN(e,f1)},Dc="TAKE",m1="PUT",g1="ALL",UN="RACE",WN="CALL",GN="CPS",v1="FORK",qN="JOIN",XN="CANCEL",y1="SELECT",YN="ACTION_CHANNEL",KN="CANCELLED",ZN="FLUSH",JN="GET_CONTEXT",$N="SET_CONTEXT",Ko=function(e,i){var t;return t={},t[e1]=!0,t.combinator=!1,t.type=e,t.payload=i,t};function QN(e,i){if(e===void 0&&(e="*"),M0(e))return Oc(i)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Ko(Dc,{pattern:e});if(RN(e)&&Oc(i)&&M0(i))return Ko(Dc,{channel:e,pattern:i});if(rg(e))return Oc(i)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Ko(Dc,{channel:e})}function ej(e,i){return r1(i)&&(i=e,e=void 0),Ko(m1,{channel:e,action:i})}function tj(e){var i=Ko(g1,e);return i.combinator=!0,i}function nj(e,i){var t=null,n;return Mi(e)?n=e:(fo(e)?(t=e[0],n=e[1]):(t=e.context,n=e.fn),t&&ng(n)&&Mi(t[n])&&(n=t[n])),{context:t,fn:n,args:i}}function b1(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];return Ko(v1,nj(e,t))}function Il(e){e===void 0&&(e=a1);for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];return Ko(y1,{selector:e,args:t})}function ij(){var e={};return e.promise=new Promise(function(i,t){e.resolve=i,e.reject=t}),e}var w1=[],ld=0;function rj(e){try{ag(),e()}finally{E1()}}function x1(e){w1.push(e),ld||(ag(),T1())}function S1(e){try{return ag(),e()}finally{T1()}}function ag(){ld++}function E1(){ld--}function T1(){E1();for(var e;!ld&&(e=w1.shift())!==void 0;)rj(e)}var oj=function(e){return function(i){return e.some(function(t){return lg(t)(i)})}},sj=function(e){return function(i){return e(i)}},z0=function(e){return function(i){return i.type===String(e)}},aj=function(e){return function(i){return i.type===e}},k1=function(){return DN};function lg(e){var i=e==="*"?k1:ng(e)?z0:fo(e)?oj:o1(e)?z0:Mi(e)?sj:s1(e)?aj:null;if(i===null)throw new Error("invalid pattern: "+e);return i(e)}var ml={type:QT},ug=function(e){return e&&e.type===QT};function lj(e){e===void 0&&(e=VN());var i=!1,t=[];function n(d){if(!i){if(t.length===0)return e.put(d);var p=t.shift();p(d)}}function r(d){i&&e.isEmpty()?d(ml):e.isEmpty()?(t.push(d),d.cancel=function(){ad(t,d)}):d(e.take())}function l(d){if(i&&e.isEmpty()){d(ml);return}d(e.flush())}function h(){if(!i){i=!0;var d=t;t=[];for(var p=0,f=d.length;p<f;p++){var g=d[p];g(ml)}}}return{take:r,put:n,flush:l,close:h}}function uj(){var e,i=!1,t=[],n=t,r=function(){n===t&&(n=t.slice())},l=function(){i=!0;var h=t=n;n=[],h.forEach(function(d){d(ml)})};return e={},e[t1]=!0,e.put=function(h){if(!i){if(ug(h)){l();return}for(var d=t=n,p=0,f=d.length;p<f;p++){var g=d[p];g[I0](h)&&(g.cancel(),g(h))}}},e.take=function(h,d){if(d===void 0&&(d=k1),i){h(ml);return}h[I0]=d,r(),n.push(h),h.cancel=IN(function(){r(),ad(n,h)})},e.close=l,e}function C1(){var e=uj(),i=e.put;return e.put=function(t){if(t[n1]){i(t);return}x1(function(){i(t)})},e}var Uo=0,Br=1,Ac=2,P1=3;function cg(e,i){var t=e[kN];Mi(t)&&(i.cancel=t),e.then(i,function(n){i(n,!0)})}var Ml=0,_1=function(){return++Ml},hi;function cj(e,i){return e.isSagaIterator?{name:e.meta.name}:sg(i)}function dj(e){var i=e.context,t=e.fn,n=e.args;try{var r=t.apply(i,n);if(ig(r))return r;var l=!1,h=function(d){return l?{value:d,done:!0}:(l=!0,{value:r,done:!sd(r)})};return mm(h)}catch(d){return mm(function(){throw d})}}function hj(e,i,t){var n=i.channel,r=i.action,l=i.resolve;x1(function(){var h;try{h=(n?n.put:e.dispatch)(r)}catch(d){t(d,!0);return}l&&sd(h)?cg(h,t):t(h)})}function pj(e,i,t){var n=i.channel,r=n===void 0?e.channel:n,l=i.pattern,h=i.maybe,d=function(p){if(p instanceof Error){t(p,!0);return}if(ug(p)&&!h){t(i1);return}t(p)};try{r.take(d,Oc(l)?lg(l):null)}catch(p){t(p,!0);return}t.cancel=d.cancel}function fj(e,i,t,n){var r=i.context,l=i.fn,h=i.args,d=n.task;try{var p=l.apply(r,h);if(sd(p)){cg(p,t);return}if(ig(p)){ud(e,p,d.context,Ml,sg(l),!1,t);return}t(p)}catch(f){t(f,!0)}}function mj(e,i,t){var n=i.context,r=i.fn,l=i.args;try{var h=function(d,p){r1(d)?t(p):t(d,!0)};r.apply(n,l.concat(h)),h.cancel&&(t.cancel=h.cancel)}catch(d){t(d,!0)}}function gj(e,i,t,n){var r=i.context,l=i.fn,h=i.args,d=i.detached,p=n.task,f=dj({context:r,fn:l,args:h}),g=cj(f,l);S1(function(){var y=ud(e,f,p.context,Ml,g,d,void 0);d?t(y):y.isRunning()?(p.queue.addTask(y),t(y)):y.isAborted()?p.queue.abort(y.error()):t(y)})}function vj(e,i,t,n){var r=n.task,l=function(d,p){if(d.isRunning()){var f={task:r,cb:p};p.cancel=function(){d.isRunning()&&ad(d.joiners,f)},d.joiners.push(f)}else d.isAborted()?p(d.error(),!0):p(d.result())};if(fo(i)){if(i.length===0){t([]);return}var h=h1(i,t);i.forEach(function(d,p){l(d,h[p])})}else l(i,t)}function gf(e){e.isRunning()&&e.cancel()}function yj(e,i,t,n){var r=n.task;i===CN?gf(r):fo(i)?i.forEach(gf):gf(i),t()}function bj(e,i,t,n){var r=n.digestEffect,l=Ml,h=Object.keys(i);if(h.length===0){t(fo(i)?[]:{});return}var d=h1(i,t);h.forEach(function(p){r(i[p],l,d[p],p)})}function wj(e,i,t,n){var r=n.digestEffect,l=Ml,h=Object.keys(i),d=fo(i)?l1(h.length):{},p={},f=!1;h.forEach(function(g){var y=function(S,k){f||(k||d1(S)?(t.cancel(),t(S,k)):(t.cancel(),f=!0,d[g]=S,t(d)))};y.cancel=Ei,p[g]=y}),t.cancel=function(){f||(f=!0,h.forEach(function(g){return p[g].cancel()}))},h.forEach(function(g){f||r(i[g],l,p[g],g)})}function xj(e,i,t){var n=i.selector,r=i.args;try{var l=n.apply(void 0,[e.getState()].concat(r));t(l)}catch(h){t(h,!0)}}function Sj(e,i,t){var n=i.pattern,r=i.buffer,l=lj(r),h=lg(n),d=function f(g){ug(g)||e.channel.take(f,h),l.put(g)},p=l.close;l.close=function(){d.cancel(),p()},e.channel.take(d,h),t(l)}function Ej(e,i,t,n){var r=n.task;t(r.isCancelled())}function Tj(e,i,t){i.flush(t)}function kj(e,i,t,n){var r=n.task;t(r.context[i])}function Cj(e,i,t,n){var r=n.task;og(r.context,i),t()}var Pj=(hi={},hi[Dc]=pj,hi[m1]=hj,hi[g1]=bj,hi[UN]=wj,hi[WN]=fj,hi[GN]=mj,hi[v1]=gj,hi[qN]=vj,hi[XN]=yj,hi[y1]=xj,hi[YN]=Sj,hi[KN]=Ej,hi[ZN]=Tj,hi[JN]=kj,hi[$N]=Cj,hi);function _j(e,i,t){var n=[],r,l=!1;p(e);var h=function(){return n};function d(g){i(),f(),t(g,!0)}function p(g){n.push(g),g.cont=function(y,S){l||(ad(n,g),g.cont=Ei,S?d(y):(g===e&&(r=y),n.length||(l=!0,t(r))))}}function f(){l||(l=!0,n.forEach(function(g){g.cont=Ei,g.cancel()}),n=[])}return{addTask:p,cancelAll:f,abort:d,getTasks:h}}function R1(e,i){return e+"?"+i}function Rj(e){var i=p1(e);if(i){var t=i.code,n=i.fileName,r=i.lineNumber,l=t+"  "+R1(n,r);return l}return""}function L0(e){var i=e.name,t=e.location;return t?i+"  "+R1(t.fileName,t.lineNumber):i}function Oj(e){var i=AN(function(t){return t.cancelledTasks},e);return i.length?["Tasks cancelled due to error:"].concat(i).join(`
`):""}var dg=null,gl=[],Dj=function(e){e.crashedEffect=dg,gl.push(e)},O1=function(){dg=null,gl.length=0},Aj=function(e){dg=e},Ij=function(){var e=gl[0],i=gl.slice(1),t=e.crashedEffect?Rj(e.crashedEffect):null,n="The above error occurred in task "+L0(e.meta)+(t?` 
 when executing effect `+t:"");return[n].concat(i.map(function(r){return"    created by "+L0(r.meta)}),[Oj(gl)]).join(`
`)};function Mj(e,i,t,n,r,l,h){var d;h===void 0&&(h=Ei);var p=Uo,f,g,y=null,S=[],k=Object.create(t),C=_j(i,function(){S.push.apply(S,C.getTasks().map(function(ne){return ne.meta.name}))},_);function P(){p===Uo&&(p=Br,C.cancelAll(),_(na,!1))}function _(ne,K){if(!K)ne===na?p=Br:p!==Br&&(p=P1),f=ne,y&&y.resolve(ne);else{if(p=Ac,Dj({meta:r,cancelledTasks:S}),G.isRoot){var Y=Ij();O1(),e.onError(ne,{sagaStack:Y})}g=ne,y&&y.reject(ne)}G.cont(ne,K),G.joiners.forEach(function(se){se.cb(ne,K)}),G.joiners=null}function D(ne){og(k,ne)}function q(){return y||(y=ij(),p===Ac?y.reject(g):p!==Uo&&y.resolve(f)),y.promise}var G=(d={},d[PN]=!0,d.id=n,d.meta=r,d.isRoot=l,d.context=k,d.joiners=[],d.queue=C,d.cancel=P,d.cont=h,d.end=_,d.setContext=D,d.toPromise=q,d.isRunning=function(){return p===Uo},d.isCancelled=function(){return p===Br||p===Uo&&i.status===Br},d.isAborted=function(){return p===Ac},d.result=function(){return f},d.error=function(){return g},d);return G}function ud(e,i,t,n,r,l,h){var d=e.finalizeRunEffect(k);S.cancel=Ei;var p={meta:r,cancel:y,status:Uo},f=Mj(e,p,t,n,r,l,h),g={task:f,digestEffect:C};function y(){p.status===Uo&&(p.status=Br,S(na))}return h&&(h.cancel=f.cancel),S(),f;function S(P,_){try{var D;_?(D=i.throw(P),O1()):c1(P)?(p.status=Br,S.cancel(),D=Mi(i.return)?i.return(na):{done:!0,value:na}):u1(P)?D=Mi(i.return)?i.return():{done:!0}:D=i.next(P),D.done?(p.status!==Br&&(p.status=P1),p.cont(D.value)):C(D.value,n,S)}catch(q){if(p.status===Br)throw q;p.status=Ac,p.cont(q,!0)}}function k(P,_,D){if(sd(P))cg(P,D);else if(ig(P))ud(e,P,f.context,_,r,!1,D);else if(P&&P[e1]){var q=Pj[P.type];q(e,P.payload,D,g)}else D(P)}function C(P,_,D,q){q===void 0&&(q="");var G=_1();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:G,parentEffectId:_,label:q,effect:P});var ne;function K(Y,se){ne||(ne=!0,D.cancel=Ei,e.sagaMonitor&&(se?e.sagaMonitor.effectRejected(G,Y):e.sagaMonitor.effectResolved(G,Y)),se&&Aj(P),D(Y,se))}K.cancel=Ei,D.cancel=function(){ne||(ne=!0,K.cancel(),K.cancel=Ei,e.sagaMonitor&&e.sagaMonitor.effectCancelled(G))},d(P,G,K)}}function zj(e,i){for(var t=e.channel,n=t===void 0?C1():t,r=e.dispatch,l=e.getState,h=e.context,d=h===void 0?{}:h,p=e.sagaMonitor,f=e.effectMiddlewares,g=e.onError,y=g===void 0?LN:g,S=arguments.length,k=new Array(S>2?S-2:0),C=2;C<S;C++)k[C-2]=arguments[C];var P=i.apply(void 0,k),_=_1();p&&(p.rootSagaStarted=p.rootSagaStarted||Ei,p.effectTriggered=p.effectTriggered||Ei,p.effectResolved=p.effectResolved||Ei,p.effectRejected=p.effectRejected||Ei,p.effectCancelled=p.effectCancelled||Ei,p.actionDispatched=p.actionDispatched||Ei,p.rootSagaStarted({effectId:_,saga:i,args:k}));var D;if(f){var q=$T.apply(void 0,f);D=function(ne){return function(K,Y,se){var ue=function(he){return ne(he,Y,se)};return q(ue)(K)}}}else D=a1;var G={channel:n,dispatch:BN(r),getState:l,sagaMonitor:p,onError:y,finalizeRunEffect:D};return S1(function(){var ne=ud(G,P,d,_,sg(i),!0,void 0);return p&&p.effectResolved(_,ne),ne})}function Lj(e){var i={},t=i.context,n=t===void 0?{}:t,r=i.channel,l=r===void 0?C1():r,h=i.sagaMonitor,d=is(i,["context","channel","sagaMonitor"]),p;function f(g){var y=g.getState,S=g.dispatch;return p=zj.bind(null,Ce({},d,{context:n,channel:l,dispatch:S,getState:y,sagaMonitor:h})),function(k){return function(C){h&&h.actionDispatched&&h.actionDispatched(C);var P=k(C);return l.put(C),P}}}return f.run=function(){return p.apply(void 0,arguments)},f.setContext=function(g){og(n,g)},f}var B0=function(e){return{done:!0,value:e}},vf={};function Bj(e){return rg(e)?"channel":o1(e)?String(e):Mi(e)?e.name:String(e)}function Nj(e,i,t){var n,r,l,h=i;function d(p,f){if(h===vf)return B0(p);if(f&&!r)throw h=vf,f;n&&n(p);var g=f?e[r](f):e[h]();return h=g.nextState,l=g.effect,n=g.stateUpdater,r=g.errorState,h===vf?B0(p):l}return mm(d,function(p){return d(null,p)},t)}function jj(e,i){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var l={done:!1,value:QN(e)},h=function(f){return{done:!1,value:b1.apply(void 0,[i].concat(n,[f]))}},d,p=function(f){return d=f};return Nj({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return{nextState:"q1",effect:h(d)}}},"q1","takeEvery("+Bj(e)+", "+i.name+")")}function Hj(e,i){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return b1.apply(void 0,[jj,e,i].concat(n))}const D1={};D1.setFixedFrameMode=function(e,i){return{...e,fixedFrameMode:i}};const cd={},Fj="https://github.com/cu-mkp/editioncrafter-project/text-partial-resource.md";cd.loadDocument=function(e,i){const t=Xj(i,e.transcriptionTypes),{folioIndex:n,folioByName:r}=Vj(t);return{...e,loaded:!0,folios:t,folioIndex:n,folioByName:r}};cd.loadTags=function(e,i){return{...e,tags:i}};cd.loadFolio=function(e,i){const t=e.folioIndex[i.id],n=e.folios.indexOf(t);return e.folios[n]=i,e.folioIndex[i.id]=i,e.folioByName[i.name]=i,{...e}};function Vj(e){const i={},t={};for(let n=0;n<e.length;n++){const r=e[n];i[r.id]=r,t[r.name]=r}return{folioIndex:i,folioByName:t}}function yi(e){throw new Error(`IIIF manifest parser error: ${e}`)}function Uj(e){console.warn(`IIIF manifest parser warning: ${e}`)}function Wj(e){for(const i of e.items){i.type!=="AnnotationPage"&&yi(`Expected AnnotationPage in items property of ${e.id}`),i.items||yi(`Expected items property in AnnotationPage ${i.id}`);for(const t of i.items)if(t.type!=="Annotation"&&yi(`Expected Annotation in items property of ${i.id}`),t.motivation==="painting")return t.body||yi(`Expected body property in Annotation ${t.id}`),t.body.id?t.body.service?{bodyId:t.body.id,imageURL:`${t.body.id}/info.json`,imageType:"iiif"}:{bodyId:t.body.id,imageURL:t.body.id,imageType:"image"}:null}return yi(`Unable to find painting Annotation for canvas: ${e.id}`),null}function Gj(e){return e.label?e.label.none[0]:(Uj(`${e.id} does not have a label property.`),"")}function qj(e,i){const t={};if(e.annotations){for(const n of e.annotations)if(n.type==="AnnotationPage"){n.items||yi(`Expected items property in AnnotationPage ${n.id}`);for(const r of n.items)if(r.type!=="Annotation"&&yi(`Expected Annotation in items property of ${n.id}`),r.motivation==="supplementing"){r.body||yi(`Expected body property in Annotation ${r.id}`);const{body:l}=r;if(l.profile===Fj&&l.type==="TextPartial"){l.id||yi(`Expected id property in TextPartial in ${r.id}`),l.format||yi(`Expected format property in TextPartial in ${r.id}`);const{id:h,format:d}=l,p=h.split("/");p.length<5&&yi(`TextPartial id property is in the wrong format: ${h}`);const f=p[p.length-2];i[f]&&(t[f]||(t[f]={}),d==="text/html"&&(t[f].htmlURL=h),d==="text/xml"&&(t[f].xmlURL=h))}}}}return t}const vc=130;function Xj(e,i){if(e.type==="variorum"){let t=[];return Object.keys(e.documentData).forEach(n=>{t=t.concat(N0(e.documentData[n],i[n],n))}),t}return N0(e,i)}function N0(e,i,t){const n=[];(!e["@context"]||!e["@context"].includes("http://iiif.io/api/presentation/3/context.json"))&&yi("Expected root object to have a @context containing: http://iiif.io/api/presentation/3/context.json"),e.type!=="Manifest"&&yi("Expected root object of type 'Manifest'."),e.items||yi("Expected manifest to have an items property.");const r=e.items;for(let l=0;l<r.length;l++){const h=r[l];h.type!=="Canvas"&&yi(`Expected items[${l}] to be of type 'Canvas'.`),h.id||yi(`Expected items[${l}] to have an id property.`);const d=Wj(h);if(d){const p=h.id.substr(h.id.lastIndexOf("/")+1),f=Gj(h),{bodyId:g,imageURL:y,imageType:S}=d,k=qj(h,i),C=h.width/h.height;let P=[];C>1?P=[vc,Math.round(vc/C)]:P=[Math.round(vc*C),vc];const _=S==="iiif"?`${g}/full/${P.join(",")}/0/default.jpg`:y,D={id:t?`${t}_${p}`:p,doc_id:t||e.id,name:f,pageNumber:l,image_zoom_url:y,image_thumbnail_url:_,annotationURLs:k,annotations:h.annotations?h.annotations.filter(q=>q.motivation==="tagging"):[]};n.push(D)}}return n}const A1={};A1.loadGlossary=function(e,i){return{...e,loaded:!0,glossary:i}};const I1={};I1.loadNotes=function(e,i){return{...e,loaded:!0,notes:i}};const Yj={fixedFrameMode:!1};function j0(e){return`${e.replace("/iiif/manifest.json","")}/html/index.html`}function Kj(e){if(typeof e=="string")return j0(e);const i={};return Object.entries(e).forEach(t=>{i[t[0]]=j0(t[1])}),i}function Zj(e,i,t,n=!1,r=null,l=!1){return{documentName:i,derivativeNames:r,manifestURL:e,headerUrl:Kj(e),transcriptionTypes:t,variorum:n,threePanel:l,folios:[],loaded:!1,folioIndex:{},folioByName:{},tags:null}}function Jj(e){return{glossary:{},loaded:!1,URL:e}}function $j(e){return{notes:"",loaded:!1,URL:e}}function Qj(e){const{documentName:i,documentInfo:t,glossaryURL:n,notesURL:r,threePanel:l=!1}=e,h=t&&Object.keys(t).length>1,d={},p={},f={};h&&Object.keys(e.documentInfo).forEach(k=>{d[k]=e.documentInfo[k].transcriptionTypes,p[k]=e.documentInfo[k].iiifManifest,f[k]=e.documentInfo[k].documentName});const g=h?d:e.transcriptionTypes,y=h?p:e.iiifManifest,S=h&&f;return EN({diplomatic:yc("DiplomaticActions",D1,Yj),document:yc("DocumentActions",cd,Zj(y,i,g,h,S,l)),glossary:yc("GlossaryActions",A1,Jj(n)),notes:yc("NotesActions",I1,$j(r))})}var M1={exports:{}};(function(e){//! openseadragon 4.1.0
//! Built on 2023-05-25
//! Git commit: v4.1.0-0-8849681
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function i(t){return new i.Viewer(t)}(function(t){t.version={versionStr:"4.1.0",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("0",10)};var n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,l=Object.prototype.hasOwnProperty;t.isFunction=function(h){return t.type(h)==="function"},t.isArray=Array.isArray||function(h){return t.type(h)==="array"},t.isWindow=function(h){return h&&typeof h=="object"&&"setInterval"in h},t.type=function(h){return h==null?String(h):n[r.call(h)]||"object"},t.isPlainObject=function(h){if(!h||i.type(h)!=="object"||h.nodeType||t.isWindow(h)||h.constructor&&!l.call(h,"constructor")&&!l.call(h.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var p in h)d=p;return d===void 0||l.call(h,d)},t.isEmptyObject=function(h){for(var d in h)return!1;return!0},t.freezeObject=function(h){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(d){return d},t.freezeObject(h)},t.supportsCanvas=function(){var h=document.createElement("canvas");return!!(t.isFunction(h.getContext)&&h.getContext("2d"))}(),t.isCanvasTainted=function(h){var d=!1;try{h.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var h=0;if(t.supportsAddEventListener)try{var d={get capture(){return h++,!1},get once(){return h++,!1},get passive(){return h++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{h=0}return h>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var h=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return Math.max(d,1)/p}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(i),function(t){t.extend=function(){var p,f,g,y,S,k,C=arguments[0]||{},P=arguments.length,_=!1,D=1;for(typeof C=="boolean"&&(_=C,C=arguments[1]||{},D=2),typeof C!="object"&&!i.isFunction(C)&&(C={}),P===D&&(C=this,--D);D<P;D++)if(p=arguments[D],p!==null||p!==void 0)for(f in p){var q=Object.getOwnPropertyDescriptor(p,f);if(q!==void 0){if(q.get||q.set){Object.defineProperty(C,f,q);continue}y=q.value}else{t.console.warn('Could not copy inherited property "'+f+'".');continue}C!==y&&(_&&y&&(i.isPlainObject(y)||(S=i.isArray(y)))?(g=C[f],S?(S=!1,k=g&&i.isArray(g)?g:[]):k=g&&i.isPlainObject(g)?g:{},C[f]=i.extend(_,k,y)):y!==void 0&&(C[f]=y))}return C};var n=function(){if(typeof navigator!="object")return!1;var p=navigator.userAgent;return typeof p!="string"?!1:p.indexOf("iPhone")!==-1||p.indexOf("iPad")!==-1||p.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:n(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(p,f){return function(){var g=arguments;return g===void 0&&(g=[]),f.apply(p,g)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(p){return t._viewers.get(this.getElement(p))},getElement:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p},getElementPosition:function(p){var f=new t.Point,g,y;for(p=t.getElement(p),g=t.getElementStyle(p).position==="fixed",y=d(p,g);y;)f.x+=p.offsetLeft,f.y+=p.offsetTop,g&&(f=f.plus(t.getPageScroll())),p=y,g=t.getElementStyle(p).position==="fixed",y=d(p,g);return f},getElementOffset:function(p){p=t.getElement(p);var f=p&&p.ownerDocument,g,y,S={top:0,left:0};return f?(g=f.documentElement,typeof p.getBoundingClientRect<"u"&&(S=p.getBoundingClientRect()),y=f===f.window?f:f.nodeType===9?f.defaultView||f.parentWindow:!1,new t.Point(S.left+(y.pageXOffset||g.scrollLeft)-(g.clientLeft||0),S.top+(y.pageYOffset||g.scrollTop)-(g.clientTop||0))):new t.Point},getElementSize:function(p){return p=t.getElement(p),new t.Point(p.clientWidth,p.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(p){return p=t.getElement(p),p.currentStyle}:function(p){return p=t.getElement(p),window.getComputedStyle(p,"")},getCssPropertyWithVendorPrefix:function(p){var f={};return t.getCssPropertyWithVendorPrefix=function(g){if(f[g]!==void 0)return f[g];var y=document.createElement("div").style,S=null;if(y[g]!==void 0)S=g;else for(var k=["Webkit","Moz","MS","O","webkit","moz","ms","o"],C=t.capitalizeFirstLetter(g),P=0;P<k.length;P++){var _=k[P]+C;if(y[_]!==void 0){S=_;break}}return f[g]=S,S},t.getCssPropertyWithVendorPrefix(p)},capitalizeFirstLetter:function(p){return p.charAt(0).toUpperCase()+p.slice(1)},positiveModulo:function(p,f){var g=p%f;return g<0&&(g+=f),g},pointInElement:function(p,f){p=t.getElement(p);var g=t.getElementOffset(p),y=t.getElementSize(p);return f.x>=g.x&&f.x<g.x+y.x&&f.y<g.y+y.y&&f.y>=g.y},getMousePosition:function(p){if(typeof p.pageX=="number")t.getMousePosition=function(f){var g=new t.Point;return g.x=f.pageX,g.y=f.pageY,g};else if(typeof p.clientX=="number")t.getMousePosition=function(f){var g=new t.Point;return g.x=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g.y=f.clientY+document.body.scrollTop+document.documentElement.scrollTop,g};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(p)},getPageScroll:function(){var p=document.documentElement||{},f=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(f.scrollLeft||f.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(p.scrollLeft||p.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(p){if(typeof window.scrollTo<"u")t.setPageScroll=function(y){window.scrollTo(y.x,y.y)};else{var f=t.getPageScroll();if(f.x===p.x&&f.y===p.y)return;document.body.scrollLeft=p.x,document.body.scrollTop=p.y;var g=t.getPageScroll();if(g.x!==f.x&&g.y!==f.y){t.setPageScroll=function(y){document.body.scrollLeft=y.x,document.body.scrollTop=y.y};return}if(document.documentElement.scrollLeft=p.x,document.documentElement.scrollTop=p.y,g=t.getPageScroll(),g.x!==f.x&&g.y!==f.y){t.setPageScroll=function(y){document.documentElement.scrollLeft=y.x,document.documentElement.scrollTop=y.y};return}t.setPageScroll=function(y){}}t.setPageScroll(p)},getWindowSize:function(){var p=document.documentElement||{},f=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(p.clientWidth||p.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(f.clientWidth||f.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(p){p=t.getElement(p);var f=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(f[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(f[1].style,{display:"table-row"}),t.extend(f[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),f[0].appendChild(f[1]),f[1].appendChild(f[2]),f[2].appendChild(p),f[0]},makeNeutralElement:function(p){var f=document.createElement(p),g=f.style;return g.background="transparent none",g.border="none",g.margin="0px",g.padding="0px",g.position="static",f},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(p){var f=t.makeNeutralElement("img");return f.src=p,f},setElementOpacity:function(p,f,g){var y,S;p=t.getElement(p),g&&!t.Browser.alpha&&(f=Math.round(f)),t.Browser.opacity?p.style.opacity=f<1?f:"":f<1?(y=Math.round(100*f),S="alpha(opacity="+y+")",p.style.filter=S):p.style.filter=""},setElementTouchActionNone:function(p){p=t.getElement(p),typeof p.style.touchAction<"u"?p.style.touchAction="none":typeof p.style.msTouchAction<"u"&&(p.style.msTouchAction="none")},setElementPointerEvents:function(p,f){p=t.getElement(p),typeof p.style<"u"&&typeof p.style.pointerEvents<"u"&&(p.style.pointerEvents=f)},setElementPointerEventsNone:function(p){t.setElementPointerEvents(p,"none")},addClass:function(p,f){p=t.getElement(p),p.className?(" "+p.className+" ").indexOf(" "+f+" ")===-1&&(p.className+=" "+f):p.className=f},indexOf:function(p,f,g){return Array.prototype.indexOf?this.indexOf=function(y,S,k){return y.indexOf(S,k)}:this.indexOf=function(y,S,k){var C,P=k||0,_;if(!y)throw new TypeError;if(_=y.length,_===0||P>=_)return-1;for(P<0&&(P=_-Math.abs(P)),C=P;C<_;C++)if(y[C]===S)return C;return-1},this.indexOf(p,f,g)},removeClass:function(p,f){var g,y=[],S;for(p=t.getElement(p),g=p.className.split(/\s+/),S=0;S<g.length;S++)g[S]&&g[S]!==f&&y.push(g[S]);p.className=y.join(" ")},normalizeEventListenerOptions:function(p){var f;return typeof p<"u"?typeof p=="boolean"?f=t.supportsEventListenerOptions?{capture:p}:p:f=t.supportsEventListenerOptions?p:typeof p.capture<"u"?p.capture:!1:f=t.supportsEventListenerOptions?{capture:!1}:!1,f},addEvent:function(){if(t.supportsAddEventListener)return function(p,f,g,y){y=t.normalizeEventListenerOptions(y),p=t.getElement(p),p.addEventListener(f,g,y)};if(document.documentElement.attachEvent&&document.attachEvent)return function(p,f,g){p=t.getElement(p),p.attachEvent("on"+f,g)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(p,f,g,y){y=t.normalizeEventListenerOptions(y),p=t.getElement(p),p.removeEventListener(f,g,y)};if(document.documentElement.detachEvent&&document.detachEvent)return function(p,f,g){p=t.getElement(p),p.detachEvent("on"+f,g)};throw new Error("No known event model.")}(),cancelEvent:function(p){p.preventDefault()},eventIsCanceled:function(p){return p.defaultPrevented},stopEvent:function(p){p.stopPropagation()},createCallback:function(p,f){var g=[],y;for(y=2;y<arguments.length;y++)g.push(arguments[y]);return function(){var S=g.concat([]),k;for(k=0;k<arguments.length;k++)S.push(arguments[k]);return f.apply(p,S)}},getUrlParameter:function(p){var f=h[p];return f||null},getUrlProtocol:function(p){var f=p.match(/^([a-z]+:)\/\//i);return f===null?window.location.protocol:f[1].toLowerCase()},createAjaxRequest:function(p){var f;try{f=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{f=!1}if(f)window.XMLHttpRequest?t.createAjaxRequest=function(g){return g?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(p)},makeAjaxRequest:function(p,f,g){var y,S,k,C;t.isPlainObject(p)&&(f=p.success,g=p.error,y=p.withCredentials,S=p.headers,k=p.responseType||null,C=p.postData||null,p=p.url);var P=t.getUrlProtocol(p),_=t.createAjaxRequest(P==="file:");if(!t.isFunction(f))throw new Error("makeAjaxRequest requires a success callback");_.onreadystatechange=function(){_.readyState===4&&(_.onreadystatechange=function(){},_.status>=200&&_.status<300||_.status===0&&P!=="http:"&&P!=="https:"?f(_):t.isFunction(g)?g(_):t.console.error("AJAX request returned %d: %s",_.status,p))};var D=C?"POST":"GET";try{if(_.open(D,p,!0),k&&(_.responseType=k),S)for(var q in S)Object.prototype.hasOwnProperty.call(S,q)&&S[q]&&_.setRequestHeader(q,S[q]);y&&(_.withCredentials=!0),_.send(C)}catch(G){t.console.error("%s while making AJAX request: %s",G.name,G.message),_.onreadystatechange=function(){},t.isFunction(g)&&g(_,G)}return _},jsonp:function(p){var f,g=p.url,y=document.head||document.getElementsByTagName("head")[0]||document.documentElement,S=p.callbackName||"openseadragon"+t.now(),k=window[S],C="$1"+S+"$2",P=p.param||"callback",_=p.callback;g=g.replace(/(=)\?(&|$)|\?\?/i,C),g+=(/\?/.test(g)?"&":"?")+P+"="+S,window[S]=function(D){if(k)window[S]=k;else try{delete window[S]}catch{}_&&t.isFunction(_)&&_(D)},f=document.createElement("script"),(p.async!==void 0||p.async!==!1)&&(f.async="async"),p.scriptCharset&&(f.charset=p.scriptCharset),f.src=g,f.onload=f.onreadystatechange=function(D,q){(q||!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,y&&f.parentNode&&y.removeChild(f),f=void 0)},y.insertBefore(f,y.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(p){if(window.DOMParser)t.parseXml=function(f){var g=null,y;return y=new DOMParser,g=y.parseFromString(f,"text/xml"),g};else if(window.ActiveXObject)t.parseXml=function(f){var g=null;return g=new ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(f),g};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(p)},parseJSON:function(p){return t.parseJSON=window.JSON.parse,t.parseJSON(p)},imageFormatSupported:function(p){return p=p||"",!!l[p.toLowerCase()]},setImageFormatsSupported:function(p){t.extend(l,p)}});var r=function(p){};t.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var l={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},h={};(function(){var p=navigator.appVersion,f=navigator.userAgent,g;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(f.substring(f.indexOf("MSIE")+5,f.indexOf(";",f.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(f.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edge")+5))):f.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edg")+4))):f.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(f.substring(f.indexOf("Firefox")+8))):f.indexOf("Safari")>=0?(t.Browser.vendor=f.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(f.substring(f.substring(0,f.indexOf("Safari")).lastIndexOf("/")+1,f.indexOf("Safari")))):(g=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),g.exec(f)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(p);break}var y=window.location.search.substring(1),S=y.split("&"),k,C,P;for(P=0;P<S.length;P++)if(k=S[P],C=k.indexOf("="),C>0){var _=k.substring(0,C),D=k.substring(C+1);try{h[_]=decodeURIComponent(D)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",_,D)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(p){var f=p.requestAnimationFrame||p.mozRequestAnimationFrame||p.webkitRequestAnimationFrame||p.msRequestAnimationFrame,g=p.cancelAnimationFrame||p.mozCancelAnimationFrame||p.webkitCancelAnimationFrame||p.msCancelAnimationFrame;if(f&&g)t.requestAnimationFrame=function(){return f.apply(p,arguments)},t.cancelAnimationFrame=function(){return g.apply(p,arguments)};else{var y=[],S=[],k=0,C;t.requestAnimationFrame=function(P){return y.push([++k,P]),C||(C=setInterval(function(){if(y.length){var _=t.now(),D=S;for(S=y,y=D;S.length;)S.shift()[1](_)}else clearInterval(C),C=void 0},1e3/50)),k},t.cancelAnimationFrame=function(P){var _,D;for(_=0,D=y.length;_<D;_+=1)if(y[_][0]===P){y.splice(_,1);return}for(_=0,D=S.length;_<D;_+=1)if(S[_][0]===P){S.splice(_,1);return}}}}(window);function d(p,f){return f&&p!==document.body?document.body:p.offsetParent}}(i),function(t,n){e.exports?e.exports=n():t.OpenSeadragon=n()}(ii,function(){return i}),function(t){var n={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.fullscreenElement},n.requestFullScreen=function(r){return r.requestFullscreen()},n.exitFullScreen=function(){document.exitFullscreen()},n.fullScreenEventName="fullscreenchange",n.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.msFullscreenElement},n.requestFullScreen=function(r){return r.msRequestFullscreen()},n.exitFullScreen=function(){document.msExitFullscreen()},n.fullScreenEventName="MSFullscreenChange",n.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitFullscreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullscreen()},n.exitFullScreen=function(){document.webkitExitFullscreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullScreen()},n.exitFullScreen=function(){document.webkitCancelFullScreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.mozFullScreenElement},n.requestFullScreen=function(r){return r.mozRequestFullScreen()},n.exitFullScreen=function(){document.mozCancelFullScreen()},n.fullScreenEventName="mozfullscreenchange",n.fullScreenErrorEventName="mozfullscreenerror"),n.isFullScreen=function(){return n.getFullScreenElement()!==null},n.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),n.exitFullScreen()},t.extend(t,n)}(i),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(n,r,l,h,d){var p=this;h=h||1;var f=0,g=function(y){return f++,f===h&&p.removeHandler(n,g),r(y)};this.addHandler(n,g,l,d)},addHandler:function(n,r,l,h){var d=this.events[n];if(d||(this.events[n]=d=[]),r&&t.isFunction(r)){var p=d.length,f={handler:r,userData:l||null,priority:h||0};for(d[p]=f;p>0&&d[p-1].priority<d[p].priority;)d[p]=d[p-1],d[p-1]=f,p--}},removeHandler:function(n,r){var l=this.events[n],h=[],d;if(l&&t.isArray(l)){for(d=0;d<l.length;d++)l[d].handler!==r&&h.push(l[d]);this.events[n]=h}},numberOfHandlers:function(n){var r=this.events[n];return r?r.length:0},removeAllHandlers:function(n){if(n)this.events[n]=[];else for(var r in this.events)this.events[r]=[]},getHandler:function(n){var r=this.events[n];return!r||!r.length?null:(r=r.length===1?[r[0]]:Array.apply(null,r),function(l,h){var d,p=r.length;for(d=0;d<p;d++)r[d]&&(h.eventSource=l,h.userData=r[d].userData,r[d].handler(h))})},raiseEvent:function(n,r){var l=this.getHandler(n);if(l)return l(this,r||{})}}}(i),function(t){var n={};t.MouseTracker=function(L){var N=arguments;t.isPlainObject(L)||(L={element:N[0],clickTimeThreshold:N[1],clickDistThreshold:N[2]}),this.hash=Math.random(),this.element=t.getElement(L.element),this.clickTimeThreshold=L.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=L.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=L.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=L.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=L.userData||null,this.stopDelay=L.stopDelay||50,this.preProcessEventHandler=L.preProcessEventHandler||null,this.contextMenuHandler=L.contextMenuHandler||null,this.enterHandler=L.enterHandler||null,this.leaveHandler=L.leaveHandler||null,this.exitHandler=L.exitHandler||null,this.overHandler=L.overHandler||null,this.outHandler=L.outHandler||null,this.pressHandler=L.pressHandler||null,this.nonPrimaryPressHandler=L.nonPrimaryPressHandler||null,this.releaseHandler=L.releaseHandler||null,this.nonPrimaryReleaseHandler=L.nonPrimaryReleaseHandler||null,this.moveHandler=L.moveHandler||null,this.scrollHandler=L.scrollHandler||null,this.clickHandler=L.clickHandler||null,this.dblClickHandler=L.dblClickHandler||null,this.dragHandler=L.dragHandler||null,this.dragEndHandler=L.dragEndHandler||null,this.pinchHandler=L.pinchHandler||null,this.stopHandler=L.stopHandler||null,this.keyDownHandler=L.keyDownHandler||null,this.keyUpHandler=L.keyUpHandler||null,this.keyHandler=L.keyHandler||null,this.focusHandler=L.focusHandler||null,this.blurHandler=L.blurHandler||null;var W=this;n[this.hash]={click:function(Z){G(W,Z)},dblclick:function(Z){ne(W,Z)},keydown:function(Z){K(W,Z)},keyup:function(Z){Y(W,Z)},keypress:function(Z){se(W,Z)},focus:function(Z){ue(W,Z)},blur:function(Z){he(W,Z)},contextmenu:function(Z){le(W,Z)},wheel:function(Z){ye(W,Z)},mousewheel:function(Z){fe(W,Z)},DOMMouseScroll:function(Z){fe(W,Z)},MozMousePixelScroll:function(Z){fe(W,Z)},losecapture:function(Z){Ie(W,Z)},mouseenter:function(Z){ee(W,Z)},mouseleave:function(Z){kt(W,Z)},mouseover:function(Z){tt(W,Z)},mouseout:function(Z){at(W,Z)},mousedown:function(Z){yt(W,Z)},mouseup:function(Z){Ot(W,Z)},mousemove:function(Z){Ye(W,Z)},touchstart:function(Z){je(W,Z)},touchend:function(Z){Se(W,Z)},touchmove:function(Z){ge(W,Z)},touchcancel:function(Z){Re(W,Z)},gesturestart:function(Z){_e(W,Z)},gesturechange:function(Z){J(W,Z)},gotpointercapture:function(Z){ze(W,Z)},lostpointercapture:function(Z){st(W,Z)},pointerenter:function(Z){ee(W,Z)},pointerleave:function(Z){kt(W,Z)},pointerover:function(Z){tt(W,Z)},pointerout:function(Z){at(W,Z)},pointerdown:function(Z){yt(W,Z)},pointerup:function(Z){Ot(W,Z)},pointermove:function(Z){Ye(W,Z)},pointercancel:function(Z){on(W,Z)},pointerupcaptured:function(Z){Tt(W,Z)},pointermovecaptured:function(Z){xt(W,Z)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),L.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){p(this),this.element=null,n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(L){return L?d(this):p(this),this},getActivePointersListByType:function(L){var N=n[this.hash],W,Z=N.activePointersLists.length,Te;for(W=0;W<Z;W++)if(N.activePointersLists[W].type===L)return N.activePointersLists[W];return Te=new t.MouseTracker.GesturePointList(L),N.activePointersLists.push(Te),Te},getActivePointerCount:function(){var L=n[this.hash],N,W=L.activePointersLists.length,Z=0;for(N=0;N<W;N++)Z+=L.activePointersLists[N].getLength();return Z},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var r=function(){try{return window.self!==window.top}catch{return!0}}();function l(L){try{return L.addEventListener&&L.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var L=[],N=0,W=0,Z=function(He,lt){return He.hash.toString()+lt.type+lt.id.toString()},Te=function(){var He,lt=L.length,_n,en,oi=t.now(),yo,zi,kr;for(yo=oi-W,W=oi,He=0;He<lt;He++)_n=L[He],en=_n.gPoint,en.direction=Math.atan2(en.currentPos.y-_n.lastPos.y,en.currentPos.x-_n.lastPos.x),zi=_n.lastPos.distanceTo(en.currentPos),_n.lastPos=en.currentPos,kr=1e3*zi/(yo+1),en.speed=.75*kr+.25*en.speed},Ue=function(He,lt){var _n=Z(He,lt);L.push({guid:_n,gPoint:lt,lastPos:lt.currentPos}),L.length===1&&(W=t.now(),N=window.setInterval(Te,50))},gt=function(He,lt){var _n=Z(He,lt),en,oi=L.length;for(en=0;en<oi;en++)if(L[en].guid===_n){L.splice(en,1),oi--,oi===0&&window.clearInterval(N);break}};return{addPoint:Ue,removePoint:gt}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return t.isFunction(L.setPointerCapture)&&t.isFunction(L.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return t.isFunction(L.setCapture)&&t.isFunction(L.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function(L){this._gPoints=[],this.type=L,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(L){return this._gPoints.push(L)},removeById:function(L){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].id===L){this._gPoints.splice(N,1);break}return this._gPoints.length},getByIndex:function(L){return L<this._gPoints.length?this._gPoints[L]:null},getById:function(L){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].id===L)return this._gPoints[N];return null},getPrimary:function(L){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].isPrimary)return this._gPoints[N];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function h(L){var N=n[L.hash],W,Z,Te,Ue,gt,He=N.activePointersLists.length;for(W=0;W<He;W++)if(Te=N.activePointersLists[W],Te.getLength()>0){for(gt=[],Ue=Te.asArray(),Z=0;Z<Ue.length;Z++)gt.push(Ue[Z]);for(Z=0;Z<gt.length;Z++)Yt(L,Te,gt[Z])}for(W=0;W<He;W++)N.activePointersLists.pop();N.sentDragEvent=!1}function d(L){var N=n[L.hash],W,Z;if(!N.tracking){for(Z=0;Z<t.MouseTracker.subscribeEvents.length;Z++)W=t.MouseTracker.subscribeEvents[Z],t.addEvent(L.element,W,N[W],W===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);h(L),N.tracking=!0}}function p(L){var N=n[L.hash],W,Z;if(N.tracking){for(Z=0;Z<t.MouseTracker.subscribeEvents.length;Z++)W=t.MouseTracker.subscribeEvents[Z],t.removeEvent(L.element,W,N[W],!1);h(L),N.tracking=!1}}function f(L,N){var W=n[L.hash];if(N==="pointerevent")return{upName:"pointerup",upHandler:W.pointerupcaptured,moveName:"pointermove",moveHandler:W.pointermovecaptured};if(N==="mouse")return{upName:"pointerup",upHandler:W.pointerupcaptured,moveName:"pointermove",moveHandler:W.pointermovecaptured};if(N==="touch")return{upName:"touchend",upHandler:W.touchendcaptured,moveName:"touchmove",moveHandler:W.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function g(L,N){var W;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{L.element.setPointerCapture(N.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else L.element.setCapture(!0);else W=f(L,t.MouseTracker.havePointerEvents?"pointerevent":N.type),r&&l(window.top)&&t.addEvent(window.top,W.upName,W.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,W.upName,W.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,W.moveName,W.moveHandler,!0);xe(L,N,!0)}function y(L,N){var W,Z,Te;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(Z=L.getActivePointersListByType(N.type),Te=Z.getById(N.id),!Te||!Te.captured)return;try{L.element.releasePointerCapture(N.id)}catch{}}else L.element.releaseCapture();else W=f(L,t.MouseTracker.havePointerEvents?"pointerevent":N.type),r&&l(window.top)&&t.removeEvent(window.top,W.upName,W.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,W.moveName,W.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,W.upName,W.upHandler,!0);xe(L,N,!1)}function S(L){return t.MouseTracker.havePointerEvents?L.pointerId:t.MouseTracker.mousePointerId}function k(L){return t.MouseTracker.havePointerEvents?L.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function C(L){return t.MouseTracker.havePointerEvents?L.isPrimary:!0}function P(L){return t.getMousePosition(L)}function _(L,N){return D(P(L),N)}function D(L,N){var W=t.getElementOffset(N);return L.minus(W)}function q(L,N){return new t.Point((L.x+N.x)/2,(L.y+N.y)/2)}function G(L,N){var W={originalEvent:N,eventType:"click",pointerType:"mouse",isEmulated:!1};Q(L,W),W.preventDefault&&!W.defaultPrevented&&t.cancelEvent(N),W.stopPropagation&&t.stopEvent(N)}function ne(L,N){var W={originalEvent:N,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Q(L,W),W.preventDefault&&!W.defaultPrevented&&t.cancelEvent(N),W.stopPropagation&&t.stopEvent(N)}function K(L,N){var W=null,Z={originalEvent:N,eventType:"keydown",pointerType:"",isEmulated:!1};Q(L,Z),L.keyDownHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData},L.keyDownHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function Y(L,N){var W=null,Z={originalEvent:N,eventType:"keyup",pointerType:"",isEmulated:!1};Q(L,Z),L.keyUpHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData},L.keyUpHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function se(L,N){var W=null,Z={originalEvent:N,eventType:"keypress",pointerType:"",isEmulated:!1};Q(L,Z),L.keyHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData},L.keyHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function ue(L,N){var W={originalEvent:N,eventType:"focus",pointerType:"",isEmulated:!1};Q(L,W),L.focusHandler&&!W.preventGesture&&L.focusHandler({eventSource:L,originalEvent:N,userData:L.userData})}function he(L,N){var W={originalEvent:N,eventType:"blur",pointerType:"",isEmulated:!1};Q(L,W),L.blurHandler&&!W.preventGesture&&L.blurHandler({eventSource:L,originalEvent:N,userData:L.userData})}function le(L,N){var W=null,Z={originalEvent:N,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Q(L,Z),L.contextMenuHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:L,position:D(P(N),L.element),originalEvent:Z.originalEvent,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData},L.contextMenuHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function ye(L,N){we(L,N,N)}function fe(L,N){var W={target:N.target||N.srcElement,type:"wheel",shiftKey:N.shiftKey||!1,clientX:N.clientX,clientY:N.clientY,pageX:N.pageX?N.pageX:N.clientX,pageY:N.pageY?N.pageY:N.clientY,deltaMode:N.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?W.deltaY=-N.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:W.deltaY=N.detail,we(L,W,N)}function we(L,N,W){var Z=0,Te,Ue=null;Z=N.deltaY<0?1:-1,Te={originalEvent:N,eventType:"wheel",pointerType:"mouse",isEmulated:N!==W},Q(L,Te),L.scrollHandler&&!Te.preventGesture&&!Te.defaultPrevented&&(Ue={eventSource:L,pointerType:"mouse",position:_(N,L.element),scroll:Z,shift:N.shiftKey,isTouchEvent:!1,originalEvent:W,preventDefault:Te.preventDefault||Te.defaultPrevented,userData:L.userData},L.scrollHandler(Ue)),Te.stopPropagation&&t.stopEvent(W),(Ue&&Ue.preventDefault||Te.preventDefault&&!Te.defaultPrevented)&&t.cancelEvent(W)}function Ie(L,N){var W={id:t.MouseTracker.mousePointerId,type:"mouse"},Z={originalEvent:N,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Q(L,Z),N.target===L.element&&xe(L,W,!1),Z.stopPropagation&&t.stopEvent(N)}function je(L,N){var W,Z,Te=N.changedTouches.length,Ue,gt=L.getActivePointersListByType("touch");W=t.now(),gt.getLength()>N.touches.length-Te&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var He={originalEvent:N,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Q(L,He),Z=0;Z<Te;Z++)Ue={id:N.changedTouches[Z].identifier,type:"touch",isPrimary:gt.getLength()===0,currentPos:P(N.changedTouches[Z]),currentTime:W},Ne(L,He,Ue),Et(L,He,Ue,0),xe(L,Ue,!0);He.preventDefault&&!He.defaultPrevented&&t.cancelEvent(N),He.stopPropagation&&t.stopEvent(N)}function Se(L,N){var W,Z,Te=N.changedTouches.length,Ue;W=t.now();var gt={originalEvent:N,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Q(L,gt),Z=0;Z<Te;Z++)Ue={id:N.changedTouches[Z].identifier,type:"touch",currentPos:P(N.changedTouches[Z]),currentTime:W},It(L,gt,Ue,0),xe(L,Ue,!1),Be(L,gt,Ue);gt.preventDefault&&!gt.defaultPrevented&&t.cancelEvent(N),gt.stopPropagation&&t.stopEvent(N)}function ge(L,N){var W,Z,Te=N.changedTouches.length,Ue;W=t.now();var gt={originalEvent:N,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Q(L,gt),Z=0;Z<Te;Z++)Ue={id:N.changedTouches[Z].identifier,type:"touch",currentPos:P(N.changedTouches[Z]),currentTime:W},Lt(L,gt,Ue);gt.preventDefault&&!gt.defaultPrevented&&t.cancelEvent(N),gt.stopPropagation&&t.stopEvent(N)}function Re(L,N){var W=N.changedTouches.length,Z,Te,Ue={originalEvent:N,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Q(L,Ue),Z=0;Z<W;Z++)Te={id:N.changedTouches[Z].identifier,type:"touch"},me(L,Ue,Te);Ue.stopPropagation&&t.stopEvent(N)}function _e(L,N){return t.eventIsCanceled(N)||N.preventDefault(),!1}function J(L,N){return t.eventIsCanceled(N)||N.preventDefault(),!1}function ze(L,N){var W={originalEvent:N,eventType:"gotpointercapture",pointerType:k(N),isEmulated:!1};Q(L,W),N.target===L.element&&xe(L,{id:N.pointerId,type:k(N)},!0),W.stopPropagation&&t.stopEvent(N)}function st(L,N){var W={originalEvent:N,eventType:"lostpointercapture",pointerType:k(N),isEmulated:!1};Q(L,W),N.target===L.element&&xe(L,{id:N.pointerId,type:k(N)},!1),W.stopPropagation&&t.stopEvent(N)}function ee(L,N){var W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerenter",pointerType:W.type,isEmulated:!1};Q(L,Z),Ne(L,Z,W)}function kt(L,N){var W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerleave",pointerType:W.type,isEmulated:!1};Q(L,Z),Be(L,Z,W)}function tt(L,N){var W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerover",pointerType:W.type,isEmulated:!1};Q(L,Z),$e(L,Z,W),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function at(L,N){var W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerout",pointerType:W.type,isEmulated:!1};Q(L,Z),Ke(L,Z,W),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function yt(L,N){var W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()},Z=t.MouseTracker.havePointerEvents&&W.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Te={originalEvent:N,eventType:"pointerdown",pointerType:W.type,isEmulated:!1};Q(L,Te),Et(L,Te,W,N.button),Te.preventDefault&&!Te.defaultPrevented&&t.cancelEvent(N),Te.stopPropagation&&t.stopEvent(N),Te.shouldCapture&&(Z?xe(L,W,!0):g(L,W))}function Ot(L,N){rt(L,N)}function Tt(L,N){var W=L.getActivePointersListByType(k(N));W.getById(N.pointerId)&&rt(L,N),t.stopEvent(N)}function rt(L,N){var W;W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()};var Z={originalEvent:N,eventType:"pointerup",pointerType:W.type,isEmulated:!1};Q(L,Z),It(L,Z,W,N.button),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N),Z.shouldReleaseCapture&&(N.target===L.element?y(L,W):xe(L,W,!1))}function Ye(L,N){Ht(L,N)}function xt(L,N){var W=L.getActivePointersListByType(k(N));W.getById(N.pointerId)&&Ht(L,N),t.stopEvent(N)}function Ht(L,N){var W={id:S(N),type:k(N),isPrimary:C(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointermove",pointerType:W.type,isEmulated:!1};Q(L,Z),Lt(L,Z,W),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function on(L,N){var W={id:N.pointerId,type:k(N)},Z={originalEvent:N,eventType:"pointercancel",pointerType:W.type,isEmulated:!1};Q(L,Z),me(L,Z,W),Z.stopPropagation&&t.stopEvent(N)}function Dt(L,N){return N.speed=0,N.direction=0,N.contactPos=N.currentPos,N.contactTime=N.currentTime,N.lastPos=N.currentPos,N.lastTime=N.currentTime,L.add(N)}function Yt(L,N,W){var Z,Te=N.getById(W.id);return Te?(Te.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),y(L,Te)),N.removeContact(),Z=N.removeById(W.id)):Z=N.getLength(),Z}function I(L,N){switch(N.eventType){case"pointermove":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"pointerdown":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerup":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"wheel":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasScrollHandler,N.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":N.isStoppable=!0,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"click":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!L.clickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"dblclick":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!L.dblClickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:N.isStoppable=!1,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break}}function Q(L,N){N.eventSource=L,N.eventPhase=N.originalEvent&&typeof N.originalEvent.eventPhase<"u"?N.originalEvent.eventPhase:0,N.defaultPrevented=t.eventIsCanceled(N.originalEvent),N.shouldCapture=!1,N.shouldReleaseCapture=!1,N.userData=L.userData,I(L,N),L.preProcessEventHandler&&L.preProcessEventHandler(N)}function xe(L,N,W){var Z=L.getActivePointersListByType(N.type),Te=Z.getById(N.id);Te?W&&!Te.captured?(Te.captured=!0,Z.captureCount++):!W&&Te.captured&&(Te.captured=!1,Z.captureCount--,Z.captureCount<0&&(Z.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function Ne(L,N,W){var Z=L.getActivePointersListByType(W.type),Te;Te=Z.getById(W.id),Te?(Te.insideElement=!0,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=W.currentPos,Te.currentTime=W.currentTime,W=Te):(W.captured=!1,W.insideElementPressed=!1,W.insideElement=!0,Dt(Z,W)),L.enterHandler&&L.enterHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData})}function Be(L,N,W){var Z=L.getActivePointersListByType(W.type),Te,Ue;Te=Z.getById(W.id),Te?(Te.captured?(Te.insideElement=!1,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=W.currentPos,Te.currentTime=W.currentTime):Yt(L,Z,Te),W=Te):(W.captured=!1,W.insideElementPressed=!1),(L.leaveHandler||L.exitHandler)&&(Ue={eventSource:L,pointerType:W.type,position:W.currentPos&&D(W.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData},L.leaveHandler&&L.leaveHandler(Ue),L.exitHandler&&L.exitHandler(Ue))}function $e(L,N,W){var Z,Te;Z=L.getActivePointersListByType(W.type),Te=Z.getById(W.id),Te?W=Te:(W.captured=!1,W.insideElementPressed=!1),L.overHandler&&L.overHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData})}function Ke(L,N,W){var Z,Te;Z=L.getActivePointersListByType(W.type),Te=Z.getById(W.id),Te?W=Te:(W.captured=!1,W.insideElementPressed=!1),L.outHandler&&L.outHandler({eventSource:L,pointerType:W.type,position:W.currentPos&&D(W.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData})}function Et(L,N,W,Z){var Te=n[L.hash],Ue=L.getActivePointersListByType(W.type),gt;if(typeof N.originalEvent.buttons<"u"?Ue.buttons=N.originalEvent.buttons:Z===0?Ue.buttons|=1:Z===1?Ue.buttons|=4:Z===2?Ue.buttons|=2:Z===3?Ue.buttons|=8:Z===4?Ue.buttons|=16:Z===5&&(Ue.buttons|=32),Z!==0){N.shouldCapture=!1,N.shouldReleaseCapture=!1,L.nonPrimaryPressHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,L.nonPrimaryPressHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),button:Z,buttons:Ue.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}));return}gt=Ue.getById(W.id),gt?(gt.insideElementPressed=!0,gt.insideElement=!0,gt.originalTarget=N.originalEvent.target,gt.contactPos=W.currentPos,gt.contactTime=W.currentTime,gt.lastPos=gt.currentPos,gt.lastTime=gt.currentTime,gt.currentPos=W.currentPos,gt.currentTime=W.currentTime,W=gt):(W.captured=!1,W.insideElementPressed=!0,W.insideElement=!0,W.originalTarget=N.originalEvent.target,Dt(Ue,W)),Ue.addContact(),!N.preventGesture&&!N.defaultPrevented?(N.shouldCapture=!0,N.shouldReleaseCapture=!1,N.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(L,W),Ue.contacts===1?L.pressHandler&&!N.preventGesture&&L.pressHandler({eventSource:L,pointerType:W.type,position:D(W.contactPos,L.element),buttons:Ue.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}):Ue.contacts===2&&L.pinchHandler&&W.type==="touch"&&(Te.pinchGPoints=Ue.asArray(),Te.lastPinchDist=Te.currentPinchDist=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Te.lastPinchCenter=Te.currentPinchCenter=q(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos))):(N.shouldCapture=!1,N.shouldReleaseCapture=!1)}function It(L,N,W,Z){var Te=n[L.hash],Ue=L.getActivePointersListByType(W.type),gt,He,lt,_n=!1,en;if(typeof N.originalEvent.buttons<"u"?Ue.buttons=N.originalEvent.buttons:Z===0?Ue.buttons^=-2:Z===1?Ue.buttons^=-5:Z===2?Ue.buttons^=-3:Z===3?Ue.buttons^=-9:Z===4?Ue.buttons^=-17:Z===5&&(Ue.buttons^=-33),N.shouldCapture=!1,Z!==0){N.shouldReleaseCapture=!1,L.nonPrimaryReleaseHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,L.nonPrimaryReleaseHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),button:Z,buttons:Ue.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}));return}lt=Ue.getById(W.id),lt?(Ue.removeContact(),lt.captured&&(_n=!0),lt.lastPos=lt.currentPos,lt.lastTime=lt.currentTime,lt.currentPos=W.currentPos,lt.currentTime=W.currentTime,lt.insideElement||Yt(L,Ue,lt),gt=lt.currentPos,He=lt.currentTime):(W.captured=!1,W.insideElementPressed=!1,W.insideElement=!0,Dt(Ue,W),lt=W),!N.preventGesture&&!N.defaultPrevented&&(_n?(N.shouldReleaseCapture=!0,N.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(L,lt),Ue.contacts===0?(L.releaseHandler&&gt&&L.releaseHandler({eventSource:L,pointerType:lt.type,position:D(gt,L.element),buttons:Ue.buttons,insideElementPressed:lt.insideElementPressed,insideElementReleased:lt.insideElement,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),L.dragEndHandler&&Te.sentDragEvent&&L.dragEndHandler({eventSource:L,pointerType:lt.type,position:D(lt.currentPos,L.element),speed:lt.speed,direction:lt.direction,shift:N.originalEvent.shiftKey,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),Te.sentDragEvent=!1,(L.clickHandler||L.dblClickHandler)&&lt.insideElement&&(en=He-lt.contactTime<=L.clickTimeThreshold&&lt.contactPos.distanceTo(gt)<=L.clickDistThreshold,L.clickHandler&&L.clickHandler({eventSource:L,pointerType:lt.type,position:D(lt.currentPos,L.element),quick:en,shift:N.originalEvent.shiftKey,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,originalTarget:lt.originalTarget,userData:L.userData}),L.dblClickHandler&&en&&(Ue.clicks++,Ue.clicks===1?(Te.lastClickPos=gt,Te.dblClickTimeOut=setTimeout(function(){Ue.clicks=0},L.dblClickTimeThreshold)):Ue.clicks===2&&(clearTimeout(Te.dblClickTimeOut),Ue.clicks=0,Te.lastClickPos.distanceTo(gt)<=L.dblClickDistThreshold&&L.dblClickHandler({eventSource:L,pointerType:lt.type,position:D(lt.currentPos,L.element),shift:N.originalEvent.shiftKey,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),Te.lastClickPos=null)))):Ue.contacts===2&&L.pinchHandler&&lt.type==="touch"&&(Te.pinchGPoints=Ue.asArray(),Te.lastPinchDist=Te.currentPinchDist=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Te.lastPinchCenter=Te.currentPinchCenter=q(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos))):(N.shouldReleaseCapture=!1,L.releaseHandler&&gt&&(L.releaseHandler({eventSource:L,pointerType:lt.type,position:D(gt,L.element),buttons:Ue.buttons,insideElementPressed:lt.insideElementPressed,insideElementReleased:lt.insideElement,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0)))}function Lt(L,N,W){var Z=n[L.hash],Te=L.getActivePointersListByType(W.type),Ue,gt,He;if(typeof N.originalEvent.buttons<"u"&&(Te.buttons=N.originalEvent.buttons),Ue=Te.getById(W.id),Ue)Ue.lastPos=Ue.currentPos,Ue.lastTime=Ue.currentTime,Ue.currentPos=W.currentPos,Ue.currentTime=W.currentTime;else return;N.shouldCapture=!1,N.shouldReleaseCapture=!1,L.stopHandler&&W.type==="mouse"&&(clearTimeout(L.stopTimeOut),L.stopTimeOut=setTimeout(function(){Ae(L,N.originalEvent,W.type)},L.stopDelay)),Te.contacts===0?L.moveHandler&&L.moveHandler({eventSource:L,pointerType:W.type,position:D(W.currentPos,L.element),buttons:Te.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:L.userData}):Te.contacts===1?(L.moveHandler&&(Ue=Te.asArray()[0],L.moveHandler({eventSource:L,pointerType:Ue.type,position:D(Ue.currentPos,L.element),buttons:Te.buttons,isTouchEvent:Ue.type==="touch",originalEvent:N.originalEvent,userData:L.userData})),L.dragHandler&&!N.preventGesture&&!N.defaultPrevented&&(Ue=Te.asArray()[0],He=Ue.currentPos.minus(Ue.lastPos),L.dragHandler({eventSource:L,pointerType:Ue.type,position:D(Ue.currentPos,L.element),buttons:Te.buttons,delta:He,speed:Ue.speed,direction:Ue.direction,shift:N.originalEvent.shiftKey,isTouchEvent:Ue.type==="touch",originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0,Z.sentDragEvent=!0)):Te.contacts===2&&(L.moveHandler&&(gt=Te.asArray(),L.moveHandler({eventSource:L,pointerType:gt[0].type,position:D(q(gt[0].currentPos,gt[1].currentPos),L.element),buttons:Te.buttons,isTouchEvent:gt[0].type==="touch",originalEvent:N.originalEvent,userData:L.userData})),L.pinchHandler&&W.type==="touch"&&!N.preventGesture&&!N.defaultPrevented&&(He=Z.pinchGPoints[0].currentPos.distanceTo(Z.pinchGPoints[1].currentPos),He!==Z.currentPinchDist&&(Z.lastPinchDist=Z.currentPinchDist,Z.currentPinchDist=He,Z.lastPinchCenter=Z.currentPinchCenter,Z.currentPinchCenter=q(Z.pinchGPoints[0].currentPos,Z.pinchGPoints[1].currentPos),L.pinchHandler({eventSource:L,pointerType:"touch",gesturePoints:Z.pinchGPoints,lastCenter:D(Z.lastPinchCenter,L.element),center:D(Z.currentPinchCenter,L.element),lastDistance:Z.lastPinchDist,distance:Z.currentPinchDist,shift:N.originalEvent.shiftKey,originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0)))}function me(L,N,W){var Z=L.getActivePointersListByType(W.type),Te;Te=Z.getById(W.id),Te&&Yt(L,Z,Te)}function Ae(L,N,W){L.stopHandler&&L.stopHandler({eventSource:L,pointerType:W,position:_(N,L.element),buttons:L.getActivePointersListByType(W).buttons,isTouchEvent:W==="touch",originalEvent:N,userData:L.userData})}}(i),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(n,r,l){var h=n.parentNode;typeof r=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer=typeof r.attachToViewer>"u"?!0:r.attachToViewer,this.autoFade=typeof r.autoFade>"u"?!0:r.autoFade,this.element=n,this.anchor=r.anchor,this.container=l,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof r.top=="number"?r.top+"px":r.top,this.wrapper.style.left=typeof r.left=="number"?r.left+"px":r.left,this.wrapper.style.height=typeof r.height=="number"?r.height+"px":r.height,this.wrapper.style.width=typeof r.width=="number"?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):h.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(n){this.wrapper.style.display=n?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(n){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,n,!0):t.setElementOpacity(this.wrapper,n,!0)}}}(i),function(t){t.ControlDock=function(r){var l=["topleft","topright","bottomright","bottomleft"],h,d;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},r),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),d=0;d<l.length;d++)h=l[d],this.controls[h]=t.makeNeutralElement("div"),this.controls[h].style.position="absolute",h.match("left")&&(this.controls[h].style.left="0px"),h.match("right")&&(this.controls[h].style.right="0px"),h.match("top")&&(this.controls[h].style.top="0px"),h.match("bottom")&&(this.controls[h].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(r,l){r=t.getElement(r);var h=null;if(!(n(this,r)>=0)){switch(l.anchor){case t.ControlAnchor.TOP_RIGHT:h=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:h=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:h=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:h=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:h=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case t.ControlAnchor.NONE:h=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new t.Control(r,l,h)),r.style.display="inline-block"}},removeControl:function(r){r=t.getElement(r);var l=n(this,r);return l>=0&&(this.controls[l].destroy(),this.controls.splice(l,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var r;for(r=this.controls.length-1;r>=0;r--)if(this.controls[r].isVisible())return!0;return!1},setControlsEnabled:function(r){var l;for(l=this.controls.length-1;l>=0;l--)this.controls[l].setVisible(r);return this}};function n(r,l){var h=r.controls,d;for(d=h.length-1;d>=0;d--)if(h[d].element===l)return d;return-1}}(i),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(i),function(t){var n={},r=1;t.Viewer=function(I){var Q=arguments,xe=this,Ne;if(t.isPlainObject(I)||(I={id:Q[0],xmlPath:Q.length>1?Q[1]:void 0,prefixUrl:Q.length>2?Q[2]:void 0,controls:Q.length>3?Q[3]:void 0,overlays:Q.length>4?Q[4]:void 0}),I.config&&(t.extend(!0,I,I.config),delete I.config),t.extend(!0,this,{id:I.id,hash:I.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,I),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof n[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),n[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(Be){var $e=t.getString("Errors.OpenFailed",Be.eventSource,Be.message);xe._showMessage($e)}),t.ControlDock.call(this,I),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Be){Be.width="100%",Be.height="100%",Be.overflow="hidden",Be.position="absolute",Be.top="0px",Be.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),I.tabIndex!==""&&(this.canvas.tabIndex=I.tabIndex===void 0?0:I.tabIndex),this.container.className="openseadragon-container",function(Be){Be.width="100%",Be.height="100%",Be.position="relative",Be.overflow="hidden",Be.left="0px",Be.top="0px",Be.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,_),keyDownHandler:t.delegate(this,D),keyHandler:t.delegate(this,q),clickHandler:t.delegate(this,G),dblClickHandler:t.delegate(this,ne),dragHandler:t.delegate(this,K),dragEndHandler:t.delegate(this,Y),enterHandler:t.delegate(this,se),leaveHandler:t.delegate(this,ue),pressHandler:t.delegate(this,he),releaseHandler:t.delegate(this,le),nonPrimaryPressHandler:t.delegate(this,ye),nonPrimaryReleaseHandler:t.delegate(this,fe),scrollHandler:t.delegate(this,Se),pinchHandler:t.delegate(this,we),focusHandler:t.delegate(this,Ie),blurHandler:t.delegate(this,je)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,ge),leaveHandler:t.delegate(this,Re)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),n[this.hash].prevContainerSize=l(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){n[xe.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(Be){xe.source=xe.world.getItemAt(0).source,n[xe.hash].forceRedraw=!0,xe._updateRequestId||(xe._updateRequestId=f(xe,_e))}),this.world.addHandler("remove-item",function(Be){xe.world.getItemCount()?xe.source=xe.world.getItemAt(0).source:xe.source=null,n[xe.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Be){xe.viewport&&xe.viewport._setContentBounds(xe.world.getHomeBounds(),xe.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Be){xe.source=xe.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:n[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:I.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Ne=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Ne,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Ne=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Ne,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Ne=0;Ne<this.customControls.length;Ne++)this.addControl(this.customControls[Ne].id,{anchor:this.customControls[Ne].anchor});t.requestAnimationFrame(function(){y(xe)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(I){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(I)},openTileSource:function(I){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(I)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(I,Q){var xe=this;if(this.close(),!I)return this;if(this.sequenceMode&&t.isArray(I))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Q<"u"&&!isNaN(Q)&&(this.initialPage=Q),this.tileSources=I,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(I)||(I=[I]),!I.length)return this;this._opening=!0;for(var Ne=I.length,Be=0,$e=0,Ke,Et=function(){if(Be+$e===Ne)if(Be){(xe._firstOpen||!xe.preserveViewport)&&(xe.viewport.goHome(!0),xe.viewport.update()),xe._firstOpen=!1;var me=I[0];if(me.tileSource&&(me=me.tileSource),xe.overlays&&!xe.preserveOverlays)for(var Ae=0;Ae<xe.overlays.length;Ae++)xe.currentOverlays[Ae]=d(xe,xe.overlays[Ae]);xe._drawOverlays(),xe._opening=!1,xe.raiseEvent("open",{source:me})}else xe._opening=!1,xe.raiseEvent("open-failed",Ke)},It=function(me){(!t.isPlainObject(me)||!me.tileSource)&&(me={tileSource:me}),me.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete me.index),me.collectionImmediately===void 0&&(me.collectionImmediately=!0);var Ae=me.success;me.success=function(N){if(Be++,me.tileSource.overlays)for(var W=0;W<me.tileSource.overlays.length;W++)xe.addOverlay(me.tileSource.overlays[W]);Ae&&Ae(N),Et()};var L=me.error;me.error=function(N){$e++,Ke||(Ke=N),L&&L(N),Et()},xe.addTiledImage(me)},Lt=0;Lt<I.length;Lt++)It(I[Lt]);return this},close:function(){return n[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),n[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(n[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),n[this.navigator.hash]=null,delete n[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),n[this.hash]=null,delete n[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(I){return this.innerTracker.setTracking(I),this.outerTracker.setTracking(I),this.raiseEvent("mouse-enabled",{enabled:I}),this},areControlsEnabled:function(){var I=this.controls.length,Q;for(Q=0;Q<this.controls.length;Q++)I=I&&this.controls[Q].isVisible();return I},setControlsEnabled:function(I){return I?k(this):y(this),this.raiseEvent("controls-enabled",{enabled:I}),this},setDebugMode:function(I){for(var Q=0;Q<this.world.getItemCount();Q++)this.world.getItemAt(Q).debugMode=I;this.debugMode=I,this.forceRedraw()},setAjaxHeaders:function(I,Q){if(I===null&&(I={}),!t.isPlainObject(I)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(Q===void 0&&(Q=!0),this.ajaxHeaders=I,Q){for(var xe=0;xe<this.world.getItemCount();xe++)this.world.getItemAt(xe)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var Ne in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[Ne].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(I){this.buttonGroup.addButton(I)},isFullPage:function(){return n[this.hash].fullPage},setFullPage:function(I){var Q=document.body,xe=Q.style,Ne=document.documentElement.style,Be=this,$e,Ke;if(I===this.isFullPage())return this;var Et={fullPage:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Et),Et.preventDefaultAction)return this;if(I){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=xe.margin,this.docMargin=Ne.margin,xe.margin="0",Ne.margin="0",this.bodyPadding=xe.padding,this.docPadding=Ne.padding,xe.padding="0",Ne.padding="0",this.bodyWidth=xe.width,this.docWidth=Ne.width,xe.width="100%",Ne.width="100%",this.bodyHeight=xe.height,this.docHeight=Ne.height,xe.height="100%",Ne.height="100%",this.bodyDisplay=xe.display,xe.display="block",this.previousBody=[],n[this.hash].prevElementParent=this.element.parentNode,n[this.hash].prevNextSibling=this.element.nextSibling,n[this.hash].prevElementWidth=this.element.style.width,n[this.hash].prevElementHeight=this.element.style.height,$e=Q.childNodes.length,Ke=0;Ke<$e;Ke++)this.previousBody.push(Q.childNodes[0]),Q.removeChild(Q.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Q.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),Q.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),n[this.hash].fullPage=!0,t.delegate(this,ge)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,xe.margin=this.bodyMargin,Ne.margin=this.docMargin,xe.padding=this.bodyPadding,Ne.padding=this.docPadding,xe.width=this.bodyWidth,Ne.width=this.docWidth,xe.height=this.bodyHeight,Ne.height=this.docHeight,xe.display=this.bodyDisplay,Q.removeChild(this.element),$e=this.previousBody.length,Ke=0;Ke<$e;Ke++)Q.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),n[this.hash].prevElementParent.insertBefore(this.element,n[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Q.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=n[this.hash].prevElementWidth,this.element.style.height=n[this.hash].prevElementHeight;var It=0,Lt=function(){t.setPageScroll(Be.pageScroll);var me=t.getPageScroll();It++,It<10&&(me.x!==Be.pageScroll.x||me.y!==Be.pageScroll.y)&&t.requestAnimationFrame(Lt)};t.requestAnimationFrame(Lt),n[this.hash].fullPage=!1,t.delegate(this,Re)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:I}),this},setFullScreen:function(I){var Q=this;if(!t.supportsFullScreen)return this.setFullPage(I);if(t.isFullScreen()===I)return this;var xe={fullScreen:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",xe),xe.preventDefaultAction)return this;if(I){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Ne=function(){var Be=t.isFullScreen();Be||(t.removeEvent(document,t.fullScreenEventName,Ne),t.removeEvent(document,t.fullScreenErrorEventName,Ne),Q.setFullPage(!1),Q.isFullPage()&&(Q.element.style.width=Q.fullPageStyleWidth,Q.element.style.height=Q.fullPageStyleHeight)),Q.navigator&&Q.viewport&&setTimeout(function(){Q.navigator.update(Q.viewport)}),Q.raiseEvent("full-screen",{fullScreen:Be})};t.addEvent(document,t.fullScreenEventName,Ne),t.addEvent(document,t.fullScreenErrorEventName,Ne),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(I){return this.container.style.visibility=I?"":"hidden",this.raiseEvent("visible",{visible:I}),this},addTiledImage:function(I){t.console.assert(I,"[Viewer.addTiledImage] options is required"),t.console.assert(I.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!I.replace||I.index>-1&&I.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Q=this;I.replace&&(I.replaceItem=Q.world.getItemAt(I.index)),this._hideMessage(),I.placeholderFillStyle===void 0&&(I.placeholderFillStyle=this.placeholderFillStyle),I.opacity===void 0&&(I.opacity=this.opacity),I.preload===void 0&&(I.preload=this.preload),I.compositeOperation===void 0&&(I.compositeOperation=this.compositeOperation),I.crossOriginPolicy===void 0&&(I.crossOriginPolicy=I.tileSource.crossOriginPolicy!==void 0?I.tileSource.crossOriginPolicy:this.crossOriginPolicy),I.ajaxWithCredentials===void 0&&(I.ajaxWithCredentials=this.ajaxWithCredentials),I.loadTilesWithAjax===void 0&&(I.loadTilesWithAjax=this.loadTilesWithAjax),t.isPlainObject(I.ajaxHeaders)||(I.ajaxHeaders={});var xe={options:I};function Ne(Ke){for(var Et=0;Et<Q._loadQueue.length;Et++)if(Q._loadQueue[Et]===xe){Q._loadQueue.splice(Et,1);break}Q._loadQueue.length===0&&Be(xe),Q.raiseEvent("add-item-failed",Ke),I.error&&I.error(Ke)}function Be(Ke){Q.collectionMode&&(Q.world.arrange({immediately:Ke.options.collectionImmediately,rows:Q.collectionRows,columns:Q.collectionColumns,layout:Q.collectionLayout,tileSize:Q.collectionTileSize,tileMargin:Q.collectionTileMargin}),Q.world.setAutoRefigureSizes(!0))}if(t.isArray(I.tileSource)){setTimeout(function(){Ne({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:I.tileSource,options:I})});return}this._loadQueue.push(xe);function $e(){for(var Ke,Et,It;Q._loadQueue.length&&(Ke=Q._loadQueue[0],!!Ke.tileSource);){if(Q._loadQueue.splice(0,1),Ke.options.replace){var Lt=Q.world.getIndexOfItem(Ke.options.replaceItem);Lt!==-1&&(Ke.options.index=Lt),Q.world.removeItem(Ke.options.replaceItem)}Et=new t.TiledImage({viewer:Q,source:Ke.tileSource,viewport:Q.viewport,drawer:Q.drawer,tileCache:Q.tileCache,imageLoader:Q.imageLoader,x:Ke.options.x,y:Ke.options.y,width:Ke.options.width,height:Ke.options.height,fitBounds:Ke.options.fitBounds,fitBoundsPlacement:Ke.options.fitBoundsPlacement,clip:Ke.options.clip,placeholderFillStyle:Ke.options.placeholderFillStyle,opacity:Ke.options.opacity,preload:Ke.options.preload,degrees:Ke.options.degrees,flipped:Ke.options.flipped,compositeOperation:Ke.options.compositeOperation,springStiffness:Q.springStiffness,animationTime:Q.animationTime,minZoomImageRatio:Q.minZoomImageRatio,wrapHorizontal:Q.wrapHorizontal,wrapVertical:Q.wrapVertical,immediateRender:Q.immediateRender,blendTime:Q.blendTime,alwaysBlend:Q.alwaysBlend,minPixelRatio:Q.minPixelRatio,smoothTileEdgesMinZoom:Q.smoothTileEdgesMinZoom,iOSDevice:Q.iOSDevice,crossOriginPolicy:Ke.options.crossOriginPolicy,ajaxWithCredentials:Ke.options.ajaxWithCredentials,loadTilesWithAjax:Ke.options.loadTilesWithAjax,ajaxHeaders:Ke.options.ajaxHeaders,debugMode:Q.debugMode,subPixelRoundingForTransparency:Q.subPixelRoundingForTransparency}),Q.collectionMode&&Q.world.setAutoRefigureSizes(!1),Q.navigator&&(It=t.extend({},Ke.options,{replace:!1,originalTiledImage:Et,tileSource:Ke.tileSource}),Q.navigator.addTiledImage(It)),Q.world.addItem(Et,{index:Ke.options.index}),Q._loadQueue.length===0&&Be(Ke),Q.world.getItemCount()===1&&!Q.preserveViewport&&Q.viewport.goHome(!0),Ke.options.success&&Ke.options.success({item:Et})}}h(this,I.tileSource,I,function(Ke){xe.tileSource=Ke,$e()},function(Ke){Ke.options=I,Ne(Ke),$e()})},addSimpleImage:function(I){t.console.assert(I,"[Viewer.addSimpleImage] options is required"),t.console.assert(I.url,"[Viewer.addSimpleImage] options.url is required");var Q=t.extend({},I,{tileSource:{type:"image",url:I.url}});delete Q.url,this.addTiledImage(Q)},addLayer:function(I){var Q=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var xe=t.extend({},I,{success:function(Ne){Q.raiseEvent("add-layer",{options:I,drawer:Ne.item})},error:function(Ne){Q.raiseEvent("add-layer-failed",Ne)}});return this.addTiledImage(xe),this},getLayerAtLevel:function(I){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(I)},getLevelOfLayer:function(I){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(I)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(I,Q){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(I,Q)},removeLayer:function(I){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(I)},forceRedraw:function(){return n[this.hash].forceRedraw=!0,this},forceResize:function(){n[this.hash].needsResize=!0,n[this.hash].forceResize=!0},bindSequenceControls:function(){var I=t.delegate(this,C),Q=t.delegate(this,P),xe=t.delegate(this,this.goToNextPage),Ne=t.delegate(this,this.goToPreviousPage),Be=this.navImages,$e=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&($e=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:ee(this.prefixUrl,Be.previous.REST),srcGroup:ee(this.prefixUrl,Be.previous.GROUP),srcHover:ee(this.prefixUrl,Be.previous.HOVER),srcDown:ee(this.prefixUrl,Be.previous.DOWN),onRelease:Ne,onFocus:I,onBlur:Q}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:ee(this.prefixUrl,Be.next.REST),srcGroup:ee(this.prefixUrl,Be.next.GROUP),srcHover:ee(this.prefixUrl,Be.next.HOVER),srcDown:ee(this.prefixUrl,Be.next.DOWN),onRelease:xe,onFocus:I,onBlur:Q}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),$e&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var I=t.delegate(this,kt),Q=t.delegate(this,at),xe=t.delegate(this,Tt),Ne=t.delegate(this,tt),Be=t.delegate(this,rt),$e=t.delegate(this,xt),Ke=t.delegate(this,Ht),Et=t.delegate(this,on),It=t.delegate(this,Dt),Lt=t.delegate(this,Yt),me=t.delegate(this,C),Ae=t.delegate(this,P),L=this.navImages,N=[],W=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(W=!1),this.showZoomControl&&(N.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:ee(this.prefixUrl,L.zoomIn.REST),srcGroup:ee(this.prefixUrl,L.zoomIn.GROUP),srcHover:ee(this.prefixUrl,L.zoomIn.HOVER),srcDown:ee(this.prefixUrl,L.zoomIn.DOWN),onPress:I,onRelease:Q,onClick:xe,onEnter:I,onExit:Q,onFocus:me,onBlur:Ae})),N.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:ee(this.prefixUrl,L.zoomOut.REST),srcGroup:ee(this.prefixUrl,L.zoomOut.GROUP),srcHover:ee(this.prefixUrl,L.zoomOut.HOVER),srcDown:ee(this.prefixUrl,L.zoomOut.DOWN),onPress:Ne,onRelease:Q,onClick:Be,onEnter:Ne,onExit:Q,onFocus:me,onBlur:Ae}))),this.showHomeControl&&N.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:ee(this.prefixUrl,L.home.REST),srcGroup:ee(this.prefixUrl,L.home.GROUP),srcHover:ee(this.prefixUrl,L.home.HOVER),srcDown:ee(this.prefixUrl,L.home.DOWN),onRelease:$e,onFocus:me,onBlur:Ae})),this.showFullPageControl&&N.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:ee(this.prefixUrl,L.fullpage.REST),srcGroup:ee(this.prefixUrl,L.fullpage.GROUP),srcHover:ee(this.prefixUrl,L.fullpage.HOVER),srcDown:ee(this.prefixUrl,L.fullpage.DOWN),onRelease:Ke,onFocus:me,onBlur:Ae})),this.showRotationControl&&(N.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:ee(this.prefixUrl,L.rotateleft.REST),srcGroup:ee(this.prefixUrl,L.rotateleft.GROUP),srcHover:ee(this.prefixUrl,L.rotateleft.HOVER),srcDown:ee(this.prefixUrl,L.rotateleft.DOWN),onRelease:Et,onFocus:me,onBlur:Ae})),N.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:ee(this.prefixUrl,L.rotateright.REST),srcGroup:ee(this.prefixUrl,L.rotateright.GROUP),srcHover:ee(this.prefixUrl,L.rotateright.HOVER),srcDown:ee(this.prefixUrl,L.rotateright.DOWN),onRelease:It,onFocus:me,onBlur:Ae}))),this.showFlipControl&&N.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:ee(this.prefixUrl,L.flip.REST),srcGroup:ee(this.prefixUrl,L.flip.GROUP),srcHover:ee(this.prefixUrl,L.flip.HOVER),srcDown:ee(this.prefixUrl,L.flip.DOWN),onRelease:Lt,onFocus:me,onBlur:Ae})),W?(this.buttonGroup=new t.ButtonGroup({buttons:N,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Ye)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=N),this},currentPage:function(){return this._sequenceIndex},goToPage:function(I){return this.tileSources&&I>=0&&I<this.tileSources.length&&(this._sequenceIndex=I,this._updateSequenceButtons(I),this.open(this.tileSources[I]),this.referenceStrip&&this.referenceStrip.setFocus(I),this.raiseEvent("page",{page:I})),this},addOverlay:function(I,Q,xe,Ne){var Be;if(t.isPlainObject(I)?Be=I:Be={element:I,location:Q,placement:xe,onDraw:Ne},I=t.getElement(Be.element),p(this.currentOverlays,I)>=0)return this;var $e=d(this,Be);return this.currentOverlays.push($e),$e.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:I,location:Be.location,placement:Be.placement}),this},updateOverlay:function(I,Q,xe){var Ne;return I=t.getElement(I),Ne=p(this.currentOverlays,I),Ne>=0&&(this.currentOverlays[Ne].update(Q,xe),n[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:I,location:Q,placement:xe})),this},removeOverlay:function(I){var Q;return I=t.getElement(I),Q=p(this.currentOverlays,I),Q>=0&&(this.currentOverlays[Q].destroy(),this.currentOverlays.splice(Q,1),n[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:I})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return n[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(I){var Q;return I=t.getElement(I),Q=p(this.currentOverlays,I),Q>=0?this.currentOverlays[Q]:null},_updateSequenceButtons:function(I){this.nextButton&&(!this.tileSources||this.tileSources.length-1===I?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(I>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(I){this._hideMessage();var Q=t.makeNeutralElement("div");Q.appendChild(document.createTextNode(I)),this.messageDiv=t.makeCenteredNode(Q),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var I=this.messageDiv;I&&(I.parentNode.removeChild(I),delete this.messageDiv)},gestureSettingsByDeviceType:function(I){switch(I){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var I,Q=this.currentOverlays.length;for(I=0;I<Q;I++)this.currentOverlays[I].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var I=t.pixelDensityRatio,Q=t.getCurrentPixelDensityRatio();I!==Q&&(t.pixelDensityRatio=Q,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var I=this._sequenceIndex-1;this.navPrevNextWrap&&I<0&&(I+=this.tileSources.length),this.goToPage(I)},goToNextPage:function(){var I=this._sequenceIndex+1;this.navPrevNextWrap&&I>=this.tileSources.length&&(I=0),this.goToPage(I)},isAnimating:function(){return n[this.hash].animating}});function l(I){return I=t.getElement(I),new t.Point(I.clientWidth===0?1:I.clientWidth,I.clientHeight===0?1:I.clientHeight)}function h(I,Q,xe,Ne,Be){var $e=I;if(t.type(Q)==="string"){if(Q.match(/^\s*<.*>\s*$/))Q=t.parseXml(Q);else if(Q.match(/^\s*[{[].*[}\]]\s*$/))try{var Ke=t.parseJSON(Q);Q=Ke}catch{}}function Et(It,Lt){It.ready?Ne(It):(It.addHandler("ready",function(){Ne(It)}),It.addHandler("open-failed",function(me){Be({message:me.message,source:Lt})}))}setTimeout(function(){if(t.type(Q)==="string")Q=new t.TileSource({url:Q,crossOriginPolicy:xe.crossOriginPolicy!==void 0?xe.crossOriginPolicy:I.crossOriginPolicy,ajaxWithCredentials:I.ajaxWithCredentials,ajaxHeaders:xe.ajaxHeaders?xe.ajaxHeaders:I.ajaxHeaders,splitHashDataForPost:I.splitHashDataForPost,useCanvas:I.useCanvas,success:function(Ae){Ne(Ae.tileSource)}}),Q.addHandler("open-failed",function(Ae){Be(Ae)});else if(t.isPlainObject(Q)||Q.nodeType)if(Q.crossOriginPolicy===void 0&&(xe.crossOriginPolicy!==void 0||I.crossOriginPolicy!==void 0)&&(Q.crossOriginPolicy=xe.crossOriginPolicy!==void 0?xe.crossOriginPolicy:I.crossOriginPolicy),Q.ajaxWithCredentials===void 0&&(Q.ajaxWithCredentials=I.ajaxWithCredentials),Q.useCanvas===void 0&&(Q.useCanvas=I.useCanvas),t.isFunction(Q.getTileUrl)){var It=new t.TileSource(Q);It.getTileUrl=Q.getTileUrl,Ne(It)}else{var Lt=t.TileSource.determineType($e,Q);if(!Lt){Be({message:"Unable to load TileSource",source:Q});return}var me=Lt.prototype.configure.apply($e,[Q]);Et(new Lt(me),Q)}else Et(Q,Q)})}function d(I,Q){if(Q instanceof t.Overlay)return Q;var xe=null;if(Q.element)xe=t.getElement(Q.element);else{var Ne=Q.id?Q.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);xe=t.getElement(Q.id),xe||(xe=document.createElement("a"),xe.href="#/overlay/"+Ne),xe.id=Ne,t.addClass(xe,Q.className?Q.className:"openseadragon-overlay")}var Be=Q.location,$e=Q.width,Ke=Q.height;if(!Be){var Et=Q.x,It=Q.y;if(Q.px!==void 0){var Lt=I.viewport.imageToViewportRectangle(new t.Rect(Q.px,Q.py,$e||0,Ke||0));Et=Lt.x,It=Lt.y,$e=$e!==void 0?Lt.width:void 0,Ke=Ke!==void 0?Lt.height:void 0}Be=new t.Point(Et,It)}var me=Q.placement;return me&&t.type(me)==="string"&&(me=t.Placement[Q.placement.toUpperCase()]),new t.Overlay({element:xe,location:Be,placement:me,onDraw:Q.onDraw,checkResize:Q.checkResize,width:$e,height:Ke,rotationMode:Q.rotationMode})}function p(I,Q){var xe;for(xe=I.length-1;xe>=0;xe--)if(I[xe].element===Q)return xe;return-1}function f(I,Q){return t.requestAnimationFrame(function(){Q(I)})}function g(I){t.requestAnimationFrame(function(){S(I)})}function y(I){I.autoHideControls&&(I.controlsShouldFade=!0,I.controlsFadeBeginTime=t.now()+I.controlsFadeDelay,window.setTimeout(function(){g(I)},I.controlsFadeDelay))}function S(I){var Q,xe,Ne,Be;if(I.controlsShouldFade){for(Q=t.now(),xe=Q-I.controlsFadeBeginTime,Ne=1-xe/I.controlsFadeLength,Ne=Math.min(1,Ne),Ne=Math.max(0,Ne),Be=I.controls.length-1;Be>=0;Be--)I.controls[Be].autoFade&&I.controls[Be].setOpacity(Ne);Ne>0&&g(I)}}function k(I){var Q;for(I.controlsShouldFade=!1,Q=I.controls.length-1;Q>=0;Q--)I.controls[Q].setOpacity(1)}function C(){k(this)}function P(){y(this)}function _(I){var Q={tracker:I.eventSource,position:I.position,originalEvent:I.originalEvent,preventDefault:I.preventDefault};this.raiseEvent("canvas-contextmenu",Q),I.preventDefault=Q.preventDefault}function D(I){var Q={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan||!this.panVertical,preventHorizontalPan:I.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Q),!Q.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 38:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 40:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 37:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 39:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 87:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 83:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 65:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 68:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 82:I.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),I.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function q(I){var Q={originalEvent:I.originalEvent};this.raiseEvent("canvas-key-press",Q)}function G(I){var Q,xe=document.activeElement===this.canvas;xe||this.canvas.focus(),this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x);var Ne={tracker:I.eventSource,position:I.position,quick:I.quick,shift:I.shift,originalEvent:I.originalEvent,originalTarget:I.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Ne),!Ne.preventDefaultAction&&this.viewport&&I.quick&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.clickToZoom===!0&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,Q.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()),Q.dblClickDragToZoom&&(n[this.hash].draggingToZoom===!0?(n[this.hash].lastClickTime=null,n[this.hash].draggingToZoom=!1):n[this.hash].lastClickTime=t.now()))}function ne(I){var Q,xe={tracker:I.eventSource,position:I.position,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",xe),!xe.preventDefaultAction&&this.viewport&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.dblClickToZoom&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,Q.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()))}function K(I){var Q,xe={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,delta:I.delta,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",xe),Q=this.gestureSettingsByDeviceType(I.pointerType),!xe.preventDefaultAction&&this.viewport){if(Q.dblClickDragToZoom&&n[this.hash].draggingToZoom){var Ne=Math.pow(this.zoomPerDblClickDrag,I.delta.y/50);this.viewport.zoomBy(Ne)}else if(Q.dragToPan&&!n[this.hash].draggingToZoom){if(this.panHorizontal||(I.delta.x=0),this.panVertical||(I.delta.y=0),this.viewport.flipped&&(I.delta.x=-I.delta.x),this.constrainDuringPan){var Be=this.viewport.deltaPointsFromPixels(I.delta.negate());this.viewport.centerSpringX.target.value+=Be.x,this.viewport.centerSpringY.target.value+=Be.y;var $e=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Be.x,this.viewport.centerSpringY.target.value-=Be.y,$e.xConstrained&&(I.delta.x=0),$e.yConstrained&&(I.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(I.delta.negate()),Q.flickEnabled&&!this.constrainDuringPan)}}}function Y(I){var Q,xe={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",xe),Q=this.gestureSettingsByDeviceType(I.pointerType),!xe.preventDefaultAction&&this.viewport){if(!n[this.hash].draggingToZoom&&Q.flickEnabled&&I.speed>=Q.flickMinSpeed){var Ne=0;this.panHorizontal&&(Ne=Q.flickMomentum*I.speed*Math.cos(I.direction));var Be=0;this.panVertical&&(Be=Q.flickMomentum*I.speed*Math.sin(I.direction));var $e=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Ke=this.viewport.pointFromPixel(new t.Point($e.x-Ne,$e.y-Be));this.viewport.panTo(Ke,!1)}this.viewport.applyConstraints()}Q.dblClickDragToZoom&&n[this.hash].draggingToZoom===!0&&(n[this.hash].draggingToZoom=!1)}function se(I){this.raiseEvent("canvas-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function ue(I){this.raiseEvent("canvas-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function he(I){var Q;if(this.raiseEvent("canvas-press",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent}),Q=this.gestureSettingsByDeviceType(I.pointerType),Q.dblClickDragToZoom){var xe=n[this.hash].lastClickTime,Ne=t.now();if(xe===null)return;Ne-xe<this.dblClickTimeThreshold&&(n[this.hash].draggingToZoom=!0),n[this.hash].lastClickTime=null}}function le(I){this.raiseEvent("canvas-release",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent})}function ye(I){this.raiseEvent("canvas-nonprimary-press",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function fe(I){this.raiseEvent("canvas-nonprimary-release",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function we(I){var Q,xe,Ne,Be,$e={tracker:I.eventSource,pointerType:I.pointerType,gesturePoints:I.gesturePoints,lastCenter:I.lastCenter,center:I.center,lastDistance:I.lastDistance,distance:I.distance,shift:I.shift,originalEvent:I.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",$e),this.viewport&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.pinchToZoom&&(!$e.preventDefaultPanAction||!$e.preventDefaultZoomAction)&&(xe=this.viewport.pointFromPixel(I.center,!0),Q.zoomToRefPoint&&!$e.preventDefaultPanAction&&(Ne=this.viewport.pointFromPixel(I.lastCenter,!0),Be=Ne.minus(xe),this.panHorizontal||(Be.x=0),this.panVertical||(Be.y=0),this.viewport.panBy(Be,!0)),$e.preventDefaultZoomAction||this.viewport.zoomBy(I.distance/I.lastDistance,xe,!0),this.viewport.applyConstraints()),Q.pinchRotate&&!$e.preventDefaultRotateAction)){var Ke=Math.atan2(I.gesturePoints[0].currentPos.y-I.gesturePoints[1].currentPos.y,I.gesturePoints[0].currentPos.x-I.gesturePoints[1].currentPos.x),Et=Math.atan2(I.gesturePoints[0].lastPos.y-I.gesturePoints[1].lastPos.y,I.gesturePoints[0].lastPos.x-I.gesturePoints[1].lastPos.x);xe=this.viewport.pointFromPixel(I.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(Ke-Et)*(180/Math.PI),xe,!0)}}function Ie(I){this.raiseEvent("canvas-focus",{tracker:I.eventSource,originalEvent:I.originalEvent})}function je(I){this.raiseEvent("canvas-blur",{tracker:I.eventSource,originalEvent:I.originalEvent})}function Se(I){var Q,xe,Ne,Be,$e;Be=t.now(),$e=Be-this._lastScrollTime,$e>this.minScrollDeltaTime?(this._lastScrollTime=Be,Q={tracker:I.eventSource,position:I.position,scroll:I.scroll,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Q),!Q.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x),xe=this.gestureSettingsByDeviceType(I.pointerType),xe.scrollToZoom&&(Ne=Math.pow(this.zoomPerScroll,I.scroll),this.viewport.zoomBy(Ne,xe.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints())),I.preventDefault=Q.preventDefault):I.preventDefault=!0}function ge(I){n[this.hash].mouseInside=!0,k(this),this.raiseEvent("container-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Re(I){I.pointers<1&&(n[this.hash].mouseInside=!1,n[this.hash].animating||y(this)),this.raiseEvent("container-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function _e(I){ze(I),I.isOpen()?I._updateRequestId=f(I,_e):I._updateRequestId=!1}function J(I,Q){var xe=I.viewport,Ne=xe.getZoom(),Be=xe.getCenter();xe.resize(Q,I.preserveImageSizeOnResize),xe.panTo(Be,!0);var $e;if(I.preserveImageSizeOnResize)$e=n[I.hash].prevContainerSize.x/Q.x;else{var Ke=new t.Point(0,0),Et=new t.Point(n[I.hash].prevContainerSize.x,n[I.hash].prevContainerSize.y).distanceTo(Ke),It=new t.Point(Q.x,Q.y).distanceTo(Ke);$e=It/Et*n[I.hash].prevContainerSize.x/Q.x}xe.zoomTo(Ne*$e,null,!0),n[I.hash].prevContainerSize=Q,n[I.hash].forceRedraw=!0,n[I.hash].needsResize=!1,n[I.hash].forceResize=!1}function ze(I){if(!(I._opening||!n[I.hash])){if(I.autoResize||n[I.hash].forceResize){var Q;if(I._autoResizePolling){Q=l(I.container);var xe=n[I.hash].prevContainerSize;Q.equals(xe)||(n[I.hash].needsResize=!0)}n[I.hash].needsResize&&J(I,Q||l(I.container))}var Ne=I.viewport.update(),Be=I.world.update()||Ne;Ne&&I.raiseEvent("viewport-change"),I.referenceStrip&&(Be=I.referenceStrip.update(I.viewport)||Be);var $e=n[I.hash].animating;!$e&&Be&&(I.raiseEvent("animation-start"),k(I));var Ke=$e&&!Be;Ke&&(n[I.hash].animating=!1),(Be||Ke||n[I.hash].forceRedraw||I.world.needsDraw())&&(st(I),I._drawOverlays(),I.navigator&&I.navigator.update(I.viewport),n[I.hash].forceRedraw=!1,Be&&I.raiseEvent("animation")),Ke&&(I.raiseEvent("animation-finish"),n[I.hash].mouseInside||y(I)),n[I.hash].animating=Be}}function st(I){I.imageLoader.clear(),I.drawer.clear(),I.world.draw(),I.raiseEvent("update-viewport",{})}function ee(I,Q){return I?I+Q:Q}function kt(){n[this.hash].lastZoomTime=t.now(),n[this.hash].zoomFactor=this.zoomPerSecond,n[this.hash].zooming=!0,yt(this)}function tt(){n[this.hash].lastZoomTime=t.now(),n[this.hash].zoomFactor=1/this.zoomPerSecond,n[this.hash].zooming=!0,yt(this)}function at(){n[this.hash].zooming=!1}function yt(I){t.requestAnimationFrame(t.delegate(I,Ot))}function Ot(){var I,Q,xe;n[this.hash].zooming&&this.viewport&&(I=t.now(),Q=I-n[this.hash].lastZoomTime,xe=Math.pow(n[this.hash].zoomFactor,Q/1e3),this.viewport.zoomBy(xe),this.viewport.applyConstraints(),n[this.hash].lastZoomTime=I,yt(this))}function Tt(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function rt(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Ye(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function xt(){this.viewport&&this.viewport.goHome()}function Ht(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function on(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I+=this.rotationIncrement:I-=this.rotationIncrement,this.viewport.setRotation(I)}}function Dt(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I-=this.rotationIncrement:I+=this.rotationIncrement,this.viewport.setRotation(I)}}function Yt(){this.viewport.toggleFlip()}}(i),function(t){t.Navigator=function(f){var g=f.viewer,y=this,S,k;f.element||f.id?(f.element?(f.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),f.element.id?f.id=f.element.id:f.id="navigator-"+t.now(),this.element=f.element):this.element=document.getElementById(f.id),f.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(f.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),f.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:f.autoFade},f.position&&(f.position==="BOTTOM_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:f.position==="BOTTOM_LEFT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:f.position==="TOP_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:f.position==="TOP_LEFT"?f.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:f.position==="ABSOLUTE"&&(f.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,f.controlOptions.top=f.top,f.controlOptions.left=f.left,f.controlOptions.height=f.height,f.controlOptions.width=f.width))),this.element.id=f.id,this.element.className+=" navigator",f=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},f,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:f.animationTime,autoResize:!1,minZoomImageRatio:1,background:f.background,opacity:f.opacity,borderColor:f.borderColor,displayRegionColor:f.displayRegionColor}),f.minPixelRatio=this.minPixelRatio=g.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),f.controlOptions.anchor!==t.ControlAnchor.NONE&&function(_,D){_.margin="0px",_.border=D+"px solid "+f.borderColor,_.padding="0px",_.background=f.background,_.opacity=f.opacity,_.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(_,D){_.position="relative",_.top="0px",_.left="0px",_.fontSize="0px",_.overflow="hidden",_.border=D+"px solid "+f.displayRegionColor,_.margin="0px",_.padding="0px",_.background="transparent",_.float="left",_.cssFloat="left",_.styleFloat="left",_.zIndex=999999999,_.cursor="default",_.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),g.addControl(this.element,f.controlOptions),this._resizeWithViewer=f.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&f.controlOptions.anchor!==t.ControlAnchor.NONE,f.width&&f.height?(this.setWidth(f.width),this.setHeight(f.height)):this._resizeWithViewer&&(S=t.getElementSize(g.element),this.element.style.height=Math.round(S.y*f.sizeRatio)+"px",this.element.style.width=Math.round(S.x*f.sizeRatio)+"px",this.oldViewerSize=S,k=t.getElementSize(this.element),this.elementArea=k.x*k.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[f]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function C(_,D){d(y.displayRegionContainer,_),d(y.displayRegion,-_),y.viewport.setRotation(_,D)}if(f.navigatorRotate){var P=f.viewer.viewport?f.viewer.viewport.getRotation():f.viewer.degrees||0;C(P,!0),f.viewer.addHandler("rotate",function(_){C(_.degrees,_.immediately)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,r),clickHandler:t.delegate(this,n),releaseHandler:t.delegate(this,l),scrollHandler:t.delegate(this,h),preProcessEventHandler:function(_){_.eventType==="wheel"&&(_.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){y.viewport&&y.viewport.goHome(!0)}),g.world.addHandler("item-index-change",function(_){window.setTimeout(function(){var D=y.world.getItemAt(_.previousIndex);y.world.setItemIndex(D,_.newIndex)},1)}),g.world.addHandler("remove-item",function(_){var D=_.item,q=y._getMatchingItem(D);q&&y.world.removeItem(q)}),this.update(g.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var f=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);f.equals(this.oldContainerSize)||(this.viewport.resize(f,!0),this.viewport.goHome(!0),this.oldContainerSize=f,this.drawer.clear(),this.world.draw())}},setWidth:function(f){this.width=f,this.element.style.width=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(f){this.height=f,this.element.style.height=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(f){return this.viewport.setFlip(f),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(f){p(this.displayRegion,f),p(this.canvas,f),p(this.element,f)},update:function(f){var g,y,S,k,C,P;if(g=t.getElementSize(this.viewer.element),this._resizeWithViewer&&g.x&&g.y&&!g.equals(this.oldViewerSize)&&(this.oldViewerSize=g,this.maintainSizeRatio||!this.elementArea?(y=g.x*this.sizeRatio,S=g.y*this.sizeRatio):(y=Math.sqrt(this.elementArea*(g.x/g.y)),S=this.elementArea/y),this.element.style.width=Math.round(y)+"px",this.element.style.height=Math.round(S)+"px",this.elementArea||(this.elementArea=y*S),this.updateSize()),f&&this.viewport){if(k=f.getBoundsNoRotate(!0),C=this.viewport.pixelFromPointNoRotate(k.getTopLeft(),!1),P=this.viewport.pixelFromPointNoRotate(k.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var _=f.getRotation(!0);d(this.displayRegion,-_)}var D=this.displayRegion.style;D.display=this.world.getItemCount()?"block":"none",D.top=C.y.toFixed(2)+"px",D.left=C.x.toFixed(2)+"px";var q=P.x-C.x,G=P.y-C.y;D.width=Math.round(Math.max(q,0))+"px",D.height=Math.round(Math.max(G,0))+"px"}},addTiledImage:function(f){var g=this,y=f.originalTiledImage;delete f.original;var S=t.extend({},f,{success:function(k){var C=k.item;C._originalForNavigator=y,g._matchBounds(C,y,!0),g._matchOpacity(C,y),g._matchCompositeOperation(C,y);function P(){g._matchBounds(C,y)}function _(){g._matchOpacity(C,y)}function D(){g._matchCompositeOperation(C,y)}y.addHandler("bounds-change",P),y.addHandler("clip-change",P),y.addHandler("opacity-change",_),y.addHandler("composite-operation-change",D)}});return t.Viewer.prototype.addTiledImage.apply(this,[S])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(f){for(var g=this.world.getItemCount(),y,S=0;S<g;S++)if(y=this.world.getItemAt(S),y._originalForNavigator===f)return y;return null},_matchBounds:function(f,g,y){var S=g.getBoundsNoRotate();f.setPosition(S.getTopLeft(),y),f.setWidth(S.width,y),f.setRotation(g.getRotation(),y),f.setClip(g.getClip()),f.setFlip(g.getFlip())},_matchOpacity:function(f,g){f.setOpacity(g.opacity)},_matchCompositeOperation:function(f,g){f.setCompositeOperation(g.compositeOperation)}});function n(f){var g={tracker:f.eventSource,position:f.position,quick:f.quick,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",g),!g.preventDefaultAction&&f.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(f.position.x=this.viewport.getContainerSize().x-f.position.x);var y=this.viewport.pointFromPixel(f.position);this.panVertical?this.panHorizontal||(y.x=this.viewer.viewport.getCenter(!0).x):y.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(y),this.viewer.viewport.applyConstraints()}}function r(f){var g={tracker:f.eventSource,position:f.position,delta:f.delta,speed:f.speed,direction:f.direction,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",g),!g.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(f.delta.x=0),this.panVertical||(f.delta.y=0),this.viewer.viewport.flipped&&(f.delta.x=-f.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(f.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function l(f){f.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function h(f){var g={tracker:f.eventSource,position:f.position,scroll:f.scroll,shift:f.shift,originalEvent:f.originalEvent,preventDefault:f.preventDefault};this.viewer.raiseEvent("navigator-scroll",g),f.preventDefault=g.preventDefault}function d(f,g){p(f,"rotate("+g+"deg)")}function p(f,g){f.style.webkitTransform=g,f.style.mozTransform=g,f.style.msTransform=g,f.style.oTransform=g,f.style.transform=g}}(i),function(t){var n={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(r){var l=r.split("."),h=null,d=arguments,p=n,f;for(f=0;f<l.length-1;f++)p=p[l[f]]||{};return h=p[l[f]],typeof h!="string"&&(t.console.error("Untranslated source string:",r),h=""),h.replace(/\{\d+\}/g,function(g){var y=parseInt(g.match(/\d+/),10)+1;return y<d.length?d[y]:""})},setString:function(r,l){var h=r.split("."),d=n,p;for(p=0;p<h.length-1;p++)d[h[p]]||(d[h[p]]={}),d=d[h[p]];d[h[p]]=l}})}(i),function(t){t.Point=function(n,r){this.x=typeof n=="number"?n:0,this.y=typeof r=="number"?r:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(n){return new t.Point(this.x+n.x,this.y+n.y)},minus:function(n){return new t.Point(this.x-n.x,this.y-n.y)},times:function(n){return new t.Point(this.x*n,this.y*n)},divide:function(n){return new t.Point(this.x/n,this.y/n)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},squaredDistanceTo:function(n){return Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2)},apply:function(n){return new t.Point(n(this.x),n(this.y))},equals:function(n){return n instanceof t.Point&&this.x===n.x&&this.y===n.y},rotate:function(n,r){r=r||new t.Point(0,0);var l,h;if(n%90===0){var d=t.positiveModulo(n,360);switch(d){case 0:l=1,h=0;break;case 90:l=0,h=1;break;case 180:l=-1,h=0;break;case 270:l=0,h=-1;break}}else{var p=n*Math.PI/180;l=Math.cos(p),h=Math.sin(p)}var f=l*(this.x-r.x)-h*(this.y-r.y)+r.x,g=h*(this.x-r.x)+l*(this.y-r.y)+r.y;return new t.Point(f,g)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(i),function(t){t.TileSource=function(r,l,h,d,p,f){var g=this,y=arguments,S,k;if(t.isPlainObject(r)?S=r:S={width:y[0],height:y[1],tileSize:y[2],tileOverlap:y[3],minLevel:y[4],maxLevel:y[5]},t.EventSource.call(this),t.extend(!0,this,S),!this.success){for(k=0;k<arguments.length;k++)if(t.isFunction(arguments[k])){this.success=arguments[k];break}}this.success&&this.addHandler("ready",function(C){g.success(C)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=S.width&&S.height?S.width/S.height:1,this.dimensions=new t.Point(S.width,S.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=S.tileOverlap?S.tileOverlap:0,this.minLevel=S.minLevel?S.minLevel:0,this.maxLevel=S.maxLevel!==void 0&&S.maxLevel!==null?S.maxLevel:S.width&&S.height?Math.ceil(Math.log(Math.max(S.width,S.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(r){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(r){return this._tileWidth?this._tileWidth:this.getTileSize(r)},getTileHeight:function(r){return this._tileHeight?this._tileHeight:this.getTileSize(r)},setMaxLevel:function(r){this.maxLevel=r,this._memoizeLevelScale()},getLevelScale:function(r){return this._memoizeLevelScale(),this.getLevelScale(r)},_memoizeLevelScale:function(){var r={},l;for(l=0;l<=this.maxLevel;l++)r[l]=1/Math.pow(2,this.maxLevel-l);this.getLevelScale=function(h){return r[h]}},getNumTiles:function(r){var l=this.getLevelScale(r),h=Math.ceil(l*this.dimensions.x/this.getTileWidth(r)),d=Math.ceil(l*this.dimensions.y/this.getTileHeight(r));return new t.Point(h,d)},getPixelRatio:function(r){var l=this.dimensions.times(this.getLevelScale(r)),h=1/l.x*t.pixelDensityRatio,d=1/l.y*t.pixelDensityRatio;return new t.Point(h,d)},getClosestLevel:function(){var r,l;for(r=this.minLevel+1;r<=this.maxLevel&&(l=this.getNumTiles(r),!(l.x>1||l.y>1));r++);return r-1},getTileAtPoint:function(r,l){var h=l.x>=0&&l.x<=1&&l.y>=0&&l.y<=1/this.aspectRatio;t.console.assert(h,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.dimensions.x*this.getLevelScale(r),p=l.x*d,f=l.y*d,g=Math.floor(p/this.getTileWidth(r)),y=Math.floor(f/this.getTileHeight(r));l.x>=1&&(g=this.getNumTiles(r).x-1);var S=1e-15;return l.y>=1/this.aspectRatio-S&&(y=this.getNumTiles(r).y-1),new t.Point(g,y)},getTileBounds:function(r,l,h,d){var p=this.dimensions.times(this.getLevelScale(r)),f=this.getTileWidth(r),g=this.getTileHeight(r),y=l===0?0:f*l-this.tileOverlap,S=h===0?0:g*h-this.tileOverlap,k=f+(l===0?1:2)*this.tileOverlap,C=g+(h===0?1:2)*this.tileOverlap,P=1/p.x;return k=Math.min(k,p.x-y),C=Math.min(C,p.y-S),d?new t.Rect(0,0,k,C):new t.Rect(y*P,S*P,k*P,C*P)},getImageInfo:function(r){var l=this,h,d,p,f,g,y,S;r&&(g=r.split("/"),y=g[g.length-1],S=y.lastIndexOf("."),S>-1&&(g[g.length-1]=y.slice(0,S)));var k=null;if(this.splitHashDataForPost){var C=r.indexOf("#");C!==-1&&(k=r.substring(C+1),r=r.substr(0,C))}d=function(P){typeof P=="string"&&(P=t.parseXml(P));var _=t.TileSource.determineType(l,P,r);if(!_){l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r});return}f=_.prototype.configure.apply(l,[P,r,k]),f.ajaxWithCredentials===void 0&&(f.ajaxWithCredentials=l.ajaxWithCredentials),p=new _(f),l.ready=!0,l.raiseEvent("ready",{tileSource:p})},r.match(/\.js$/)?(h=r.split("/").pop().replace(".js",""),t.jsonp({url:r,async:!1,callbackName:h,callback:d})):t.makeAjaxRequest({url:r,postData:k,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(P){var _=n(P);d(_)},error:function(P,_){var D;try{D="HTTP "+P.status+" attempting to load TileSource: "+r}catch{var q;typeof _>"u"||!_.toString?q="Unknown error":q=_.toString(),D=q+" attempting to load TileSource: "+r}t.console.error(D),l.raiseEvent("open-failed",{message:D,source:r,postData:k})}})},supports:function(r,l){return!1},configure:function(r,l,h){throw new Error("Method not implemented.")},getTileUrl:function(r,l,h){throw new Error("Method not implemented.")},getTilePostData:function(r,l,h){return null},getTileAjaxHeaders:function(r,l,h){return{}},getTileHashKey:function(r,l,h,d,p,f){function g(y){return p?y+"+"+JSON.stringify(p):y}return g(typeof d!="string"?r+"/"+l+"_"+h:d)},tileExists:function(r,l,h){var d=this.getNumTiles(r);return r>=this.minLevel&&r<=this.maxLevel&&l>=0&&h>=0&&l<d.x&&h<d.y},hasTransparency:function(r,l,h,d){return!!r||l.match(".png")},downloadTileStart:function(r){var l=r.userData,h=new Image;l.image=h,l.request=null;var d=function(p){if(!h){r.finish(null,l.request,"Image load failed: undefined Image instance.");return}h.onload=h.onerror=h.onabort=null,r.finish(p?null:h,l.request,p)};h.onload=function(){d()},h.onabort=h.onerror=function(){d("Image load aborted.")},r.loadWithAjax?l.request=t.makeAjaxRequest({url:r.src,withCredentials:r.ajaxWithCredentials,headers:r.ajaxHeaders,responseType:"arraybuffer",postData:r.postData,success:function(p){var f;try{f=new window.Blob([p.response])}catch(S){var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(S.name==="TypeError"&&g){var y=new g;y.append(p.response),f=y.getBlob()}}f.size===0?d("Empty image response."):h.src=(window.URL||window.webkitURL).createObjectURL(f)},error:function(p){d("Image load aborted - XHR error")}}):(r.crossOriginPolicy!==!1&&(h.crossOrigin=r.crossOriginPolicy),h.src=r.src)},downloadTileAbort:function(r){r.userData.request&&r.userData.request.abort();var l=r.userData.image;r.userData.image&&(l.onload=l.onerror=l.onabort=null)},createTileCache:function(r,l,h){r._data=l},destroyTileCache:function(r){r._data=null,r._renderedContext=null},getTileCacheData:function(r){return r._data},getTileCacheDataAsImage:function(r){return r._data},getTileCacheDataAsContext2D:function(r){if(!r._renderedContext){var l=document.createElement("canvas");l.width=r._data.width,l.height=r._data.height,r._renderedContext=l.getContext("2d"),r._renderedContext.drawImage(r._data,0,0),r._data=null}return r._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function n(r){var l=r.responseText,h=r.status,d,p;if(r){if(r.status!==200&&r.status!==0)throw h=r.status,d=h===404?"Not Found":r.statusText,new Error(t.getString("Errors.Status",h,d))}else throw new Error(t.getString("Errors.Security"));if(l.match(/^\s*<.*/))try{p=r.responseXML&&r.responseXML.documentElement?r.responseXML:t.parseXml(l)}catch{p=r.responseText}else if(l.match(/\s*[{[].*/))try{p=t.parseJSON(l)}catch{p=l}else p=l;return p}t.TileSource.determineType=function(r,l,h){var d;for(d in i)if(d.match(/.+TileSource$/)&&t.isFunction(i[d])&&t.isFunction(i[d].prototype.supports)&&i[d].prototype.supports.call(r,l,h))return i[d];return t.console.error("No TileSource was able to open %s %s",h,l),null}}(i),function(t){t.DziTileSource=function(l,h,d,p,f,g,y,S,k){var C,P,_,D;if(t.isPlainObject(l)?D=l:D={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=D.tilesUrl,this.fileFormat=D.fileFormat,this.displayRects=D.displayRects,this.displayRects)for(C=this.displayRects.length-1;C>=0;C--)for(P=this.displayRects[C],_=P.minLevel;_<=P.maxLevel;_++)this._levelRects[_]||(this._levelRects[_]=[]),this._levelRects[_].push(P);t.TileSource.apply(this,[D])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(l,h){var d;return l.Image?d=l.Image.xmlns:l.documentElement&&(l.documentElement.localName==="Image"||l.documentElement.tagName==="Image")&&(d=l.documentElement.namespaceURI),d=(d||"").toLowerCase(),d.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||d.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(l,h,d){var p;return t.isPlainObject(l)?p=r(this,l):p=n(this,l),h&&!p.tilesUrl&&(p.tilesUrl=h.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),h.search(/\.(dzi|xml|js)\?/)!==-1?p.queryParams=h.match(/\?.*/):p.queryParams=""),p},getTileUrl:function(l,h,d){return[this.tilesUrl,l,"/",h,"_",d,".",this.fileFormat,this.queryParams].join("")},tileExists:function(l,h,d){var p=this._levelRects[l],f,g,y,S,k,C,P;if(this.minLevel&&l<this.minLevel||this.maxLevel&&l>this.maxLevel)return!1;if(!p||!p.length)return!0;for(P=p.length-1;P>=0;P--)if(f=p[P],!(l<f.minLevel||l>f.maxLevel)&&(g=this.getLevelScale(l),y=f.x*g,S=f.y*g,k=y+f.width*g,C=S+f.height*g,y=Math.floor(y/this._tileWidth),S=Math.floor(S/this._tileWidth),k=Math.ceil(k/this._tileWidth),C=Math.ceil(C/this._tileWidth),y<=h&&h<k&&S<=d&&d<C))return!0;return!1}});function n(l,h){if(!h||!h.documentElement)throw new Error(t.getString("Errors.Xml"));var d=h.documentElement,p=d.localName||d.tagName,f=h.documentElement.namespaceURI,g=null,y=[],S,k,C,P,_;if(p==="Image")try{if(P=d.getElementsByTagName("Size")[0],P===void 0&&(P=d.getElementsByTagNameNS(f,"Size")[0]),g={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:d.getAttribute("Url"),Format:d.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(d.getAttribute("Overlap"),10),TileSize:parseInt(d.getAttribute("TileSize"),10),Size:{Height:parseInt(P.getAttribute("Height"),10),Width:parseInt(P.getAttribute("Width"),10)}}},!t.imageFormatSupported(g.Image.Format))throw new Error(t.getString("Errors.ImageFormat",g.Image.Format.toUpperCase()));for(S=d.getElementsByTagName("DisplayRect"),S===void 0&&(S=d.getElementsByTagNameNS(f,"DisplayRect")[0]),_=0;_<S.length;_++)k=S[_],C=k.getElementsByTagName("Rect")[0],C===void 0&&(C=k.getElementsByTagNameNS(f,"Rect")[0]),y.push({Rect:{X:parseInt(C.getAttribute("X"),10),Y:parseInt(C.getAttribute("Y"),10),Width:parseInt(C.getAttribute("Width"),10),Height:parseInt(C.getAttribute("Height"),10),MinLevel:parseInt(k.getAttribute("MinLevel"),10),MaxLevel:parseInt(k.getAttribute("MaxLevel"),10)}});return y.length&&(g.Image.DisplayRect=y),r(l,g)}catch(G){throw G instanceof Error?G:new Error(t.getString("Errors.Dzi"))}else{if(p==="Collection")throw new Error(t.getString("Errors.Dzc"));if(p==="Error"){var D=d.getElementsByTagName("Message")[0],q=D.firstChild.nodeValue;throw new Error(q)}}throw new Error(t.getString("Errors.Dzi"))}function r(l,h){var d=h.Image,p=d.Url,f=d.Format,g=d.Size,y=d.DisplayRect||[],S=parseInt(g.Width,10),k=parseInt(g.Height,10),C=parseInt(d.TileSize,10),P=parseInt(d.Overlap,10),_=[],D,q;for(q=0;q<y.length;q++)D=y[q].Rect,_.push(new t.DisplayRect(parseInt(D.X,10),parseInt(D.Y,10),parseInt(D.Width,10),parseInt(D.Height,10),parseInt(D.MinLevel,10),parseInt(D.MaxLevel,10)));return t.extend(!0,{width:S,height:k,tileSize:C,tileOverlap:P,minLevel:null,maxLevel:null,tilesUrl:p,fileFormat:f,displayRects:_},h)}}(i),function(t){t.IIIFTileSource=function(d){if(t.extend(!0,this,d),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=d.version,this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var p=0;p<this.tiles.length;p++)for(var f=0;f<this.tiles[p].scaleFactors.length;f++){var g=this.tiles[p].scaleFactors[f];this.scale_factors.push(g),d.tileSizePerScaleFactor[g]={width:this.tiles[p].width,height:this.tiles[p].height||this.tiles[p].width}}}else if(n(d)){for(var y=Math.min(this.height,this.width),S=[256,512,1024],k=[],C=0;C<S.length;C++)S[C]<=y&&k.push(S[C]);k.length>0?d.tileSize=Math.max.apply(null,k):d.tileSize=y}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=r(this),t.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)d.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var P=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(P)*Math.LOG2E)}if(this.sizes){var _=this.sizes.length;(_===d.maxLevel||_===d.maxLevel+1)&&(this.levelSizes=this.sizes,_===d.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}t.TileSource.apply(this,[d])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(d,p){return d.protocol&&d.protocol==="http://iiif.io/api/image"||d["@context"]&&(d["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||d["@context"]==="http://iiif.io/api/image/1/context.json")||d.profile&&d.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||d.identifier&&d.width&&d.height?!0:!!(d.documentElement&&d.documentElement.tagName==="info"&&d.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(d,p,f){if(t.isPlainObject(d)){if(!d["@context"])d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=p.replace("/info.json",""),d.version=1;else{var g=d["@context"];if(Array.isArray(g)){for(var y=0;y<g.length;y++)if(typeof g[y]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(g[y])||g[y]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){g=g[y];break}}switch(g){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":d.version=1;break;case"http://iiif.io/api/image/2/context.json":d.version=2;break;case"http://iiif.io/api/image/3/context.json":d.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(d.preferredFormats){for(var S=0;S<d.preferredFormats.length;S++)if(i.imageFormatSupported(d.preferredFormats[S])){d.tileFormat=d.preferredFormats[S];break}}return d}else{var k=l(d);return k["@context"]="http://iiif.io/api/image/1.0/context.json",k["@id"]=p.replace("/info.xml",""),k.version=1,k}},getTileWidth:function(d){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,d);var p=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].width:this._tileWidth},getTileHeight:function(d){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,d);var p=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].height:this._tileHeight},getLevelScale:function(d){if(this.emulateLegacyImagePyramid){var p=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(p=this.levels[d].width/this.levels[this.maxLevel].width),p}return t.TileSource.prototype.getLevelScale.call(this,d)},getNumTiles:function(d){if(this.emulateLegacyImagePyramid){var p=this.getLevelScale(d);return p?new t.Point(1,1):new t.Point(0,0)}if(this.levelSizes){var f=this.levelSizes[d],g=Math.ceil(f.width/this.getTileWidth(d)),y=Math.ceil(f.height/this.getTileHeight(d));return new t.Point(g,y)}else return t.TileSource.prototype.getNumTiles.call(this,d)},getTileAtPoint:function(d,p){if(this.emulateLegacyImagePyramid)return new t.Point(0,0);if(this.levelSizes){var f=p.x>=0&&p.x<=1&&p.y>=0&&p.y<=1/this.aspectRatio;t.console.assert(f,"[TileSource.getTileAtPoint] must be called with a valid point.");var g=this.levelSizes[d].width,y=p.x*g,S=p.y*g,k=Math.floor(y/this.getTileWidth(d)),C=Math.floor(S/this.getTileHeight(d));p.x>=1&&(k=this.getNumTiles(d).x-1);var P=1e-15;return p.y>=1/this.aspectRatio-P&&(C=this.getNumTiles(d).y-1),new t.Point(k,C)}return t.TileSource.prototype.getTileAtPoint.call(this,d,p)},getTileUrl:function(d,p,f){if(this.emulateLegacyImagePyramid){var g=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(g=this.levels[d].url),g}var y="0",S=Math.pow(.5,this.maxLevel-d),k,C,P,_,D,q,G,ne,K,Y,se,ue,he,le,ye,fe;return this.levelSizes?(k=this.levelSizes[d].width,C=this.levelSizes[d].height):(k=Math.ceil(this.width*S),C=Math.ceil(this.height*S)),P=this.getTileWidth(d),_=this.getTileHeight(d),D=Math.round(P/S),q=Math.round(_/S),this.version===1?ye="native."+this.tileFormat:ye="default."+this.tileFormat,k<P&&C<_?(this.version===2&&k===this.width?ue="full":this.version===3&&k===this.width&&C===this.height?ue="max":this.version===3?ue=k+","+C:ue=k+",",G="full"):(ne=p*D,K=f*q,Y=Math.min(D,this.width-ne),se=Math.min(q,this.height-K),p===0&&f===0&&Y===this.width&&se===this.height?G="full":G=[ne,K,Y,se].join(","),he=Math.min(P,k-p*P),le=Math.min(_,C-f*_),this.version===2&&he===this.width?ue="full":this.version===3&&he===this.width&&le===this.height?ue="max":this.version===3?ue=he+","+le:ue=he+","),fe=[this._id,G,ue,y,ye].join("/"),fe},__testonly__:{canBeTiled:n,constructLevels:r}});function n(d){var p=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],f=Array.isArray(d.profile)?d.profile[0]:d.profile,g=p.indexOf(f)!==-1,y=!1;return d.version===2&&d.profile.length>1&&d.profile[1].supports&&(y=d.profile[1].supports.indexOf("sizeByW")!==-1),d.version===3&&d.extraFeatures&&(y=d.extraFeatures.indexOf("sizeByWh")!==-1),!g||y}function r(d){for(var p=[],f=0;f<d.sizes.length;f++)p.push({url:d._id+"/full/"+d.sizes[f].width+","+(d.version===3?d.sizes[f].height:"")+"/0/default."+d.tileFormat,width:d.sizes[f].width,height:d.sizes[f].height});return p.sort(function(g,y){return g.width-y.width})}function l(d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,f=p.tagName,g=null;if(f==="info")try{return g={},h(p,g),g}catch(y){throw y instanceof Error?y:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function h(d,p,f){var g,y;if(d.nodeType===3&&f)y=d.nodeValue.trim(),y.match(/^\d*$/)&&(y=Number(y)),p[f]?(t.isArray(p[f])||(p[f]=[p[f]]),p[f].push(y)):p[f]=y;else if(d.nodeType===1)for(g=0;g<d.childNodes.length;g++)h(d.childNodes[g],p,d.nodeName)}}(i),function(t){t.OsmTileSource=function(n,r,l,h,d){var p;t.isPlainObject(n)?p=n:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!p.width||!p.height)&&(p.width=65572864,p.height=65572864),p.tileSize||(p.tileSize=256,p.tileOverlap=0),p.tilesUrl||(p.tilesUrl="http://tile.openstreetmap.org/"),p.minLevel=8,t.TileSource.apply(this,[p])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="openstreetmaps"},configure:function(n,r,l){return n},getTileUrl:function(n,r,l){return this.tilesUrl+(n-8)+"/"+r+"/"+l+".png"}})}(i),function(t){t.TmsTileSource=function(n,r,l,h,d){var p;t.isPlainObject(n)?p=n:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var f=Math.ceil(p.width/256)*256,g=Math.ceil(p.height/256)*256,y;f>g?y=f/256:y=g/256,p.maxLevel=Math.ceil(Math.log(y)/Math.log(2))-1,p.tileSize=256,p.width=f,p.height=g,t.TileSource.apply(this,[p])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="tiledmapservice"},configure:function(n,r,l){return n},getTileUrl:function(n,r,l){var h=this.getNumTiles(n).y-1;return this.tilesUrl+n+"/"+r+"/"+(h-l)+".png"}})}(i),function(t){t.ZoomifyTileSource=function(n){typeof n.tileSize>"u"&&(n.tileSize=256),typeof n.fileFormat>"u"&&(n.fileFormat="jpg",this.fileFormat=n.fileFormat);var r={x:n.width,y:n.height};for(n.imageSizes=[{x:n.width,y:n.height}],n.gridSize=[this._getGridSize(n.width,n.height,n.tileSize)];parseInt(r.x,10)>n.tileSize||parseInt(r.y,10)>n.tileSize;)r.x=Math.floor(r.x/2),r.y=Math.floor(r.y/2),n.imageSizes.push({x:r.x,y:r.y}),n.gridSize.push(this._getGridSize(r.x,r.y,n.tileSize));n.imageSizes.reverse(),n.gridSize.reverse(),n.minLevel=0,n.maxLevel=n.gridSize.length-1,i.TileSource.apply(this,[n])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(n,r,l){return{x:Math.ceil(n/l),y:Math.ceil(r/l)}},_calculateAbsoluteTileNumber:function(n,r,l){for(var h=0,d={},p=0;p<n;p++)d=this.gridSize[p],h+=d.x*d.y;return d=this.gridSize[n],h+=d.x*l+r,h},supports:function(n,r){return n.type&&n.type==="zoomifytileservice"},configure:function(n,r,l){return n},getTileUrl:function(n,r,l){var h=0,d=this._calculateAbsoluteTileNumber(n,r,l);return h=Math.floor(d/256),this.tilesUrl+"TileGroup"+h+"/"+n+"-"+r+"-"+l+"."+this.fileFormat}})}(i),function(t){t.LegacyTileSource=function(h){var d,p,f;t.isArray(h)&&(d={type:"legacy-image-pyramid",levels:h}),d.levels=n(d.levels),d.levels.length>0?(p=d.levels[d.levels.length-1].width,f=d.levels[d.levels.length-1].height):(p=0,f=0,t.console.error("No supported image formats found")),t.extend(!0,d,{width:p,height:f,tileSize:Math.max(f,p),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),t.TileSource.apply(this,[d]),this.levels=d.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(h,d){return h.type&&h.type==="legacy-image-pyramid"||h.documentElement&&h.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(h,d,p){var f;return t.isPlainObject(h)?f=l(this,h):f=r(this,h),f},getLevelScale:function(h){var d=NaN;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(d=this.levels[h].width/this.levels[this.maxLevel].width),d},getNumTiles:function(h){var d=this.getLevelScale(h);return d?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(h,d,p){var f=null;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(f=this.levels[h].url),f}});function n(h){var d=[],p,f;for(f=0;f<h.length;f++)p=h[f],p.height&&p.width&&p.url?d.push({url:p.url,width:Number(p.width),height:Number(p.height)}):t.console.error("Unsupported image format: %s",p.url?p.url:"<no URL>");return d.sort(function(g,y){return g.height-y.height})}function r(h,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,f=p.tagName,g=null,y=[],S,k;if(f==="image")try{for(g={type:p.getAttribute("type"),levels:[]},y=p.getElementsByTagName("level"),k=0;k<y.length;k++)S=y[k],g.levels.push({url:S.getAttribute("url"),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10)});return l(h,g)}catch(C){throw C instanceof Error?C:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(f==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(f==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+f)}function l(h,d){return d.levels}}(i),function(t){t.ImageTileSource=function(n){n=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},n),t.TileSource.apply(this,[n])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="image"},configure:function(n,r,l){return n},getImageInfo:function(n){var r=this._image=new Image,l=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),t.addEvent(r,"load",function(){l.width=r.naturalWidth,l.height=r.naturalHeight,l.aspectRatio=l.width/l.height,l.dimensions=new t.Point(l.width,l.height),l._tileWidth=l.width,l._tileHeight=l.height,l.tileOverlap=0,l.minLevel=0,l.levels=l._buildLevels(),l.maxLevel=l.levels.length-1,l.ready=!0,l.raiseEvent("ready",{tileSource:l})}),t.addEvent(r,"error",function(){l.raiseEvent("open-failed",{message:"Error loading image at "+n,source:n})}),r.src=n},getLevelScale:function(n){var r=NaN;return n>=this.minLevel&&n<=this.maxLevel&&(r=this.levels[n].width/this.levels[this.maxLevel].width),r},getNumTiles:function(n){var r=this.getLevelScale(n);return r?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(n,r,l){var h=null;return n>=this.minLevel&&n<=this.maxLevel&&(h=this.levels[n].url),h},getContext2D:function(n,r,l){var h=null;return n>=this.minLevel&&n<=this.maxLevel&&(h=this.levels[n].context2D),h},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var n=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,n;var r=this._image.naturalWidth,l=this._image.naturalHeight,h=document.createElement("canvas"),d=h.getContext("2d");if(h.width=r,h.height=l,d.drawImage(this._image,0,0,r,l),n[0].context2D=d,delete this._image,t.isCanvasTainted(h))return n;for(;r>=2&&l>=2;){r=Math.floor(r/2),l=Math.floor(l/2);var p=document.createElement("canvas"),f=p.getContext("2d");p.width=r,p.height=l,f.drawImage(h,0,0,r,l),n.splice(0,0,{context2D:f,width:r,height:l}),h=p,d=f}return n},_freeupCanvasMemory:function(){for(var n=0;n<this.levels.length;n++)this.levels[n].context2D&&(this.levels[n].context2D.canvas.height=0,this.levels[n].context2D.canvas.width=0)}})}(i),function(t){t.TileSourceCollection=function(n,r,l,h){t.console.error("TileSourceCollection is deprecated; use World instead")}}(i),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(f){var g=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},f),this.element=f.element||t.makeNeutralElement("div"),f.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(y){y.insideElementPressed?(d(g,t.ButtonState.DOWN),g.raiseEvent("enter",{originalEvent:y.originalEvent})):y.buttonDownAny||d(g,t.ButtonState.HOVER)},focusHandler:function(y){g.tracker.enterHandler(y),g.raiseEvent("focus",{originalEvent:y.originalEvent})},leaveHandler:function(y){p(g,t.ButtonState.GROUP),y.insideElementPressed&&g.raiseEvent("exit",{originalEvent:y.originalEvent})},blurHandler:function(y){g.tracker.leaveHandler(y),g.raiseEvent("blur",{originalEvent:y.originalEvent})},pressHandler:function(y){d(g,t.ButtonState.DOWN),g.raiseEvent("press",{originalEvent:y.originalEvent})},releaseHandler:function(y){y.insideElementPressed&&y.insideElementReleased?(p(g,t.ButtonState.HOVER),g.raiseEvent("release",{originalEvent:y.originalEvent})):y.insideElementPressed?p(g,t.ButtonState.GROUP):d(g,t.ButtonState.HOVER)},clickHandler:function(y){y.quick&&g.raiseEvent("click",{originalEvent:y.originalEvent})},keyHandler:function(y){y.keyCode===13?(g.raiseEvent("click",{originalEvent:y.originalEvent}),g.raiseEvent("release",{originalEvent:y.originalEvent}),y.preventDefault=!0):y.preventDefault=!1}}),p(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){d(this,t.ButtonState.GROUP)},notifyGroupExit:function(){p(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function n(f){t.requestAnimationFrame(function(){r(f)})}function r(f){var g,y,S;f.shouldFade&&(g=t.now(),y=g-f.fadeBeginTime,S=1-y/f.fadeLength,S=Math.min(1,S),S=Math.max(0,S),f.imgGroup&&t.setElementOpacity(f.imgGroup,S,!0),S>0&&n(f))}function l(f){f.shouldFade=!0,f.fadeBeginTime=t.now()+f.fadeDelay,window.setTimeout(function(){n(f)},f.fadeDelay)}function h(f){f.shouldFade=!1,f.imgGroup&&t.setElementOpacity(f.imgGroup,1,!0)}function d(f,g){f.element.disabled||(g>=t.ButtonState.GROUP&&f.currentState===t.ButtonState.REST&&(h(f),f.currentState=t.ButtonState.GROUP),g>=t.ButtonState.HOVER&&f.currentState===t.ButtonState.GROUP&&(f.imgHover&&(f.imgHover.style.visibility=""),f.currentState=t.ButtonState.HOVER),g>=t.ButtonState.DOWN&&f.currentState===t.ButtonState.HOVER&&(f.imgDown&&(f.imgDown.style.visibility=""),f.currentState=t.ButtonState.DOWN))}function p(f,g){f.element.disabled||(g<=t.ButtonState.HOVER&&f.currentState===t.ButtonState.DOWN&&(f.imgDown&&(f.imgDown.style.visibility="hidden"),f.currentState=t.ButtonState.HOVER),g<=t.ButtonState.GROUP&&f.currentState===t.ButtonState.HOVER&&(f.imgHover&&(f.imgHover.style.visibility="hidden"),f.currentState=t.ButtonState.GROUP),g<=t.ButtonState.REST&&f.currentState===t.ButtonState.GROUP&&(l(f),f.currentState=t.ButtonState.REST))}}(i),function(t){t.ButtonGroup=function(n){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},n);var r=this.buttons.concat([]),l=this,h;if(this.element=n.element||t.makeNeutralElement("div"),!n.group)for(this.element.style.display="inline-block",h=0;h<r.length;h++)this.element.appendChild(r[h].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){var p;for(p=0;p<l.buttons.length;p++)l.buttons[p].notifyGroupEnter()},leaveHandler:function(d){var p;if(!d.insideElementPressed)for(p=0;p<l.buttons.length;p++)l.buttons[p].notifyGroupExit()}})},t.ButtonGroup.prototype={addButton:function(n){this.buttons.push(n),this.element.appendChild(n.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var n=this.buttons.pop();this.element.removeChild(n.element),n.destroy()}this.tracker.destroy(),this.element=null}}}(i),function(t){t.Rect=function(n,r,l,h,d){this.x=typeof n=="number"?n:0,this.y=typeof r=="number"?r:0,this.width=typeof l=="number"?l:0,this.height=typeof h=="number"?h:0,this.degrees=typeof d=="number"?d:0,this.degrees=t.positiveModulo(this.degrees,360);var p,f;this.degrees>=270?(p=this.getTopRight(),this.x=p.x,this.y=p.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=270):this.degrees>=180?(p=this.getBottomRight(),this.x=p.x,this.y=p.y,this.degrees-=180):this.degrees>=90&&(p=this.getBottomLeft(),this.x=p.x,this.y=p.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=90)},t.Rect.fromSummits=function(n,r,l){var h=n.distanceTo(r),d=n.distanceTo(l),p=r.minus(n),f=Math.atan(p.y/p.x);return p.x<0?f+=Math.PI:p.y<0&&(f+=2*Math.PI),new t.Rect(n.x,n.y,h,d,f/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(n){return n instanceof t.Rect&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height&&this.degrees===n.degrees},times:function(n){return new t.Rect(this.x*n,this.y*n,this.width*n,this.height*n,this.degrees)},translate:function(n){return new t.Rect(this.x+n.x,this.y+n.y,this.width,this.height,this.degrees)},union:function(n){var r=this.getBoundingBox(),l=n.getBoundingBox(),h=Math.min(r.x,l.x),d=Math.min(r.y,l.y),p=Math.max(r.x+r.width,l.x+l.width),f=Math.max(r.y+r.height,l.y+l.height);return new t.Rect(h,d,p-h,f-d)},intersection:function(n){var r=1e-10,l=[],h=this.getTopLeft();n.containsPoint(h,r)&&l.push(h);var d=this.getTopRight();n.containsPoint(d,r)&&l.push(d);var p=this.getBottomLeft();n.containsPoint(p,r)&&l.push(p);var f=this.getBottomRight();n.containsPoint(f,r)&&l.push(f);var g=n.getTopLeft();this.containsPoint(g,r)&&l.push(g);var y=n.getTopRight();this.containsPoint(y,r)&&l.push(y);var S=n.getBottomLeft();this.containsPoint(S,r)&&l.push(S);var k=n.getBottomRight();this.containsPoint(k,r)&&l.push(k);for(var C=this._getSegments(),P=n._getSegments(),_=0;_<C.length;_++)for(var D=C[_],q=0;q<P.length;q++){var G=P[q],ne=K(D[0],D[1],G[0],G[1]);ne&&l.push(ne)}function K(fe,we,Ie,je){var Se=we.minus(fe),ge=je.minus(Ie),Re=-ge.x*Se.y+Se.x*ge.y;if(Re===0)return null;var _e=(Se.x*(fe.y-Ie.y)-Se.y*(fe.x-Ie.x))/Re,J=(ge.x*(fe.y-Ie.y)-ge.y*(fe.x-Ie.x))/Re;return-1e-10<=_e&&_e<=1-r&&-1e-10<=J&&J<=1-r?new t.Point(fe.x+J*Se.x,fe.y+J*Se.y):null}if(l.length===0)return null;for(var Y=l[0].x,se=l[0].x,ue=l[0].y,he=l[0].y,le=1;le<l.length;le++){var ye=l[le];ye.x<Y&&(Y=ye.x),ye.x>se&&(se=ye.x),ye.y<ue&&(ue=ye.y),ye.y>he&&(he=ye.y)}return new t.Rect(Y,ue,se-Y,he-ue)},_getSegments:function(){var n=this.getTopLeft(),r=this.getTopRight(),l=this.getBottomLeft(),h=this.getBottomRight();return[[n,r],[r,h],[h,l],[l,n]]},rotate:function(n,r){if(n=t.positiveModulo(n,360),n===0)return this.clone();r=r||this.getCenter();var l=this.getTopLeft().rotate(n,r),h=this.getTopRight().rotate(n,r),d=h.minus(l);d=d.apply(function(f){var g=1e-15;return Math.abs(f)<g?0:f});var p=Math.atan(d.y/d.x);return d.x<0?p+=Math.PI:d.y<0&&(p+=2*Math.PI),new t.Rect(l.x,l.y,this.width,this.height,p/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var n=this.getTopLeft(),r=this.getTopRight(),l=this.getBottomLeft(),h=this.getBottomRight(),d=Math.min(n.x,r.x,l.x,h.x),p=Math.max(n.x,r.x,l.x,h.x),f=Math.min(n.y,r.y,l.y,h.y),g=Math.max(n.y,r.y,l.y,h.y);return new t.Rect(d,f,p-d,g-f)},getIntegerBoundingBox:function(){var n=this.getBoundingBox(),r=Math.floor(n.x),l=Math.floor(n.y),h=Math.ceil(n.width+n.x-r),d=Math.ceil(n.height+n.y-l);return new t.Rect(r,l,h,d)},containsPoint:function(n,r){r=r||0;var l=this.getTopLeft(),h=this.getTopRight(),d=this.getBottomLeft(),p=h.minus(l),f=d.minus(l);return(n.x-l.x)*p.x+(n.y-l.y)*p.y>=-r&&(n.x-h.x)*p.x+(n.y-h.y)*p.y<=r&&(n.x-l.x)*f.x+(n.y-l.y)*f.y>=-r&&(n.x-d.x)*f.x+(n.y-d.y)*f.y<=r},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(i),function(t){var n={};t.ReferenceStrip=function(S){var k=this,C=S.viewer,P=t.getElementSize(C.element),_,D,q;for(S.id||(S.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=S.id,this.element.className="referencestrip"),S=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},S,{element:this.element}),t.extend(this,S),n[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,D=this.element.style,D.marginTop="0px",D.marginRight="0px",D.marginBottom="0px",D.marginLeft="0px",D.left="0px",D.bottom="0px",D.border="0px",D.background="#000",D.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=C,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,r),dragHandler:t.delegate(this,l),scrollHandler:t.delegate(this,h),enterHandler:t.delegate(this,p),leaveHandler:t.delegate(this,f),keyDownHandler:t.delegate(this,g),keyHandler:t.delegate(this,y),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),S.width&&S.height?(this.element.style.width=S.width+"px",this.element.style.height=S.height+"px",C.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):S.scroll==="horizontal"?(this.element.style.width=P.x*S.sizeRatio*C.tileSources.length+12*C.tileSources.length+"px",this.element.style.height=P.y*S.sizeRatio+"px",C.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=P.y*S.sizeRatio*C.tileSources.length+12*C.tileSources.length+"px",this.element.style.width=P.x*S.sizeRatio+"px",C.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=P.x*this.sizeRatio+8,this.panelHeight=P.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},q=0;q<C.tileSources.length;q++)_=t.makeNeutralElement("div"),_.id=this.element.id+"-"+q,_.style.width=k.panelWidth+"px",_.style.height=k.panelHeight+"px",_.style.display="inline",_.style.float="left",_.style.cssFloat="left",_.style.styleFloat="left",_.style.padding="2px",t.setElementTouchActionNone(_),t.setElementPointerEventsNone(_),this.element.appendChild(_),_.activePanel=!1,this.panels.push(_);d(this,this.scroll==="vertical"?P.y:P.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(S){var k=this.element.querySelector("#"+this.element.id+"-"+S),C=t.getElementSize(this.viewer.canvas),P=Number(this.element.style.width.replace("px","")),_=Number(this.element.style.height.replace("px","")),D=-Number(this.element.style.marginLeft.replace("px","")),q=-Number(this.element.style.marginTop.replace("px","")),G;this.currentSelected!==k&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=k,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(G=Number(S)*(this.panelWidth+3),G>D+C.x-this.panelWidth?(G=Math.min(G,P-C.x),this.element.style.marginLeft=-G+"px",d(this,C.x,-G)):G<D&&(G=Math.max(0,G-C.x/2),this.element.style.marginLeft=-G+"px",d(this,C.x,-G))):(G=Number(S)*(this.panelHeight+3),G>q+C.y-this.panelHeight?(G=Math.min(G,_-C.y),this.element.style.marginTop=-G+"px",d(this,C.y,-G)):G<q&&(G=Math.max(0,G-C.y/2),this.element.style.marginTop=-G+"px",d(this,C.y,-G))),this.currentPage=S,p.call(this,{eventSource:this.tracker}))},update:function(){return!!n[this.id].animating},destroy:function(){if(this.miniViewers)for(var S in this.miniViewers)this.miniViewers[S].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function r(S){if(S.quick){var k;this.scroll==="horizontal"?k=Math.floor(S.position.x/(this.panelWidth+4)):k=Math.floor(S.position.y/this.panelHeight),this.viewer.goToPage(k)}this.element.focus()}function l(S){if(this.dragging=!0,this.element){var k=Number(this.element.style.marginLeft.replace("px","")),C=Number(this.element.style.marginTop.replace("px","")),P=Number(this.element.style.width.replace("px","")),_=Number(this.element.style.height.replace("px","")),D=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-S.delta.x>0?k>-(P-D.x)&&(this.element.style.marginLeft=k+S.delta.x*2+"px",d(this,D.x,k+S.delta.x*2)):-S.delta.x<0&&k<0&&(this.element.style.marginLeft=k+S.delta.x*2+"px",d(this,D.x,k+S.delta.x*2)):-S.delta.y>0?C>-(_-D.y)&&(this.element.style.marginTop=C+S.delta.y*2+"px",d(this,D.y,C+S.delta.y*2)):-S.delta.y<0&&C<0&&(this.element.style.marginTop=C+S.delta.y*2+"px",d(this,D.y,C+S.delta.y*2))}}function h(S){if(this.element){var k=Number(this.element.style.marginLeft.replace("px","")),C=Number(this.element.style.marginTop.replace("px","")),P=Number(this.element.style.width.replace("px","")),_=Number(this.element.style.height.replace("px","")),D=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?S.scroll>0?k>-(P-D.x)&&(this.element.style.marginLeft=k-S.scroll*60+"px",d(this,D.x,k-S.scroll*60)):S.scroll<0&&k<0&&(this.element.style.marginLeft=k-S.scroll*60+"px",d(this,D.x,k-S.scroll*60)):S.scroll<0?C>D.y-_&&(this.element.style.marginTop=C+S.scroll*60+"px",d(this,D.y,C+S.scroll*60)):S.scroll>0&&C<0&&(this.element.style.marginTop=C+S.scroll*60+"px",d(this,D.y,C+S.scroll*60)),S.preventDefault=!0}}function d(S,k,C){var P,_,D,q,G,ne;for(S.scroll==="horizontal"?P=S.panelWidth:P=S.panelHeight,_=Math.ceil(k/P)+5,D=Math.ceil((Math.abs(C)+k)/P)+1,_=D-_,_=_<0?0:_,G=_;G<D&&G<S.panels.length;G++)if(ne=S.panels[G],!ne.activePanel){var K,Y=S.viewer.tileSources[G];Y.referenceStripThumbnailUrl?K={type:"image",url:Y.referenceStripThumbnailUrl}:K=Y,q=new t.Viewer({id:ne.id,tileSources:[K],element:ne,navigatorSizeRatio:S.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:S.viewer.loadTilesWithAjax,ajaxHeaders:S.viewer.ajaxHeaders,useCanvas:S.useCanvas}),t.setElementPointerEventsNone(q.canvas),t.setElementPointerEventsNone(q.container),q.innerTracker.setTracking(!1),q.outerTracker.setTracking(!1),S.miniViewers[ne.id]=q,ne.activePanel=!0}}function p(S){var k=S.eventSource.element;this.scroll==="horizontal"?k.style.marginBottom="0px":k.style.marginLeft="0px"}function f(S){var k=S.eventSource.element;this.scroll==="horizontal"?k.style.marginBottom="-"+t.getElementSize(k).y/2+"px":k.style.marginLeft="-"+t.getElementSize(k).x/2+"px"}function g(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 38:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 40:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 37:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 39:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}function y(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 61:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 45:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 48:case 119:case 87:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 115:case 83:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 97:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 100:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}}(i),function(t){t.DisplayRect=function(n,r,l,h,d,p){t.Rect.apply(this,[n,r,l,h]),this.minLevel=d,this.maxLevel=p},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(i),function(t){t.Spring=function(r){var l=arguments;typeof r!="object"&&(r={initial:l.length&&typeof l[0]=="number"?l[0]:void 0,springStiffness:l.length>1?l[1].springStiffness:5,animationTime:l.length>1?l[1].animationTime:1.5}),t.console.assert(typeof r.springStiffness=="number"&&r.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof r.animationTime=="number"&&r.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),r.exponential&&(this._exponential=!0,delete r.exponential),t.extend(!0,this,r),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(r){t.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=r,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(r){t.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=r,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(r){this.start.value+=r,this.target.value+=r,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(r){this._exponential=r,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var r,l;this._exponential?(r=this.start._logValue,l=this.target._logValue):(r=this.start.value,l=this.target.value);var h=this.current.time>=this.target.time?l:r+(l-r)*n(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),d=this.current.value;return this._exponential?this.current.value=Math.exp(h):this.current.value=h,d!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function n(r,l){return(1-Math.exp(r*-l))/(1-Math.exp(-r))}}(i),function(t){t.ImageJob=function(r){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},r),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){this.tries++;var r=this,l=this.abort;this.jobId=window.setTimeout(function(){r.finish(null,null,"Image load exceeded timeout ("+r.timeout+" ms)")},this.timeout),this.abort=function(){r.source.downloadTileAbort(r),typeof l=="function"&&l()},this.source.downloadTileStart(this)},finish:function(r,l,h){this.data=r,this.request=l,this.errorMsg=h,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(r){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},r)},t.ImageLoader.prototype={addJob:function(r){if(!r.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var l=t.TileSource.prototype;r.source={downloadTileStart:l.downloadTileStart,downloadTileAbort:l.downloadTileAbort}}var h=this,d=function(g){n(h,g,r.callback)},p={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:d,abort:r.abort,timeout:this.timeout},f=new t.ImageJob(p);!this.jobLimit||this.jobsInProgress<this.jobLimit?(f.start(),this.jobsInProgress++):this.jobQueue.push(f)},clear:function(){for(var r=0;r<this.jobQueue.length;r++){var l=this.jobQueue[r];typeof l.abort=="function"&&l.abort()}this.jobQueue=[]}};function n(r,l,h){l.errorMsg!==""&&(l.data===null||l.data===void 0)&&l.tries<1+r.tileRetryMax&&r.failedTiles.push(l);var d;r.jobsInProgress--,(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.jobQueue.length>0&&(d=r.jobQueue.shift(),d.start(),r.jobsInProgress++),r.tileRetryMax>0&&r.jobQueue.length===0&&(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.failedTiles.length>0&&(d=r.failedTiles.shift(),setTimeout(function(){d.start()},r.tileRetryDelay),r.jobsInProgress++),h(l.data,l.errorMsg,l.request)}}(i),function(t){t.Tile=function(n,r,l,h,d,p,f,g,y,S,k,C){this.level=n,this.x=r,this.y=l,this.bounds=h,this.sourceBounds=S,this.exists=d,this._url=p,this.postData=k,this.context2D=f,this.loadWithAjax=g,this.ajaxHeaders=y,C===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),C=t.TileSource.prototype.getTileHashKey(n,r,l,p,y,k)),this.cacheKey=C,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(n){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var r=this.getImage();if(!r)return;this.element=t.makeNeutralElement("div"),this.imgElement=r.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==n&&n.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(n,r,l,h,d,p){var f=this.position.times(t.pixelDensityRatio),g=this.size.times(t.pixelDensityRatio),y;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(y=this.getCanvasContext(),!this.loaded||!y){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}n.save(),n.globalAlpha=this.opacity,typeof l=="number"&&l!==1&&(f=f.times(l),g=g.times(l)),h instanceof t.Point&&(f=f.plus(h)),n.globalAlpha===1&&this.hasTransparency&&(d&&(f.x=Math.round(f.x),f.y=Math.round(f.y),g.x=Math.round(g.x),g.y=Math.round(g.y)),n.clearRect(f.x,f.y,g.x,g.y)),r({context:n,tile:this,rendered:y});var S,k;this.sourceBounds?(S=Math.min(this.sourceBounds.width,y.canvas.width),k=Math.min(this.sourceBounds.height,y.canvas.height)):(S=y.canvas.width,k=y.canvas.height),n.translate(f.x+g.x/2,0),this.flipped&&n.scale(-1,1),n.drawImage(y.canvas,0,0,S,k,-g.x/2,f.y,g.x,g.y),n.restore()},getScaleForEdgeSmoothing:function(){var n;if(this.cacheImageRecord)n=this.cacheImageRecord.getRenderedContext();else if(this.context2D)n=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return n.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(n,r,l){var h=Math.max(1,Math.ceil((l.x-r.x)/2)),d=Math.max(1,Math.ceil((l.y-r.y)/2));return new t.Point(h,d).minus(this.position.times(t.pixelDensityRatio).times(n||1).apply(function(p){return p%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(i),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(n,r,l){var h;t.isPlainObject(n)?h=n:h={element:n,location:r,placement:l},this.element=h.element,this.style=h.element.style,this._init(h)},t.Overlay.prototype={_init:function(n){this.location=n.location,this.placement=n.placement===void 0?t.Placement.TOP_LEFT:n.placement,this.onDraw=n.onDraw,this.checkResize=n.checkResize===void 0?!0:n.checkResize,this.width=n.width===void 0?null:n.width,this.height=n.height===void 0?null:n.height,this.rotationMode=n.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(n,r){var l=t.Placement.properties[this.placement];l&&(l.isHorizontallyCentered?n.x-=r.x/2:l.isRight&&(n.x-=r.x),l.isVerticallyCentered?n.y-=r.y/2:l.isBottom&&(n.y-=r.y))},destroy:function(){var n=this.element,r=this.style;n.parentNode&&(n.parentNode.removeChild(n),n.prevElementParent&&(r.display="none",document.body.appendChild(n))),this.onDraw=null,r.top="",r.left="",r.position="",this.width!==null&&(r.width=""),this.height!==null&&(r.height="");var l=t.getCssPropertyWithVendorPrefix("transformOrigin"),h=t.getCssPropertyWithVendorPrefix("transform");l&&h&&(r[l]="",r[h]="")},drawHTML:function(n,r){var l=this.element;l.parentNode!==n&&(l.prevElementParent=l.parentNode,l.prevNextSibling=l.nextSibling,n.appendChild(l),this.style.position="absolute",this.size=t.getElementSize(l));var h=this._getOverlayPositionAndSize(r),d=h.position,p=this.size=h.size,f=h.rotate;if(this.onDraw)this.onDraw(d,p,this.element);else{var g=this.style;g.left=d.x+"px",g.top=d.y+"px",this.width!==null&&(g.width=p.x+"px"),this.height!==null&&(g.height=p.y+"px");var y=t.getCssPropertyWithVendorPrefix("transformOrigin"),S=t.getCssPropertyWithVendorPrefix("transform");y&&S&&(f?(g[y]=this._getTransformOrigin(),g[S]="rotate("+f+"deg)"):(g[y]="",g[S]="")),g.display="block"}},_getOverlayPositionAndSize:function(n){var r=n.pixelFromPoint(this.location,!0),l=this._getSizeInPixels(n);this.adjust(r,l);var h=0;if(n.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var d=new t.Rect(r.x,r.y,l.x,l.y),p=this._getBoundingBox(d,n.getRotation(!0));r=p.getTopLeft(),l=p.getSize()}else h=n.getRotation(!0);return{position:r,size:l,rotate:h}},_getSizeInPixels:function(n){var r=this.size.x,l=this.size.y;if(this.width!==null||this.height!==null){var h=n.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(r=h.x),this.height!==null&&(l=h.y)}if(this.checkResize&&(this.width===null||this.height===null)){var d=this.size=t.getElementSize(this.element);this.width===null&&(r=d.x),this.height===null&&(l=d.y)}return new t.Point(r,l)},_getBoundingBox:function(n,r){var l=this._getPlacementPoint(n);return n.rotate(r,l).getBoundingBox()},_getPlacementPoint:function(n){var r=new t.Point(n.x,n.y),l=t.Placement.properties[this.placement];return l&&(l.isHorizontallyCentered?r.x+=n.width/2:l.isRight&&(r.x+=n.width),l.isVerticallyCentered?r.y+=n.height/2:l.isBottom&&(r.y+=n.height)),r},_getTransformOrigin:function(){var n="",r=t.Placement.properties[this.placement];return r&&(r.isLeft?n="left":r.isRight&&(n="right"),r.isTop?n+=" top":r.isBottom&&(n+=" bottom")),n},update:function(n,r){var l=t.isPlainObject(n)?n:{location:n,placement:r};this._init({location:l.location||this.location,placement:l.placement!==void 0?l.placement:this.placement,onDraw:l.onDraw||this.onDraw,checkResize:l.checkResize||this.checkResize,width:l.width!==void 0?l.width:this.width,height:l.height!==void 0?l.height:this.height,rotationMode:l.rotationMode||this.rotationMode})},getBounds:function(n){t.console.assert(n,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,l=this.height;if(r===null||l===null){var h=n.deltaPointsFromPixelsNoRotate(this.size,!0);r===null&&(r=h.x),l===null&&(l=h.y)}var d=this.location.clone();return this.adjust(d,new t.Point(r,l)),this._adjustBoundsForRotation(n,new t.Rect(d.x,d.y,r,l))},_adjustBoundsForRotation:function(n,r){if(!n||n.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return r;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return r;var l=this._getOverlayPositionAndSize(n);return n.viewerElementToViewportRectangle(new t.Rect(l.position.x,l.position.y,l.size.x,l.size.y))}return r.rotate(-n.getRotation(!0),this._getPlacementPoint(r))}}}(i),function(t){t.Drawer=function(n){t.console.assert(n.viewer,"[Drawer] options.viewer is required");var r=arguments;if(t.isPlainObject(n)||(n={source:r[0],viewport:r[1],element:r[2]}),t.console.assert(n.viewport,"[Drawer] options.viewport is required"),t.console.assert(n.element,"[Drawer] options.element is required"),n.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=n.viewer,this.viewport=n.viewport,this.debugGridColor=typeof n.debugGridColor=="string"?[n.debugGridColor]:n.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,n.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(n.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var l=this._calculateCanvasSize();this.canvas.width=l.x,this.canvas.height=l.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(n,r,l,h){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(n,r,l,h),this},updateOverlay:function(n,r,l){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(n,r,l),this},removeOverlay:function(n){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(n),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(n){var r=this.viewport.pixelFromPointNoRotate(n,!0);return new t.Point(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio)},clipWithPolygons:function(n,r){if(this.useCanvas){var l=this._getContext(r);l.beginPath(),n.forEach(function(h){h.forEach(function(d,p){l[p===0?"moveTo":"lineTo"](d.x,d.y)})}),l.clip()}},setOpacity:function(n){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var r=this.viewer.world,l=0;l<r.getItemCount();l++)r.getItemAt(l).setOpacity(n);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var n=this.viewer.world,r=0,l=0;l<n.getItemCount();l++){var h=n.getItemAt(l).getOpacity();h>r&&(r=h)}return r},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var n=this._calculateCanvasSize();if((this.canvas.width!==n.x||this.canvas.height!==n.y)&&(this.canvas.width=n.x,this.canvas.height=n.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var r=this._calculateSketchCanvasSize();this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(n,r){if(this.useCanvas){var l=this._getContext(n);if(r)l.clearRect(r.x,r.y,r.width,r.height);else{var h=l.canvas;l.clearRect(0,0,h.width,h.height)}}},viewportToDrawerRectangle:function(n){var r=this.viewport.pixelFromPointNoRotate(n.getTopLeft(),!0),l=this.viewport.deltaPixelsFromPointsNoRotate(n.getSize(),!0);return new t.Rect(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio,l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},drawTile:function(n,r,l,h,d,p,f){if(t.console.assert(n,"[Drawer.drawTile] tile is required"),t.console.assert(r,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var g=this._getContext(l);h=h||1,n.drawCanvas(g,r,h,d,p,f)}else n.drawHTML(this.canvas)},_getContext:function(n){var r=this.context;if(n){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var l=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var h=this;this.viewer.addHandler("rotate",function d(){if(h.viewport.getRotation()!==0){h.viewer.removeHandler("rotate",d);var p=h._calculateSketchCanvasSize();h.sketchCanvas.width=p.x,h.sketchCanvas.height=p.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}r=this.sketchContext}return r},saveContext:function(n){this.useCanvas&&this._getContext(n).save()},restoreContext:function(n){this.useCanvas&&this._getContext(n).restore()},setClip:function(n,r){if(this.useCanvas){var l=this._getContext(r);l.beginPath(),l.rect(n.x,n.y,n.width,n.height),l.clip()}},drawRectangle:function(n,r,l){if(this.useCanvas){var h=this._getContext(l);h.save(),h.fillStyle=r,h.fillRect(n.x,n.y,n.width,n.height),h.restore()}},blendSketch:function(n,r,l,h){var d=n;if(t.isPlainObject(d)||(d={opacity:n,scale:r,translate:l,compositeOperation:h}),!(!this.useCanvas||!this.sketchCanvas)){n=d.opacity,h=d.compositeOperation;var p=d.bounds;if(this.context.save(),this.context.globalAlpha=n,h&&(this.context.globalCompositeOperation=h),p)p.x<0&&(p.width+=p.x,p.x=0),p.x+p.width>this.canvas.width&&(p.width=this.canvas.width-p.x),p.y<0&&(p.height+=p.y,p.y=0),p.y+p.height>this.canvas.height&&(p.height=this.canvas.height-p.y),this.context.drawImage(this.sketchCanvas,p.x,p.y,p.width,p.height,p.x,p.y,p.width,p.height);else{r=d.scale||1,l=d.translate;var f=l instanceof t.Point?l:new t.Point(0,0),g=0,y=0;if(l){var S=this.sketchCanvas.width-this.canvas.width,k=this.sketchCanvas.height-this.canvas.height;g=Math.round(S/2),y=Math.round(k/2)}this.context.drawImage(this.sketchCanvas,f.x-g*r,f.y-y*r,(this.canvas.width+2*g)*r,(this.canvas.height+2*y)*r,-g,-y,this.canvas.width+2*g,this.canvas.height+2*y)}this.context.restore()}},drawDebugInfo:function(n,r,l,h){if(this.useCanvas){var d=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,p=this.context;p.save(),p.lineWidth=2*t.pixelDensityRatio,p.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",p.strokeStyle=this.debugGridColor[d],p.fillStyle=this.debugGridColor[d],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),h.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:h.getRotation(!0),point:h.viewport.pixelFromPointNoRotate(h._getRotationPoint(!0),!0)}),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.strokeRect(n.position.x*t.pixelDensityRatio,n.position.y*t.pixelDensityRatio,n.size.x*t.pixelDensityRatio,n.size.y*t.pixelDensityRatio);var f=(n.position.x+n.size.x/2)*t.pixelDensityRatio,g=(n.position.y+n.size.y/2)*t.pixelDensityRatio;p.translate(f,g),p.rotate(Math.PI/180*-this.viewport.getRotation(!0)),p.translate(-f,-g),n.x===0&&n.y===0&&(p.fillText("Zoom: "+this.viewport.getZoom(),n.position.x*t.pixelDensityRatio,(n.position.y-30)*t.pixelDensityRatio),p.fillText("Pan: "+this.viewport.getBounds().toString(),n.position.x*t.pixelDensityRatio,(n.position.y-20)*t.pixelDensityRatio)),p.fillText("Level: "+n.level,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+20)*t.pixelDensityRatio),p.fillText("Column: "+n.x,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+30)*t.pixelDensityRatio),p.fillText("Row: "+n.y,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+40)*t.pixelDensityRatio),p.fillText("Order: "+l+" of "+r,(n.position.x+10)*t.pixelDensityRatio,(n.position.y+50)*t.pixelDensityRatio),p.fillText("Size: "+n.size.toString(),(n.position.x+10)*t.pixelDensityRatio,(n.position.y+60)*t.pixelDensityRatio),p.fillText("Position: "+n.position.toString(),(n.position.x+10)*t.pixelDensityRatio,(n.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.restore()}},debugRect:function(n){if(this.useCanvas){var r=this.context;r.save(),r.lineWidth=2*t.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(n.x*t.pixelDensityRatio,n.y*t.pixelDensityRatio,n.width*t.pixelDensityRatio,n.height*t.pixelDensityRatio),r.restore()}},setImageSmoothingEnabled:function(n){this.useCanvas&&(this._imageSmoothingEnabled=n,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(n){n.msImageSmoothingEnabled=this._imageSmoothingEnabled,n.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(n){var r=this._getContext(n).canvas;return new t.Point(r.width,r.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(n){var r=n.point?n.point.times(t.pixelDensityRatio):this.getCanvasCenter(),l=this._getContext(n.useSketch);l.save(),l.translate(r.x,r.y),this.viewer.viewport.flipped?(l.rotate(Math.PI/180*-n.degrees),l.scale(-1,1)):l.rotate(Math.PI/180*n.degrees),l.translate(-r.x,-r.y)},_flip:function(n){n=n||{};var r=n.point?n.point.times(t.pixelDensityRatio):this.getCanvasCenter(),l=this._getContext(n.useSketch);l.translate(r.x,0),l.scale(-1,1),l.translate(-r.x,0)},_restoreRotationChanges:function(n){var r=this._getContext(n);r.restore()},_calculateCanvasSize:function(){var n=t.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*n),y:Math.round(r.y*n)}},_calculateSketchCanvasSize:function(){var n=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return n;var r=Math.ceil(Math.sqrt(n.x*n.x+n.y*n.y));return{x:r,y:r}}}}(i),function(t){t.Viewport=function(n){var r=arguments;r.length&&r[0]instanceof t.Point&&(n={containerSize:r[0],contentSize:r[1],config:r[2]}),n.config&&(t.extend(!0,n,n.config),delete n.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},n.margins||{}),delete n.margins,n.initialDegrees=n.degrees,delete n.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},n),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:n.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(n){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(n)},resetContentSize:function(n){return t.console.assert(n,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(n instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(n.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(n.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,n.y/n.x),n.x),this},setHomeBounds:function(n,r){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(n,r)},_setContentBounds:function(n,r){t.console.assert(n,"[Viewport._setContentBounds] bounds is required"),t.console.assert(n instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(n.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(n.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=n.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=n.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var n=this._contentAspectRatio/this.getAspectRatio(),r;return this.homeFillsViewer?r=n>=1?n:1:r=n>=1?1:n,r/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var n=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),l=r/this.getAspectRatio();return new t.Rect(n.x-r/2,n.y-l/2,r,l)},goHome:function(n){return this.viewer&&this.viewer.raiseEvent("home",{immediately:n}),this.fitBounds(this.getHomeBounds(),n)},getMinZoom:function(){var n=this.getHomeZoom(),r=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*n;return r},getMaxZoom:function(){var n=this.maxZoomLevel;return n||(n=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,n/=this._contentBounds.width),Math.max(n,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(n){t.console.assert(t.type(n)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},n),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(n){return this.getBoundsNoRotate(n).rotate(-this.getRotation(n))},getBoundsNoRotate:function(n){var r=this.getCenter(n),l=1/this.getZoom(n),h=l/this.getAspectRatio();return new t.Rect(r.x-l/2,r.y-h/2,l,h)},getBoundsWithMargins:function(n){return this.getBoundsNoRotateWithMargins(n).rotate(-this.getRotation(n),this.getCenter(n))},getBoundsNoRotateWithMargins:function(n){var r=this.getBoundsNoRotate(n),l=this._containerInnerSize.x*this.getZoom(n);return r.x-=this._margins.left/l,r.y-=this._margins.top/l,r.width+=(this._margins.left+this._margins.right)/l,r.height+=(this._margins.top+this._margins.bottom)/l,r},getCenter:function(n){var r=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),h,d,p,f,g,y,S,k;return n?r:this.zoomPoint?(h=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),p=1/d,f=p/this.getAspectRatio(),g=new t.Rect(r.x-p/2,r.y-f/2,p,f),y=this._pixelFromPoint(this.zoomPoint,g),S=y.minus(h).rotate(-this.getRotation(!0)),k=S.divide(this._containerInnerSize.x*d),l.plus(k)):l},getZoom:function(n){return n?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(n){return Math.max(Math.min(n,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(n){var r=this.viewportToViewerElementRectangle(n).getBoundingBox(),l=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),h=!1,d=!1;if(!this.wrapHorizontal){var p=r.x+r.width,f=l.x+l.width,g,y,S;r.width>l.width?g=this.visibilityRatio*l.width:g=this.visibilityRatio*r.width,y=l.x-p+g,S=f-r.x-g,g>l.width?(r.x+=(y+S)/2,h=!0):S<0?(r.x+=S,h=!0):y>0&&(r.x+=y,h=!0)}if(!this.wrapVertical){var k=r.y+r.height,C=l.y+l.height,P,_,D;r.height>l.height?P=this.visibilityRatio*l.height:P=this.visibilityRatio*r.height,_=l.y-k+P,D=C-r.y-P,P>l.height?(r.y+=(_+D)/2,d=!0):D<0?(r.y+=D,d=!0):_>0&&(r.y+=_,d=!0)}var q=h||d,G=q?this.viewerElementToViewportRectangle(r):n.clone();return G.xConstrained=h,G.yConstrained=d,G.constraintApplied=q,G},_raiseConstraintsEvent:function(n){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:n})},applyConstraints:function(n){var r=this.getZoom(),l=this._applyZoomConstraints(r);r!==l&&this.zoomTo(l,this.zoomPoint,n);var h=this.getConstrainedBounds(!1);return h.constraintApplied&&(this.fitBounds(h,n),this._raiseConstraintsEvent(n)),this},ensureVisible:function(n){return this.applyConstraints(n)},_fitBounds:function(n,r){r=r||{};var l=r.immediately||!1,h=r.constraints||!1,d=this.getAspectRatio(),p=n.getCenter(),f=new t.Rect(n.x,n.y,n.width,n.height,n.degrees+this.getRotation()).getBoundingBox();f.getAspectRatio()>=d?f.height=f.width/d:f.width=f.height*d,f.x=p.x-f.width/2,f.y=p.y-f.height/2;var g=1/f.width;if(l)return this.panTo(p,!0),this.zoomTo(g,null,!0),h&&this.applyConstraints(!0),this;var y=this.getCenter(!0),S=this.getZoom(!0);this.panTo(y,!0),this.zoomTo(S,null,!0);var k=this.getBounds(),C=this.getZoom();if(C===0||Math.abs(g/C-1)<1e-8)return this.zoomTo(g,null,!0),this.panTo(p,l),h&&this.applyConstraints(!1),this;if(h){this.panTo(p,!1),g=this._applyZoomConstraints(g),this.zoomTo(g,null,!1);var P=this.getConstrainedBounds();this.panTo(y,!0),this.zoomTo(S,null,!0),this.fitBounds(P)}else{var _=f.rotate(-this.getRotation()),D=_.getTopLeft().times(g).minus(k.getTopLeft().times(C)).divide(g-C);this.zoomTo(g,D,l)}return this},fitBounds:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!1})},fitBoundsWithConstraints:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!0})},fitVertically:function(n){var r=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,n)},fitHorizontally:function(n){var r=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,n)},getConstrainedBounds:function(n){var r,l;return r=this.getBounds(n),l=this._applyBoundaryConstraints(r),l},panBy:function(n,r){var l=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(l.plus(n),r)},panTo:function(n,r){return r?(this.centerSpringX.resetTo(n.x),this.centerSpringY.resetTo(n.y)):(this.centerSpringX.springTo(n.x),this.centerSpringY.springTo(n.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:n,immediately:r}),this},zoomBy:function(n,r,l){return this.zoomTo(this.zoomSpring.target.value*n,r,l)},zoomTo:function(n,r,l){var h=this;return this.zoomPoint=r instanceof t.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,l?this._adjustCenterSpringsForZoomPoint(function(){h.zoomSpring.resetTo(n)}):this.zoomSpring.springTo(n),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:n,refPoint:r,immediately:l}),this},setRotation:function(n,r){return this.rotateTo(n,null,r)},getRotation:function(n){return n?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(n,r,l){return this.rotateTo(n,r,l)},rotateTo:function(n,r,l){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===n&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof t.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,l)if(this.rotationPivot){var h=n-this._oldDegrees;if(!h)return this.rotationPivot=null,this;this._rotateAboutPivot(n)}else this.degreesSpring.resetTo(n);else{var d=t.positiveModulo(this.degreesSpring.current.value,360),p=t.positiveModulo(n,360),f=p-d;f>180?p-=360:f<-180&&(p+=360);var g=d-p;this.degreesSpring.resetTo(n+g),this.degreesSpring.springTo(n)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:n,immediately:!!l,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(n,r,l){return this.rotateTo(this.degreesSpring.target.value+n,r,l)},resize:function(n,r){var l=this.getBoundsNoRotate(),h=l,d;this.containerSize.x=n.x,this.containerSize.y=n.y,this._updateContainerInnerSize(),r&&(d=n.x/this.containerSize.x,h.width=l.width*d,h.height=h.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:n,maintain:r});var p=this.fitBounds(h,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:n,maintain:r}),p},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var n=this;this._adjustCenterSpringsForZoomPoint(function(){n.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,r},_rotateAboutPivot:function(n){var r=n===!0,l=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(l.x),this.centerSpringY.shiftBy(l.y),r?this.degreesSpring.update():this.degreesSpring.resetTo(n);var h=this.degreesSpring.current.value-this._oldDegrees,d=l.rotate(h*-1).times(-1);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y)},_adjustCenterSpringsForZoomPoint:function(n){if(this.zoomPoint){var r=this.pixelFromPoint(this.zoomPoint,!0);n();var l=this.pixelFromPoint(this.zoomPoint,!0),h=l.minus(r),d=this.deltaPointsFromPixels(h,!0);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else n()},deltaPixelsFromPointsNoRotate:function(n,r){return n.times(this._containerInnerSize.x*this.getZoom(r))},deltaPixelsFromPoints:function(n,r){return this.deltaPixelsFromPointsNoRotate(n.rotate(this.getRotation(r)),r)},deltaPointsFromPixelsNoRotate:function(n,r){return n.divide(this._containerInnerSize.x*this.getZoom(r))},deltaPointsFromPixels:function(n,r){return this.deltaPointsFromPixelsNoRotate(n,r).rotate(-this.getRotation(r))},pixelFromPointNoRotate:function(n,r){return this._pixelFromPointNoRotate(n,this.getBoundsNoRotate(r))},pixelFromPoint:function(n,r){return this._pixelFromPoint(n,this.getBoundsNoRotate(r))},_pixelFromPointNoRotate:function(n,r){return n.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(n,r){return this._pixelFromPointNoRotate(n.rotate(this.getRotation(!0),this.getCenter(!0)),r)},pointFromPixelNoRotate:function(n,r){var l=this.getBoundsNoRotate(r);return n.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/l.width).plus(l.getTopLeft())},pointFromPixel:function(n,r){return this.pointFromPixelNoRotate(n,r).rotate(-this.getRotation(r),this.getCenter(r))},_viewportToImageDelta:function(n,r){var l=this._contentBoundsNoRotate.width;return new t.Point(n*this._contentSizeNoRotate.x/l,r*this._contentSizeNoRotate.x/l)},viewportToImageCoordinates:function(n,r){if(n instanceof t.Point)return this.viewportToImageCoordinates(n.x,n.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(l===1){var h=this.viewer.world.getItemAt(0);return h.viewportToImageCoordinates(n,r,!0)}}return this._viewportToImageDelta(n-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(n,r){var l=this._contentBoundsNoRotate.width;return new t.Point(n/this._contentSizeNoRotate.x*l,r/this._contentSizeNoRotate.x*l)},imageToViewportCoordinates:function(n,r){if(n instanceof t.Point)return this.imageToViewportCoordinates(n.x,n.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(l===1){var h=this.viewer.world.getItemAt(0);return h.imageToViewportCoordinates(n,r,!0)}}var d=this._imageToViewportDelta(n,r);return d.x+=this._contentBoundsNoRotate.x,d.y+=this._contentBoundsNoRotate.y,d},imageToViewportRectangle:function(n,r,l,h){var d=n;if(d instanceof t.Rect||(d=new t.Rect(n,r,l,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(p===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportRectangle(n,r,l,h,!0)}}var g=this.imageToViewportCoordinates(d.x,d.y),y=this._imageToViewportDelta(d.width,d.height);return new t.Rect(g.x,g.y,y.x,y.y,d.degrees)},viewportToImageRectangle:function(n,r,l,h){var d=n;if(d instanceof t.Rect||(d=new t.Rect(n,r,l,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(p===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageRectangle(n,r,l,h,!0)}}var g=this.viewportToImageCoordinates(d.x,d.y),y=this._viewportToImageDelta(d.width,d.height);return new t.Rect(g.x,g.y,y.x,y.y,d.degrees)},viewerElementToImageCoordinates:function(n){var r=this.pointFromPixel(n,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(n){var r=this.imageToViewportCoordinates(n);return this.pixelFromPoint(r,!0)},windowToImageCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=n.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(n);return r.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(n){return this.pointFromPixel(n,!0)},viewportToViewerElementCoordinates:function(n){return this.pixelFromPoint(n,!0)},viewerElementToViewportRectangle:function(n){return t.Rect.fromSummits(this.pointFromPixel(n.getTopLeft(),!0),this.pointFromPixel(n.getTopRight(),!0),this.pointFromPixel(n.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(n){return t.Rect.fromSummits(this.pixelFromPoint(n.getTopLeft(),!0),this.pixelFromPoint(n.getTopRight(),!0),this.pixelFromPoint(n.getBottomLeft(),!0))},windowToViewportCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=n.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(n){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(n);return r.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(r===1){var l=this.viewer.world.getItemAt(0);return l.viewportToImageZoom(n)}}var h=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,f=d/h*p;return n*f},imageToViewportZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(r===1){var l=this.viewer.world.getItemAt(0);return l.imageToViewportZoom(n)}}var h=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,f=h/d/p;return n*f},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(n){return this.flipped===n?this:(this.flipped=n,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:n}),this)}}}(i),function(t){t.TiledImage=function(d){var p=this;t.console.assert(d.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(d.drawer,"[TiledImage] options.drawer is required"),t.console.assert(d.viewer,"[TiledImage] options.viewer is required"),t.console.assert(d.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(d.source,"[TiledImage] options.source is required"),t.console.assert(!d.clip||d.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=d.tileCache,delete d.tileCache,this._drawer=d.drawer,delete d.drawer,this._imageLoader=d.imageLoader,delete d.imageLoader,d.clip instanceof t.Rect&&(this._clip=d.clip.clone()),delete d.clip;var f=d.x||0;delete d.x;var g=d.y||0;delete d.y,this.normHeight=d.source.dimensions.y/d.source.dimensions.x,this.contentAspectX=d.source.dimensions.x/d.source.dimensions.y;var y=1;d.width?(y=d.width,delete d.width,d.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete d.height)):d.height&&(y=d.height/this.normHeight,delete d.height);var S=d.fitBounds;delete d.fitBounds;var k=d.fitBoundsPlacement||i.Placement.CENTER;delete d.fitBoundsPlacement;var C=d.degrees||0;delete d.degrees;var P=d.ajaxHeaders;delete d.ajaxHeaders,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},d),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:g,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:y,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:C,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),S&&this.fitBounds(S,k,!0),this._drawingHandler=function(_){p.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:p},_))},this._ownAjaxHeaders={},this.setAjaxHeaders(P,!1)},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(d){d!==this._fullyLoaded&&(this._fullyLoaded=d,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var d=this._xSpring.update(),p=this._ySpring.update(),f=this._scaleSpring.update(),g=this._degreesSpring.update();return d||p||f||g?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(this.getRotation(d),this._getRotationPoint(d))},getBoundsNoRotate:function(d){return d?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(d){var p=this.getBoundsNoRotate(d);if(this._clip){var f=d?this._worldWidthCurrent:this._worldWidthTarget,g=f/this.source.dimensions.x,y=this._clip.times(g);p=new t.Rect(p.x+y.x,p.y+y.y,y.width,y.height)}return p.rotate(this.getRotation(d),this._getRotationPoint(d))},getTileBounds:function(d,p,f){var g=this.source.getNumTiles(d),y=(g.x+p%g.x)%g.x,S=(g.y+f%g.y)%g.y,k=this.source.getTileBounds(d,y,S);return this.getFlip()&&(k.x=1-k.x-k.width),k.x+=(p-y)/g.x,k.y+=this._worldHeightCurrent/this._worldWidthCurrent*((f-S)/g.y),k},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var d=this.imageToWindowCoordinates(new t.Point(0,0)),p=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(p.x-d.x,p.y-d.y)},_viewportToImageDelta:function(d,p,f){var g=f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(d*(this.source.dimensions.x/g),p*(this.source.dimensions.y*this.contentAspectX/g))},viewportToImageCoordinates:function(d,p,f){var g;return d instanceof t.Point?(f=p,g=d):g=new t.Point(d,p),g=g.rotate(-this.getRotation(f),this._getRotationPoint(f)),f?this._viewportToImageDelta(g.x-this._xSpring.current.value,g.y-this._ySpring.current.value):this._viewportToImageDelta(g.x-this._xSpring.target.value,g.y-this._ySpring.target.value)},_imageToViewportDelta:function(d,p,f){var g=f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(d/this.source.dimensions.x*g,p/this.source.dimensions.y/this.contentAspectX*g)},imageToViewportCoordinates:function(d,p,f){d instanceof t.Point&&(f=p,p=d.y,d=d.x);var g=this._imageToViewportDelta(d,p);return f?(g.x+=this._xSpring.current.value,g.y+=this._ySpring.current.value):(g.x+=this._xSpring.target.value,g.y+=this._ySpring.target.value),g.rotate(this.getRotation(f),this._getRotationPoint(f))},imageToViewportRectangle:function(d,p,f,g,y){var S=d;S instanceof t.Rect?y=p:S=new t.Rect(d,p,f,g);var k=this.imageToViewportCoordinates(S.getTopLeft(),y),C=this._imageToViewportDelta(S.width,S.height,y);return new t.Rect(k.x,k.y,C.x,C.y,S.degrees+this.getRotation(y))},viewportToImageRectangle:function(d,p,f,g,y){var S=d;d instanceof t.Rect?y=p:S=new t.Rect(d,p,f,g);var k=this.viewportToImageCoordinates(S.getTopLeft(),y),C=this._viewportToImageDelta(S.width,S.height,y);return new t.Rect(k.x,k.y,C.x,C.y,S.degrees-this.getRotation(y))},viewerElementToImageCoordinates:function(d){var p=this.viewport.pointFromPixel(d,!0);return this.viewportToImageCoordinates(p)},imageToViewerElementCoordinates:function(d){var p=this.imageToViewportCoordinates(d);return this.viewport.pixelFromPoint(p,!0)},windowToImageCoordinates:function(d){var p=d.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(p)},imageToWindowCoordinates:function(d){var p=this.imageToViewerElementCoordinates(d);return p.plus(i.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(d){var p=this._scaleSpring.current.value;return d=d.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((d.x-this._xSpring.current.value)/p,(d.y-this._ySpring.current.value)/p,d.width/p,d.height/p,d.degrees)},viewportToImageZoom:function(d){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return p*d},imageToViewportZoom:function(d){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return d/p},setPosition:function(d,p){var f=this._xSpring.target.value===d.x&&this._ySpring.target.value===d.y;if(p){if(f&&this._xSpring.current.value===d.x&&this._ySpring.current.value===d.y)return;this._xSpring.resetTo(d.x),this._ySpring.resetTo(d.y),this._needsDraw=!0}else{if(f)return;this._xSpring.springTo(d.x),this._ySpring.springTo(d.y),this._needsDraw=!0}f||this._raiseBoundsChange()},setWidth:function(d,p){this._setScale(d,p)},setHeight:function(d,p){this._setScale(d/this.normHeight,p)},setCroppingPolygons:function(d){var p=function(g){return g instanceof t.Point||typeof g.x=="number"&&typeof g.y=="number"},f=function(g){return g.map(function(y){try{if(p(y))return{x:y.x,y:y.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(d))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=d.map(function(g){return f(g)})}catch(g){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(g),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(d,p,f){p=p||t.Placement.CENTER;var g=t.Placement.properties[p],y=this.contentAspectX,S=0,k=0,C=1,P=1;if(this._clip&&(y=this._clip.getAspectRatio(),C=this._clip.width/this.source.dimensions.x,P=this._clip.height/this.source.dimensions.y,d.getAspectRatio()>y?(S=this._clip.x/this._clip.height*d.height,k=this._clip.y/this._clip.height*d.height):(S=this._clip.x/this._clip.width*d.width,k=this._clip.y/this._clip.width*d.width)),d.getAspectRatio()>y){var _=d.height/P,D=0;g.isHorizontallyCentered?D=(d.width-d.height*y)/2:g.isRight&&(D=d.width-d.height*y),this.setPosition(new t.Point(d.x-S+D,d.y-k),f),this.setHeight(_,f)}else{var q=d.width/C,G=0;g.isVerticallyCentered?G=(d.height-d.width/y)/2:g.isBottom&&(G=d.height-d.width/y),this.setPosition(new t.Point(d.x-S,d.y-k+G),f),this.setWidth(q,f)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(d){t.console.assert(!d||d instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),d instanceof t.Rect?this._clip=d.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(d){this.flipped=!!d,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(d){d!==this.opacity&&(this.opacity=d,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(d){this._preload=!!d,this._needsDraw=!0},getRotation:function(d){return d?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(d,p){this._degreesSpring.target.value===d&&this._degreesSpring.isAtTargetValue()||(p?this._degreesSpring.resetTo(d):this._degreesSpring.springTo(d),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(d){return this.getBoundsNoRotate(d).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(d){d!==this.compositeOperation&&(this.compositeOperation=d,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(d,p){if(d===null&&(d={}),!t.isPlainObject(d)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=d,this._updateAjaxHeaders(p)},_updateAjaxHeaders:function(d){if(d===void 0&&(d=!0),t.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=t.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,d){var p,f,g,y;for(var S in this.tilesMatrix){p=this.source.getNumTiles(S);for(var k in this.tilesMatrix[S]){f=(p.x+k%p.x)%p.x;for(var C in this.tilesMatrix[S][k])if(g=(p.y+C%p.y)%p.y,y=this.tilesMatrix[S][k][C],y.loadWithAjax=this.loadTilesWithAjax,y.loadWithAjax){var P=this.source.getTileAjaxHeaders(S,f,g);y.ajaxHeaders=t.extend({},this.ajaxHeaders,P)}else y.ajaxHeaders=null}}for(var _=0;_<this._imageLoader.jobQueue.length;_++){var D=this._imageLoader.jobQueue[_];D.loadWithAjax=D.tile.loadWithAjax,D.ajaxHeaders=D.tile.loadWithAjax?D.tile.ajaxHeaders:null}}},_setScale:function(d,p){var f=this._scaleSpring.target.value===d;if(p){if(f&&this._scaleSpring.current.value===d)return;this._scaleSpring.resetTo(d),this._updateForScale(),this._needsDraw=!0}else{if(f)return;this._scaleSpring.springTo(d),this._updateForScale(),this._needsDraw=!0}f||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var d=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,f=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(p/this.minPixelRatio)/Math.log(2))));return f=Math.max(f,this.source.minLevel||0),d=Math.min(d,f),{lowestLevel:d,highestLevel:f}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var d=this.lastDrawn.pop();d.beingDrawn=!1}var p=this.viewport,f=this._viewportToTiledImageRectangle(p.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var g=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(f=f.intersection(g),f===null)return}for(var y=this._getLevelsInterval(),S=y.lowestLevel,k=y.highestLevel,C=null,P=!1,_=t.now(),D=k;D>=S;D--){var q=!1,G=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(D),!0).x*this._scaleSpring.current.value;if(D===S||!P&&G>=this.minPixelRatio)q=!0,P=!0;else if(!P)continue;var ne=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(D),!1).x*this._scaleSpring.current.value,K=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Y=this.immediateRender?1:K,se=Math.min(1,(G-.5)/.5),ue=Y/Math.abs(Y-ne);if(C=this._updateLevel(P,q,D,se,ue,f,_,C),this._providesCoverage(this.coverage,D))break}this._drawTiles(this.lastDrawn),C&&!C.context2D?(this._loadTile(C,_),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(d,p,f){var g,y;this.wrapHorizontal?(g=t.positiveModulo(p.x,1),y=t.positiveModulo(f.x,1)):(g=Math.max(0,p.x),y=Math.min(1,f.x));var S,k,C=1/this.source.aspectRatio;this.wrapVertical?(S=t.positiveModulo(p.y,C),k=t.positiveModulo(f.y,C)):(S=Math.max(0,p.y),k=Math.min(C,f.y));var P=this.source.getTileAtPoint(d,new t.Point(g,S)),_=this.source.getTileAtPoint(d,new t.Point(y,k)),D=this.source.getNumTiles(d);return this.wrapHorizontal&&(P.x+=D.x*Math.floor(p.x),_.x+=D.x*Math.floor(f.x)),this.wrapVertical&&(P.y+=D.y*Math.floor(p.y/C),_.y+=D.y*Math.floor(f.y/C)),{topLeft:P,bottomRight:_}},_updateLevel:function(d,p,f,g,y,S,k,C){var P=S.getBoundingBox().getTopLeft(),_=S.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:d,level:f,opacity:g,visibility:y,drawArea:S,topleft:P,bottomright:_,currenttime:k,best:C}),this._resetCoverage(this.coverage,f),this._resetCoverage(this.loadingCoverage,f);var D=this._getCornerTiles(f,P,_),q=D.topLeft,G=D.bottomRight,ne=this.source.getNumTiles(f),K=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(G.x+=1,this.wrapHorizontal||(G.x=Math.min(G.x,ne.x-1)));for(var Y=q.x;Y<=G.x;Y++)for(var se=q.y;se<=G.y;se++){var ue;if(this.getFlip()){var he=(ne.x+Y%ne.x)%ne.x;ue=Y+ne.x-he-he-1}else ue=Y;S.intersection(this.getTileBounds(f,ue,se))!==null&&(C=this._updateTile(p,d,ue,se,f,g,y,K,ne,k,C))}return C},_updateTile:function(d,p,f,g,y,S,k,C,P,_,D){var q=this._getTile(f,g,y,_,P,this._worldWidthCurrent,this._worldHeightCurrent),G=p;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:q}),this._setCoverage(this.coverage,y,f,g,!1);var ne=q.loaded||q.loading||this._isCovered(this.loadingCoverage,y,f,g);if(this._setCoverage(this.loadingCoverage,y,f,g,ne),!q.exists||(d&&!G&&(this._isCovered(this.coverage,y,f,g)?this._setCoverage(this.coverage,y,f,g,!0):G=!0),!G))return D;if(this._positionTile(q,this.source.tileOverlap,this.viewport,C,k),!q.loaded)if(q.context2D)this._setTileLoaded(q);else{var K=this._tileCache.getImageRecord(q.cacheKey);K&&this._setTileLoaded(q,K.getData())}if(q.loaded){var Y=this._blendTile(q,f,g,y,S,_);Y&&(this._needsDraw=!0)}else q.loading?this._tilesLoading++:ne||(D=this._compareTiles(D,q));return D},_getTile:function(d,p,f,g,y,S,k){var C,P,_,D,q,G,ne,K,Y,se,ue=this.tilesMatrix,he=this.source;return ue[f]||(ue[f]={}),ue[f][d]||(ue[f][d]={}),(!ue[f][d][p]||!ue[f][d][p].flipped!=!this.flipped)&&(C=(y.x+d%y.x)%y.x,P=(y.y+p%y.y)%y.y,_=this.getTileBounds(f,d,p),D=he.getTileBounds(f,C,P,!0),q=he.tileExists(f,C,P),G=he.getTileUrl(f,C,P),ne=he.getTilePostData(f,C,P),this.loadTilesWithAjax?(K=he.getTileAjaxHeaders(f,C,P),t.isPlainObject(this.ajaxHeaders)&&(K=t.extend({},this.ajaxHeaders,K))):K=null,Y=he.getContext2D?he.getContext2D(f,C,P):void 0,se=new t.Tile(f,d,p,_,q,G,Y,this.loadTilesWithAjax,K,D,ne,he.getTileHashKey(f,C,P,G,K,ne)),this.getFlip()?C===0&&(se.isRightMost=!0):C===y.x-1&&(se.isRightMost=!0),P===y.y-1&&(se.isBottomMost=!0),se.flipped=this.flipped,ue[f][d][p]=se),se=ue[f][d][p],se.lastTouchTime=g,se},_loadTile:function(d,p){var f=this;d.loading=!0,this._imageLoader.addJob({src:d.getUrl(),tile:d,source:this.source,postData:d.postData,loadWithAjax:d.loadWithAjax,ajaxHeaders:d.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(g,y,S){f._onTileLoad(d,p,g,y,S)},abort:function(){d.loading=!1}})},_onTileLoad:function(d,p,f,g,y){if(f)d.exists=!0;else{t.console.error("Tile %s failed to load: %s - error: %s",d,d.getUrl(),g),this.viewer.raiseEvent("tile-load-failed",{tile:d,tiledImage:this,time:p,message:g,tileRequest:y}),d.loading=!1,d.exists=!1;return}if(p<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",d,d.getUrl()),d.loading=!1;return}var S=this,k=function(){var C=S.source,P=C.getClosestLevel();S._setTileLoaded(d,f,P,y)};this._midDraw?window.setTimeout(k,1):k()},_setTileLoaded:function(d,p,f,g){var y=0,S=!1,k=this;function C(){return S&&t.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),y++,P}function P(){y--,y===0&&(d.loading=!1,d.loaded=!0,d.hasTransparency=k.source.hasTransparency(d.context2D,d.getUrl(),d.ajaxHeaders,d.postData),d.context2D||k._tileCache.cacheTile({data:p,tile:d,cutoff:f,tiledImage:k}),k._needsDraw=!0)}var _=C();this.viewer.raiseEvent("tile-loaded",{tile:d,tiledImage:this,tileRequest:g,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),p},data:p,getCompletionCallback:C}),S=!0,_()},_positionTile:function(d,p,f,g,y){var S=d.bounds.getTopLeft();S.x*=this._scaleSpring.current.value,S.y*=this._scaleSpring.current.value,S.x+=this._xSpring.current.value,S.y+=this._ySpring.current.value;var k=d.bounds.getSize();k.x*=this._scaleSpring.current.value,k.y*=this._scaleSpring.current.value;var C=f.pixelFromPointNoRotate(S,!0),P=f.pixelFromPointNoRotate(S,!1),_=f.deltaPixelsFromPointsNoRotate(k,!0),D=f.deltaPixelsFromPointsNoRotate(k,!1),q=P.plus(D.divide(2)),G=g.squaredDistanceTo(q);p||(_=_.plus(new t.Point(1,1))),d.isRightMost&&this.wrapHorizontal&&(_.x+=.75),d.isBottomMost&&this.wrapVertical&&(_.y+=.75),d.position=C,d.size=_,d.squaredDistance=G,d.visibility=y},_blendTile:function(d,p,f,g,y,S){var k=1e3*this.blendTime,C,P;if(d.blendStart||(d.blendStart=S),C=S-d.blendStart,P=k?Math.min(1,C/k):1,this.alwaysBlend&&(P*=y),d.opacity=P,this.lastDrawn.push(d),P===1)this._setCoverage(this.coverage,g,p,f,!0),this._hasOpaqueTile=!0;else if(C<k)return!0;return!1},_compareTiles:function(d,p){return!d||p.visibility>d.visibility||p.visibility===d.visibility&&p.squaredDistance<d.squaredDistance?p:d},_drawTiles:function(d){if(!(this.opacity===0||d.length===0&&!this.placeholderFillStyle)){var p=d[0],f;p&&(f=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(p.context2D,p.getUrl(),p.ajaxHeaders,p.postData));var g,y,S=this.viewport.getZoom(!0),k=this.viewportToImageZoom(S);d.length>1&&k>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(f=!0,g=p.getScaleForEdgeSmoothing(),y=p.getTranslationForEdgeSmoothing(g,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var C;f&&(g||(C=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(C.x=this._drawer.viewer.container.clientWidth-(C.x+C.width)),C=C.times(t.pixelDensityRatio)),this._drawer._clear(!0,C)),g||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:f}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:f}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var P=!1;if(this._clip){this._drawer.saveContext(f);var _=this.imageToViewportRectangle(this._clip,!0);_=_.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var D=this._drawer.viewportToDrawerRectangle(_);g&&(D=D.times(g)),y&&(D=D.translate(y)),this._drawer.setClip(D,f),P=!0}if(this._croppingPolygons){var q=this;this._drawer.saveContext(f);try{var G=this._croppingPolygons.map(function(le){return le.map(function(ye){var fe=q.imageToViewportCoordinates(ye.x,ye.y,!0).rotate(-q.getRotation(!0),q._getRotationPoint(!0)),we=q._drawer.viewportCoordToDrawerCoord(fe);return g&&(we=we.times(g)),y&&(we=we.plus(y)),we})});this._drawer.clipWithPolygons(G,f)}catch(le){t.console.error(le)}P=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var ne=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));g&&(ne=ne.times(g)),y&&(ne=ne.translate(y));var K=null;typeof this.placeholderFillStyle=="function"?K=this.placeholderFillStyle(this,this._drawer.context):K=this.placeholderFillStyle,this._drawer.drawRectangle(ne,K,f)}var Y=h(this.subPixelRoundingForTransparency),se=!1;if(Y===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)se=!0;else if(Y===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ue=this.viewer&&this.viewer.isAnimating();se=!ue}for(var he=d.length-1;he>=0;he--)p=d[he],this._drawer.drawTile(p,this._drawingHandler,f,g,y,se,this.source),p.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:p});P&&this._drawer.restoreContext(f),g||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(f),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(f)),f&&(g&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:g,translate:y,compositeOperation:this.compositeOperation,bounds:C}),g&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),g||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(d)}},_drawDebugInfo:function(d){if(this.debugMode)for(var p=d.length-1;p>=0;p--){var f=d[p];try{this._drawer.drawDebugInfo(f,d.length,p,this)}catch(g){t.console.error(g)}}},_providesCoverage:function(d,p,f,g){var y,S,k,C;if(!d[p])return!1;if(f===void 0||g===void 0){y=d[p];for(k in y)if(Object.prototype.hasOwnProperty.call(y,k)){S=y[k];for(C in S)if(Object.prototype.hasOwnProperty.call(S,C)&&!S[C])return!1}return!0}return d[p][f]===void 0||d[p][f][g]===void 0||d[p][f][g]===!0},_isCovered:function(d,p,f,g){return f===void 0||g===void 0?this._providesCoverage(d,p+1):this._providesCoverage(d,p+1,2*f,2*g)&&this._providesCoverage(d,p+1,2*f,2*g+1)&&this._providesCoverage(d,p+1,2*f+1,2*g)&&this._providesCoverage(d,p+1,2*f+1,2*g+1)},_setCoverage:function(d,p,f,g,y){if(!d[p]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",p);return}d[p][f]||(d[p][f]={}),d[p][f][g]=y},_resetCoverage:function(d,p){d[p]={}}});var n=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function r(d){return d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function l(d){return r(d)?n:d}function h(d){if(typeof d=="number")return l(d);if(!d||!t.Browser)return n;var p=d[t.Browser.vendor];return r(p)&&(p=d["*"]),l(p)}}(i),function(t){var n=function(l){t.console.assert(l,"[TileCache.cacheTile] options is required"),t.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=l.tile,this.tiledImage=l.tiledImage},r=function(l){t.console.assert(l,"[ImageRecord] options is required"),t.console.assert(l.data,"[ImageRecord] options.data is required"),this._tiles=[],l.create.apply(null,[this,l.data,l.ownerTile]),this._destroyImplementation=l.destroy.bind(null,this),this.getImage=l.getImage.bind(null,this),this.getData=l.getData.bind(null,this),this.getRenderedContext=l.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(l){t.console.assert(l,"[ImageRecord.addTile] tile is required"),this._tiles.push(l)},removeTile:function(l){for(var h=0;h<this._tiles.length;h++)if(this._tiles[h]===l){this._tiles.splice(h,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",l)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(l){l=l||{},this._maxImageCacheCount=l.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(l){t.console.assert(l,"[TileCache.cacheTile] options is required"),t.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(l.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var h=l.cutoff||0,d=this._tilesLoaded.length,p=this._imagesLoaded[l.tile.cacheKey];if(p||(l.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),l.data=l.image),t.console.assert(l.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),p=this._imagesLoaded[l.tile.cacheKey]=new r({data:l.data,ownerTile:l.tile,create:l.tiledImage.source.createTileCache,destroy:l.tiledImage.source.destroyTileCache,getImage:l.tiledImage.source.getTileCacheDataAsImage,getData:l.tiledImage.source.getTileCacheData,getRenderedContext:l.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),p.addTile(l.tile),l.tile.cacheImageRecord=p,this._imagesLoadedCount>this._maxImageCacheCount){for(var f=null,g=-1,y=null,S,k,C,P,_,D,q=this._tilesLoaded.length-1;q>=0;q--)if(D=this._tilesLoaded[q],S=D.tile,!(S.level<=h||S.beingDrawn)){if(!f){f=S,g=q,y=D;continue}P=S.lastTouchTime,k=f.lastTouchTime,_=S.level,C=f.level,(P<k||P===k&&_>C)&&(f=S,g=q,y=D)}f&&g>=0&&(this._unloadTile(y),d=g)}this._tilesLoaded[d]=new n({tile:l.tile,tiledImage:l.tiledImage})},clearTilesFor:function(l){t.console.assert(l,"[TileCache.clearTilesFor] tiledImage is required");for(var h,d=0;d<this._tilesLoaded.length;++d)h=this._tilesLoaded[d],h.tiledImage===l&&(this._unloadTile(h),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(l){return t.console.assert(l,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[l]},_unloadTile:function(l){t.console.assert(l,"[TileCache._unloadTile] tileRecord is required");var h=l.tile,d=l.tiledImage;h.unload(),h.cacheImageRecord=null;var p=this._imagesLoaded[h.cacheKey];p.removeTile(h),p.getTileCount()||(p.destroy(),delete this._imagesLoaded[h.cacheKey],this._imagesLoadedCount--),d.viewer.raiseEvent("tile-unloaded",{tile:h,tiledImage:d})}}}(i),function(t){t.World=function(n){var r=this;t.console.assert(n.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=n.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(l){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(n,r){if(t.console.assert(n,"[World.addItem] item is required"),t.console.assert(n instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},r.index!==void 0){var l=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(l,0,n)}else this._items.push(n);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,n.addHandler("bounds-change",this._delegatedFigureSizes),n.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:n})},getItemAt:function(n){return t.console.assert(n!==void 0,"[World.getItemAt] index is required"),this._items[n]},getIndexOfItem:function(n){return t.console.assert(n,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,n)},getItemCount:function(){return this._items.length},setItemIndex:function(n,r){t.console.assert(n,"[World.setItemIndex] item is required"),t.console.assert(r!==void 0,"[World.setItemIndex] index is required");var l=this.getIndexOfItem(n);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r===l||l===-1||(this._items.splice(l,1),this._items.splice(r,0,n),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:n,previousIndex:l,newIndex:r}))},removeItem:function(n){t.console.assert(n,"[World.removeItem] item is required");var r=t.indexOf(this._items,n);r!==-1&&(n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(n))},removeAll:function(){this.viewer._cancelPendingImages();var n,r;for(r=0;r<this._items.length;r++)n=this._items[r],n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy();var l=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,r=0;r<l.length;r++)n=l[r],this._raiseRemoveItem(n)},resetItems:function(){for(var n=0;n<this._items.length;n++)this._items[n].reset()},update:function(){for(var n=!1,r=0;r<this._items.length;r++)n=this._items[r].update()||n;return n},draw:function(){for(var n=0;n<this._items.length;n++)this._items[n].draw();this._needsDraw=!1},needsDraw:function(){for(var n=0;n<this._items.length;n++)if(this._items[n].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(n){this._autoRefigureSizes=n,n&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(n){n=n||{};var r=n.immediately||!1,l=n.layout||t.DEFAULT_SETTINGS.collectionLayout,h=n.rows||t.DEFAULT_SETTINGS.collectionRows,d=n.columns||t.DEFAULT_SETTINGS.collectionColumns,p=n.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,f=n.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,g=p+f,y;!n.rows&&d?y=d:y=Math.ceil(this._items.length/h);var S=0,k=0,C,P,_,D,q;this.setAutoRefigureSizes(!1);for(var G=0;G<this._items.length;G++)G&&G%y===0&&(l==="horizontal"?(k+=g,S=0):(S+=g,k=0)),C=this._items[G],P=C.getBounds(),P.width>P.height?_=p:_=p*(P.width/P.height),D=_*(P.height/P.width),q=new t.Point(S+(p-_)/2,k+(p-D)/2),C.setPosition(q,r),C.setWidth(_,r),l==="horizontal"?S+=g:k+=g;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var n=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,l=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var h=this._items[0],d=h.getBounds();this._contentFactor=h.getContentSize().x/d.width;for(var p=h.getClippedBounds().getBoundingBox(),f=p.x,g=p.y,y=p.x+p.width,S=p.y+p.height,k=1;k<this._items.length;k++)h=this._items[k],d=h.getBounds(),this._contentFactor=Math.max(this._contentFactor,h.getContentSize().x/d.width),p=h.getClippedBounds().getBoundingBox(),f=Math.min(f,p.x),g=Math.min(g,p.y),y=Math.max(y,p.x+p.width),S=Math.max(S,p.y+p.height);this._homeBounds=new t.Rect(f,g,y-f,S-g),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==l||!this._homeBounds.equals(n)||!this._contentSize.equals(r))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(n){this.raiseEvent("remove-item",{item:n})}})}(i)})(M1);var eH=M1.exports;const gm=Sr(eH);function H0(e){return JSON.parse(JSON.stringify(e))}const F0={middle:!1,top:!1,"left-middle":!1,"right-middle":!1,bottom:!1,"left-top":!1,"right-top":!1,"left-bottom":!1,"right-bottom":!1},tH=["tall","extra-tall","wide","full"];function nH(e){return rH(e,[[".",".","."],[".",".","."],[".",".","."]],iH)}function iH(e,i,t,n){switch(e){case"top":i[0][1]=n.id,t==="wide"&&(i[0][2]=n.id),t==="full"&&(i[0][0]=n.id,i[0][2]=n.id);break;case"left-middle":i[1][0]=n.id,t==="tall"?i[2][0]=n.id:t==="wide"&&(i[1][1]=n.id,i[1][2]=n.id);break;case"right-middle":i[1][2]=n.id,t==="tall"&&(i[2][2]=n.id);break;case"bottom":i[2][1]=n.id,t==="wide"&&(i[2][2]=n.id),t==="full"&&(i[2][0]=n.id,i[2][2]=n.id);break;case"left-top":i[0][0]=n.id,t==="tall"?i[1][0]=n.id:t==="wide"&&(i[0][1]=n.id,i[0][2]=n.id);break;case"right-top":i[0][2]=n.id,t==="tall"&&(i[1][2]=n.id);break;case"left-bottom":i[2][0]=n.id,t==="wide"&&(i[2][1]=n.id,i[2][2]=n.id);break;case"right-bottom":i[2][2]=n.id;break;default:i[1][1]=n.id,i[1][2]=n.id,t==="full"&&(i[1][0]=n.id)}}function rH(e,i,t){const n=document.createElement("div");n.innerHTML=e;let r;n.getElementsByTagName("tei-surface").length>0?r=[n.getElementsByTagName("tei-surface")[0]]:r=n.getElementsByTagName("tei-body")[0].children;const l=function(S){const k=S.getAttribute("rend");return Object.keys(F0).includes(k)?k:"middle"};function h(S){const k=S.getAttribute("style");return tH.includes(k)?k:null}const d=[];let p="",f=0,g=0;try{for(const S of r){const k=H0(i),C=H0(F0),P=S.id,_=S.children,D=S.getAttribute("facs"),q=S.getAttribute("ana");for(const G of _){const ne=l(G),K=h(G);G.setAttribute("data-entry-id",P),C[ne]?(G.id=C[ne][0].id,C[ne].push(G)):(f++,G.id=`z${f}`,C[ne]=[G]),t(ne,k,K,G)}for(const G of Object.values(C))G&&(p=p.concat(sH(G,D,q)));d[g]=yf(k[0],d[g]),d[g+1]=yf(k[1],d[g+1]),d[g+2]=yf(k[2],d[g+2]),g+=1}}catch(S){console.error(S)}const y=oH(d);return{html:p,layout:y}}function oH(e){const i=[...e];e[0]&&e[0][0]==="."&&e[0][1]==="."&&i.shift();let t="";for(const n of i){const r=n.join(" ");t+=` '${r}'`}return t}function sH(e,i,t){const n=e[0],r=n.id,l=n.attributes["data-entry-id"].value;let h="";for(let p=0;p<n.classList.length;p++)h=`${h} ${n.classList.item(p)}`;let d=`<div id="${r}" className="${h}" ana="${t}" data-entry-id="${l}" data-facs="${i||""}">`;for(const p of e)p.getAttribute("facs")&&p.setAttribute("data-facs",p.getAttribute("facs")),p.setAttribute("className","block"),p.name==="div"?d=d.concat(`${p.innerHTML} <br/>`):d=d.concat(`${p.outerHTML}`);return d.concat("</div>")}function yf(e,i){if(i){const t=[];for(let n=0;n<4;n++)e[n]!=="."?t[n]=e[n]:t[n]=i[n];return t}return e}function aH(e){const i=[],t=new DOMParser().parseFromString(e,"text/html").querySelectorAll("tei-div[ana], tei-seg[ana]");for(const n of t){const r=n.getAttribute("ana");if(r){const l=r.split(" ").map(h=>h.slice(1));for(const h of l)i.includes(h)||i.push(h)}}return i}function lH(e){const i=new Set,t={};return e.forEach(n=>{t[n.id]=[],n.body.forEach(r=>{if(r.purpose==="classifying"){const l=r.value.slice(1);i.add(l),t[n.id].push(l)}})}),{tagIds:Array.from(i),zoneTagIndex:t}}async function uH(e){if(e.loading)return e;e.loading=!0;const i={...e},t=Object.keys(i.annotationURLs),n=Object.fromEntries(t.map(h=>[h,!1]));if(i.image_zoom_url.endsWith(".json")){const h=await(await fetch(i.image_zoom_url)).json();i.tileSource=new gm.IIIFTileSource(h)}else i.tileSource=new gm.ImageTileSource({type:"image",url:i.image_zoom_url});const{tagIds:r,zoneTagIndex:l}=lH(i.annotations);if(i.tagIds=[...r],i.zoneTagIndex={...l},t.length>0){for await(const h of t){const{htmlURL:d,xmlURL:p}=i.annotationURLs[h];i.transcription||(i.transcription={}),i.transcription[h]={};try{const f=await fetch(d),g=await fetch(p),y=await f.text(),S=await g.text(),k=aH(y),C=cH(y,S);if(C)i.transcription[h]=C,i.tagIds=[...i.tagIds,...k],i.loading=!1,n[h]=!0;else throw new Error(`Unable to load transcription: ${d}`)}catch(f){throw e.loading=!1,f}}if(Object.values(n).filter(h=>!h).length===0)return i}return i.loading=!1,i}function cH(e,i){return{...nH(e),xml:i}}const hg=e=>e.document,dH=e=>e.glossary,hH=e=>e.notes;function*V0(e){const i=yield fetch(e);if(!i.ok)return null;const t=yield i.text(),n=new DOMParser().parseFromString(t,"text/html").querySelectorAll("tei-category"),r={};for(const l of n){const h=l.getAttribute("id");if(h){const d=l.querySelector("tei-catdesc");if(d){const p=d.textContent;r[h]=p}}}return r}function*pH(e){if(typeof e=="string"){const i=yield V0(e);yield Qo("DocumentActions.loadTags",i)}else{const i={};for(const t of Object.keys(e))i[t]=yield V0(e[t]);yield Qo("DocumentActions.loadTags",i)}}function*fH(e){const i=e.payload.params[0].split("/");if(i.length>1)switch(i[1]){case"ec":{yield gH(),yield mH(),yield yH(),yield bH(),yield vH(i);break}}}function*mH(){const e=yield Il(hg);e.tags||(yield pH(e.headerUrl))}function*gH(){const e=yield Il(hg);if(!e.loaded){if(e.variorum){const t={};for(const r of Object.keys(e.manifestURL)){const l=yield fetch(e.manifestURL[r]);t[r]=yield l.json()}const n={type:"variorum",documentData:t};return yield Qo("DocumentActions.loadDocument",n),n}const i=yield(yield fetch(e.manifestURL)).json();return yield Qo("DocumentActions.loadDocument",i),i}return null}function*vH(e){const i=yield Il(hg);if(i.loaded){let t,n,r;e.length>2&&(t=e[2],e.length>4&&(n=e[4],e.length>6&&(r=e[6])));const l=[];l.push(t),n&&n!==t&&l.push(n),r&&r!==t&&r!==n&&l.push(r);for(const h of l){const d=i.folioIndex[h]||i.folioIndex[decodeURI(h)];if(d&&!d.loading){const p=yield uH(d);yield Qo("DocumentActions.loadFolio",p)}}}}function*yH(){const e=yield Il(dH);if(!e.loaded&&e.URL){const i=yield(yield fetch(e.URL)).json();yield Qo("GlossaryActions.loadGlossary",i)}}function*bH(){const e=yield Il(hH);if(!e.loaded&&e.URL){const i=yield(yield fetch(e.URL)).text();yield Qo("NotesActions.loadNotes",i)}}function*wH(){yield Hj("RouteListenerSaga.userNavigation",fH)}function*xH(){yield tj([wH()])}function SH(e){const i=Lj(),t=JT(Qj(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),TN(i));return i.run(xH),t}function vm(e,i,...t){e.dispatch({type:i,payload:{params:t,dispatcher:{dispatch:e.dispatch}}})}function*Qo(e,...i){return yield ej({type:e,payload:{params:i}})}function EH(e,i,t){const n=t.payload&&t.payload.params?t.payload.params:[];return i(e,...n,t.payload.dispatcher)}function TH(e,i){const t=e.split(".");return i[t[1]]}function yc(e,i,t){const n=[];for(const l of Object.keys(i))n.push(`${e}.${l}`);function r(l=t,h,d=n,p=i){return d.includes(h.type)?EH(l,TH(h.type,p),h):{...l}}return r}function $n(e){if(typeof e!="string")throw new Error(oa(7));return e.charAt(0).toUpperCase()+e.slice(1)}function sa(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return i.reduce(function(n,r){return r==null?n:function(){for(var l=arguments.length,h=new Array(l),d=0;d<l;d++)h[d]=arguments[d];n.apply(this,h),r.apply(this,h)}},function(){})}var kH=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},z1=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.color,h=l===void 0?"inherit":l,d=e.component,p=d===void 0?"svg":d,f=e.fontSize,g=f===void 0?"medium":f,y=e.htmlColor,S=e.titleAccess,k=e.viewBox,C=k===void 0?"0 0 24 24":k,P=At(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return z.createElement(p,Ce({className:jt(n.root,r,h!=="inherit"&&n["color".concat($n(h))],g!=="default"&&g!=="medium"&&n["fontSize".concat($n(g))]),focusable:"false",viewBox:C,color:y,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:i},P),t,S?z.createElement("title",null,S):null)});z1.muiName="SvgIcon";const U0=vn(kH,{name:"MuiSvgIcon"})(z1);function zl(e,i){var t=function(n,r){return vt.createElement(U0,Ce({ref:r},n),e)};return t.muiName=U0.muiName,vt.memo(vt.forwardRef(t))}function pg(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,t;function n(){for(var r=arguments.length,l=new Array(r),h=0;h<r;h++)l[h]=arguments[h];var d=this,p=function(){e.apply(d,l)};clearTimeout(t),t=setTimeout(p,i)}return n.clear=function(){clearTimeout(t)},n}function CH(e,i){return function(){return null}}function L1(e,i){return z.isValidElement(e)&&i.indexOf(e.type.muiName)!==-1}function wr(e){return e&&e.ownerDocument||document}function fg(e){var i=wr(e);return i.defaultView||window}function PH(e){return function(){return null}}function es(e,i){typeof e=="function"?e(i):e&&(e.current=i)}function _H(e,i,t,n,r){return null}function dd(e){var i=e.controlled,t=e.default;e.name,e.state;var n=z.useRef(i!==void 0),r=n.current,l=z.useState(t),h=l[0],d=l[1],p=r?i:h,f=z.useCallback(function(g){r||d(g)},[]);return[p,f]}var RH=typeof window<"u"?z.useLayoutEffect:z.useEffect;function ro(e){var i=z.useRef(e);return RH(function(){i.current=e}),z.useCallback(function(){return i.current.apply(void 0,arguments)},[])}function Vn(e,i){return z.useMemo(function(){return e==null&&i==null?null:function(t){es(e,t),es(i,t)}},[e,i])}function OH(e){var i=z.useState(e),t=i[0],n=i[1],r=e||t;return z.useEffect(function(){t==null&&n("mui-".concat(Math.round(Math.random()*1e5)))},[t]),r}var hd=!0,ym=!1,W0=null,DH={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function AH(e){var i=e.type,t=e.tagName;return!!(t==="INPUT"&&DH[i]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function IH(e){e.metaKey||e.altKey||e.ctrlKey||(hd=!0)}function bf(){hd=!1}function MH(){this.visibilityState==="hidden"&&ym&&(hd=!0)}function zH(e){e.addEventListener("keydown",IH,!0),e.addEventListener("mousedown",bf,!0),e.addEventListener("pointerdown",bf,!0),e.addEventListener("touchstart",bf,!0),e.addEventListener("visibilitychange",MH,!0)}function LH(e){var i=e.target;try{return i.matches(":focus-visible")}catch{}return hd||AH(i)}function BH(){ym=!0,window.clearTimeout(W0),W0=window.setTimeout(function(){ym=!1},100)}function B1(){var e=z.useCallback(function(i){var t=cr.findDOMNode(i);t!=null&&zH(t.ownerDocument)},[]);return{isFocusVisible:LH,onBlurVisible:BH,ref:e}}const NH=Object.freeze(Object.defineProperty({__proto__:null,capitalize:$n,createChainedFunction:sa,createSvgIcon:zl,debounce:pg,deprecatedPropType:CH,isMuiElement:L1,ownerDocument:wr,ownerWindow:fg,requirePropFactory:PH,setRef:es,unstable_useId:OH,unsupportedProp:_H,useControlled:dd,useEventCallback:ro,useForkRef:Vn,useIsFocusVisible:B1},Symbol.toStringTag,{value:"Module"}));function jH(e){return rT(e)||nT(e)||Wm(e)||oT()}const G0={disabled:!1},Fc=vt.createContext(null);var HH=function(e){return e.scrollTop},cl="unmounted",Ho="exited",Fo="entering",Ys="entered",bm="exiting",hr=function(e){ed(i,e);function i(n,r){var l;l=e.call(this,n,r)||this;var h=r,d=h&&!h.isMounting?n.enter:n.appear,p;return l.appearStatus=null,n.in?d?(p=Ho,l.appearStatus=Fo):p=Ys:n.unmountOnExit||n.mountOnEnter?p=cl:p=Ho,l.state={status:p},l.nextCallback=null,l}i.getDerivedStateFromProps=function(n,r){var l=n.in;return l&&r.status===cl?{status:Ho}:null};var t=i.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(n){var r=null;if(n!==this.props){var l=this.state.status;this.props.in?l!==Fo&&l!==Ys&&(r=Fo):(l===Fo||l===Ys)&&(r=bm)}this.updateStatus(!1,r)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var n=this.props.timeout,r,l,h;return r=l=h=n,n!=null&&typeof n!="number"&&(r=n.exit,l=n.enter,h=n.appear!==void 0?n.appear:l),{exit:r,enter:l,appear:h}},t.updateStatus=function(n,r){if(n===void 0&&(n=!1),r!==null)if(this.cancelNextCallback(),r===Fo){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:al.findDOMNode(this);l&&HH(l)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ho&&this.setState({status:cl})},t.performEnter=function(n){var r=this,l=this.props.enter,h=this.context?this.context.isMounting:n,d=this.props.nodeRef?[h]:[al.findDOMNode(this),h],p=d[0],f=d[1],g=this.getTimeouts(),y=h?g.appear:g.enter;if(!n&&!l||G0.disabled){this.safeSetState({status:Ys},function(){r.props.onEntered(p)});return}this.props.onEnter(p,f),this.safeSetState({status:Fo},function(){r.props.onEntering(p,f),r.onTransitionEnd(y,function(){r.safeSetState({status:Ys},function(){r.props.onEntered(p,f)})})})},t.performExit=function(){var n=this,r=this.props.exit,l=this.getTimeouts(),h=this.props.nodeRef?void 0:al.findDOMNode(this);if(!r||G0.disabled){this.safeSetState({status:Ho},function(){n.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:bm},function(){n.props.onExiting(h),n.onTransitionEnd(l.exit,function(){n.safeSetState({status:Ho},function(){n.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(n,r){r=this.setNextCallback(r),this.setState(n,r)},t.setNextCallback=function(n){var r=this,l=!0;return this.nextCallback=function(h){l&&(l=!1,r.nextCallback=null,n(h))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(n,r){this.setNextCallback(r);var l=this.props.nodeRef?this.props.nodeRef.current:al.findDOMNode(this),h=n==null&&!this.props.addEndListener;if(!l||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],f=d[1];this.props.addEndListener(p,f)}n!=null&&setTimeout(this.nextCallback,n)},t.render=function(){var n=this.state.status;if(n===cl)return null;var r=this.props,l=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var h=is(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vt.createElement(Fc.Provider,{value:null},typeof l=="function"?l(n,h):vt.cloneElement(vt.Children.only(l),h))},i}(vt.Component);hr.contextType=Fc;hr.propTypes={};function Xs(){}hr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xs,onEntering:Xs,onEntered:Xs,onExit:Xs,onExiting:Xs,onExited:Xs};hr.UNMOUNTED=cl;hr.EXITED=Ho;hr.ENTERING=Fo;hr.ENTERED=Ys;hr.EXITING=bm;function mg(e,i){var t=function(r){return i&&z.isValidElement(r)?i(r):r},n=Object.create(null);return e&&z.Children.map(e,function(r){return r}).forEach(function(r){n[r.key]=t(r)}),n}function FH(e,i){e=e||{},i=i||{};function t(g){return g in i?i[g]:e[g]}var n=Object.create(null),r=[];for(var l in e)l in i?r.length&&(n[l]=r,r=[]):r.push(l);var h,d={};for(var p in i){if(n[p])for(h=0;h<n[p].length;h++){var f=n[p][h];d[n[p][h]]=t(f)}d[p]=t(p)}for(h=0;h<r.length;h++)d[r[h]]=t(r[h]);return d}function Go(e,i,t){return t[i]!=null?t[i]:e.props[i]}function VH(e,i){return mg(e.children,function(t){return z.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:Go(t,"appear",e),enter:Go(t,"enter",e),exit:Go(t,"exit",e)})})}function UH(e,i,t){var n=mg(e.children),r=FH(i,n);return Object.keys(r).forEach(function(l){var h=r[l];if(z.isValidElement(h)){var d=l in i,p=l in n,f=i[l],g=z.isValidElement(f)&&!f.props.in;p&&(!d||g)?r[l]=z.cloneElement(h,{onExited:t.bind(null,h),in:!0,exit:Go(h,"exit",e),enter:Go(h,"enter",e)}):!p&&d&&!g?r[l]=z.cloneElement(h,{in:!1}):p&&d&&z.isValidElement(f)&&(r[l]=z.cloneElement(h,{onExited:t.bind(null,h),in:f.props.in,exit:Go(h,"exit",e),enter:Go(h,"enter",e)}))}}),r}var WH=Object.values||function(e){return Object.keys(e).map(function(i){return e[i]})},GH={component:"div",childFactory:function(e){return e}},gg=function(e){ed(i,e);function i(n,r){var l;l=e.call(this,n,r)||this;var h=l.handleExited.bind(nm(l));return l.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},l}var t=i.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(n,r){var l=r.children,h=r.handleExited,d=r.firstRender;return{children:d?VH(n,h):UH(n,l,h),firstRender:!1}},t.handleExited=function(n,r){var l=mg(this.props.children);n.key in l||(n.props.onExited&&n.props.onExited(r),this.mounted&&this.setState(function(h){var d=Ce({},h.children);return delete d[n.key],{children:d}}))},t.render=function(){var n=this.props,r=n.component,l=n.childFactory,h=is(n,["component","childFactory"]),d=this.state.contextValue,p=WH(this.state.children).map(l);return delete h.appear,delete h.enter,delete h.exit,r===null?vt.createElement(Fc.Provider,{value:d},p):vt.createElement(Fc.Provider,{value:d},vt.createElement(r,h,p))},i}(vt.Component);gg.propTypes={};gg.defaultProps=GH;var N1=function(e){return e.scrollTop};function aa(e,i){var t=e.timeout,n=e.style,r=n===void 0?{}:n;return{duration:r.transitionDuration||typeof t=="number"?t:t[i.mode]||0,delay:r.transitionDelay}}var qH=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},j1=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.collapsedHeight,h=e.collapsedSize,d=h===void 0?"0px":h,p=e.component,f=p===void 0?"div":p,g=e.disableStrictModeCompat,y=g===void 0?!1:g,S=e.in,k=e.onEnter,C=e.onEntered,P=e.onEntering,_=e.onExit,D=e.onExited,q=e.onExiting,G=e.style,ne=e.timeout,K=ne===void 0?El.standard:ne,Y=e.TransitionComponent,se=Y===void 0?hr:Y,ue=At(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),he=pa(),le=z.useRef(),ye=z.useRef(null),fe=z.useRef(),we=typeof(l||d)=="number"?"".concat(l||d,"px"):l||d;z.useEffect(function(){return function(){clearTimeout(le.current)}},[]);var Ie=he.unstable_strictMode&&!y,je=z.useRef(null),Se=Vn(i,Ie?je:void 0),ge=function(tt){return function(at,yt){if(tt){var Ot=Ie?[je.current,at]:[at,yt],Tt=rs(Ot,2),rt=Tt[0],Ye=Tt[1];Ye===void 0?tt(rt):tt(rt,Ye)}}},Re=ge(function(tt,at){tt.style.height=we,k&&k(tt,at)}),_e=ge(function(tt,at){var yt=ye.current?ye.current.clientHeight:0,Ot=aa({style:G,timeout:K},{mode:"enter"}),Tt=Ot.duration;if(K==="auto"){var rt=he.transitions.getAutoHeightDuration(yt);tt.style.transitionDuration="".concat(rt,"ms"),fe.current=rt}else tt.style.transitionDuration=typeof Tt=="string"?Tt:"".concat(Tt,"ms");tt.style.height="".concat(yt,"px"),P&&P(tt,at)}),J=ge(function(tt,at){tt.style.height="auto",C&&C(tt,at)}),ze=ge(function(tt){var at=ye.current?ye.current.clientHeight:0;tt.style.height="".concat(at,"px"),_&&_(tt)}),st=ge(D),ee=ge(function(tt){var at=ye.current?ye.current.clientHeight:0,yt=aa({style:G,timeout:K},{mode:"exit"}),Ot=yt.duration;if(K==="auto"){var Tt=he.transitions.getAutoHeightDuration(at);tt.style.transitionDuration="".concat(Tt,"ms"),fe.current=Tt}else tt.style.transitionDuration=typeof Ot=="string"?Ot:"".concat(Ot,"ms");tt.style.height=we,q&&q(tt)}),kt=function(tt,at){var yt=Ie?tt:at;K==="auto"&&(le.current=setTimeout(yt,fe.current||0))};return z.createElement(se,Ce({in:S,onEnter:Re,onEntered:J,onEntering:_e,onExit:ze,onExited:st,onExiting:ee,addEndListener:kt,nodeRef:Ie?je:void 0,timeout:K==="auto"?null:K},ue),function(tt,at){return z.createElement(f,Ce({className:jt(n.root,n.container,r,{entered:n.entered,exited:!S&&we==="0px"&&n.hidden}[tt]),style:Ce({minHeight:we},G),ref:Se},at),z.createElement("div",{className:n.wrapper,ref:ye},z.createElement("div",{className:n.wrapperInner},t)))})});j1.muiSupportAuto=!0;const XH=vn(qH,{name:"MuiCollapse"})(j1);var YH=function(e){var i={};return e.shadows.forEach(function(t,n){i["elevation".concat(n)]={boxShadow:t}}),Ce({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},i)},KH=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.component,l=r===void 0?"div":r,h=e.square,d=h===void 0?!1:h,p=e.elevation,f=p===void 0?1:p,g=e.variant,y=g===void 0?"elevation":g,S=At(e,["classes","className","component","square","elevation","variant"]);return z.createElement(l,Ce({className:jt(t.root,n,y==="outlined"?t.outlined:t["elevation".concat(f)],!d&&t.rounded),ref:i},S))});const pd=vn(YH,{name:"MuiPaper"})(KH);var H1=z.createContext({}),ZH=function(e){var i={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],i),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],i)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},JH=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.defaultExpanded,h=l===void 0?!1:l,d=e.disabled,p=d===void 0?!1:d,f=e.expanded,g=e.onChange,y=e.square,S=y===void 0?!1:y,k=e.TransitionComponent,C=k===void 0?XH:k,P=e.TransitionProps,_=At(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),D=dd({controlled:f,default:h,name:"Accordion",state:"expanded"}),q=rs(D,2),G=q[0],ne=q[1],K=z.useCallback(function(ye){ne(!G),g&&g(ye,!G)},[G,g,ne]),Y=z.Children.toArray(t),se=jH(Y),ue=se[0],he=se.slice(1),le=z.useMemo(function(){return{expanded:G,disabled:p,toggle:K}},[G,p,K]);return z.createElement(pd,Ce({className:jt(n.root,r,G&&n.expanded,p&&n.disabled,!S&&n.rounded),ref:i,square:S},_),z.createElement(H1.Provider,{value:le},ue),z.createElement(C,Ce({in:G,timeout:"auto"},P),z.createElement("div",{"aria-labelledby":ue.props.id,id:ue.props["aria-controls"],role:"region"},he)))});vn(ZH,{name:"MuiAccordion"})(JH);var $H=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},QH=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=At(e,["classes","className"]);return z.createElement("div",Ce({className:jt(t.root,n),ref:i},r))});vn($H,{name:"MuiAccordionDetails"})(QH);var eF=typeof window>"u"?z.useEffect:z.useLayoutEffect;function tF(e){var i=e.classes,t=e.pulsate,n=t===void 0?!1:t,r=e.rippleX,l=e.rippleY,h=e.rippleSize,d=e.in,p=e.onExited,f=p===void 0?function(){}:p,g=e.timeout,y=z.useState(!1),S=y[0],k=y[1],C=jt(i.ripple,i.rippleVisible,n&&i.ripplePulsate),P={width:h,height:h,top:-(h/2)+l,left:-(h/2)+r},_=jt(i.child,S&&i.childLeaving,n&&i.childPulsate),D=ro(f);return eF(function(){if(!d){k(!0);var q=setTimeout(D,g);return function(){clearTimeout(q)}}},[D,d,g]),z.createElement("span",{className:C,style:P},z.createElement("span",{className:_}))}var wm=550,nF=80,iF=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(wm,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(wm,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},rF=z.forwardRef(function(e,i){var t=e.center,n=t===void 0?!1:t,r=e.classes,l=e.className,h=At(e,["center","classes","className"]),d=z.useState([]),p=d[0],f=d[1],g=z.useRef(0),y=z.useRef(null);z.useEffect(function(){y.current&&(y.current(),y.current=null)},[p]);var S=z.useRef(!1),k=z.useRef(null),C=z.useRef(null),P=z.useRef(null);z.useEffect(function(){return function(){clearTimeout(k.current)}},[]);var _=z.useCallback(function(ne){var K=ne.pulsate,Y=ne.rippleX,se=ne.rippleY,ue=ne.rippleSize,he=ne.cb;f(function(le){return[].concat($c(le),[z.createElement(tF,{key:g.current,classes:r,timeout:wm,pulsate:K,rippleX:Y,rippleY:se,rippleSize:ue})])}),g.current+=1,y.current=he},[r]),D=z.useCallback(function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2?arguments[2]:void 0,se=K.pulsate,ue=se===void 0?!1:se,he=K.center,le=he===void 0?n||K.pulsate:he,ye=K.fakeElement,fe=ye===void 0?!1:ye;if(ne.type==="mousedown"&&S.current){S.current=!1;return}ne.type==="touchstart"&&(S.current=!0);var we=fe?null:P.current,Ie=we?we.getBoundingClientRect():{width:0,height:0,left:0,top:0},je,Se,ge;if(le||ne.clientX===0&&ne.clientY===0||!ne.clientX&&!ne.touches)je=Math.round(Ie.width/2),Se=Math.round(Ie.height/2);else{var Re=ne.touches?ne.touches[0]:ne,_e=Re.clientX,J=Re.clientY;je=Math.round(_e-Ie.left),Se=Math.round(J-Ie.top)}if(le)ge=Math.sqrt((2*Math.pow(Ie.width,2)+Math.pow(Ie.height,2))/3),ge%2===0&&(ge+=1);else{var ze=Math.max(Math.abs((we?we.clientWidth:0)-je),je)*2+2,st=Math.max(Math.abs((we?we.clientHeight:0)-Se),Se)*2+2;ge=Math.sqrt(Math.pow(ze,2)+Math.pow(st,2))}ne.touches?C.current===null&&(C.current=function(){_({pulsate:ue,rippleX:je,rippleY:Se,rippleSize:ge,cb:Y})},k.current=setTimeout(function(){C.current&&(C.current(),C.current=null)},nF)):_({pulsate:ue,rippleX:je,rippleY:Se,rippleSize:ge,cb:Y})},[n,_]),q=z.useCallback(function(){D({},{pulsate:!0})},[D]),G=z.useCallback(function(ne,K){if(clearTimeout(k.current),ne.type==="touchend"&&C.current){ne.persist(),C.current(),C.current=null,k.current=setTimeout(function(){G(ne,K)});return}C.current=null,f(function(Y){return Y.length>0?Y.slice(1):Y}),y.current=K},[]);return z.useImperativeHandle(i,function(){return{pulsate:q,start:D,stop:G}},[q,D,G]),z.createElement("span",Ce({className:jt(r.root,l),ref:P},h),z.createElement(gg,{component:null,exit:!0},p))});const oF=vn(iF,{flip:!1,name:"MuiTouchRipple"})(z.memo(rF));var sF={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},aF=z.forwardRef(function(e,i){var t=e.action,n=e.buttonRef,r=e.centerRipple,l=r===void 0?!1:r,h=e.children,d=e.classes,p=e.className,f=e.component,g=f===void 0?"button":f,y=e.disabled,S=y===void 0?!1:y,k=e.disableRipple,C=k===void 0?!1:k,P=e.disableTouchRipple,_=P===void 0?!1:P,D=e.focusRipple,q=D===void 0?!1:D,G=e.focusVisibleClassName,ne=e.onBlur,K=e.onClick,Y=e.onFocus,se=e.onFocusVisible,ue=e.onKeyDown,he=e.onKeyUp,le=e.onMouseDown,ye=e.onMouseLeave,fe=e.onMouseUp,we=e.onTouchEnd,Ie=e.onTouchMove,je=e.onTouchStart,Se=e.onDragLeave,ge=e.tabIndex,Re=ge===void 0?0:ge,_e=e.TouchRippleProps,J=e.type,ze=J===void 0?"button":J,st=At(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ee=z.useRef(null);function kt(){return cr.findDOMNode(ee.current)}var tt=z.useRef(null),at=z.useState(!1),yt=at[0],Ot=at[1];S&&yt&&Ot(!1);var Tt=B1(),rt=Tt.isFocusVisible,Ye=Tt.onBlurVisible,xt=Tt.ref;z.useImperativeHandle(t,function(){return{focusVisible:function(){Ot(!0),ee.current.focus()}}},[]),z.useEffect(function(){yt&&q&&!C&&tt.current.pulsate()},[C,q,yt]);function Ht(He,lt){var _n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_;return ro(function(en){lt&&lt(en);var oi=_n;return!oi&&tt.current&&tt.current[He](en),!0})}var on=Ht("start",le),Dt=Ht("stop",Se),Yt=Ht("stop",fe),I=Ht("stop",function(He){yt&&He.preventDefault(),ye&&ye(He)}),Q=Ht("start",je),xe=Ht("stop",we),Ne=Ht("stop",Ie),Be=Ht("stop",function(He){yt&&(Ye(He),Ot(!1)),ne&&ne(He)},!1),$e=ro(function(He){ee.current||(ee.current=He.currentTarget),rt(He)&&(Ot(!0),se&&se(He)),Y&&Y(He)}),Ke=function(){var He=kt();return g&&g!=="button"&&!(He.tagName==="A"&&He.href)},Et=z.useRef(!1),It=ro(function(He){q&&!Et.current&&yt&&tt.current&&He.key===" "&&(Et.current=!0,He.persist(),tt.current.stop(He,function(){tt.current.start(He)})),He.target===He.currentTarget&&Ke()&&He.key===" "&&He.preventDefault(),ue&&ue(He),He.target===He.currentTarget&&Ke()&&He.key==="Enter"&&!S&&(He.preventDefault(),K&&K(He))}),Lt=ro(function(He){q&&He.key===" "&&tt.current&&yt&&!He.defaultPrevented&&(Et.current=!1,He.persist(),tt.current.stop(He,function(){tt.current.pulsate(He)})),he&&he(He),K&&He.target===He.currentTarget&&Ke()&&He.key===" "&&!He.defaultPrevented&&K(He)}),me=g;me==="button"&&st.href&&(me="a");var Ae={};me==="button"?(Ae.type=ze,Ae.disabled=S):((me!=="a"||!st.href)&&(Ae.role="button"),Ae["aria-disabled"]=S);var L=Vn(n,i),N=Vn(xt,ee),W=Vn(L,N),Z=z.useState(!1),Te=Z[0],Ue=Z[1];z.useEffect(function(){Ue(!0)},[]);var gt=Te&&!C&&!S;return z.createElement(me,Ce({className:jt(d.root,p,yt&&[d.focusVisible,G],S&&d.disabled),onBlur:Be,onClick:K,onFocus:$e,onKeyDown:It,onKeyUp:Lt,onMouseDown:on,onMouseLeave:I,onMouseUp:Yt,onDragLeave:Dt,onTouchEnd:xe,onTouchMove:Ne,onTouchStart:Q,ref:W,tabIndex:S?-1:Re},Ae,st),h,gt?z.createElement(oF,Ce({ref:tt,center:l},_e)):null)});const fd=vn(sF,{name:"MuiButtonBase"})(aF);var lF=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Ui(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},uF=z.forwardRef(function(e,i){var t=e.edge,n=t===void 0?!1:t,r=e.children,l=e.classes,h=e.className,d=e.color,p=d===void 0?"default":d,f=e.disabled,g=f===void 0?!1:f,y=e.disableFocusRipple,S=y===void 0?!1:y,k=e.size,C=k===void 0?"medium":k,P=At(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return z.createElement(fd,Ce({className:jt(l.root,h,p!=="default"&&l["color".concat($n(p))],g&&l.disabled,C==="small"&&l["size".concat($n(C))],{start:l.edgeStart,end:l.edgeEnd}[n]),centerRipple:!0,focusRipple:!S,disabled:g,ref:i},P),z.createElement("span",{className:l.label},r))});const F1=vn(lF,{name:"MuiIconButton"})(uF);var cF=function(e){var i={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],i),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],i),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",i),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},dF=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.expandIcon,h=e.focusVisibleClassName,d=e.IconButtonProps,p=d===void 0?{}:d,f=e.onClick,g=At(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),y=z.useContext(H1),S=y.disabled,k=S===void 0?!1:S,C=y.expanded,P=y.toggle,_=function(D){P&&P(D),f&&f(D)};return z.createElement(fd,Ce({focusRipple:!1,disableRipple:!0,disabled:k,component:"div","aria-expanded":C,className:jt(n.root,r,k&&n.disabled,C&&n.expanded),focusVisibleClassName:jt(n.focusVisible,n.focused,h),onClick:_,ref:i},g),z.createElement("div",{className:jt(n.content,C&&n.expanded)},t),l&&z.createElement(F1,Ce({className:jt(n.expandIcon,C&&n.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),l))});vn(cF,{name:"MuiAccordionSummary"})(dF);var hF={entering:{opacity:1},entered:{opacity:1}},pF={enter:El.enteringScreen,exit:El.leavingScreen},V1=z.forwardRef(function(e,i){var t=e.children,n=e.disableStrictModeCompat,r=n===void 0?!1:n,l=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,g=e.onExited,y=e.onExiting,S=e.style,k=e.TransitionComponent,C=k===void 0?hr:k,P=e.timeout,_=P===void 0?pF:P,D=At(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),q=pa(),G=q.unstable_strictMode&&!r,ne=z.useRef(null),K=Vn(t.ref,i),Y=Vn(G?ne:void 0,K),se=function(Ie){return function(je,Se){if(Ie){var ge=G?[ne.current,je]:[je,Se],Re=rs(ge,2),_e=Re[0],J=Re[1];J===void 0?Ie(_e):Ie(_e,J)}}},ue=se(p),he=se(function(Ie,je){N1(Ie);var Se=aa({style:S,timeout:_},{mode:"enter"});Ie.style.webkitTransition=q.transitions.create("opacity",Se),Ie.style.transition=q.transitions.create("opacity",Se),h&&h(Ie,je)}),le=se(d),ye=se(y),fe=se(function(Ie){var je=aa({style:S,timeout:_},{mode:"exit"});Ie.style.webkitTransition=q.transitions.create("opacity",je),Ie.style.transition=q.transitions.create("opacity",je),f&&f(Ie)}),we=se(g);return z.createElement(C,Ce({appear:!0,in:l,nodeRef:G?ne:void 0,onEnter:he,onEntered:le,onEntering:ue,onExit:fe,onExited:we,onExiting:ye,timeout:_},D),function(Ie,je){return z.cloneElement(t,Ce({style:Ce({opacity:0,visibility:Ie==="exited"&&!l?"hidden":void 0},hF[Ie],S,t.props.style),ref:Y},je))})}),fF=yL(Nr(vL,kL,jL,$L,l3,t3,u3,v3,Gm,A3));X5("div")(fF,{name:"MuiBox"});var mF=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},q0={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},gF=z.forwardRef(function(e,i){var t=e.align,n=t===void 0?"inherit":t,r=e.classes,l=e.className,h=e.color,d=h===void 0?"initial":h,p=e.component,f=e.display,g=f===void 0?"initial":f,y=e.gutterBottom,S=y===void 0?!1:y,k=e.noWrap,C=k===void 0?!1:k,P=e.paragraph,_=P===void 0?!1:P,D=e.variant,q=D===void 0?"body1":D,G=e.variantMapping,ne=G===void 0?q0:G,K=At(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Y=p||(_?"p":ne[q]||q0[q])||"span";return z.createElement(Y,Ce({className:jt(r.root,l,q!=="inherit"&&r[q],d!=="initial"&&r["color".concat($n(d))],C&&r.noWrap,S&&r.gutterBottom,_&&r.paragraph,n!=="inherit"&&r["align".concat($n(n))],g!=="initial"&&r["display".concat($n(g))]),ref:i},K))});const Xn=vn(mF,{name:"MuiTypography"})(gF);var vF=function(e){return{root:Ce({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Ui(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Ui(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Ui(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},yF=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.color,h=l===void 0?"default":l,d=e.component,p=d===void 0?"button":d,f=e.disabled,g=f===void 0?!1:f,y=e.disableElevation,S=y===void 0?!1:y,k=e.disableFocusRipple,C=k===void 0?!1:k,P=e.endIcon,_=e.focusVisibleClassName,D=e.fullWidth,q=D===void 0?!1:D,G=e.size,ne=G===void 0?"medium":G,K=e.startIcon,Y=e.type,se=Y===void 0?"button":Y,ue=e.variant,he=ue===void 0?"text":ue,le=At(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),ye=K&&z.createElement("span",{className:jt(n.startIcon,n["iconSize".concat($n(ne))])},K),fe=P&&z.createElement("span",{className:jt(n.endIcon,n["iconSize".concat($n(ne))])},P);return z.createElement(fd,Ce({className:jt(n.root,n[he],r,h==="inherit"?n.colorInherit:h!=="default"&&n["".concat(he).concat($n(h))],ne!=="medium"&&[n["".concat(he,"Size").concat($n(ne))],n["size".concat($n(ne))]],S&&n.disableElevation,g&&n.disabled,q&&n.fullWidth),component:p,disabled:g,focusRipple:!C,focusVisibleClassName:jt(n.focusVisible,_),ref:i,type:se},le),z.createElement("span",{className:n.label},ye,t,fe))});vn(vF,{name:"MuiButton"})(yF);var vg=z.createContext();function bF(){return z.useContext(vg)}function md(){return z.useContext(vg)}var wF={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},xF=z.forwardRef(function(e,i){var t=e.autoFocus,n=e.checked,r=e.checkedIcon,l=e.classes,h=e.className,d=e.defaultChecked,p=e.disabled,f=e.icon,g=e.id,y=e.inputProps,S=e.inputRef,k=e.name,C=e.onBlur,P=e.onChange,_=e.onFocus,D=e.readOnly,q=e.required,G=e.tabIndex,ne=e.type,K=e.value,Y=At(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),se=dd({controlled:n,default:!!d,name:"SwitchBase",state:"checked"}),ue=rs(se,2),he=ue[0],le=ue[1],ye=md(),fe=function(ge){_&&_(ge),ye&&ye.onFocus&&ye.onFocus(ge)},we=function(ge){C&&C(ge),ye&&ye.onBlur&&ye.onBlur(ge)},Ie=function(ge){var Re=ge.target.checked;le(Re),P&&P(ge,Re)},je=p;ye&&typeof je>"u"&&(je=ye.disabled);var Se=ne==="checkbox"||ne==="radio";return z.createElement(F1,Ce({component:"span",className:jt(l.root,h,he&&l.checked,je&&l.disabled),disabled:je,tabIndex:null,role:void 0,onFocus:fe,onBlur:we,ref:i},Y),z.createElement("input",Ce({autoFocus:t,checked:n,defaultChecked:d,className:l.input,disabled:je,id:Se&&g,name:k,onChange:Ie,readOnly:D,ref:S,required:q,tabIndex:G,type:ne,value:K},y)),he?r:f)});const SF=vn(wF,{name:"PrivateSwitchBase"})(xF),EF=zl(z.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),TF=zl(z.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),kF=zl(z.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));var CF=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},PF=z.createElement(TF,null),_F=z.createElement(EF,null),RF=z.createElement(kF,null),OF=z.forwardRef(function(e,i){var t=e.checkedIcon,n=t===void 0?PF:t,r=e.classes,l=e.color,h=l===void 0?"secondary":l,d=e.icon,p=d===void 0?_F:d,f=e.indeterminate,g=f===void 0?!1:f,y=e.indeterminateIcon,S=y===void 0?RF:y,k=e.inputProps,C=e.size,P=C===void 0?"medium":C,_=At(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),D=g?S:p,q=g?S:n;return z.createElement(SF,Ce({type:"checkbox",classes:{root:jt(r.root,r["color".concat($n(h))],g&&r.indeterminate),checked:r.checked,disabled:r.disabled},color:h,inputProps:Ce({"data-indeterminate":g},k),icon:z.cloneElement(D,{fontSize:D.props.fontSize===void 0&&P==="small"?P:D.props.fontSize}),checkedIcon:z.cloneElement(q,{fontSize:q.props.fontSize===void 0&&P==="small"?P:q.props.fontSize}),ref:i},_))});vn(CF,{name:"MuiCheckbox"})(OF);function DF(e){return e=typeof e=="function"?e():e,cr.findDOMNode(e)}var wf=typeof window<"u"?z.useLayoutEffect:z.useEffect,U1=z.forwardRef(function(e,i){var t=e.children,n=e.container,r=e.disablePortal,l=r===void 0?!1:r,h=e.onRendered,d=z.useState(null),p=d[0],f=d[1],g=Vn(z.isValidElement(t)?t.ref:null,i);return wf(function(){l||f(DF(n)||document.body)},[n,l]),wf(function(){if(p&&!l)return es(i,p),function(){es(i,null)}},[i,p,l]),wf(function(){h&&(p||l)&&h()},[h,p,l]),l?z.isValidElement(t)?z.cloneElement(t,{ref:g}):t:p&&cr.createPortal(t,p)});function W1(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var i=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),i}function AF(e){var i=wr(e);return i.body===e?fg(i).innerWidth>i.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function vl(e,i){i?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function X0(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Y0(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,l=[i,t].concat($c(n)),h=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(d){d.nodeType===1&&l.indexOf(d)===-1&&h.indexOf(d.tagName)===-1&&vl(d,r)})}function xf(e,i){var t=-1;return e.some(function(n,r){return i(n)?(t=r,!0):!1}),t}function IF(e,i){var t=[],n=[],r=e.container,l;if(!i.disableScrollLock){if(AF(r)){var h=W1();t.push({value:r.style.paddingRight,key:"padding-right",el:r}),r.style["padding-right"]="".concat(X0(r)+h,"px"),l=wr(r).querySelectorAll(".mui-fixed"),[].forEach.call(l,function(g){n.push(g.style.paddingRight),g.style.paddingRight="".concat(X0(g)+h,"px")})}var d=r.parentElement,p=d.nodeName==="HTML"&&window.getComputedStyle(d)["overflow-y"]==="scroll"?d:r;t.push({value:p.style.overflow,key:"overflow",el:p}),p.style.overflow="hidden"}var f=function(){l&&[].forEach.call(l,function(g,y){n[y]?g.style.paddingRight=n[y]:g.style.removeProperty("padding-right")}),t.forEach(function(g){var y=g.value,S=g.el,k=g.key;y?S.style.setProperty(k,y):S.style.removeProperty(k)})};return f}function MF(e){var i=[];return[].forEach.call(e.children,function(t){t.getAttribute&&t.getAttribute("aria-hidden")==="true"&&i.push(t)}),i}var zF=function(){function e(){D5(this,e),this.modals=[],this.containers=[]}return qm(e,[{key:"add",value:function(i,t){var n=this.modals.indexOf(i);if(n!==-1)return n;n=this.modals.length,this.modals.push(i),i.modalRef&&vl(i.modalRef,!1);var r=MF(t);Y0(t,i.mountNode,i.modalRef,r,!0);var l=xf(this.containers,function(h){return h.container===t});return l!==-1?(this.containers[l].modals.push(i),n):(this.containers.push({modals:[i],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(i,t){var n=xf(this.containers,function(l){return l.modals.indexOf(i)!==-1}),r=this.containers[n];r.restore||(r.restore=IF(r,t))}},{key:"remove",value:function(i){var t=this.modals.indexOf(i);if(t===-1)return t;var n=xf(this.containers,function(h){return h.modals.indexOf(i)!==-1}),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(i),1),this.modals.splice(t,1),r.modals.length===0)r.restore&&r.restore(),i.modalRef&&vl(i.modalRef,!0),Y0(r.container,i.mountNode,i.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var l=r.modals[r.modals.length-1];l.modalRef&&vl(l.modalRef,!1)}return t}},{key:"isTopModal",value:function(i){return this.modals.length>0&&this.modals[this.modals.length-1]===i}}]),e}();function LF(e){var i=e.children,t=e.disableAutoFocus,n=t===void 0?!1:t,r=e.disableEnforceFocus,l=r===void 0?!1:r,h=e.disableRestoreFocus,d=h===void 0?!1:h,p=e.getDoc,f=e.isEnabled,g=e.open,y=z.useRef(),S=z.useRef(null),k=z.useRef(null),C=z.useRef(),P=z.useRef(null),_=z.useCallback(function(G){P.current=cr.findDOMNode(G)},[]),D=Vn(i.ref,_),q=z.useRef();return z.useEffect(function(){q.current=g},[g]),!q.current&&g&&typeof window<"u"&&(C.current=p().activeElement),z.useEffect(function(){if(g){var G=wr(P.current);!n&&P.current&&!P.current.contains(G.activeElement)&&(P.current.hasAttribute("tabIndex")||P.current.setAttribute("tabIndex",-1),P.current.focus());var ne=function(){var se=P.current;if(se!==null){if(!G.hasFocus()||l||!f()||y.current){y.current=!1;return}P.current&&!P.current.contains(G.activeElement)&&P.current.focus()}},K=function(se){l||!f()||se.keyCode!==9||G.activeElement===P.current&&(y.current=!0,se.shiftKey?k.current.focus():S.current.focus())};G.addEventListener("focus",ne,!0),G.addEventListener("keydown",K,!0);var Y=setInterval(function(){ne()},50);return function(){clearInterval(Y),G.removeEventListener("focus",ne,!0),G.removeEventListener("keydown",K,!0),d||(C.current&&C.current.focus&&C.current.focus(),C.current=null)}}},[n,l,d,f,g]),z.createElement(z.Fragment,null,z.createElement("div",{tabIndex:0,ref:S,"data-test":"sentinelStart"}),z.cloneElement(i,{ref:D}),z.createElement("div",{tabIndex:0,ref:k,"data-test":"sentinelEnd"}))}var K0={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},BF=z.forwardRef(function(e,i){var t=e.invisible,n=t===void 0?!1:t,r=e.open,l=At(e,["invisible","open"]);return r?z.createElement("div",Ce({"aria-hidden":!0,ref:i},l,{style:Ce({},K0.root,n?K0.invisible:{},l.style)})):null});function NF(e){return e=typeof e=="function"?e():e,cr.findDOMNode(e)}function jF(e){return e.children?e.children.props.hasOwnProperty("in"):!1}var HF=new zF,FF=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},VF=z.forwardRef(function(e,i){var t=os(),n=Qc({name:"MuiModal",props:Ce({},e),theme:t}),r=n.BackdropComponent,l=r===void 0?BF:r,h=n.BackdropProps,d=n.children,p=n.closeAfterTransition,f=p===void 0?!1:p,g=n.container,y=n.disableAutoFocus,S=y===void 0?!1:y,k=n.disableBackdropClick,C=k===void 0?!1:k,P=n.disableEnforceFocus,_=P===void 0?!1:P,D=n.disableEscapeKeyDown,q=D===void 0?!1:D,G=n.disablePortal,ne=G===void 0?!1:G,K=n.disableRestoreFocus,Y=K===void 0?!1:K,se=n.disableScrollLock,ue=se===void 0?!1:se,he=n.hideBackdrop,le=he===void 0?!1:he,ye=n.keepMounted,fe=ye===void 0?!1:ye,we=n.manager,Ie=we===void 0?HF:we,je=n.onBackdropClick,Se=n.onClose,ge=n.onEscapeKeyDown,Re=n.onRendered,_e=n.open,J=At(n,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),ze=z.useState(!0),st=ze[0],ee=ze[1],kt=z.useRef({}),tt=z.useRef(null),at=z.useRef(null),yt=Vn(at,i),Ot=jF(n),Tt=function(){return wr(tt.current)},rt=function(){return kt.current.modalRef=at.current,kt.current.mountNode=tt.current,kt.current},Ye=function(){Ie.mount(rt(),{disableScrollLock:ue}),at.current.scrollTop=0},xt=ro(function(){var $e=NF(g)||Tt().body;Ie.add(rt(),$e),at.current&&Ye()}),Ht=z.useCallback(function(){return Ie.isTopModal(rt())},[Ie]),on=ro(function($e){tt.current=$e,$e&&(Re&&Re(),_e&&Ht()?Ye():vl(at.current,!0))}),Dt=z.useCallback(function(){Ie.remove(rt())},[Ie]);if(z.useEffect(function(){return function(){Dt()}},[Dt]),z.useEffect(function(){_e?xt():(!Ot||!f)&&Dt()},[_e,Dt,Ot,f,xt]),!fe&&!_e&&(!Ot||st))return null;var Yt=function(){ee(!1)},I=function(){ee(!0),f&&Dt()},Q=function($e){$e.target===$e.currentTarget&&(je&&je($e),!C&&Se&&Se($e,"backdropClick"))},xe=function($e){$e.key!=="Escape"||!Ht()||(ge&&ge($e),q||($e.stopPropagation(),Se&&Se($e,"escapeKeyDown")))},Ne=FF(t||{zIndex:lT}),Be={};return d.props.tabIndex===void 0&&(Be.tabIndex=d.props.tabIndex||"-1"),Ot&&(Be.onEnter=sa(Yt,d.props.onEnter),Be.onExited=sa(I,d.props.onExited)),z.createElement(U1,{ref:on,container:g,disablePortal:ne},z.createElement("div",Ce({ref:yt,onKeyDown:xe,role:"presentation"},J,{style:Ce({},Ne.root,!_e&&st?Ne.hidden:{},J.style)}),le?null:z.createElement(l,Ce({open:_e,onClick:Q},h)),z.createElement(LF,{disableEnforceFocus:_,disableAutoFocus:S,disableRestoreFocus:Y,getDoc:Tt,isEnabled:Ht,open:_e},z.cloneElement(d,Be))))}),UF=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Ui(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},WF=z.forwardRef(function(e,i){var t=e.absolute,n=t===void 0?!1:t,r=e.classes,l=e.className,h=e.component,d=h===void 0?"hr":h,p=e.flexItem,f=p===void 0?!1:p,g=e.light,y=g===void 0?!1:g,S=e.orientation,k=S===void 0?"horizontal":S,C=e.role,P=C===void 0?d!=="hr"?"separator":void 0:C,_=e.variant,D=_===void 0?"fullWidth":_,q=At(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return z.createElement(d,Ce({className:jt(r.root,l,D!=="fullWidth"&&r[D],n&&r.absolute,f&&r.flexItem,y&&r.light,k==="vertical"&&r.vertical),role:P,ref:i},q))});vn(UF,{name:"MuiDivider"})(WF);function yg(e){var i=e.props,t=e.states,n=e.muiFormControl;return t.reduce(function(r,l){return r[l]=i[l],n&&typeof i[l]>"u"&&(r[l]=n[l]),r},{})}function bc(e,i){return parseInt(e[i],10)||0}var GF=typeof window<"u"?z.useLayoutEffect:z.useEffect,qF={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},XF=z.forwardRef(function(e,i){var t=e.onChange,n=e.rows,r=e.rowsMax,l=e.rowsMin,h=e.maxRows,d=e.minRows,p=d===void 0?1:d,f=e.style,g=e.value,y=At(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),S=h||r,k=n||l||p,C=z.useRef(g!=null),P=C.current,_=z.useRef(null),D=Vn(i,_),q=z.useRef(null),G=z.useRef(0),ne=z.useState({}),K=ne[0],Y=ne[1],se=z.useCallback(function(){var he=_.current,le=window.getComputedStyle(he),ye=q.current;ye.style.width=le.width,ye.value=he.value||e.placeholder||"x",ye.value.slice(-1)===`
`&&(ye.value+=" ");var fe=le["box-sizing"],we=bc(le,"padding-bottom")+bc(le,"padding-top"),Ie=bc(le,"border-bottom-width")+bc(le,"border-top-width"),je=ye.scrollHeight-we;ye.value="x";var Se=ye.scrollHeight-we,ge=je;k&&(ge=Math.max(Number(k)*Se,ge)),S&&(ge=Math.min(Number(S)*Se,ge)),ge=Math.max(ge,Se);var Re=ge+(fe==="border-box"?we+Ie:0),_e=Math.abs(ge-je)<=1;Y(function(J){return G.current<20&&(Re>0&&Math.abs((J.outerHeightStyle||0)-Re)>1||J.overflow!==_e)?(G.current+=1,{overflow:_e,outerHeightStyle:Re}):J})},[S,k,e.placeholder]);z.useEffect(function(){var he=pg(function(){G.current=0,se()});return window.addEventListener("resize",he),function(){he.clear(),window.removeEventListener("resize",he)}},[se]),GF(function(){se()}),z.useEffect(function(){G.current=0},[g]);var ue=function(he){G.current=0,P||se(),t&&t(he)};return z.createElement(z.Fragment,null,z.createElement("textarea",Ce({value:g,onChange:ue,ref:D,rows:k,style:Ce({height:K.outerHeightStyle,overflow:K.overflow?"hidden":null},f)},y)),z.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:q,tabIndex:-1,style:Ce({},qF.shadow,f)}))});function Z0(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function G1(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e&&(Z0(e.value)&&e.value!==""||i&&Z0(e.defaultValue)&&e.defaultValue!=="")}var YF=function(e){var i=e.palette.type==="light",t={color:"currentColor",opacity:i?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},r={opacity:i?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Ce({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&:-ms-input-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus:-ms-input-placeholder":r,"&:focus::-ms-input-placeholder":r},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},KF=typeof window>"u"?z.useEffect:z.useLayoutEffect,ZF=z.forwardRef(function(e,i){var t=e["aria-describedby"],n=e.autoComplete,r=e.autoFocus,l=e.classes,h=e.className;e.color;var d=e.defaultValue,p=e.disabled,f=e.endAdornment;e.error;var g=e.fullWidth,y=g===void 0?!1:g,S=e.id,k=e.inputComponent,C=k===void 0?"input":k,P=e.inputProps,_=P===void 0?{}:P,D=e.inputRef;e.margin;var q=e.multiline,G=q===void 0?!1:q,ne=e.name,K=e.onBlur,Y=e.onChange,se=e.onClick,ue=e.onFocus,he=e.onKeyDown,le=e.onKeyUp,ye=e.placeholder,fe=e.readOnly,we=e.renderSuffix,Ie=e.rows,je=e.rowsMax,Se=e.rowsMin,ge=e.maxRows,Re=e.minRows,_e=e.startAdornment,J=e.type,ze=J===void 0?"text":J,st=e.value,ee=At(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),kt=_.value!=null?_.value:st,tt=z.useRef(kt!=null),at=tt.current,yt=z.useRef(),Ot=z.useCallback(function(me){},[]),Tt=Vn(_.ref,Ot),rt=Vn(D,Tt),Ye=Vn(yt,rt),xt=z.useState(!1),Ht=xt[0],on=xt[1],Dt=bF(),Yt=yg({props:e,muiFormControl:Dt,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Yt.focused=Dt?Dt.focused:Ht,z.useEffect(function(){!Dt&&p&&Ht&&(on(!1),K&&K())},[Dt,p,Ht,K]);var I=Dt&&Dt.onFilled,Q=Dt&&Dt.onEmpty,xe=z.useCallback(function(me){G1(me)?I&&I():Q&&Q()},[I,Q]);KF(function(){at&&xe({value:kt})},[kt,xe,at]);var Ne=function(me){if(Yt.disabled){me.stopPropagation();return}ue&&ue(me),_.onFocus&&_.onFocus(me),Dt&&Dt.onFocus?Dt.onFocus(me):on(!0)},Be=function(me){K&&K(me),_.onBlur&&_.onBlur(me),Dt&&Dt.onBlur?Dt.onBlur(me):on(!1)},$e=function(me){if(!at){var Ae=me.target||yt.current;if(Ae==null)throw new Error(oa(1));xe({value:Ae.value})}for(var L=arguments.length,N=new Array(L>1?L-1:0),W=1;W<L;W++)N[W-1]=arguments[W];_.onChange&&_.onChange.apply(_,[me].concat(N)),Y&&Y.apply(void 0,[me].concat(N))};z.useEffect(function(){xe(yt.current)},[]);var Ke=function(me){yt.current&&me.currentTarget===me.target&&yt.current.focus(),se&&se(me)},Et=C,It=Ce({},_,{ref:Ye});typeof Et!="string"?It=Ce({inputRef:Ye,type:ze},It,{ref:null}):G?Ie&&!ge&&!Re&&!je&&!Se?Et="textarea":(It=Ce({minRows:Ie||Re,rowsMax:je,maxRows:ge},It),Et=XF):It=Ce({type:ze},It);var Lt=function(me){xe(me.animationName==="mui-auto-fill-cancel"?yt.current:{value:"x"})};return z.useEffect(function(){Dt&&Dt.setAdornedStart(!!_e)},[Dt,_e]),z.createElement("div",Ce({className:jt(l.root,l["color".concat($n(Yt.color||"primary"))],h,Yt.disabled&&l.disabled,Yt.error&&l.error,y&&l.fullWidth,Yt.focused&&l.focused,Dt&&l.formControl,G&&l.multiline,_e&&l.adornedStart,f&&l.adornedEnd,Yt.margin==="dense"&&l.marginDense),onClick:Ke,ref:i},ee),_e,z.createElement(vg.Provider,{value:null},z.createElement(Et,Ce({"aria-invalid":Yt.error,"aria-describedby":t,autoComplete:n,autoFocus:r,defaultValue:d,disabled:Yt.disabled,id:S,onAnimationStart:Lt,name:ne,placeholder:ye,readOnly:fe,required:Yt.required,rows:Ie,value:kt,onKeyDown:he,onKeyUp:le},It,{className:jt(l.input,_.className,Yt.disabled&&l.disabled,G&&l.inputMultiline,Yt.hiddenLabel&&l.inputHiddenLabel,_e&&l.inputAdornedStart,f&&l.inputAdornedEnd,ze==="search"&&l.inputTypeSearch,Yt.margin==="dense"&&l.inputMarginDense),onBlur:Be,onChange:$e,onFocus:Ne}))),f,we?we(Ce({},Yt,{startAdornment:_e})):null)});const bg=vn(YF,{name:"MuiInputBase"})(ZF);var JF=function(e){var i=e.palette.type==="light",t=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:n,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:i?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:n}},"&$focused":{backgroundColor:i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},q1=z.forwardRef(function(e,i){var t=e.disableUnderline,n=e.classes,r=e.fullWidth,l=r===void 0?!1:r,h=e.inputComponent,d=h===void 0?"input":h,p=e.multiline,f=p===void 0?!1:p,g=e.type,y=g===void 0?"text":g,S=At(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return z.createElement(bg,Ce({classes:Ce({},n,{root:jt(n.root,!t&&n.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:f,ref:i,type:y},S))});q1.muiName="Input";const $F=vn(JF,{name:"MuiFilledInput"})(q1);var QF=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},e8=z.forwardRef(function(e,i){e.checked;var t=e.classes,n=e.className,r=e.control,l=e.disabled;e.inputRef;var h=e.label,d=e.labelPlacement,p=d===void 0?"end":d;e.name,e.onChange,e.value;var f=At(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),g=md(),y=l;typeof y>"u"&&typeof r.props.disabled<"u"&&(y=r.props.disabled),typeof y>"u"&&g&&(y=g.disabled);var S={disabled:y};return["checked","name","onChange","value","inputRef"].forEach(function(k){typeof r.props[k]>"u"&&typeof e[k]<"u"&&(S[k]=e[k])}),z.createElement("label",Ce({className:jt(t.root,n,p!=="end"&&t["labelPlacement".concat($n(p))],y&&t.disabled),ref:i},f),z.cloneElement(r,S),z.createElement(Xn,{component:"span",className:jt(t.label,y&&t.disabled)},h))});vn(QF,{name:"MuiFormControlLabel"})(e8);var t8={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},n8=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.row,l=r===void 0?!1:r,h=At(e,["classes","className","row"]);return z.createElement("div",Ce({className:jt(t.root,n,l&&t.row),ref:i},h))});vn(t8,{name:"MuiFormGroup"})(n8);var i8=[0,1,2,3,4,5,6,7,8,9,10],r8=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function o8(e,i,t){var n={};r8.forEach(function(r){var l="grid-".concat(t,"-").concat(r);if(r===!0){n[l]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(r==="auto"){n[l]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var h="".concat(Math.round(r/12*1e8)/1e6,"%");n[l]={flexBasis:h,flexGrow:0,maxWidth:h}}),t==="xs"?Ce(e,n):e[i.breakpoints.up(t)]=n}function Sf(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=parseFloat(e);return"".concat(t/i).concat(String(e).replace(String(t),"")||"px")}function s8(e,i){var t={};return i8.forEach(function(n){var r=e.spacing(n);r!==0&&(t["spacing-".concat(i,"-").concat(n)]={margin:"-".concat(Sf(r,2)),width:"calc(100% + ".concat(Sf(r),")"),"& > $item":{padding:Sf(r,2)}})}),t}var a8=function(e){return Ce({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},s8(e,"xs"),e.breakpoints.keys.reduce(function(i,t){return o8(i,e,t),i},{}))},l8=z.forwardRef(function(e,i){var t=e.alignContent,n=t===void 0?"stretch":t,r=e.alignItems,l=r===void 0?"stretch":r,h=e.classes,d=e.className,p=e.component,f=p===void 0?"div":p,g=e.container,y=g===void 0?!1:g,S=e.direction,k=S===void 0?"row":S,C=e.item,P=C===void 0?!1:C,_=e.justify,D=e.justifyContent,q=D===void 0?"flex-start":D,G=e.lg,ne=G===void 0?!1:G,K=e.md,Y=K===void 0?!1:K,se=e.sm,ue=se===void 0?!1:se,he=e.spacing,le=he===void 0?0:he,ye=e.wrap,fe=ye===void 0?"wrap":ye,we=e.xl,Ie=we===void 0?!1:we,je=e.xs,Se=je===void 0?!1:je,ge=e.zeroMinWidth,Re=ge===void 0?!1:ge,_e=At(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),J=jt(h.root,d,y&&[h.container,le!==0&&h["spacing-xs-".concat(String(le))]],P&&h.item,Re&&h.zeroMinWidth,k!=="row"&&h["direction-xs-".concat(String(k))],fe!=="wrap"&&h["wrap-xs-".concat(String(fe))],l!=="stretch"&&h["align-items-xs-".concat(String(l))],n!=="stretch"&&h["align-content-xs-".concat(String(n))],(_||q)!=="flex-start"&&h["justify-content-xs-".concat(String(_||q))],Se!==!1&&h["grid-xs-".concat(String(Se))],ue!==!1&&h["grid-sm-".concat(String(ue))],Y!==!1&&h["grid-md-".concat(String(Y))],ne!==!1&&h["grid-lg-".concat(String(ne))],Ie!==!1&&h["grid-xl-".concat(String(Ie))]);return z.createElement(f,Ce({className:J,ref:i},_e))});vn(a8,{name:"MuiGrid"})(l8);function xm(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var u8={entering:{opacity:1,transform:xm(1)},entered:{opacity:1,transform:"none"}},X1=z.forwardRef(function(e,i){var t=e.children,n=e.disableStrictModeCompat,r=n===void 0?!1:n,l=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,g=e.onExited,y=e.onExiting,S=e.style,k=e.timeout,C=k===void 0?"auto":k,P=e.TransitionComponent,_=P===void 0?hr:P,D=At(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),q=z.useRef(),G=z.useRef(),ne=pa(),K=ne.unstable_strictMode&&!r,Y=z.useRef(null),se=Vn(t.ref,i),ue=Vn(K?Y:void 0,se),he=function(ge){return function(Re,_e){if(ge){var J=K?[Y.current,Re]:[Re,_e],ze=rs(J,2),st=ze[0],ee=ze[1];ee===void 0?ge(st):ge(st,ee)}}},le=he(p),ye=he(function(ge,Re){N1(ge);var _e=aa({style:S,timeout:C},{mode:"enter"}),J=_e.duration,ze=_e.delay,st;C==="auto"?(st=ne.transitions.getAutoHeightDuration(ge.clientHeight),G.current=st):st=J,ge.style.transition=[ne.transitions.create("opacity",{duration:st,delay:ze}),ne.transitions.create("transform",{duration:st*.666,delay:ze})].join(","),h&&h(ge,Re)}),fe=he(d),we=he(y),Ie=he(function(ge){var Re=aa({style:S,timeout:C},{mode:"exit"}),_e=Re.duration,J=Re.delay,ze;C==="auto"?(ze=ne.transitions.getAutoHeightDuration(ge.clientHeight),G.current=ze):ze=_e,ge.style.transition=[ne.transitions.create("opacity",{duration:ze,delay:J}),ne.transitions.create("transform",{duration:ze*.666,delay:J||ze*.333})].join(","),ge.style.opacity="0",ge.style.transform=xm(.75),f&&f(ge)}),je=he(g),Se=function(ge,Re){var _e=K?ge:Re;C==="auto"&&(q.current=setTimeout(_e,G.current||0))};return z.useEffect(function(){return function(){clearTimeout(q.current)}},[]),z.createElement(_,Ce({appear:!0,in:l,nodeRef:K?Y:void 0,onEnter:ye,onEntered:fe,onEntering:le,onExit:Ie,onExited:je,onExiting:we,addEndListener:Se,timeout:C==="auto"?null:C},D),function(ge,Re){return z.cloneElement(t,Ce({style:Ce({opacity:0,transform:xm(.75),visibility:ge==="exited"&&!l?"hidden":void 0},u8[ge],S,t.props.style),ref:ue},Re))})});X1.muiSupportAuto=!0;var c8=function(e){var i=e.palette.type==="light",t=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},Y1=z.forwardRef(function(e,i){var t=e.disableUnderline,n=e.classes,r=e.fullWidth,l=r===void 0?!1:r,h=e.inputComponent,d=h===void 0?"input":h,p=e.multiline,f=p===void 0?!1:p,g=e.type,y=g===void 0?"text":g,S=At(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return z.createElement(bg,Ce({classes:Ce({},n,{root:jt(n.root,!t&&n.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:f,ref:i,type:y},S))});Y1.muiName="Input";const K1=vn(c8,{name:"MuiInput"})(Y1);var ia=z.createContext({}),d8={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},h8=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.component,h=l===void 0?"ul":l,d=e.dense,p=d===void 0?!1:d,f=e.disablePadding,g=f===void 0?!1:f,y=e.subheader,S=At(e,["children","classes","className","component","dense","disablePadding","subheader"]),k=z.useMemo(function(){return{dense:p}},[p]);return z.createElement(ia.Provider,{value:k},z.createElement(h,Ce({className:jt(n.root,r,p&&n.dense,!g&&n.padding,y&&n.subheader),ref:i},S),y,t))});const Z1=vn(d8,{name:"MuiList"})(h8);var p8=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},f8=typeof window>"u"?z.useEffect:z.useLayoutEffect,m8=z.forwardRef(function(e,i){var t=e.alignItems,n=t===void 0?"center":t,r=e.autoFocus,l=r===void 0?!1:r,h=e.button,d=h===void 0?!1:h,p=e.children,f=e.classes,g=e.className,y=e.component,S=e.ContainerComponent,k=S===void 0?"li":S,C=e.ContainerProps;C=C===void 0?{}:C;var P=C.className,_=At(C,["className"]),D=e.dense,q=D===void 0?!1:D,G=e.disabled,ne=G===void 0?!1:G,K=e.disableGutters,Y=K===void 0?!1:K,se=e.divider,ue=se===void 0?!1:se,he=e.focusVisibleClassName,le=e.selected,ye=le===void 0?!1:le,fe=At(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),we=z.useContext(ia),Ie={dense:q||we.dense||!1,alignItems:n},je=z.useRef(null);f8(function(){l&&(je.current&&je.current.focus())},[l]);var Se=z.Children.toArray(p),ge=Se.length&&L1(Se[Se.length-1],["ListItemSecondaryAction"]),Re=z.useCallback(function(st){je.current=cr.findDOMNode(st)},[]),_e=Vn(Re,i),J=Ce({className:jt(f.root,g,Ie.dense&&f.dense,!Y&&f.gutters,ue&&f.divider,ne&&f.disabled,d&&f.button,n!=="center"&&f.alignItemsFlexStart,ge&&f.secondaryAction,ye&&f.selected),disabled:ne},fe),ze=y||"li";return d&&(J.component=y||"div",J.focusVisibleClassName=jt(f.focusVisible,he),ze=fd),ge?(ze=!J.component&&!y?"div":ze,k==="li"&&(ze==="li"?ze="div":J.component==="li"&&(J.component="div")),z.createElement(ia.Provider,{value:Ie},z.createElement(k,Ce({className:jt(f.container,P),ref:_e},_),z.createElement(ze,J,Se),Se.pop()))):z.createElement(ia.Provider,{value:Ie},z.createElement(ze,Ce({ref:_e},J),Se))});const Ks=vn(p8,{name:"MuiListItem"})(m8);var g8=function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},v8=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=At(e,["classes","className"]),l=z.useContext(ia);return z.createElement("div",Ce({className:jt(t.root,n,l.alignItems==="flex-start"&&t.alignItemsFlexStart),ref:i},r))});vn(g8,{name:"MuiListItemIcon"})(v8);var y8={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},b8=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.className,l=e.disableTypography,h=l===void 0?!1:l,d=e.inset,p=d===void 0?!1:d,f=e.primary,g=e.primaryTypographyProps,y=e.secondary,S=e.secondaryTypographyProps,k=At(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),C=z.useContext(ia),P=C.dense,_=f??t;_!=null&&_.type!==Xn&&!h&&(_=z.createElement(Xn,Ce({variant:P?"body2":"body1",className:n.primary,component:"span",display:"block"},g),_));var D=y;return D!=null&&D.type!==Xn&&!h&&(D=z.createElement(Xn,Ce({variant:"body2",className:n.secondary,color:"textSecondary",display:"block"},S),D)),z.createElement("div",Ce({className:jt(n.root,r,P&&n.dense,p&&n.inset,_&&D&&n.multiline),ref:i},k),_,D)});const il=vn(y8,{name:"MuiListItemText"})(b8);function J0(e,i){var t=0;return typeof i=="number"?t=i:i==="center"?t=e.height/2:i==="bottom"&&(t=e.height),t}function $0(e,i){var t=0;return typeof i=="number"?t=i:i==="center"?t=e.width/2:i==="right"&&(t=e.width),t}function Q0(e){return[e.horizontal,e.vertical].map(function(i){return typeof i=="number"?"".concat(i,"px"):i}).join(" ")}function w8(e,i){for(var t=i,n=0;t&&t!==e;)t=t.parentElement,n+=t.scrollTop;return n}function Ef(e){return typeof e=="function"?e():e}var x8={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},S8=z.forwardRef(function(e,i){var t=e.action,n=e.anchorEl,r=e.anchorOrigin,l=r===void 0?{vertical:"top",horizontal:"left"}:r,h=e.anchorPosition,d=e.anchorReference,p=d===void 0?"anchorEl":d,f=e.children,g=e.classes,y=e.className,S=e.container,k=e.elevation,C=k===void 0?8:k,P=e.getContentAnchorEl,_=e.marginThreshold,D=_===void 0?16:_,q=e.onEnter,G=e.onEntered,ne=e.onEntering,K=e.onExit,Y=e.onExited,se=e.onExiting,ue=e.open,he=e.PaperProps,le=he===void 0?{}:he,ye=e.transformOrigin,fe=ye===void 0?{vertical:"top",horizontal:"left"}:ye,we=e.TransitionComponent,Ie=we===void 0?X1:we,je=e.transitionDuration,Se=je===void 0?"auto":je,ge=e.TransitionProps,Re=ge===void 0?{}:ge,_e=At(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=z.useRef(),ze=z.useCallback(function(rt){if(p==="anchorPosition")return h;var Ye=Ef(n),xt=Ye&&Ye.nodeType===1?Ye:wr(J.current).body,Ht=xt.getBoundingClientRect(),on=rt===0?l.vertical:"center";return{top:Ht.top+J0(Ht,on),left:Ht.left+$0(Ht,l.horizontal)}},[n,l.horizontal,l.vertical,h,p]),st=z.useCallback(function(rt){var Ye=0;if(P&&p==="anchorEl"){var xt=P(rt);if(xt&&rt.contains(xt)){var Ht=w8(rt,xt);Ye=xt.offsetTop+xt.clientHeight/2-Ht||0}}return Ye},[l.vertical,p,P]),ee=z.useCallback(function(rt){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:J0(rt,fe.vertical)+Ye,horizontal:$0(rt,fe.horizontal)}},[fe.horizontal,fe.vertical]),kt=z.useCallback(function(rt){var Ye=st(rt),xt={width:rt.offsetWidth,height:rt.offsetHeight},Ht=ee(xt,Ye);if(p==="none")return{top:null,left:null,transformOrigin:Q0(Ht)};var on=ze(Ye),Dt=on.top-Ht.vertical,Yt=on.left-Ht.horizontal,I=Dt+xt.height,Q=Yt+xt.width,xe=fg(Ef(n)),Ne=xe.innerHeight-D,Be=xe.innerWidth-D;if(Dt<D){var $e=Dt-D;Dt-=$e,Ht.vertical+=$e}else if(I>Ne){var Ke=I-Ne;Dt-=Ke,Ht.vertical+=Ke}if(Yt<D){var Et=Yt-D;Yt-=Et,Ht.horizontal+=Et}else if(Q>Be){var It=Q-Be;Yt-=It,Ht.horizontal+=It}return{top:"".concat(Math.round(Dt),"px"),left:"".concat(Math.round(Yt),"px"),transformOrigin:Q0(Ht)}},[n,p,ze,st,ee,D]),tt=z.useCallback(function(){var rt=J.current;if(rt){var Ye=kt(rt);Ye.top!==null&&(rt.style.top=Ye.top),Ye.left!==null&&(rt.style.left=Ye.left),rt.style.transformOrigin=Ye.transformOrigin}},[kt]),at=function(rt,Ye){ne&&ne(rt,Ye),tt()},yt=z.useCallback(function(rt){J.current=cr.findDOMNode(rt)},[]);z.useEffect(function(){ue&&tt()}),z.useImperativeHandle(t,function(){return ue?{updatePosition:function(){tt()}}:null},[ue,tt]),z.useEffect(function(){if(ue){var rt=pg(function(){tt()});return window.addEventListener("resize",rt),function(){rt.clear(),window.removeEventListener("resize",rt)}}},[ue,tt]);var Ot=Se;Se==="auto"&&!Ie.muiSupportAuto&&(Ot=void 0);var Tt=S||(n?wr(Ef(n)).body:void 0);return z.createElement(VF,Ce({container:Tt,open:ue,ref:i,BackdropProps:{invisible:!0},className:jt(g.root,y)},_e),z.createElement(Ie,Ce({appear:!0,in:ue,onEnter:q,onEntered:G,onExit:K,onExited:Y,onExiting:se,timeout:Ot},Re,{onEntering:sa(at,Re.onEntering)}),z.createElement(pd,Ce({elevation:C,ref:yt},le,{className:jt(g.paper,le.className)}),f)))});const J1=vn(x8,{name:"MuiPopover"})(S8);function Tf(e,i,t){return e===i?e.firstChild:i&&i.nextElementSibling?i.nextElementSibling:t?null:e.firstChild}function eS(e,i,t){return e===i?t?e.firstChild:e.lastChild:i&&i.previousElementSibling?i.previousElementSibling:t?null:e.lastChild}function $1(e,i){if(i===void 0)return!0;var t=e.innerText;return t===void 0&&(t=e.textContent),t=t.trim().toLowerCase(),t.length===0?!1:i.repeating?t[0]===i.keys[0]:t.indexOf(i.keys.join(""))===0}function rl(e,i,t,n,r,l){for(var h=!1,d=r(e,i,i?t:!1);d;){if(d===e.firstChild){if(h)return;h=!0}var p=n?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!$1(d,l)||p)d=r(e,d,t);else{d.focus();return}}}var E8=typeof window>"u"?z.useEffect:z.useLayoutEffect,T8=z.forwardRef(function(e,i){var t=e.actions,n=e.autoFocus,r=n===void 0?!1:n,l=e.autoFocusItem,h=l===void 0?!1:l,d=e.children,p=e.className,f=e.disabledItemsFocusable,g=f===void 0?!1:f,y=e.disableListWrap,S=y===void 0?!1:y,k=e.onKeyDown,C=e.variant,P=C===void 0?"selectedMenu":C,_=At(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),D=z.useRef(null),q=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});E8(function(){r&&D.current.focus()},[r]),z.useImperativeHandle(t,function(){return{adjustStyleForScrollbar:function(ue,he){var le=!D.current.style.width;if(ue.clientHeight<D.current.clientHeight&&le){var ye="".concat(W1(),"px");D.current.style[he.direction==="rtl"?"paddingLeft":"paddingRight"]=ye,D.current.style.width="calc(100% + ".concat(ye,")")}return D.current}}},[]);var G=function(ue){var he=D.current,le=ue.key,ye=wr(he).activeElement;if(le==="ArrowDown")ue.preventDefault(),rl(he,ye,S,g,Tf);else if(le==="ArrowUp")ue.preventDefault(),rl(he,ye,S,g,eS);else if(le==="Home")ue.preventDefault(),rl(he,null,S,g,Tf);else if(le==="End")ue.preventDefault(),rl(he,null,S,g,eS);else if(le.length===1){var fe=q.current,we=le.toLowerCase(),Ie=performance.now();fe.keys.length>0&&(Ie-fe.lastTime>500?(fe.keys=[],fe.repeating=!0,fe.previousKeyMatched=!0):fe.repeating&&we!==fe.keys[0]&&(fe.repeating=!1)),fe.lastTime=Ie,fe.keys.push(we);var je=ye&&!fe.repeating&&$1(ye,fe);fe.previousKeyMatched&&(je||rl(he,ye,!1,g,Tf,fe))?ue.preventDefault():fe.previousKeyMatched=!1}k&&k(ue)},ne=z.useCallback(function(ue){D.current=cr.findDOMNode(ue)},[]),K=Vn(ne,i),Y=-1;z.Children.forEach(d,function(ue,he){z.isValidElement(ue)&&(ue.props.disabled||(P==="selectedMenu"&&ue.props.selected||Y===-1)&&(Y=he))});var se=z.Children.map(d,function(ue,he){if(he===Y){var le={};return h&&(le.autoFocus=!0),ue.props.tabIndex===void 0&&P==="selectedMenu"&&(le.tabIndex=0),z.cloneElement(ue,le)}return ue});return z.createElement(Z1,Ce({role:"menu",ref:K,className:p,onKeyDown:G,tabIndex:r?0:-1},_),se)}),tS={vertical:"top",horizontal:"right"},nS={vertical:"top",horizontal:"left"},k8={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},C8=z.forwardRef(function(e,i){var t=e.autoFocus,n=t===void 0?!0:t,r=e.children,l=e.classes,h=e.disableAutoFocusItem,d=h===void 0?!1:h,p=e.MenuListProps,f=p===void 0?{}:p,g=e.onClose,y=e.onEntering,S=e.open,k=e.PaperProps,C=k===void 0?{}:k,P=e.PopoverClasses,_=e.transitionDuration,D=_===void 0?"auto":_,q=e.TransitionProps;q=q===void 0?{}:q;var G=q.onEntering,ne=At(q,["onEntering"]),K=e.variant,Y=K===void 0?"selectedMenu":K,se=At(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),ue=pa(),he=n&&!d&&S,le=z.useRef(null),ye=z.useRef(null),fe=function(){return ye.current},we=function(ge,Re){le.current&&le.current.adjustStyleForScrollbar(ge,ue),y&&y(ge,Re),G&&G(ge,Re)},Ie=function(ge){ge.key==="Tab"&&(ge.preventDefault(),g&&g(ge,"tabKeyDown"))},je=-1;z.Children.map(r,function(ge,Re){z.isValidElement(ge)&&(ge.props.disabled||(Y!=="menu"&&ge.props.selected||je===-1)&&(je=Re))});var Se=z.Children.map(r,function(ge,Re){return Re===je?z.cloneElement(ge,{ref:function(_e){ye.current=cr.findDOMNode(_e),es(ge.ref,_e)}}):ge});return z.createElement(J1,Ce({getContentAnchorEl:fe,classes:P,onClose:g,TransitionProps:Ce({onEntering:we},ne),anchorOrigin:ue.direction==="rtl"?tS:nS,transformOrigin:ue.direction==="rtl"?tS:nS,PaperProps:Ce({},C,{classes:Ce({},C.classes,{root:l.paper})}),open:S,ref:i,transitionDuration:D},se),z.createElement(T8,Ce({onKeyDown:Ie,actions:le,autoFocus:n&&(je===-1||d),autoFocusItem:he,variant:Y},f,{className:jt(l.list,f.className)}),Se))});const P8=vn(k8,{name:"MuiMenu"})(C8);var _8=function(e){return{root:Ce({},e.typography.body1,qo({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Ce({},e.typography.body2,{minHeight:"auto"})}},R8=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.component,l=r===void 0?"li":r,h=e.disableGutters,d=h===void 0?!1:h,p=e.ListItemClasses,f=e.role,g=f===void 0?"menuitem":f,y=e.selected,S=e.tabIndex,k=At(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),C;return e.disabled||(C=S!==void 0?S:-1),z.createElement(Ks,Ce({button:!0,role:g,tabIndex:C,component:l,selected:y,disableGutters:d,classes:Ce({dense:t.dense},p),className:jt(t.root,n,y&&t.selected,!d&&t.gutters),ref:i},k))});const no=vn(_8,{name:"MuiMenuItem"})(R8);var Q1=z.forwardRef(function(e,i){var t=e.classes,n=e.className,r=e.disabled,l=e.IconComponent,h=e.inputRef,d=e.variant,p=d===void 0?"standard":d,f=At(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return z.createElement(z.Fragment,null,z.createElement("select",Ce({className:jt(t.root,t.select,t[p],n,r&&t.disabled),disabled:r,ref:h||i},f)),e.multiple?null:z.createElement(l,{className:jt(t.icon,t["icon".concat($n(p))],r&&t.disabled)}))});const ek=zl(z.createElement("path",{d:"M7 10l5 5 5-5z"}));var tk=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},O8=z.createElement(K1,null),nk=z.forwardRef(function(e,i){var t=e.children,n=e.classes,r=e.IconComponent,l=r===void 0?ek:r,h=e.input,d=h===void 0?O8:h,p=e.inputProps;e.variant;var f=At(e,["children","classes","IconComponent","input","inputProps","variant"]),g=md(),y=yg({props:e,muiFormControl:g,states:["variant"]});return z.cloneElement(d,Ce({inputComponent:Q1,inputProps:Ce({children:t,classes:n,IconComponent:l,variant:y.variant,type:void 0},p,d?d.props.inputProps:{}),ref:i},f))});nk.muiName="Select";vn(tk,{name:"MuiNativeSelect"})(nk);var D8=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},A8=z.forwardRef(function(e,i){e.children;var t=e.classes,n=e.className,r=e.label,l=e.labelWidth,h=e.notched,d=e.style,p=At(e,["children","classes","className","label","labelWidth","notched","style"]),f=pa(),g=f.direction==="rtl"?"right":"left";if(r!==void 0)return z.createElement("fieldset",Ce({"aria-hidden":!0,className:jt(t.root,n),ref:i,style:d},p),z.createElement("legend",{className:jt(t.legendLabelled,h&&t.legendNotched)},r?z.createElement("span",null,r):z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var y=l>0?l*.75+8:.01;return z.createElement("fieldset",Ce({"aria-hidden":!0,style:Ce(qo({},"padding".concat($n(g)),8),d),className:jt(t.root,n),ref:i},p),z.createElement("legend",{className:t.legend,style:{width:h?y:.01}},z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const I8=vn(D8,{name:"PrivateNotchedOutline"})(A8);var M8=function(e){var i=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:i}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:i},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},ik=z.forwardRef(function(e,i){var t=e.classes,n=e.fullWidth,r=n===void 0?!1:n,l=e.inputComponent,h=l===void 0?"input":l,d=e.label,p=e.labelWidth,f=p===void 0?0:p,g=e.multiline,y=g===void 0?!1:g,S=e.notched,k=e.type,C=k===void 0?"text":k,P=At(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return z.createElement(bg,Ce({renderSuffix:function(_){return z.createElement(I8,{className:t.notchedOutline,label:d,labelWidth:f,notched:typeof S<"u"?S:!!(_.startAdornment||_.filled||_.focused)})},classes:Ce({},t,{root:jt(t.root,t.underline),notchedOutline:null}),fullWidth:r,inputComponent:h,multiline:y,ref:i,type:C},P))});ik.muiName="Input";const z8=vn(M8,{name:"MuiOutlinedInput"})(ik);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Ll=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",L8=function(){for(var e=["Edge","Trident","Firefox"],i=0;i<e.length;i+=1)if(Ll&&navigator.userAgent.indexOf(e[i])>=0)return 1;return 0}();function B8(e){var i=!1;return function(){i||(i=!0,window.Promise.resolve().then(function(){i=!1,e()}))}}function N8(e){var i=!1;return function(){i||(i=!0,setTimeout(function(){i=!1,e()},L8))}}var j8=Ll&&window.Promise,H8=j8?B8:N8;function rk(e){var i={};return e&&i.toString.call(e)==="[object Function]"}function as(e,i){if(e.nodeType!==1)return[];var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e,null);return i?n[i]:n}function wg(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Bl(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var i=as(e),t=i.overflow,n=i.overflowX,r=i.overflowY;return/(auto|scroll|overlay)/.test(t+r+n)?e:Bl(wg(e))}function ok(e){return e&&e.referenceNode?e.referenceNode:e}var iS=Ll&&!!(window.MSInputMethodContext&&document.documentMode),rS=Ll&&/MSIE 10/.test(navigator.userAgent);function fa(e){return e===11?iS:e===10?rS:iS||rS}function la(e){if(!e)return document.documentElement;for(var i=fa(10)?document.body:null,t=e.offsetParent||null;t===i&&e.nextElementSibling;)t=(e=e.nextElementSibling).offsetParent;var n=t&&t.nodeName;return!n||n==="BODY"||n==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(t.nodeName)!==-1&&as(t,"position")==="static"?la(t):t}function F8(e){var i=e.nodeName;return i==="BODY"?!1:i==="HTML"||la(e.firstElementChild)===e}function Sm(e){return e.parentNode!==null?Sm(e.parentNode):e}function Vc(e,i){if(!e||!e.nodeType||!i||!i.nodeType)return document.documentElement;var t=e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING,n=t?e:i,r=t?i:e,l=document.createRange();l.setStart(n,0),l.setEnd(r,0);var h=l.commonAncestorContainer;if(e!==h&&i!==h||n.contains(r))return F8(h)?h:la(h);var d=Sm(e);return d.host?Vc(d.host,i):Vc(e,Sm(i).host)}function ua(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",t=i==="top"?"scrollTop":"scrollLeft",n=e.nodeName;if(n==="BODY"||n==="HTML"){var r=e.ownerDocument.documentElement,l=e.ownerDocument.scrollingElement||r;return l[t]}return e[t]}function V8(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=ua(i,"top"),r=ua(i,"left"),l=t?-1:1;return e.top+=n*l,e.bottom+=n*l,e.left+=r*l,e.right+=r*l,e}function oS(e,i){var t=i==="x"?"Left":"Top",n=t==="Left"?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+n+"Width"])}function sS(e,i,t,n){return Math.max(i["offset"+e],i["scroll"+e],t["client"+e],t["offset"+e],t["scroll"+e],fa(10)?parseInt(t["offset"+e])+parseInt(n["margin"+(e==="Height"?"Top":"Left")])+parseInt(n["margin"+(e==="Height"?"Bottom":"Right")]):0)}function sk(e){var i=e.body,t=e.documentElement,n=fa(10)&&getComputedStyle(t);return{height:sS("Height",i,t,n),width:sS("Width",i,t,n)}}var U8=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")},W8=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),ca=function(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e},er=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};function uo(e){return er({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Em(e){var i={};try{if(fa(10)){i=e.getBoundingClientRect();var t=ua(e,"top"),n=ua(e,"left");i.top+=t,i.left+=n,i.bottom+=t,i.right+=n}else i=e.getBoundingClientRect()}catch{}var r={left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top},l=e.nodeName==="HTML"?sk(e.ownerDocument):{},h=l.width||e.clientWidth||r.width,d=l.height||e.clientHeight||r.height,p=e.offsetWidth-h,f=e.offsetHeight-d;if(p||f){var g=as(e);p-=oS(g,"x"),f-=oS(g,"y"),r.width-=p,r.height-=f}return uo(r)}function xg(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=fa(10),r=i.nodeName==="HTML",l=Em(e),h=Em(i),d=Bl(e),p=as(i),f=parseFloat(p.borderTopWidth),g=parseFloat(p.borderLeftWidth);t&&r&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));var y=uo({top:l.top-h.top-f,left:l.left-h.left-g,width:l.width,height:l.height});if(y.marginTop=0,y.marginLeft=0,!n&&r){var S=parseFloat(p.marginTop),k=parseFloat(p.marginLeft);y.top-=f-S,y.bottom-=f-S,y.left-=g-k,y.right-=g-k,y.marginTop=S,y.marginLeft=k}return(n&&!t?i.contains(d):i===d&&d.nodeName!=="BODY")&&(y=V8(y,i)),y}function G8(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.ownerDocument.documentElement,n=xg(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),l=Math.max(t.clientHeight,window.innerHeight||0),h=i?0:ua(t),d=i?0:ua(t,"left"),p={top:h-n.top+n.marginTop,left:d-n.left+n.marginLeft,width:r,height:l};return uo(p)}function ak(e){var i=e.nodeName;if(i==="BODY"||i==="HTML")return!1;if(as(e,"position")==="fixed")return!0;var t=wg(e);return t?ak(t):!1}function lk(e){if(!e||!e.parentElement||fa())return document.documentElement;for(var i=e.parentElement;i&&as(i,"transform")==="none";)i=i.parentElement;return i||document.documentElement}function Sg(e,i,t,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l={top:0,left:0},h=r?lk(e):Vc(e,ok(i));if(n==="viewport")l=G8(h,r);else{var d=void 0;n==="scrollParent"?(d=Bl(wg(i)),d.nodeName==="BODY"&&(d=e.ownerDocument.documentElement)):n==="window"?d=e.ownerDocument.documentElement:d=n;var p=xg(d,h,r);if(d.nodeName==="HTML"&&!ak(h)){var f=sk(e.ownerDocument),g=f.height,y=f.width;l.top+=p.top-p.marginTop,l.bottom=g+p.top,l.left+=p.left-p.marginLeft,l.right=y+p.left}else l=p}t=t||0;var S=typeof t=="number";return l.left+=S?t:t.left||0,l.top+=S?t:t.top||0,l.right-=S?t:t.right||0,l.bottom-=S?t:t.bottom||0,l}function q8(e){var i=e.width,t=e.height;return i*t}function uk(e,i,t,n,r){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var h=Sg(t,n,l,r),d={top:{width:h.width,height:i.top-h.top},right:{width:h.right-i.right,height:h.height},bottom:{width:h.width,height:h.bottom-i.bottom},left:{width:i.left-h.left,height:h.height}},p=Object.keys(d).map(function(S){return er({key:S},d[S],{area:q8(d[S])})}).sort(function(S,k){return k.area-S.area}),f=p.filter(function(S){var k=S.width,C=S.height;return k>=t.clientWidth&&C>=t.clientHeight}),g=f.length>0?f[0].key:p[0].key,y=e.split("-")[1];return g+(y?"-"+y:"")}function ck(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=n?lk(i):Vc(i,ok(t));return xg(t,r,n)}function dk(e){var i=e.ownerDocument.defaultView,t=i.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0),l={width:e.offsetWidth+r,height:e.offsetHeight+n};return l}function Uc(e){var i={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(t){return i[t]})}function hk(e,i,t){t=t.split("-")[0];var n=dk(e),r={width:n.width,height:n.height},l=["right","left"].indexOf(t)!==-1,h=l?"top":"left",d=l?"left":"top",p=l?"height":"width",f=l?"width":"height";return r[h]=i[h]+i[p]/2-n[p]/2,t===d?r[d]=i[d]-n[f]:r[d]=i[Uc(d)],r}function Nl(e,i){return Array.prototype.find?e.find(i):e.filter(i)[0]}function X8(e,i,t){if(Array.prototype.findIndex)return e.findIndex(function(r){return r[i]===t});var n=Nl(e,function(r){return r[i]===t});return e.indexOf(n)}function pk(e,i,t){var n=t===void 0?e:e.slice(0,X8(e,"name",t));return n.forEach(function(r){r.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var l=r.function||r.fn;r.enabled&&rk(l)&&(i.offsets.popper=uo(i.offsets.popper),i.offsets.reference=uo(i.offsets.reference),i=l(i,r))}),i}function Y8(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=ck(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=uk(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=hk(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=pk(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function fk(e,i){return e.some(function(t){var n=t.name,r=t.enabled;return r&&n===i})}function Eg(e){for(var i=[!1,"ms","Webkit","Moz","O"],t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<i.length;n++){var r=i[n],l=r?""+r+t:e;if(typeof document.body.style[l]<"u")return l}return null}function K8(){return this.state.isDestroyed=!0,fk(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Eg("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function mk(e){var i=e.ownerDocument;return i?i.defaultView:window}function gk(e,i,t,n){var r=e.nodeName==="BODY",l=r?e.ownerDocument.defaultView:e;l.addEventListener(i,t,{passive:!0}),r||gk(Bl(l.parentNode),i,t,n),n.push(l)}function Z8(e,i,t,n){t.updateBound=n,mk(e).addEventListener("resize",t.updateBound,{passive:!0});var r=Bl(e);return gk(r,"scroll",t.updateBound,t.scrollParents),t.scrollElement=r,t.eventsEnabled=!0,t}function J8(){this.state.eventsEnabled||(this.state=Z8(this.reference,this.options,this.state,this.scheduleUpdate))}function $8(e,i){return mk(e).removeEventListener("resize",i.updateBound),i.scrollParents.forEach(function(t){t.removeEventListener("scroll",i.updateBound)}),i.updateBound=null,i.scrollParents=[],i.scrollElement=null,i.eventsEnabled=!1,i}function Q8(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=$8(this.reference,this.state))}function Tg(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Tm(e,i){Object.keys(i).forEach(function(t){var n="";["width","height","top","right","bottom","left"].indexOf(t)!==-1&&Tg(i[t])&&(n="px"),e.style[t]=i[t]+n})}function e7(e,i){Object.keys(i).forEach(function(t){var n=i[t];n!==!1?e.setAttribute(t,i[t]):e.removeAttribute(t)})}function t7(e){return Tm(e.instance.popper,e.styles),e7(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Tm(e.arrowElement,e.arrowStyles),e}function n7(e,i,t,n,r){var l=ck(r,i,e,t.positionFixed),h=uk(t.placement,l,i,e,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return i.setAttribute("x-placement",h),Tm(i,{position:t.positionFixed?"fixed":"absolute"}),t}function i7(e,i){var t=e.offsets,n=t.popper,r=t.reference,l=Math.round,h=Math.floor,d=function(_){return _},p=l(r.width),f=l(n.width),g=["left","right"].indexOf(e.placement)!==-1,y=e.placement.indexOf("-")!==-1,S=p%2===f%2,k=p%2===1&&f%2===1,C=i?g||y||S?l:h:d,P=i?l:d;return{left:C(k&&!y&&i?n.left-1:n.left),top:P(n.top),bottom:P(n.bottom),right:C(n.right)}}var r7=Ll&&/Firefox/i.test(navigator.userAgent);function o7(e,i){var t=i.x,n=i.y,r=e.offsets.popper,l=Nl(e.instance.modifiers,function(G){return G.name==="applyStyle"}).gpuAcceleration;l!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h=l!==void 0?l:i.gpuAcceleration,d=la(e.instance.popper),p=Em(d),f={position:r.position},g=i7(e,window.devicePixelRatio<2||!r7),y=t==="bottom"?"top":"bottom",S=n==="right"?"left":"right",k=Eg("transform"),C=void 0,P=void 0;if(y==="bottom"?d.nodeName==="HTML"?P=-d.clientHeight+g.bottom:P=-p.height+g.bottom:P=g.top,S==="right"?d.nodeName==="HTML"?C=-d.clientWidth+g.right:C=-p.width+g.right:C=g.left,h&&k)f[k]="translate3d("+C+"px, "+P+"px, 0)",f[y]=0,f[S]=0,f.willChange="transform";else{var _=y==="bottom"?-1:1,D=S==="right"?-1:1;f[y]=P*_,f[S]=C*D,f.willChange=y+", "+S}var q={"x-placement":e.placement};return e.attributes=er({},q,e.attributes),e.styles=er({},f,e.styles),e.arrowStyles=er({},e.offsets.arrow,e.arrowStyles),e}function vk(e,i,t){var n=Nl(e,function(d){var p=d.name;return p===i}),r=!!n&&e.some(function(d){return d.name===t&&d.enabled&&d.order<n.order});if(!r){var l="`"+i+"`",h="`"+t+"`";console.warn(h+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return r}function s7(e,i){var t;if(!vk(e.instance.modifiers,"arrow","keepTogether"))return e;var n=i.element;if(typeof n=="string"){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],l=e.offsets,h=l.popper,d=l.reference,p=["left","right"].indexOf(r)!==-1,f=p?"height":"width",g=p?"Top":"Left",y=g.toLowerCase(),S=p?"left":"top",k=p?"bottom":"right",C=dk(n)[f];d[k]-C<h[y]&&(e.offsets.popper[y]-=h[y]-(d[k]-C)),d[y]+C>h[k]&&(e.offsets.popper[y]+=d[y]+C-h[k]),e.offsets.popper=uo(e.offsets.popper);var P=d[y]+d[f]/2-C/2,_=as(e.instance.popper),D=parseFloat(_["margin"+g]),q=parseFloat(_["border"+g+"Width"]),G=P-e.offsets.popper[y]-D-q;return G=Math.max(Math.min(h[f]-C,G),0),e.arrowElement=n,e.offsets.arrow=(t={},ca(t,y,Math.round(G)),ca(t,S,""),t),e}function a7(e){return e==="end"?"start":e==="start"?"end":e}var yk=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],kf=yk.slice(3);function aS(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=kf.indexOf(e),n=kf.slice(t+1).concat(kf.slice(0,t));return i?n.reverse():n}var Cf={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function l7(e,i){if(fk(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var t=Sg(e.instance.popper,e.instance.reference,i.padding,i.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],r=Uc(n),l=e.placement.split("-")[1]||"",h=[];switch(i.behavior){case Cf.FLIP:h=[n,r];break;case Cf.CLOCKWISE:h=aS(n);break;case Cf.COUNTERCLOCKWISE:h=aS(n,!0);break;default:h=i.behavior}return h.forEach(function(d,p){if(n!==d||h.length===p+1)return e;n=e.placement.split("-")[0],r=Uc(n);var f=e.offsets.popper,g=e.offsets.reference,y=Math.floor,S=n==="left"&&y(f.right)>y(g.left)||n==="right"&&y(f.left)<y(g.right)||n==="top"&&y(f.bottom)>y(g.top)||n==="bottom"&&y(f.top)<y(g.bottom),k=y(f.left)<y(t.left),C=y(f.right)>y(t.right),P=y(f.top)<y(t.top),_=y(f.bottom)>y(t.bottom),D=n==="left"&&k||n==="right"&&C||n==="top"&&P||n==="bottom"&&_,q=["top","bottom"].indexOf(n)!==-1,G=!!i.flipVariations&&(q&&l==="start"&&k||q&&l==="end"&&C||!q&&l==="start"&&P||!q&&l==="end"&&_),ne=!!i.flipVariationsByContent&&(q&&l==="start"&&C||q&&l==="end"&&k||!q&&l==="start"&&_||!q&&l==="end"&&P),K=G||ne;(S||D||K)&&(e.flipped=!0,(S||D)&&(n=h[p+1]),K&&(l=a7(l)),e.placement=n+(l?"-"+l:""),e.offsets.popper=er({},e.offsets.popper,hk(e.instance.popper,e.offsets.reference,e.placement)),e=pk(e.instance.modifiers,e,"flip"))}),e}function u7(e){var i=e.offsets,t=i.popper,n=i.reference,r=e.placement.split("-")[0],l=Math.floor,h=["top","bottom"].indexOf(r)!==-1,d=h?"right":"bottom",p=h?"left":"top",f=h?"width":"height";return t[d]<l(n[p])&&(e.offsets.popper[p]=l(n[p])-t[f]),t[p]>l(n[d])&&(e.offsets.popper[p]=l(n[d])),e}function c7(e,i,t,n){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+r[1],h=r[2];if(!l)return e;if(h.indexOf("%")===0){var d=void 0;switch(h){case"%p":d=t;break;case"%":case"%r":default:d=n}var p=uo(d);return p[i]/100*l}else if(h==="vh"||h==="vw"){var f=void 0;return h==="vh"?f=Math.max(document.documentElement.clientHeight,window.innerHeight||0):f=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f/100*l}else return l}function d7(e,i,t,n){var r=[0,0],l=["right","left"].indexOf(n)!==-1,h=e.split(/(\+|\-)/).map(function(g){return g.trim()}),d=h.indexOf(Nl(h,function(g){return g.search(/,|\s/)!==-1}));h[d]&&h[d].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,f=d!==-1?[h.slice(0,d).concat([h[d].split(p)[0]]),[h[d].split(p)[1]].concat(h.slice(d+1))]:[h];return f=f.map(function(g,y){var S=(y===1?!l:l)?"height":"width",k=!1;return g.reduce(function(C,P){return C[C.length-1]===""&&["+","-"].indexOf(P)!==-1?(C[C.length-1]=P,k=!0,C):k?(C[C.length-1]+=P,k=!1,C):C.concat(P)},[]).map(function(C){return c7(C,S,i,t)})}),f.forEach(function(g,y){g.forEach(function(S,k){Tg(S)&&(r[y]+=S*(g[k-1]==="-"?-1:1))})}),r}function h7(e,i){var t=i.offset,n=e.placement,r=e.offsets,l=r.popper,h=r.reference,d=n.split("-")[0],p=void 0;return Tg(+t)?p=[+t,0]:p=d7(t,l,h,d),d==="left"?(l.top+=p[0],l.left-=p[1]):d==="right"?(l.top+=p[0],l.left+=p[1]):d==="top"?(l.left+=p[0],l.top-=p[1]):d==="bottom"&&(l.left+=p[0],l.top+=p[1]),e.popper=l,e}function p7(e,i){var t=i.boundariesElement||la(e.instance.popper);e.instance.reference===t&&(t=la(t));var n=Eg("transform"),r=e.instance.popper.style,l=r.top,h=r.left,d=r[n];r.top="",r.left="",r[n]="";var p=Sg(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed);r.top=l,r.left=h,r[n]=d,i.boundaries=p;var f=i.priority,g=e.offsets.popper,y={primary:function(S){var k=g[S];return g[S]<p[S]&&!i.escapeWithReference&&(k=Math.max(g[S],p[S])),ca({},S,k)},secondary:function(S){var k=S==="right"?"left":"top",C=g[k];return g[S]>p[S]&&!i.escapeWithReference&&(C=Math.min(g[k],p[S]-(S==="right"?g.width:g.height))),ca({},k,C)}};return f.forEach(function(S){var k=["left","top"].indexOf(S)!==-1?"primary":"secondary";g=er({},g,y[k](S))}),e.offsets.popper=g,e}function f7(e){var i=e.placement,t=i.split("-")[0],n=i.split("-")[1];if(n){var r=e.offsets,l=r.reference,h=r.popper,d=["bottom","top"].indexOf(t)!==-1,p=d?"left":"top",f=d?"width":"height",g={start:ca({},p,l[p]),end:ca({},p,l[p]+l[f]-h[f])};e.offsets.popper=er({},h,g[n])}return e}function m7(e){if(!vk(e.instance.modifiers,"hide","preventOverflow"))return e;var i=e.offsets.reference,t=Nl(e.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(i.bottom<t.top||i.left>t.right||i.top>t.bottom||i.right<t.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function g7(e){var i=e.placement,t=i.split("-")[0],n=e.offsets,r=n.popper,l=n.reference,h=["left","right"].indexOf(t)!==-1,d=["top","left"].indexOf(t)===-1;return r[h?"left":"top"]=l[t]-(d?r[h?"width":"height"]:0),e.placement=Uc(i),e.offsets.popper=uo(r),e}var v7={shift:{order:100,enabled:!0,fn:f7},offset:{order:200,enabled:!0,fn:h7,offset:0},preventOverflow:{order:300,enabled:!0,fn:p7,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:u7},arrow:{order:500,enabled:!0,fn:s7,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:l7,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:g7},hide:{order:800,enabled:!0,fn:m7},computeStyle:{order:850,enabled:!0,fn:o7,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:t7,onLoad:n7,gpuAcceleration:void 0}},y7={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:v7},gd=function(){function e(i,t){var n=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};U8(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=H8(this.update.bind(this)),this.options=er({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=i&&i.jquery?i[0]:i,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(er({},e.Defaults.modifiers,r.modifiers)).forEach(function(h){n.options.modifiers[h]=er({},e.Defaults.modifiers[h]||{},r.modifiers?r.modifiers[h]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(h){return er({name:h},n.options.modifiers[h])}).sort(function(h,d){return h.order-d.order}),this.modifiers.forEach(function(h){h.enabled&&rk(h.onLoad)&&h.onLoad(n.reference,n.popper,n.options,h,n.state)}),this.update();var l=this.options.eventsEnabled;l&&this.enableEventListeners(),this.state.eventsEnabled=l}return W8(e,[{key:"update",value:function(){return Y8.call(this)}},{key:"destroy",value:function(){return K8.call(this)}},{key:"enableEventListeners",value:function(){return J8.call(this)}},{key:"disableEventListeners",value:function(){return Q8.call(this)}}]),e}();gd.Utils=(typeof window<"u"?window:global).PopperUtils;gd.placements=yk;gd.Defaults=y7;function b7(e,i){var t=i&&i.direction||"ltr";if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function lS(e){return typeof e=="function"?e():e}var w7=typeof window<"u"?z.useLayoutEffect:z.useEffect,x7={},bk=z.forwardRef(function(e,i){var t=e.anchorEl,n=e.children,r=e.container,l=e.disablePortal,h=l===void 0?!1:l,d=e.keepMounted,p=d===void 0?!1:d,f=e.modifiers,g=e.open,y=e.placement,S=y===void 0?"bottom":y,k=e.popperOptions,C=k===void 0?x7:k,P=e.popperRef,_=e.style,D=e.transition,q=D===void 0?!1:D,G=At(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),ne=z.useRef(null),K=Vn(ne,i),Y=z.useRef(null),se=Vn(Y,P),ue=z.useRef(se);w7(function(){ue.current=se},[se]),z.useImperativeHandle(P,function(){return Y.current},[]);var he=z.useState(!0),le=he[0],ye=he[1],fe=os(),we=b7(S,fe),Ie=z.useState(we),je=Ie[0],Se=Ie[1];z.useEffect(function(){Y.current&&Y.current.update()});var ge=z.useCallback(function(){if(!(!ne.current||!t||!g)){Y.current&&(Y.current.destroy(),ue.current(null));var ee=function(tt){Se(tt.placement)};lS(t);var kt=new gd(lS(t),ne.current,Ce({placement:we},C,{modifiers:Ce({},h?{}:{preventOverflow:{boundariesElement:"window"}},f,C.modifiers),onCreate:sa(ee,C.onCreate),onUpdate:sa(ee,C.onUpdate)}));ue.current(kt)}},[t,h,f,g,we,C]),Re=z.useCallback(function(ee){es(K,ee),ge()},[K,ge]),_e=function(){ye(!1)},J=function(){Y.current&&(Y.current.destroy(),ue.current(null))},ze=function(){ye(!0),J()};if(z.useEffect(function(){return function(){J()}},[]),z.useEffect(function(){!g&&!q&&J()},[g,q]),!p&&!g&&(!q||le))return null;var st={placement:je};return q&&(st.TransitionProps={in:g,onEnter:_e,onExited:ze}),z.createElement(U1,{disablePortal:h,container:r},z.createElement("div",Ce({ref:Re,role:"tooltip"},G,{style:Ce({position:"fixed",top:0,left:0,display:!g&&p&&!q?"none":null},_)}),typeof n=="function"?n(st):n))});function uS(e,i){return ao(i)==="object"&&i!==null?e===i:String(e)===String(i)}function S7(e){return e==null||typeof e=="string"&&!e.trim()}var E7=z.forwardRef(function(e,i){var t=e["aria-label"],n=e.autoFocus,r=e.autoWidth,l=e.children,h=e.classes,d=e.className,p=e.defaultValue,f=e.disabled,g=e.displayEmpty,y=e.IconComponent,S=e.inputRef,k=e.labelId,C=e.MenuProps,P=C===void 0?{}:C,_=e.multiple,D=e.name,q=e.onBlur,G=e.onChange,ne=e.onClose,K=e.onFocus,Y=e.onOpen,se=e.open,ue=e.readOnly,he=e.renderValue,le=e.SelectDisplayProps,ye=le===void 0?{}:le,fe=e.tabIndex;e.type;var we=e.value,Ie=e.variant,je=Ie===void 0?"standard":Ie,Se=At(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),ge=dd({controlled:we,default:p,name:"Select"}),Re=rs(ge,2),_e=Re[0],J=Re[1],ze=z.useRef(null),st=z.useState(null),ee=st[0],kt=st[1],tt=z.useRef(se!=null),at=tt.current,yt=z.useState(),Ot=yt[0],Tt=yt[1],rt=z.useState(!1),Ye=rt[0],xt=rt[1],Ht=Vn(i,S);z.useImperativeHandle(Ht,function(){return{focus:function(){ee.focus()},node:ze.current,value:_e}},[ee,_e]),z.useEffect(function(){n&&ee&&ee.focus()},[n,ee]),z.useEffect(function(){if(ee){var W=wr(ee).getElementById(k);if(W){var Z=function(){getSelection().isCollapsed&&ee.focus()};return W.addEventListener("click",Z),function(){W.removeEventListener("click",Z)}}}},[k,ee]);var on=function(W,Z){W?Y&&Y(Z):ne&&ne(Z),at||(Tt(r?null:ee.clientWidth),xt(W))},Dt=function(W){W.button===0&&(W.preventDefault(),ee.focus(),on(!0,W))},Yt=function(W){on(!1,W)},I=z.Children.toArray(l),Q=function(W){var Z=I.map(function(Ue){return Ue.props.value}).indexOf(W.target.value);if(Z!==-1){var Te=I[Z];J(Te.props.value),G&&G(W,Te)}},xe=function(W){return function(Z){_||on(!1,Z);var Te;if(_){Te=Array.isArray(_e)?_e.slice():[];var Ue=_e.indexOf(W.props.value);Ue===-1?Te.push(W.props.value):Te.splice(Ue,1)}else Te=W.props.value;W.props.onClick&&W.props.onClick(Z),_e!==Te&&(J(Te),G&&(Z.persist(),Object.defineProperty(Z,"target",{writable:!0,value:{value:Te,name:D}}),G(Z,W)))}},Ne=function(W){if(!ue){var Z=[" ","ArrowUp","ArrowDown","Enter"];Z.indexOf(W.key)!==-1&&(W.preventDefault(),on(!0,W))}},Be=ee!==null&&(at?se:Ye),$e=function(W){!Be&&q&&(W.persist(),Object.defineProperty(W,"target",{writable:!0,value:{value:_e,name:D}}),q(W))};delete Se["aria-invalid"];var Ke,Et,It=[],Lt=!1;(G1({value:_e})||g)&&(he?Ke=he(_e):Lt=!0);var me=I.map(function(W){if(!z.isValidElement(W))return null;var Z;if(_){if(!Array.isArray(_e))throw new Error(oa(2));Z=_e.some(function(Te){return uS(Te,W.props.value)}),Z&&Lt&&It.push(W.props.children)}else Z=uS(_e,W.props.value),Z&&Lt&&(Et=W.props.children);return z.cloneElement(W,{"aria-selected":Z?"true":void 0,onClick:xe(W),onKeyUp:function(Te){Te.key===" "&&Te.preventDefault(),W.props.onKeyUp&&W.props.onKeyUp(Te)},role:"option",selected:Z,value:void 0,"data-value":W.props.value})});Lt&&(Ke=_?It.join(", "):Et);var Ae=Ot;!r&&at&&ee&&(Ae=ee.clientWidth);var L;typeof fe<"u"?L=fe:L=f?null:0;var N=ye.id||(D?"mui-component-select-".concat(D):void 0);return z.createElement(z.Fragment,null,z.createElement("div",Ce({className:jt(h.root,h.select,h.selectMenu,h[je],d,f&&h.disabled),ref:kt,tabIndex:L,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":Be?"true":void 0,"aria-haspopup":"listbox","aria-label":t,"aria-labelledby":[k,N].filter(Boolean).join(" ")||void 0,onKeyDown:Ne,onMouseDown:f||ue?null:Dt,onBlur:$e,onFocus:K},ye,{id:N}),S7(Ke)?z.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Ke),z.createElement("input",Ce({value:Array.isArray(_e)?_e.join(","):_e,name:D,ref:ze,"aria-hidden":!0,onChange:Q,tabIndex:-1,className:h.nativeInput,autoFocus:n},Se)),z.createElement(y,{className:jt(h.icon,h["icon".concat($n(je))],Be&&h.iconOpen,f&&h.disabled)}),z.createElement(P8,Ce({id:"menu-".concat(D||""),anchorEl:ee,open:Be,onClose:Yt},P,{MenuListProps:Ce({"aria-labelledby":k,role:"listbox",disableListWrap:!0},P.MenuListProps),PaperProps:Ce({},P.PaperProps,{style:Ce({minWidth:Ae},P.PaperProps!=null?P.PaperProps.style:null)})}),me))}),T7=tk,k7=z.createElement(K1,null),C7=z.createElement($F,null),wk=z.forwardRef(function e(i,t){var n=i.autoWidth,r=n===void 0?!1:n,l=i.children,h=i.classes,d=i.displayEmpty,p=d===void 0?!1:d,f=i.IconComponent,g=f===void 0?ek:f,y=i.id,S=i.input,k=i.inputProps,C=i.label,P=i.labelId,_=i.labelWidth,D=_===void 0?0:_,q=i.MenuProps,G=i.multiple,ne=G===void 0?!1:G,K=i.native,Y=K===void 0?!1:K,se=i.onClose,ue=i.onOpen,he=i.open,le=i.renderValue,ye=i.SelectDisplayProps,fe=i.variant,we=fe===void 0?"standard":fe,Ie=At(i,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),je=Y?Q1:E7,Se=md(),ge=yg({props:i,muiFormControl:Se,states:["variant"]}),Re=ge.variant||we,_e=S||{standard:k7,outlined:z.createElement(z8,{label:C,labelWidth:D}),filled:C7}[Re];return z.cloneElement(_e,Ce({inputComponent:je,inputProps:Ce({children:l,IconComponent:g,variant:Re,type:void 0,multiple:ne},Y?{id:y}:{autoWidth:r,displayEmpty:p,labelId:P,MenuProps:q,onClose:se,onOpen:ue,open:he,renderValue:le,SelectDisplayProps:Ce({id:y},ye)},k,{classes:k?Jm({baseClasses:h,newClasses:k.classes,Component:e}):h},S?S.props.inputProps:{}),ref:t},Ie))});wk.muiName="Select";const km=vn(T7,{name:"MuiSelect"})(wk);function P7(){return U.jsxs("svg",{width:"15",height:"11",viewBox:"0 0 15 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[U.jsxs("g",{clipPath:"url(#clip0_527_47371)",children:[U.jsx("path",{d:"M1.57302 0H6.01747C6.31215 0 6.59477 0.144866 6.80314 0.402728C7.01152 0.660591 7.12858 1.01033 7.12858 1.375V9.625C7.12858 9.98967 7.01152 10.3394 6.80314 10.5973C6.59477 10.8551 6.31215 11 6.01747 11H1.57302C1.27834 11 0.995725 10.8551 0.787351 10.5973C0.578977 10.3394 0.461914 9.98967 0.461914 9.625V1.375C0.461914 1.01033 0.578977 0.660591 0.787351 0.402728C0.995725 0.144866 1.27834 0 1.57302 0ZM1.57302 0.6875C1.42568 0.6875 1.28437 0.759933 1.18019 0.888864C1.076 1.0178 1.01747 1.19266 1.01747 1.375V9.625C1.01747 9.80734 1.076 9.98221 1.18019 10.1111C1.28437 10.2401 1.42568 10.3125 1.57302 10.3125H6.01747C6.16481 10.3125 6.30612 10.2401 6.41031 10.1111C6.51449 9.98221 6.57302 9.80734 6.57302 9.625V1.375C6.57302 1.19266 6.51449 1.0178 6.41031 0.888864C6.30612 0.759933 6.16481 0.6875 6.01747 0.6875H1.57302Z",fill:"white"}),U.jsx("path",{opacity:"0.4",d:"M8.90603 0H13.3505C13.6452 0 13.9278 0.144866 14.1362 0.402728C14.3445 0.660591 14.4616 1.01033 14.4616 1.375V9.625C14.4616 9.98967 14.3445 10.3394 14.1362 10.5973C13.9278 10.8551 13.6452 11 13.3505 11H8.90603C8.61135 11 8.32873 10.8551 8.12036 10.5973C7.91198 10.3394 7.79492 9.98967 7.79492 9.625V1.375C7.79492 1.01033 7.91198 0.660591 8.12036 0.402728C8.32873 0.144866 8.61135 0 8.90603 0ZM8.90603 0.6875C8.75869 0.6875 8.61738 0.759933 8.5132 0.888864C8.40901 1.0178 8.35048 1.19266 8.35048 1.375V9.625C8.35048 9.80734 8.40901 9.98221 8.5132 10.1111C8.61738 10.2401 8.75869 10.3125 8.90603 10.3125H13.3505C13.4978 10.3125 13.6391 10.2401 13.7433 10.1111C13.8475 9.98221 13.906 9.80734 13.906 9.625V1.375C13.906 1.19266 13.8475 1.0178 13.7433 0.888864C13.6391 0.759933 13.4978 0.6875 13.3505 0.6875H8.90603Z",fill:"white"})]}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_527_47371",children:U.jsx("rect",{width:"14",height:"11",fill:"white",transform:"translate(0.461914)"})})})]})}function _7(){return U.jsxs("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[U.jsxs("g",{clipPath:"url(#clip0_527_47381)",children:[U.jsx("path",{opacity:"0.4",d:"M1.11111 0H5.55555C5.85024 0 6.13285 0.144866 6.34123 0.402728C6.5496 0.660591 6.66667 1.01033 6.66667 1.375V9.625C6.66667 9.98967 6.5496 10.3394 6.34123 10.5973C6.13285 10.8551 5.85024 11 5.55555 11H1.11111C0.816426 11 0.533811 10.8551 0.325437 10.5973C0.117063 10.3394 0 9.98967 0 9.625V1.375C0 1.01033 0.117063 0.660591 0.325437 0.402728C0.533811 0.144866 0.816426 0 1.11111 0ZM1.11111 0.6875C0.963768 0.6875 0.822461 0.759933 0.718274 0.888864C0.614087 1.0178 0.555555 1.19266 0.555555 1.375V9.625C0.555555 9.80734 0.614087 9.98221 0.718274 10.1111C0.822461 10.2401 0.963768 10.3125 1.11111 10.3125H5.55555C5.7029 10.3125 5.8442 10.2401 5.94839 10.1111C6.05258 9.98221 6.11111 9.80734 6.11111 9.625V1.375C6.11111 1.19266 6.05258 1.0178 5.94839 0.888864C5.8442 0.759933 5.7029 0.6875 5.55555 0.6875H1.11111Z",fill:"white"}),U.jsx("path",{d:"M8.44412 0H12.8886C13.1832 0 13.4659 0.144866 13.6742 0.402728C13.8826 0.660591 13.9997 1.01033 13.9997 1.375V9.625C13.9997 9.98967 13.8826 10.3394 13.6742 10.5973C13.4659 10.8551 13.1832 11 12.8886 11H8.44412C8.14943 11 7.86682 10.8551 7.65844 10.5973C7.45007 10.3394 7.33301 9.98967 7.33301 9.625V1.375C7.33301 1.01033 7.45007 0.660591 7.65844 0.402728C7.86682 0.144866 8.14943 0 8.44412 0ZM8.44412 0.6875C8.29678 0.6875 8.15547 0.759933 8.05128 0.888864C7.94709 1.0178 7.88856 1.19266 7.88856 1.375V9.625C7.88856 9.80734 7.94709 9.98221 8.05128 10.1111C8.15547 10.2401 8.29678 10.3125 8.44412 10.3125H12.8886C13.0359 10.3125 13.1772 10.2401 13.2814 10.1111C13.3856 9.98221 13.4441 9.80734 13.4441 9.625V1.375C13.4441 1.19266 13.3856 1.0178 13.2814 0.888864C13.1772 0.759933 13.0359 0.6875 12.8886 0.6875H8.44412Z",fill:"white"})]}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_527_47381",children:U.jsx("rect",{width:"14",height:"11",fill:"white"})})})]})}function R7(e){return U.jsx("div",{style:{backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",color:"white"},children:U.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"12px",alignItems:"center"},children:[e.side==="left"?U.jsx(P7,{}):U.jsx(_7,{}),U.jsxs(Xn,{children:["Select"," ",e.side," ","page"]})]})})}var kg={},Cg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var i;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(i=e.ElementType||(e.ElementType={}));function t(n){return n.type===i.Tag||n.type===i.Script||n.type===i.Style}e.isTag=t,e.Root=i.Root,e.Text=i.Text,e.Directive=i.Directive,e.Comment=i.Comment,e.Script=i.Script,e.Style=i.Style,e.Tag=i.Tag,e.CDATA=i.CDATA,e.Doctype=i.Doctype})(Cg);var nn={},mo=ii&&ii.__extends||function(){var e=function(i,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])},e(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(i,t);function n(){this.constructor=i}i.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yl=ii&&ii.__assign||function(){return yl=Object.assign||function(e){for(var i,t=1,n=arguments.length;t<n;t++){i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},yl.apply(this,arguments)};Object.defineProperty(nn,"__esModule",{value:!0});nn.cloneNode=nn.hasChildren=nn.isDocument=nn.isDirective=nn.isComment=nn.isText=nn.isCDATA=nn.isTag=nn.Element=nn.Document=nn.CDATA=nn.NodeWithChildren=nn.ProcessingInstruction=nn.Comment=nn.Text=nn.DataNode=nn.Node=void 0;var Ii=Cg,Pg=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(i){this.parent=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(i){this.prev=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(i){this.next=i},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(i){return i===void 0&&(i=!1),_g(this,i)},e}();nn.Node=Pg;var vd=function(e){mo(i,e);function i(t){var n=e.call(this)||this;return n.data=t,n}return Object.defineProperty(i.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),i}(Pg);nn.DataNode=vd;var xk=function(e){mo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.Text,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),i}(vd);nn.Text=xk;var Sk=function(e){mo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.Comment,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),i}(vd);nn.Comment=Sk;var Ek=function(e){mo(i,e);function i(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=Ii.ElementType.Directive,r}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),i}(vd);nn.ProcessingInstruction=Ek;var yd=function(e){mo(i,e);function i(t){var n=e.call(this)||this;return n.children=t,n}return Object.defineProperty(i.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),i}(Pg);nn.NodeWithChildren=yd;var Tk=function(e){mo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.CDATA,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),i}(yd);nn.CDATA=Tk;var kk=function(e){mo(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.Root,t}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),i}(yd);nn.Document=kk;var Ck=function(e){mo(i,e);function i(t,n,r,l){r===void 0&&(r=[]),l===void 0&&(l=t==="script"?Ii.ElementType.Script:t==="style"?Ii.ElementType.Style:Ii.ElementType.Tag);var h=e.call(this,r)||this;return h.name=t,h.attribs=n,h.type=l,h}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(n){var r,l;return{name:n,value:t.attribs[n],namespace:(r=t["x-attribsNamespace"])===null||r===void 0?void 0:r[n],prefix:(l=t["x-attribsPrefix"])===null||l===void 0?void 0:l[n]}})},enumerable:!1,configurable:!0}),i}(yd);nn.Element=Ck;function Pk(e){return(0,Ii.isTag)(e)}nn.isTag=Pk;function _k(e){return e.type===Ii.ElementType.CDATA}nn.isCDATA=_k;function Rk(e){return e.type===Ii.ElementType.Text}nn.isText=Rk;function Ok(e){return e.type===Ii.ElementType.Comment}nn.isComment=Ok;function Dk(e){return e.type===Ii.ElementType.Directive}nn.isDirective=Dk;function Ak(e){return e.type===Ii.ElementType.Root}nn.isDocument=Ak;function O7(e){return Object.prototype.hasOwnProperty.call(e,"children")}nn.hasChildren=O7;function _g(e,i){i===void 0&&(i=!1);var t;if(Rk(e))t=new xk(e.data);else if(Ok(e))t=new Sk(e.data);else if(Pk(e)){var n=i?Pf(e.children):[],r=new Ck(e.name,yl({},e.attribs),n);n.forEach(function(p){return p.parent=r}),e.namespace!=null&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=yl({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=yl({},e["x-attribsPrefix"])),t=r}else if(_k(e)){var n=i?Pf(e.children):[],l=new Tk(n);n.forEach(function(f){return f.parent=l}),t=l}else if(Ak(e)){var n=i?Pf(e.children):[],h=new kk(n);n.forEach(function(f){return f.parent=h}),e["x-mode"]&&(h["x-mode"]=e["x-mode"]),t=h}else if(Dk(e)){var d=new Ek(e.name,e.data);e["x-name"]!=null&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),t=d}else throw new Error("Not implemented yet: ".concat(e.type));return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}nn.cloneNode=_g;function Pf(e){for(var i=e.map(function(n){return _g(n,!0)}),t=1;t<i.length;t++)i[t].prev=i[t-1],i[t-1].next=i[t];return i}(function(e){var i=ii&&ii.__createBinding||(Object.create?function(d,p,f,g){g===void 0&&(g=f);var y=Object.getOwnPropertyDescriptor(p,f);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(d,g,y)}:function(d,p,f,g){g===void 0&&(g=f),d[g]=p[f]}),t=ii&&ii.__exportStar||function(d,p){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(p,f)&&i(p,d,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Cg,r=nn;t(nn,e);var l={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function d(p,f,g){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof f=="function"&&(g=f,f=l),typeof p=="object"&&(f=p,p=void 0),this.callback=p??null,this.options=f??l,this.elementCB=g??null}return d.prototype.onparserinit=function(p){this.parser=p},d.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},d.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},d.prototype.onerror=function(p){this.handleCallback(p)},d.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},d.prototype.onopentag=function(p,f){var g=this.options.xmlMode?n.ElementType.Tag:void 0,y=new r.Element(p,f,void 0,g);this.addNode(y),this.tagStack.push(y)},d.prototype.ontext=function(p){var f=this.lastNode;if(f&&f.type===n.ElementType.Text)f.data+=p,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{var g=new r.Text(p);this.addNode(g),this.lastNode=g}},d.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=p;return}var f=new r.Comment(p);this.addNode(f),this.lastNode=f},d.prototype.oncommentend=function(){this.lastNode=null},d.prototype.oncdatastart=function(){var p=new r.Text(""),f=new r.CDATA([p]);this.addNode(f),p.parent=f,this.lastNode=p},d.prototype.oncdataend=function(){this.lastNode=null},d.prototype.onprocessinginstruction=function(p,f){var g=new r.ProcessingInstruction(p,f);this.addNode(g)},d.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},d.prototype.addNode=function(p){var f=this.tagStack[this.tagStack.length-1],g=f.children[f.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),f.children.push(p),g&&(p.prev=g,g.next=p),p.parent=f,this.lastNode=null},d}();e.DomHandler=h,e.default=h})(kg);var cS="html",dS="head",wc="body",D7=/<([a-zA-Z]+[0-9]?)/,hS=/<head[^]*>/i,pS=/<body[^]*>/i,Wc=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Cm=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},fS=typeof window=="object"&&window.DOMParser;if(typeof fS=="function"){var A7=new fS,I7="text/html";Cm=function(e,i){return i&&(e="<"+i+">"+e+"</"+i+">"),A7.parseFromString(e,I7)},Wc=Cm}if(typeof document=="object"&&document.implementation){var xc=document.implementation.createHTMLDocument();Wc=function(e,i){if(i){var t=xc.documentElement.querySelector(i);return t.innerHTML=e,xc}return xc.documentElement.innerHTML=e,xc}}var _f=typeof document=="object"?document.createElement("template"):{},Pm;_f.content&&(Pm=function(e){return _f.innerHTML=e,_f.content.childNodes});function M7(e){var i,t=e.match(D7);t&&t[1]&&(i=t[1].toLowerCase());var n,r,l;switch(i){case cS:return n=Cm(e),hS.test(e)||(r=n.querySelector(dS),r&&r.parentNode.removeChild(r)),pS.test(e)||(r=n.querySelector(wc),r&&r.parentNode.removeChild(r)),n.querySelectorAll(cS);case dS:case wc:return n=Wc(e),l=n.querySelectorAll(i),pS.test(e)&&hS.test(e)?l[0].parentNode.childNodes:l;default:return Pm?Pm(e):(r=Wc(e,wc).querySelector(wc),r.childNodes)}}var z7=M7,Rg={},Ik={};Ik.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var bd=kg,L7=Ik,mS=L7.CASE_SENSITIVE_TAG_NAMES,B7=bd.Comment,N7=bd.Element,j7=bd.ProcessingInstruction,H7=bd.Text,Mk={},Rf;for(var Of=0,F7=mS.length;Of<F7;Of++)Rf=mS[Of],Mk[Rf.toLowerCase()]=Rf;function V7(e){return Mk[e]}function zk(e){for(var i={},t,n=0,r=e.length;n<r;n++)t=e[n],i[t.name]=t.value;return i}function U7(e){e=e.toLowerCase();var i=V7(e);return i||e}function Lk(e,i,t){i=i||null;for(var n=[],r,l=0,h=e.length;l<h;l++){var d=e[l],p;switch(d.nodeType){case 1:r=U7(d.nodeName),p=new N7(r,zk(d.attributes)),p.children=Lk(r==="template"?d.content.childNodes:d.childNodes,p);break;case 3:p=new H7(d.nodeValue);break;case 8:p=new B7(d.nodeValue);break;default:continue}var f=n[l-1]||null;f&&(f.next=p),p.parent=i,p.prev=f,p.next=null,n.push(p)}return t&&(p=new j7(t.substring(0,t.indexOf(" ")).toLowerCase(),t),p.next=n[0]||null,p.parent=i,n.unshift(p),n[1]&&(n[1].prev=n[0])),n}Rg.formatAttributes=zk;Rg.formatDOM=Lk;var W7=z7,G7=Rg,q7=G7.formatDOM,X7=/<(![a-zA-Z\s]+)>/;function Y7(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(e==="")return[];var i=e.match(X7),t;return i&&i[1]&&(t=i[1]),q7(W7(e),null,t)}var K7=Y7,tr={},wd={},Z7=0;wd.SAME=Z7;var J7=1;wd.CAMELCASE=J7;wd.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(tr,"__esModule",{value:!0});function $7(e,i){return Q7(e)||eV(e,i)||tV(e,i)||nV()}function Q7(e){if(Array.isArray(e))return e}function eV(e,i){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],r=!0,l=!1,h,d;try{for(t=t.call(e);!(r=(h=t.next()).done)&&(n.push(h.value),!(i&&n.length===i));r=!0);}catch(p){l=!0,d=p}finally{try{!r&&t.return!=null&&t.return()}finally{if(l)throw d}}return n}}function tV(e,i){if(e){if(typeof e=="string")return gS(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gS(e,i)}}function gS(e,i){(i==null||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function nV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bk=0,go=1,xd=2,Sd=3,Og=4,Nk=5,jk=6;function iV(e){return pi.hasOwnProperty(e)?pi[e]:null}function ki(e,i,t,n,r,l,h){this.acceptsBooleans=i===xd||i===Sd||i===Og,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=e,this.type=i,this.sanitizeURL=l,this.removeEmptyString=h}var pi={},rV=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];rV.forEach(function(e){pi[e]=new ki(e,Bk,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=$7(e,2),t=i[0],n=i[1];pi[t]=new ki(t,go,!1,n,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pi[e]=new ki(e,xd,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pi[e]=new ki(e,xd,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){pi[e]=new ki(e,Sd,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pi[e]=new ki(e,Sd,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pi[e]=new ki(e,Og,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pi[e]=new ki(e,jk,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pi[e]=new ki(e,Nk,!1,e.toLowerCase(),null,!1,!1)});var Dg=/[\-\:]([a-z])/g,Ag=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var i=e.replace(Dg,Ag);pi[i]=new ki(i,go,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var i=e.replace(Dg,Ag);pi[i]=new ki(i,go,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(Dg,Ag);pi[i]=new ki(i,go,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pi[e]=new ki(e,go,!1,e.toLowerCase(),null,!1,!1)});var oV="xlinkHref";pi[oV]=new ki("xlinkHref",go,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pi[e]=new ki(e,go,!1,e.toLowerCase(),null,!0,!0)});var Ig=wd,sV=Ig.CAMELCASE,aV=Ig.SAME,vS=Ig.possibleStandardNames,lV=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",uV=lV+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",cV=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+uV+"]*$")),dV=Object.keys(vS).reduce(function(e,i){var t=vS[i];return t===aV?e[i]=i:t===sV?e[i.toLowerCase()]=i:e[i]=t,e},{});tr.BOOLEAN=Sd;tr.BOOLEANISH_STRING=xd;tr.NUMERIC=Nk;tr.OVERLOADED_BOOLEAN=Og;tr.POSITIVE_NUMERIC=jk;tr.RESERVED=Bk;tr.STRING=go;tr.getPropertyInfo=iV;tr.isCustomAttribute=cV;tr.possibleStandardNames=dV;var Mg={},zg={exports:{}},yS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hV=/\n/g,pV=/^\s*/,fV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mV=/^:\s*/,gV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vV=/^[;\s]*/,yV=/^\s+|\s+$/g,bV=`
`,bS="/",wS="*",Wo="",wV="comment",xV="declaration",SV=function(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];i=i||{};var t=1,n=1;function r(C){var P=C.match(hV);P&&(t+=P.length);var _=C.lastIndexOf(bV);n=~_?C.length-_:n+C.length}function l(){var C={line:t,column:n};return function(P){return P.position=new h(C),f(),P}}function h(C){this.start=C,this.end={line:t,column:n},this.source=i.source}h.prototype.content=e;function d(C){var P=new Error(i.source+":"+t+":"+n+": "+C);if(P.reason=C,P.filename=i.source,P.line=t,P.column=n,P.source=e,!i.silent)throw P}function p(C){var P=C.exec(e);if(P){var _=P[0];return r(_),e=e.slice(_.length),P}}function f(){p(pV)}function g(C){var P;for(C=C||[];P=y();)P!==!1&&C.push(P);return C}function y(){var C=l();if(!(bS!=e.charAt(0)||wS!=e.charAt(1))){for(var P=2;Wo!=e.charAt(P)&&(wS!=e.charAt(P)||bS!=e.charAt(P+1));)++P;if(P+=2,Wo===e.charAt(P-1))return d("End of comment missing");var _=e.slice(2,P-2);return n+=2,r(_),e=e.slice(P),n+=2,C({type:wV,comment:_})}}function S(){var C=l(),P=p(fV);if(P){if(y(),!p(mV))return d("property missing ':'");var _=p(gV),D=C({type:xV,property:xS(P[0].replace(yS,Wo)),value:_?xS(_[0].replace(yS,Wo)):Wo});return p(vV),D}}function k(){var C=[];g(C);for(var P;P=S();)P!==!1&&(C.push(P),g(C));return C}return f(),k()};function xS(e){return e?e.replace(yV,Wo):Wo}var EV=SV;function Hk(e,i){var t=null;if(!e||typeof e!="string")return t;for(var n,r=EV(e),l=typeof i=="function",h,d,p=0,f=r.length;p<f;p++)n=r[p],h=n.property,d=n.value,l?i(h,d,n):d&&(t||(t={}),t[h]=d);return t}zg.exports=Hk;zg.exports.default=Hk;var TV=zg.exports;const Fk=Sr(TV),kV=Object.freeze(Object.defineProperty({__proto__:null,default:Fk},Symbol.toStringTag,{value:"Module"})),CV=Hm(kV);var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.camelCase=void 0;var PV=/^--[a-zA-Z0-9-]+$/,_V=/-([a-z])/g,RV=/^[^-]+$/,OV=/^-(webkit|moz|ms|o|khtml)-/,DV=/^-(ms)-/,AV=function(e){return!e||RV.test(e)||PV.test(e)},IV=function(e,i){return i.toUpperCase()},SS=function(e,i){return"".concat(i,"-")},MV=function(e,i){return i===void 0&&(i={}),AV(e)?e:(e=e.toLowerCase(),i.reactCompat?e=e.replace(DV,SS):e=e.replace(OV,SS),e.replace(_V,IV))};Ed.camelCase=MV;var zV=ii&&ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mg,"__esModule",{value:!0});var LV=zV(CV),BV=Ed;function NV(e,i){var t={};return!e||typeof e!="string"||(0,LV.default)(e,function(n,r){n&&r&&(t[(0,BV.camelCase)(n,i)]=r)}),t}Mg.default=NV;var jV=vt,HV=Mg.default;function FV(e,i){if(!e||typeof e!="object")throw new TypeError("First argument must be an object");var t=typeof i=="function",n={},r={};for(var l in e){var h=e[l];if(t&&(n=i(l,h),n&&n.length===2)){r[n[0]]=n[1];continue}typeof h=="string"&&(r[h]=l)}return r}var VV=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function UV(e,i){return e.indexOf("-")===-1?i&&typeof i.is=="string":!VV.has(e)}var WV={reactCompat:!0};function GV(e,i){if(e!=null)try{i.style=HV(e,WV)}catch{i.style={}}}var qV=jV.version.split(".")[0]>=16,Vk=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function XV(e){return!Vk.has(e.name)}function YV(e){return e}var Uk={PRESERVE_CUSTOM_ATTRIBUTES:qV,ELEMENTS_WITH_NO_TEXT_CHILDREN:Vk,invertObject:FV,isCustomComponent:UV,setStyleProp:GV,canTextBeChildOfNode:XV,returnFirstArg:YV},dl=tr,ES=Uk,KV=["checked","value"],ZV=["input","select","textarea"],JV={reset:!0,submit:!0},Wk=function(e,i){e=e||{};var t,n,r,l,h,d={},p=e.type&&JV[e.type];for(t in e){if(r=e[t],dl.isCustomAttribute(t)){d[t]=r;continue}if(n=t.toLowerCase(),l=TS(n),l){switch(h=dl.getPropertyInfo(l),KV.indexOf(l)!==-1&&ZV.indexOf(i)!==-1&&!p&&(l=TS("default"+n)),d[l]=r,h&&h.type){case dl.BOOLEAN:d[l]=!0;break;case dl.OVERLOADED_BOOLEAN:r===""&&(d[l]=!0);break}continue}ES.PRESERVE_CUSTOM_ATTRIBUTES&&(d[t]=r)}return ES.setStyleProp(e.style,d),d};function TS(e){return dl.possibleStandardNames[e]}var $V=vt,QV=Wk,_l=Uk,eU=_l.setStyleProp,tU=_l.canTextBeChildOfNode;function Gk(e,i){i=i||{};for(var t=i.library||$V,n=t.cloneElement,r=t.createElement,l=t.isValidElement,h=[],d,p,f=typeof i.replace=="function",g=i.transform||_l.returnFirstArg,y,S,k,C=i.trim,P=0,_=e.length;P<_;P++){if(d=e[P],f&&(y=i.replace(d),l(y))){_>1&&(y=n(y,{key:y.key||P})),h.push(g(y,d,P));continue}if(d.type==="text"){if(p=!d.data.trim().length,p&&d.parent&&!tU(d.parent)||C&&p)continue;h.push(g(d.data,d,P));continue}switch(S=d.attribs,nU(d)?eU(S.style,S):S&&(S=QV(S,d.name)),k=null,d.type){case"script":case"style":d.children[0]&&(S.dangerouslySetInnerHTML={__html:d.children[0].data});break;case"tag":d.name==="textarea"&&d.children[0]?S.defaultValue=d.children[0].data:d.children&&d.children.length&&(k=Gk(d.children,i));break;default:continue}_>1&&(S.key=P),h.push(g(r(d.name,S,k),d,P))}return h.length===1?h[0]:h}function nU(e){return _l.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&_l.isCustomComponent(e.name,e.attribs)}var iU=Gk,Td=kg,ea=K7,rU=Wk,qk=iU;ea=typeof ea.default=="function"?ea.default:ea;var oU={lowerCaseAttributeNames:!1};function xr(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");return e===""?[]:(i=i||{},qk(ea(e,i.htmlparser2||oU),i))}xr.domToReact=qk;xr.htmlToDOM=ea;xr.attributesToProps=rU;xr.Comment=Td.Comment;xr.Element=Td.Element;xr.ProcessingInstruction=Td.ProcessingInstruction;xr.Text=Td.Text;var sU=xr;xr.default=xr;const Wi=Sr(sU);Wi.domToReact;Wi.htmlToDOM;Wi.attributesToProps;Wi.Comment;Wi.Element;Wi.ProcessingInstruction;Wi.Text;const kS=["http","https","mailto","tel"];function aU(e){const i=(e||"").trim(),t=i.charAt(0);if(t==="#"||t==="/")return i;const n=i.indexOf(":");if(n===-1)return i;let r=-1;for(;++r<kS.length;){const l=kS[r];if(n===l.length&&i.slice(0,l.length).toLowerCase()===l)return i}return r=i.indexOf("?"),r!==-1&&n>r||(r=i.indexOf("#"),r!==-1&&n>r)?i:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lU=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const Xk=Sr(lU);function bl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?CS(e.position):"start"in e||"end"in e?CS(e):"line"in e||"column"in e?_m(e):""}function _m(e){return PS(e&&e.line)+":"+PS(e&&e.column)}function CS(e){return _m(e&&e.start)+"-"+_m(e&&e.end)}function PS(e){return e&&typeof e=="number"?e:1}class nr extends Error{constructor(i,t,n){const r=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(n=t,t=void 0),typeof n=="string"){const h=n.indexOf(":");h===-1?r[1]=n:(r[0]=n.slice(0,h),r[1]=n.slice(h+1))}t&&("type"in t||"position"in t?t.position&&(l=t.position):"start"in t||"end"in t?l=t:("line"in t||"column"in t)&&(l.start=t)),this.name=bl(t)||"1:1",this.message=typeof i=="object"?i.message:i,this.stack="",typeof i=="object"&&i.stack&&(this.stack=i.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}nr.prototype.file="";nr.prototype.name="";nr.prototype.reason="";nr.prototype.message="";nr.prototype.stack="";nr.prototype.fatal=null;nr.prototype.column=null;nr.prototype.line=null;nr.prototype.source=null;nr.prototype.ruleId=null;nr.prototype.position=null;const yr={basename:uU,dirname:cU,extname:dU,join:hU,sep:"/"};function uU(e,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');jl(e);let t=0,n=-1,r=e.length,l;if(i===void 0||i.length===0||i.length>e.length){for(;r--;)if(e.charCodeAt(r)===47){if(l){t=r+1;break}}else n<0&&(l=!0,n=r+1);return n<0?"":e.slice(t,n)}if(i===e)return"";let h=-1,d=i.length-1;for(;r--;)if(e.charCodeAt(r)===47){if(l){t=r+1;break}}else h<0&&(l=!0,h=r+1),d>-1&&(e.charCodeAt(r)===i.charCodeAt(d--)?d<0&&(n=r):(d=-1,n=h));return t===n?n=h:n<0&&(n=e.length),e.slice(t,n)}function cU(e){if(jl(e),e.length===0)return".";let i=-1,t=e.length,n;for(;--t;)if(e.charCodeAt(t)===47){if(n){i=t;break}}else n||(n=!0);return i<0?e.charCodeAt(0)===47?"/":".":i===1&&e.charCodeAt(0)===47?"//":e.slice(0,i)}function dU(e){jl(e);let i=e.length,t=-1,n=0,r=-1,l=0,h;for(;i--;){const d=e.charCodeAt(i);if(d===47){if(h){n=i+1;break}continue}t<0&&(h=!0,t=i+1),d===46?r<0?r=i:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||t<0||l===0||l===1&&r===t-1&&r===n+1?"":e.slice(r,t)}function hU(...e){let i=-1,t;for(;++i<e.length;)jl(e[i]),e[i]&&(t=t===void 0?e[i]:t+"/"+e[i]);return t===void 0?".":pU(t)}function pU(e){jl(e);const i=e.charCodeAt(0)===47;let t=fU(e,!i);return t.length===0&&!i&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),i?"/"+t:t}function fU(e,i){let t="",n=0,r=-1,l=0,h=-1,d,p;for(;++h<=e.length;){if(h<e.length)d=e.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(r===h-1||l===1))if(r!==h-1&&l===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(p=t.lastIndexOf("/"),p!==t.length-1){p<0?(t="",n=0):(t=t.slice(0,p),n=t.length-1-t.lastIndexOf("/")),r=h,l=0;continue}}else if(t.length>0){t="",n=0,r=h,l=0;continue}}i&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+e.slice(r+1,h):t=e.slice(r+1,h),n=h-r-1;r=h,l=0}else d===46&&l>-1?l++:l=-1}return t}function jl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mU={cwd:gU};function gU(){return"/"}function Rm(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function vU(e){if(typeof e=="string")e=new URL(e);else if(!Rm(e)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(e.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return yU(e)}function yU(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const i=e.pathname;let t=-1;for(;++t<i.length;)if(i.charCodeAt(t)===37&&i.charCodeAt(t+1)===50){const n=i.charCodeAt(t+2);if(n===70||n===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(i)}const Df=["history","path","basename","stem","extname","dirname"];class Yk{constructor(i){let t;i?typeof i=="string"||bU(i)?t={value:i}:Rm(i)?t={path:i}:t=i:t={},this.data={},this.messages=[],this.history=[],this.cwd=mU.cwd(),this.value,this.stored,this.result,this.map;let n=-1;for(;++n<Df.length;){const l=Df[n];l in t&&t[l]!==void 0&&t[l]!==null&&(this[l]=l==="history"?[...t[l]]:t[l])}let r;for(r in t)Df.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(i){Rm(i)&&(i=vU(i)),If(i,"path"),this.path!==i&&this.history.push(i)}get dirname(){return typeof this.path=="string"?yr.dirname(this.path):void 0}set dirname(i){_S(this.basename,"dirname"),this.path=yr.join(i||"",this.basename)}get basename(){return typeof this.path=="string"?yr.basename(this.path):void 0}set basename(i){If(i,"basename"),Af(i,"basename"),this.path=yr.join(this.dirname||"",i)}get extname(){return typeof this.path=="string"?yr.extname(this.path):void 0}set extname(i){if(Af(i,"extname"),_S(this.dirname,"extname"),i){if(i.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yr.join(this.dirname,this.stem+(i||""))}get stem(){return typeof this.path=="string"?yr.basename(this.path,this.extname):void 0}set stem(i){If(i,"stem"),Af(i,"stem"),this.path=yr.join(this.dirname||"",i+(this.extname||""))}toString(i){return(this.value||"").toString(i||void 0)}message(i,t,n){const r=new nr(i,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(i,t,n){const r=this.message(i,t,n);return r.fatal=null,r}fail(i,t,n){const r=this.message(i,t,n);throw r.fatal=!0,r}}function Af(e,i){if(e&&e.includes(yr.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+yr.sep+"`")}function If(e,i){if(!e)throw new Error("`"+i+"` cannot be empty")}function _S(e,i){if(!e)throw new Error("Setting `"+i+"` requires `path` to be set too")}function bU(e){return Xk(e)}function RS(e){if(e)throw e}var Ic=Object.prototype.hasOwnProperty,Kk=Object.prototype.toString,OS=Object.defineProperty,DS=Object.getOwnPropertyDescriptor,AS=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Kk.call(e)==="[object Array]"},IS=function(e){if(!e||Kk.call(e)!=="[object Object]")return!1;var i=Ic.call(e,"constructor"),t=e.constructor&&e.constructor.prototype&&Ic.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!t)return!1;var n;for(n in e);return typeof n>"u"||Ic.call(e,n)},MS=function(e,i){OS&&i.name==="__proto__"?OS(e,i.name,{enumerable:!0,configurable:!0,value:i.newValue,writable:!0}):e[i.name]=i.newValue},zS=function(e,i){if(i==="__proto__")if(Ic.call(e,i)){if(DS)return DS(e,i).value}else return;return e[i]},wU=function e(){var i,t,n,r,l,h,d=arguments[0],p=1,f=arguments.length,g=!1;for(typeof d=="boolean"&&(g=d,d=arguments[1]||{},p=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});p<f;++p)if(i=arguments[p],i!=null)for(t in i)n=zS(d,t),r=zS(i,t),d!==r&&(g&&r&&(IS(r)||(l=AS(r)))?(l?(l=!1,h=n&&AS(n)?n:[]):h=n&&IS(n)?n:{},MS(d,{name:t,newValue:e(g,h,r)})):typeof r<"u"&&MS(d,{name:t,newValue:r}));return d};const LS=Sr(wU);function Om(e){if(typeof e!="object"||e===null)return!1;const i=Object.getPrototypeOf(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xU(){const e=[],i={run:t,use:n};return i;function t(...r){let l=-1;const h=r.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);d(null,...r);function d(p,...f){const g=e[++l];let y=-1;if(p){h(p);return}for(;++y<r.length;)(f[y]===null||f[y]===void 0)&&(f[y]=r[y]);r=f,g?SU(g,d)(...f):h(null,...f)}}function n(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),i}}function SU(e,i){let t;return n;function n(...h){const d=e.length>h.length;let p;d&&h.push(r);try{p=e.apply(this,h)}catch(f){const g=f;if(d&&t)throw g;return r(g)}d||(p&&p.then&&typeof p.then=="function"?p.then(l,r):p instanceof Error?r(p):l(p))}function r(h,...d){t||(t=!0,i(h,...d))}function l(h){r(null,h)}}const EU=Jk().freeze(),Zk={}.hasOwnProperty;function Jk(){const e=xU(),i=[];let t={},n,r=-1;return l.data=h,l.Parser=void 0,l.Compiler=void 0,l.freeze=d,l.attachers=i,l.use=p,l.parse=f,l.stringify=g,l.run=y,l.runSync=S,l.process=k,l.processSync=C,l;function l(){const P=Jk();let _=-1;for(;++_<i.length;)P.use(...i[_]);return P.data(LS(!0,{},t)),P}function h(P,_){return typeof P=="string"?arguments.length===2?(Lf("data",n),t[P]=_,l):Zk.call(t,P)&&t[P]||null:P?(Lf("data",n),t=P,l):t}function d(){if(n)return l;for(;++r<i.length;){const[P,..._]=i[r];if(_[0]===!1)continue;_[0]===!0&&(_[0]=void 0);const D=P.call(l,..._);typeof D=="function"&&e.use(D)}return n=!0,r=Number.POSITIVE_INFINITY,l}function p(P,..._){let D;if(Lf("use",n),P!=null)if(typeof P=="function")K(P,..._);else if(typeof P=="object")Array.isArray(P)?ne(P):G(P);else throw new TypeError("Expected usable value, not `"+P+"`");return D&&(t.settings=Object.assign(t.settings||{},D)),l;function q(Y){if(typeof Y=="function")K(Y);else if(typeof Y=="object")if(Array.isArray(Y)){const[se,...ue]=Y;K(se,...ue)}else G(Y);else throw new TypeError("Expected usable value, not `"+Y+"`")}function G(Y){ne(Y.plugins),Y.settings&&(D=Object.assign(D||{},Y.settings))}function ne(Y){let se=-1;if(Y!=null)if(Array.isArray(Y))for(;++se<Y.length;){const ue=Y[se];q(ue)}else throw new TypeError("Expected a list of plugins, not `"+Y+"`")}function K(Y,se){let ue=-1,he;for(;++ue<i.length;)if(i[ue][0]===Y){he=i[ue];break}he?(Om(he[1])&&Om(se)&&(se=LS(!0,he[1],se)),he[1]=se):i.push([...arguments])}}function f(P){l.freeze();const _=ol(P),D=l.Parser;return Mf("parse",D),BS(D,"parse")?new D(String(_),_).parse():D(String(_),_)}function g(P,_){l.freeze();const D=ol(_),q=l.Compiler;return zf("stringify",q),NS(P),BS(q,"compile")?new q(P,D).compile():q(P,D)}function y(P,_,D){if(NS(P),l.freeze(),!D&&typeof _=="function"&&(D=_,_=void 0),!D)return new Promise(q);q(null,D);function q(G,ne){e.run(P,ol(_),K);function K(Y,se,ue){se=se||P,Y?ne(Y):G?G(se):D(null,se,ue)}}}function S(P,_){let D,q;return l.run(P,_,G),jS("runSync","run",q),D;function G(ne,K){RS(ne),D=K,q=!0}}function k(P,_){if(l.freeze(),Mf("process",l.Parser),zf("process",l.Compiler),!_)return new Promise(D);D(null,_);function D(q,G){const ne=ol(P);l.run(l.parse(ne),ne,(Y,se,ue)=>{if(Y||!se||!ue)K(Y);else{const he=l.stringify(se,ue);he==null||(CU(he)?ue.value=he:ue.result=he),K(Y,ue)}});function K(Y,se){Y||!se?G(Y):q?q(se):_(null,se)}}}function C(P){let _;l.freeze(),Mf("processSync",l.Parser),zf("processSync",l.Compiler);const D=ol(P);return l.process(D,q),jS("processSync","process",_),D;function q(G){_=!0,RS(G)}}}function BS(e,i){return typeof e=="function"&&e.prototype&&(TU(e.prototype)||i in e.prototype)}function TU(e){let i;for(i in e)if(Zk.call(e,i))return!0;return!1}function Mf(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function zf(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Lf(e,i){if(i)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function NS(e){if(!Om(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function jS(e,i,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+i+"` instead")}function ol(e){return kU(e)?e:new Yk(e)}function kU(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function CU(e){return typeof e=="string"||Xk(e)}const PU={};function _U(e,i){const t=PU,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return $k(e,n,r)}function $k(e,i,t){if(RU(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(i&&"alt"in e&&e.alt)return e.alt;if("children"in e)return HS(e.children,i,t)}return Array.isArray(e)?HS(e,i,t):""}function HS(e,i,t){const n=[];let r=-1;for(;++r<e.length;)n[r]=$k(e[r],i,t);return n.join("")}function RU(e){return!!(e&&typeof e=="object")}function Gi(e,i,t,n){const r=e.length;let l=0,h;if(i<0?i=-i>r?0:r+i:i=i>r?r:i,t=t>0?t:0,n.length<1e4)h=Array.from(n),h.unshift(i,t),e.splice(...h);else for(t&&e.splice(i,t);l<n.length;)h=n.slice(l,l+1e4),h.unshift(i,0),e.splice(...h),l+=1e4,i+=1e4}function Qi(e,i){return e.length>0?(Gi(e,e.length,0,i),e):i}const FS={}.hasOwnProperty;function Qk(e){const i={};let t=-1;for(;++t<e.length;)OU(i,e[t]);return i}function OU(e,i){let t;for(t in i){const n=(FS.call(e,t)?e[t]:void 0)||(e[t]={}),r=i[t];let l;if(r)for(l in r){FS.call(n,l)||(n[l]=[]);const h=r[l];DU(n[l],Array.isArray(h)?h:h?[h]:[])}}}function DU(e,i){let t=-1;const n=[];for(;++t<i.length;)(i[t].add==="after"?e:n).push(i[t]);Gi(e,0,0,n)}const AU=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ti=vo(/[A-Za-z]/),bi=vo(/[\dA-Za-z]/),IU=vo(/[#-'*+\--9=?A-Z^-~]/);function Gc(e){return e!==null&&(e<32||e===127)}const Dm=vo(/\d/),MU=vo(/[\dA-Fa-f]/),zU=vo(/[!-/:-@[-`{-~]/);function zt(e){return e!==null&&e<-2}function Rn(e){return e!==null&&(e<0||e===32)}function rn(e){return e===-2||e===-1||e===32}const kd=vo(AU),ts=vo(/\s/);function vo(e){return i;function i(t){return t!==null&&e.test(String.fromCharCode(t))}}function cn(e,i,t,n){const r=n?n-1:Number.POSITIVE_INFINITY;let l=0;return h;function h(p){return rn(p)?(e.enter(t),d(p)):i(p)}function d(p){return rn(p)&&l++<r?(e.consume(p),d):(e.exit(t),i(p))}}const LU={tokenize:BU};function BU(e){const i=e.attempt(this.parser.constructs.contentInitial,n,r);let t;return i;function n(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),cn(e,i,"linePrefix")}function r(d){return e.enter("paragraph"),l(d)}function l(d){const p=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,h(d)}function h(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return zt(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),h)}}const NU={tokenize:jU},VS={tokenize:HU};function jU(e){const i=this,t=[];let n=0,r,l,h;return d;function d(G){if(n<t.length){const ne=t[n];return i.containerState=ne[1],e.attempt(ne[0].continuation,p,f)(G)}return f(G)}function p(G){if(n++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,r&&q();const ne=i.events.length;let K=ne,Y;for(;K--;)if(i.events[K][0]==="exit"&&i.events[K][1].type==="chunkFlow"){Y=i.events[K][1].end;break}D(n);let se=ne;for(;se<i.events.length;)i.events[se][1].end=Object.assign({},Y),se++;return Gi(i.events,K+1,0,i.events.slice(ne)),i.events.length=se,f(G)}return d(G)}function f(G){if(n===t.length){if(!r)return S(G);if(r.currentConstruct&&r.currentConstruct.concrete)return C(G);i.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(VS,g,y)(G)}function g(G){return r&&q(),D(n),S(G)}function y(G){return i.parser.lazy[i.now().line]=n!==t.length,h=i.now().offset,C(G)}function S(G){return i.containerState={},e.attempt(VS,k,C)(G)}function k(G){return n++,t.push([i.currentConstruct,i.containerState]),S(G)}function C(G){if(G===null){r&&q(),D(0),e.consume(G);return}return r=r||i.parser.flow(i.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:r}),P(G)}function P(G){if(G===null){_(e.exit("chunkFlow"),!0),D(0),e.consume(G);return}return zt(G)?(e.consume(G),_(e.exit("chunkFlow")),n=0,i.interrupt=void 0,d):(e.consume(G),P)}function _(G,ne){const K=i.sliceStream(G);if(ne&&K.push(null),G.previous=l,l&&(l.next=G),l=G,r.defineSkip(G.start),r.write(K),i.parser.lazy[G.start.line]){let Y=r.events.length;for(;Y--;)if(r.events[Y][1].start.offset<h&&(!r.events[Y][1].end||r.events[Y][1].end.offset>h))return;const se=i.events.length;let ue=se,he,le;for(;ue--;)if(i.events[ue][0]==="exit"&&i.events[ue][1].type==="chunkFlow"){if(he){le=i.events[ue][1].end;break}he=!0}for(D(n),Y=se;Y<i.events.length;)i.events[Y][1].end=Object.assign({},le),Y++;Gi(i.events,ue+1,0,i.events.slice(se)),i.events.length=Y}}function D(G){let ne=t.length;for(;ne-- >G;){const K=t[ne];i.containerState=K[1],K[0].exit.call(i,e)}t.length=G}function q(){r.write([null]),l=void 0,r=void 0,i.containerState._closeFlow=void 0}}function HU(e,i,t){return cn(e,e.attempt(this.parser.constructs.document,i,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qc(e){if(e===null||Rn(e)||ts(e))return 1;if(kd(e))return 2}function Cd(e,i,t){const n=[];let r=-1;for(;++r<e.length;){const l=e[r].resolveAll;l&&!n.includes(l)&&(i=l(i,t),n.push(l))}return i}const Am={name:"attention",tokenize:VU,resolveAll:FU};function FU(e,i){let t=-1,n,r,l,h,d,p,f,g;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(n=t;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&i.sliceSerialize(e[n][1]).charCodeAt(0)===i.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[n][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;p=e[n][1].end.offset-e[n][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const y=Object.assign({},e[n][1].end),S=Object.assign({},e[t][1].start);US(y,-p),US(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:y,end:Object.assign({},e[n][1].end)},d={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:S},l={type:p>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[t][1].start)},r={type:p>1?"strong":"emphasis",start:Object.assign({},h.start),end:Object.assign({},d.end)},e[n][1].end=Object.assign({},h.start),e[t][1].start=Object.assign({},d.end),f=[],e[n][1].end.offset-e[n][1].start.offset&&(f=Qi(f,[["enter",e[n][1],i],["exit",e[n][1],i]])),f=Qi(f,[["enter",r,i],["enter",h,i],["exit",h,i],["enter",l,i]]),f=Qi(f,Cd(i.parser.constructs.insideSpan.null,e.slice(n+1,t),i)),f=Qi(f,[["exit",l,i],["enter",d,i],["exit",d,i],["exit",r,i]]),e[t][1].end.offset-e[t][1].start.offset?(g=2,f=Qi(f,[["enter",e[t][1],i],["exit",e[t][1],i]])):g=0,Gi(e,n-1,t-n+3,f),t=n+f.length-g-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function VU(e,i){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,r=qc(n);let l;return h;function h(p){return l=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===l)return e.consume(p),d;const f=e.exit("attentionSequence"),g=qc(p),y=!g||g===2&&r||t.includes(p),S=!r||r===2&&g||t.includes(n);return f._open=!!(l===42?y:y&&(r||!S)),f._close=!!(l===42?S:S&&(g||!y)),i(p)}}function US(e,i){e.column+=i,e.offset+=i,e._bufferIndex+=i}const UU={name:"autolink",tokenize:WU};function WU(e,i,t){let n=0;return r;function r(k){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(k),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(k){return Ti(k)?(e.consume(k),h):f(k)}function h(k){return k===43||k===45||k===46||bi(k)?(n=1,d(k)):f(k)}function d(k){return k===58?(e.consume(k),n=0,p):(k===43||k===45||k===46||bi(k))&&n++<32?(e.consume(k),d):(n=0,f(k))}function p(k){return k===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(k),e.exit("autolinkMarker"),e.exit("autolink"),i):k===null||k===32||k===60||Gc(k)?t(k):(e.consume(k),p)}function f(k){return k===64?(e.consume(k),g):IU(k)?(e.consume(k),f):t(k)}function g(k){return bi(k)?y(k):t(k)}function y(k){return k===46?(e.consume(k),n=0,g):k===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(k),e.exit("autolinkMarker"),e.exit("autolink"),i):S(k)}function S(k){if((k===45||bi(k))&&n++<63){const C=k===45?S:y;return e.consume(k),C}return t(k)}}const Hl={tokenize:GU,partial:!0};function GU(e,i,t){return n;function n(l){return rn(l)?cn(e,r,"linePrefix")(l):r(l)}function r(l){return l===null||zt(l)?i(l):t(l)}}const eC={name:"blockQuote",tokenize:qU,continuation:{tokenize:XU},exit:YU};function qU(e,i,t){const n=this;return r;function r(h){if(h===62){const d=n.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(h),e.exit("blockQuoteMarker"),l}return t(h)}function l(h){return rn(h)?(e.enter("blockQuotePrefixWhitespace"),e.consume(h),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),i):(e.exit("blockQuotePrefix"),i(h))}}function XU(e,i,t){const n=this;return r;function r(h){return rn(h)?cn(e,l,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):l(h)}function l(h){return e.attempt(eC,i,t)(h)}}function YU(e){e.exit("blockQuote")}const tC={name:"characterEscape",tokenize:KU};function KU(e,i,t){return n;function n(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),r}function r(l){return zU(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),i):t(l)}}const WS=document.createElement("i");function Lg(e){const i="&"+e+";";WS.innerHTML=i;const t=WS.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===i?!1:t}const nC={name:"characterReference",tokenize:ZU};function ZU(e,i,t){const n=this;let r=0,l,h;return d;function d(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),p}function p(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),l=31,h=bi,g(y))}function f(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,h=MU,g):(e.enter("characterReferenceValue"),l=7,h=Dm,g(y))}function g(y){if(y===59&&r){const S=e.exit("characterReferenceValue");return h===bi&&!Lg(n.sliceSerialize(S))?t(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),i)}return h(y)&&r++<l?(e.consume(y),g):t(y)}}const GS={tokenize:$U,partial:!0},qS={name:"codeFenced",tokenize:JU,concrete:!0};function JU(e,i,t){const n=this,r={tokenize:K,partial:!0};let l=0,h=0,d;return p;function p(Y){return f(Y)}function f(Y){const se=n.events[n.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,d=Y,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(Y)}function g(Y){return Y===d?(h++,e.consume(Y),g):h<3?t(Y):(e.exit("codeFencedFenceSequence"),rn(Y)?cn(e,y,"whitespace")(Y):y(Y))}function y(Y){return Y===null||zt(Y)?(e.exit("codeFencedFence"),n.interrupt?i(Y):e.check(GS,P,ne)(Y)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),S(Y))}function S(Y){return Y===null||zt(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(Y)):rn(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),cn(e,k,"whitespace")(Y)):Y===96&&Y===d?t(Y):(e.consume(Y),S)}function k(Y){return Y===null||zt(Y)?y(Y):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(Y))}function C(Y){return Y===null||zt(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(Y)):Y===96&&Y===d?t(Y):(e.consume(Y),C)}function P(Y){return e.attempt(r,ne,_)(Y)}function _(Y){return e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),D}function D(Y){return l>0&&rn(Y)?cn(e,q,"linePrefix",l+1)(Y):q(Y)}function q(Y){return Y===null||zt(Y)?e.check(GS,P,ne)(Y):(e.enter("codeFlowValue"),G(Y))}function G(Y){return Y===null||zt(Y)?(e.exit("codeFlowValue"),q(Y)):(e.consume(Y),G)}function ne(Y){return e.exit("codeFenced"),i(Y)}function K(Y,se,ue){let he=0;return le;function le(je){return Y.enter("lineEnding"),Y.consume(je),Y.exit("lineEnding"),ye}function ye(je){return Y.enter("codeFencedFence"),rn(je)?cn(Y,fe,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(je):fe(je)}function fe(je){return je===d?(Y.enter("codeFencedFenceSequence"),we(je)):ue(je)}function we(je){return je===d?(he++,Y.consume(je),we):he>=h?(Y.exit("codeFencedFenceSequence"),rn(je)?cn(Y,Ie,"whitespace")(je):Ie(je)):ue(je)}function Ie(je){return je===null||zt(je)?(Y.exit("codeFencedFence"),se(je)):ue(je)}}}function $U(e,i,t){const n=this;return r;function r(h){return h===null?t(h):(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l)}function l(h){return n.parser.lazy[n.now().line]?t(h):i(h)}}const Bf={name:"codeIndented",tokenize:eW},QU={tokenize:tW,partial:!0};function eW(e,i,t){const n=this;return r;function r(f){return e.enter("codeIndented"),cn(e,l,"linePrefix",5)(f)}function l(f){const g=n.events[n.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(f):t(f)}function h(f){return f===null?p(f):zt(f)?e.attempt(QU,h,p)(f):(e.enter("codeFlowValue"),d(f))}function d(f){return f===null||zt(f)?(e.exit("codeFlowValue"),h(f)):(e.consume(f),d)}function p(f){return e.exit("codeIndented"),i(f)}}function tW(e,i,t){const n=this;return r;function r(h){return n.parser.lazy[n.now().line]?t(h):zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),r):cn(e,l,"linePrefix",5)(h)}function l(h){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(h):zt(h)?r(h):t(h)}}const nW={name:"codeText",tokenize:oW,resolve:iW,previous:rW};function iW(e){let i=e.length-4,t=3,n,r;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[i][1].type==="lineEnding"||e[i][1].type==="space")){for(n=t;++n<i;)if(e[n][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[i][1].type="codeTextPadding",t+=2,i-=2;break}}for(n=t-1,i++;++n<=i;)r===void 0?n!==i&&e[n][1].type!=="lineEnding"&&(r=n):(n===i||e[n][1].type==="lineEnding")&&(e[r][1].type="codeTextData",n!==r+2&&(e[r][1].end=e[n-1][1].end,e.splice(r+2,n-r-2),i-=n-r-2,n=r+2),r=void 0);return e}function rW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oW(e,i,t){let n=0,r,l;return h;function h(y){return e.enter("codeText"),e.enter("codeTextSequence"),d(y)}function d(y){return y===96?(e.consume(y),n++,d):(e.exit("codeTextSequence"),p(y))}function p(y){return y===null?t(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),p):y===96?(l=e.enter("codeTextSequence"),r=0,g(y)):zt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),p):(e.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||zt(y)?(e.exit("codeTextData"),p(y)):(e.consume(y),f)}function g(y){return y===96?(e.consume(y),r++,g):r===n?(e.exit("codeTextSequence"),e.exit("codeText"),i(y)):(l.type="codeTextData",f(y))}}function iC(e){const i={};let t=-1,n,r,l,h,d,p,f;for(;++t<e.length;){for(;t in i;)t=i[t];if(n=e[t],t&&n[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(p=n[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(n[0]==="enter")n[1].contentType&&(Object.assign(i,sW(e,t)),t=i[t],f=!0);else if(n[1]._container){for(l=t,r=void 0;l--&&(h=e[l],h[1].type==="lineEnding"||h[1].type==="lineEndingBlank");)h[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),h[1].type="lineEnding",r=l);r&&(n[1].end=Object.assign({},e[r][1].start),d=e.slice(r,t),d.unshift(n),Gi(e,r,t-r+1,d))}}return!f}function sW(e,i){const t=e[i][1],n=e[i][2];let r=i-1;const l=[],h=t._tokenizer||n.parser[t.contentType](t.start),d=h.events,p=[],f={};let g,y,S=-1,k=t,C=0,P=0;const _=[P];for(;k;){for(;e[++r][1]!==k;);l.push(r),k._tokenizer||(g=n.sliceStream(k),k.next||g.push(null),y&&h.defineSkip(k.start),k._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),k._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),y=k,k=k.next}for(k=t;++S<d.length;)d[S][0]==="exit"&&d[S-1][0]==="enter"&&d[S][1].type===d[S-1][1].type&&d[S][1].start.line!==d[S][1].end.line&&(P=S+1,_.push(P),k._tokenizer=void 0,k.previous=void 0,k=k.next);for(h.events=[],k?(k._tokenizer=void 0,k.previous=void 0):_.pop(),S=_.length;S--;){const D=d.slice(_[S],_[S+1]),q=l.pop();p.unshift([q,q+D.length-1]),Gi(e,q,2,D)}for(S=-1;++S<p.length;)f[C+p[S][0]]=C+p[S][1],C+=p[S][1]-p[S][0]-1;return f}const aW={tokenize:cW,resolve:uW},lW={tokenize:dW,partial:!0};function uW(e){return iC(e),e}function cW(e,i){let t;return n;function n(d){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),r(d)}function r(d){return d===null?l(d):zt(d)?e.check(lW,h,l)(d):(e.consume(d),r)}function l(d){return e.exit("chunkContent"),e.exit("content"),i(d)}function h(d){return e.consume(d),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function dW(e,i,t){const n=this;return r;function r(h){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),cn(e,l,"linePrefix")}function l(h){if(h===null||zt(h))return t(h);const d=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(h):e.interrupt(n.parser.constructs.flow,t,i)(h)}}function rC(e,i,t,n,r,l,h,d,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(D){return D===60?(e.enter(n),e.enter(r),e.enter(l),e.consume(D),e.exit(l),S):D===null||D===32||D===41||Gc(D)?t(D):(e.enter(n),e.enter(h),e.enter(d),e.enter("chunkString",{contentType:"string"}),P(D))}function S(D){return D===62?(e.enter(l),e.consume(D),e.exit(l),e.exit(r),e.exit(n),i):(e.enter(d),e.enter("chunkString",{contentType:"string"}),k(D))}function k(D){return D===62?(e.exit("chunkString"),e.exit(d),S(D)):D===null||D===60||zt(D)?t(D):(e.consume(D),D===92?C:k)}function C(D){return D===60||D===62||D===92?(e.consume(D),k):k(D)}function P(D){return!g&&(D===null||D===41||Rn(D))?(e.exit("chunkString"),e.exit(d),e.exit(h),e.exit(n),i(D)):g<f&&D===40?(e.consume(D),g++,P):D===41?(e.consume(D),g--,P):D===null||D===32||D===40||Gc(D)?t(D):(e.consume(D),D===92?_:P)}function _(D){return D===40||D===41||D===92?(e.consume(D),P):P(D)}}function oC(e,i,t,n,r,l){const h=this;let d=0,p;return f;function f(k){return e.enter(n),e.enter(r),e.consume(k),e.exit(r),e.enter(l),g}function g(k){return d>999||k===null||k===91||k===93&&!p||k===94&&!d&&"_hiddenFootnoteSupport"in h.parser.constructs?t(k):k===93?(e.exit(l),e.enter(r),e.consume(k),e.exit(r),e.exit(n),i):zt(k)?(e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===null||k===91||k===93||zt(k)||d++>999?(e.exit("chunkString"),g(k)):(e.consume(k),p||(p=!rn(k)),k===92?S:y)}function S(k){return k===91||k===92||k===93?(e.consume(k),d++,y):y(k)}}function sC(e,i,t,n,r,l){let h;return d;function d(S){return S===34||S===39||S===40?(e.enter(n),e.enter(r),e.consume(S),e.exit(r),h=S===40?41:S,p):t(S)}function p(S){return S===h?(e.enter(r),e.consume(S),e.exit(r),e.exit(n),i):(e.enter(l),f(S))}function f(S){return S===h?(e.exit(l),p(h)):S===null?t(S):zt(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),cn(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||zt(S)?(e.exit("chunkString"),f(S)):(e.consume(S),S===92?y:g)}function y(S){return S===h||S===92?(e.consume(S),g):g(S)}}function wl(e,i){let t;return n;function n(r){return zt(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t=!0,n):rn(r)?cn(e,n,t?"linePrefix":"lineSuffix")(r):i(r)}}function ur(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hW={name:"definition",tokenize:fW},pW={tokenize:mW,partial:!0};function fW(e,i,t){const n=this;let r;return l;function l(k){return e.enter("definition"),h(k)}function h(k){return oC.call(n,e,d,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(k)}function d(k){return r=ur(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),p):t(k)}function p(k){return Rn(k)?wl(e,f)(k):f(k)}function f(k){return rC(e,g,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(k)}function g(k){return e.attempt(pW,y,y)(k)}function y(k){return rn(k)?cn(e,S,"whitespace")(k):S(k)}function S(k){return k===null||zt(k)?(e.exit("definition"),n.parser.defined.push(r),i(k)):t(k)}}function mW(e,i,t){return n;function n(d){return Rn(d)?wl(e,r)(d):t(d)}function r(d){return sC(e,l,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return rn(d)?cn(e,h,"whitespace")(d):h(d)}function h(d){return d===null||zt(d)?i(d):t(d)}}const gW={name:"hardBreakEscape",tokenize:vW};function vW(e,i,t){return n;function n(l){return e.enter("hardBreakEscape"),e.consume(l),r}function r(l){return zt(l)?(e.exit("hardBreakEscape"),i(l)):t(l)}}const yW={name:"headingAtx",tokenize:wW,resolve:bW};function bW(e,i){let t=e.length-2,n=3,r,l;return e[n][1].type==="whitespace"&&(n+=2),t-2>n&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&e[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(r={type:"atxHeadingText",start:e[n][1].start,end:e[t][1].end},l={type:"chunkText",start:e[n][1].start,end:e[t][1].end,contentType:"text"},Gi(e,n,t-n+1,[["enter",r,i],["enter",l,i],["exit",l,i],["exit",r,i]])),e}function wW(e,i,t){let n=0;return r;function r(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&n++<6?(e.consume(g),h):g===null||Rn(g)?(e.exit("atxHeadingSequence"),d(g)):t(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),p(g)):g===null||zt(g)?(e.exit("atxHeading"),i(g)):rn(g)?cn(e,d,"whitespace")(g):(e.enter("atxHeadingText"),f(g))}function p(g){return g===35?(e.consume(g),p):(e.exit("atxHeadingSequence"),d(g))}function f(g){return g===null||g===35||Rn(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),f)}}const xW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],XS=["pre","script","style","textarea"],SW={name:"htmlFlow",tokenize:CW,resolveTo:kW,concrete:!0},EW={tokenize:_W,partial:!0},TW={tokenize:PW,partial:!0};function kW(e){let i=e.length;for(;i--&&!(e[i][0]==="enter"&&e[i][1].type==="htmlFlow"););return i>1&&e[i-2][1].type==="linePrefix"&&(e[i][1].start=e[i-2][1].start,e[i+1][1].start=e[i-2][1].start,e.splice(i-2,2)),e}function CW(e,i,t){const n=this;let r,l,h,d,p;return f;function f(ee){return g(ee)}function g(ee){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ee),y}function y(ee){return ee===33?(e.consume(ee),S):ee===47?(e.consume(ee),l=!0,P):ee===63?(e.consume(ee),r=3,n.interrupt?i:J):Ti(ee)?(e.consume(ee),h=String.fromCharCode(ee),_):t(ee)}function S(ee){return ee===45?(e.consume(ee),r=2,k):ee===91?(e.consume(ee),r=5,d=0,C):Ti(ee)?(e.consume(ee),r=4,n.interrupt?i:J):t(ee)}function k(ee){return ee===45?(e.consume(ee),n.interrupt?i:J):t(ee)}function C(ee){const kt="CDATA[";return ee===kt.charCodeAt(d++)?(e.consume(ee),d===kt.length?n.interrupt?i:fe:C):t(ee)}function P(ee){return Ti(ee)?(e.consume(ee),h=String.fromCharCode(ee),_):t(ee)}function _(ee){if(ee===null||ee===47||ee===62||Rn(ee)){const kt=ee===47,tt=h.toLowerCase();return!kt&&!l&&XS.includes(tt)?(r=1,n.interrupt?i(ee):fe(ee)):xW.includes(h.toLowerCase())?(r=6,kt?(e.consume(ee),D):n.interrupt?i(ee):fe(ee)):(r=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(ee):l?q(ee):G(ee))}return ee===45||bi(ee)?(e.consume(ee),h+=String.fromCharCode(ee),_):t(ee)}function D(ee){return ee===62?(e.consume(ee),n.interrupt?i:fe):t(ee)}function q(ee){return rn(ee)?(e.consume(ee),q):le(ee)}function G(ee){return ee===47?(e.consume(ee),le):ee===58||ee===95||Ti(ee)?(e.consume(ee),ne):rn(ee)?(e.consume(ee),G):le(ee)}function ne(ee){return ee===45||ee===46||ee===58||ee===95||bi(ee)?(e.consume(ee),ne):K(ee)}function K(ee){return ee===61?(e.consume(ee),Y):rn(ee)?(e.consume(ee),K):G(ee)}function Y(ee){return ee===null||ee===60||ee===61||ee===62||ee===96?t(ee):ee===34||ee===39?(e.consume(ee),p=ee,se):rn(ee)?(e.consume(ee),Y):ue(ee)}function se(ee){return ee===p?(e.consume(ee),p=null,he):ee===null||zt(ee)?t(ee):(e.consume(ee),se)}function ue(ee){return ee===null||ee===34||ee===39||ee===47||ee===60||ee===61||ee===62||ee===96||Rn(ee)?K(ee):(e.consume(ee),ue)}function he(ee){return ee===47||ee===62||rn(ee)?G(ee):t(ee)}function le(ee){return ee===62?(e.consume(ee),ye):t(ee)}function ye(ee){return ee===null||zt(ee)?fe(ee):rn(ee)?(e.consume(ee),ye):t(ee)}function fe(ee){return ee===45&&r===2?(e.consume(ee),Se):ee===60&&r===1?(e.consume(ee),ge):ee===62&&r===4?(e.consume(ee),ze):ee===63&&r===3?(e.consume(ee),J):ee===93&&r===5?(e.consume(ee),_e):zt(ee)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(EW,st,we)(ee)):ee===null||zt(ee)?(e.exit("htmlFlowData"),we(ee)):(e.consume(ee),fe)}function we(ee){return e.check(TW,Ie,st)(ee)}function Ie(ee){return e.enter("lineEnding"),e.consume(ee),e.exit("lineEnding"),je}function je(ee){return ee===null||zt(ee)?we(ee):(e.enter("htmlFlowData"),fe(ee))}function Se(ee){return ee===45?(e.consume(ee),J):fe(ee)}function ge(ee){return ee===47?(e.consume(ee),h="",Re):fe(ee)}function Re(ee){if(ee===62){const kt=h.toLowerCase();return XS.includes(kt)?(e.consume(ee),ze):fe(ee)}return Ti(ee)&&h.length<8?(e.consume(ee),h+=String.fromCharCode(ee),Re):fe(ee)}function _e(ee){return ee===93?(e.consume(ee),J):fe(ee)}function J(ee){return ee===62?(e.consume(ee),ze):ee===45&&r===2?(e.consume(ee),J):fe(ee)}function ze(ee){return ee===null||zt(ee)?(e.exit("htmlFlowData"),st(ee)):(e.consume(ee),ze)}function st(ee){return e.exit("htmlFlow"),i(ee)}}function PW(e,i,t){const n=this;return r;function r(h){return zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):t(h)}function l(h){return n.parser.lazy[n.now().line]?t(h):i(h)}}function _W(e,i,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Hl,i,t)}}const RW={name:"htmlText",tokenize:OW};function OW(e,i,t){const n=this;let r,l,h;return d;function d(J){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(J),p}function p(J){return J===33?(e.consume(J),f):J===47?(e.consume(J),K):J===63?(e.consume(J),G):Ti(J)?(e.consume(J),ue):t(J)}function f(J){return J===45?(e.consume(J),g):J===91?(e.consume(J),l=0,C):Ti(J)?(e.consume(J),q):t(J)}function g(J){return J===45?(e.consume(J),k):t(J)}function y(J){return J===null?t(J):J===45?(e.consume(J),S):zt(J)?(h=y,ge(J)):(e.consume(J),y)}function S(J){return J===45?(e.consume(J),k):y(J)}function k(J){return J===62?Se(J):J===45?S(J):y(J)}function C(J){const ze="CDATA[";return J===ze.charCodeAt(l++)?(e.consume(J),l===ze.length?P:C):t(J)}function P(J){return J===null?t(J):J===93?(e.consume(J),_):zt(J)?(h=P,ge(J)):(e.consume(J),P)}function _(J){return J===93?(e.consume(J),D):P(J)}function D(J){return J===62?Se(J):J===93?(e.consume(J),D):P(J)}function q(J){return J===null||J===62?Se(J):zt(J)?(h=q,ge(J)):(e.consume(J),q)}function G(J){return J===null?t(J):J===63?(e.consume(J),ne):zt(J)?(h=G,ge(J)):(e.consume(J),G)}function ne(J){return J===62?Se(J):G(J)}function K(J){return Ti(J)?(e.consume(J),Y):t(J)}function Y(J){return J===45||bi(J)?(e.consume(J),Y):se(J)}function se(J){return zt(J)?(h=se,ge(J)):rn(J)?(e.consume(J),se):Se(J)}function ue(J){return J===45||bi(J)?(e.consume(J),ue):J===47||J===62||Rn(J)?he(J):t(J)}function he(J){return J===47?(e.consume(J),Se):J===58||J===95||Ti(J)?(e.consume(J),le):zt(J)?(h=he,ge(J)):rn(J)?(e.consume(J),he):Se(J)}function le(J){return J===45||J===46||J===58||J===95||bi(J)?(e.consume(J),le):ye(J)}function ye(J){return J===61?(e.consume(J),fe):zt(J)?(h=ye,ge(J)):rn(J)?(e.consume(J),ye):he(J)}function fe(J){return J===null||J===60||J===61||J===62||J===96?t(J):J===34||J===39?(e.consume(J),r=J,we):zt(J)?(h=fe,ge(J)):rn(J)?(e.consume(J),fe):(e.consume(J),Ie)}function we(J){return J===r?(e.consume(J),r=void 0,je):J===null?t(J):zt(J)?(h=we,ge(J)):(e.consume(J),we)}function Ie(J){return J===null||J===34||J===39||J===60||J===61||J===96?t(J):J===47||J===62||Rn(J)?he(J):(e.consume(J),Ie)}function je(J){return J===47||J===62||Rn(J)?he(J):t(J)}function Se(J){return J===62?(e.consume(J),e.exit("htmlTextData"),e.exit("htmlText"),i):t(J)}function ge(J){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(J),e.exit("lineEnding"),Re}function Re(J){return rn(J)?cn(e,_e,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):_e(J)}function _e(J){return e.enter("htmlTextData"),h(J)}}const Bg={name:"labelEnd",tokenize:LW,resolveTo:zW,resolveAll:MW},DW={tokenize:BW},AW={tokenize:NW},IW={tokenize:jW};function MW(e){let i=-1;for(;++i<e.length;){const t=e[i][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(i+1,t.type==="labelImage"?4:2),t.type="data",i++)}return e}function zW(e,i){let t=e.length,n=0,r,l,h,d;for(;t--;)if(r=e[t][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(h){if(e[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=t,r.type!=="labelLink")){n=2;break}}else r.type==="labelEnd"&&(h=t);const p={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},f={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[h][1].end)},g={type:"labelText",start:Object.assign({},e[l+n+2][1].end),end:Object.assign({},e[h-2][1].start)};return d=[["enter",p,i],["enter",f,i]],d=Qi(d,e.slice(l+1,l+n+3)),d=Qi(d,[["enter",g,i]]),d=Qi(d,Cd(i.parser.constructs.insideSpan.null,e.slice(l+n+4,h-3),i)),d=Qi(d,[["exit",g,i],e[h-2],e[h-1],["exit",f,i]]),d=Qi(d,e.slice(h+1)),d=Qi(d,[["exit",p,i]]),Gi(e,l,e.length,d),e}function LW(e,i,t){const n=this;let r=n.events.length,l,h;for(;r--;)if((n.events[r][1].type==="labelImage"||n.events[r][1].type==="labelLink")&&!n.events[r][1]._balanced){l=n.events[r][1];break}return d;function d(S){return l?l._inactive?y(S):(h=n.parser.defined.includes(ur(n.sliceSerialize({start:l.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(S),e.exit("labelMarker"),e.exit("labelEnd"),p):t(S)}function p(S){return S===40?e.attempt(DW,g,h?g:y)(S):S===91?e.attempt(AW,g,h?f:y)(S):h?g(S):y(S)}function f(S){return e.attempt(IW,g,y)(S)}function g(S){return i(S)}function y(S){return l._balanced=!0,t(S)}}function BW(e,i,t){return n;function n(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),r}function r(y){return Rn(y)?wl(e,l)(y):l(y)}function l(y){return y===41?g(y):rC(e,h,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function h(y){return Rn(y)?wl(e,p)(y):g(y)}function d(y){return t(y)}function p(y){return y===34||y===39||y===40?sC(e,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function f(y){return Rn(y)?wl(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),i):t(y)}}function NW(e,i,t){const n=this;return r;function r(d){return oC.call(n,e,l,h,"reference","referenceMarker","referenceString")(d)}function l(d){return n.parser.defined.includes(ur(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?i(d):t(d)}function h(d){return t(d)}}function jW(e,i,t){return n;function n(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),r}function r(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),i):t(l)}}const HW={name:"labelStartImage",tokenize:FW,resolveAll:Bg.resolveAll};function FW(e,i,t){const n=this;return r;function r(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),h):t(d)}function h(d){return d===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(d):i(d)}}const VW={name:"labelStartLink",tokenize:UW,resolveAll:Bg.resolveAll};function UW(e,i,t){const n=this;return r;function r(h){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelLink"),l}function l(h){return h===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(h):i(h)}}const Nf={name:"lineEnding",tokenize:WW};function WW(e,i){return t;function t(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),cn(e,i,"linePrefix")}}const Mc={name:"thematicBreak",tokenize:GW};function GW(e,i,t){let n=0,r;return l;function l(f){return e.enter("thematicBreak"),h(f)}function h(f){return r=f,d(f)}function d(f){return f===r?(e.enter("thematicBreakSequence"),p(f)):n>=3&&(f===null||zt(f))?(e.exit("thematicBreak"),i(f)):t(f)}function p(f){return f===r?(e.consume(f),n++,p):(e.exit("thematicBreakSequence"),rn(f)?cn(e,d,"whitespace")(f):d(f))}}const Di={name:"list",tokenize:YW,continuation:{tokenize:KW},exit:JW},qW={tokenize:$W,partial:!0},XW={tokenize:ZW,partial:!0};function YW(e,i,t){const n=this,r=n.events[n.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,h=0;return d;function d(k){const C=n.containerState.type||(k===42||k===43||k===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!n.containerState.marker||k===n.containerState.marker:Dm(k)){if(n.containerState.type||(n.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),k===42||k===45?e.check(Mc,t,f)(k):f(k);if(!n.interrupt||k===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(k)}return t(k)}function p(k){return Dm(k)&&++h<10?(e.consume(k),p):(!n.interrupt||h<2)&&(n.containerState.marker?k===n.containerState.marker:k===41||k===46)?(e.exit("listItemValue"),f(k)):t(k)}function f(k){return e.enter("listItemMarker"),e.consume(k),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||k,e.check(Hl,n.interrupt?t:g,e.attempt(qW,S,y))}function g(k){return n.containerState.initialBlankLine=!0,l++,S(k)}function y(k){return rn(k)?(e.enter("listItemPrefixWhitespace"),e.consume(k),e.exit("listItemPrefixWhitespace"),S):t(k)}function S(k){return n.containerState.size=l+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,i(k)}}function KW(e,i,t){const n=this;return n.containerState._closeFlow=void 0,e.check(Hl,r,l);function r(d){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,cn(e,i,"listItemIndent",n.containerState.size+1)(d)}function l(d){return n.containerState.furtherBlankLines||!rn(d)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,h(d)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(XW,i,h)(d))}function h(d){return n.containerState._closeFlow=!0,n.interrupt=void 0,cn(e,e.attempt(Di,i,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function ZW(e,i,t){const n=this;return cn(e,r,"listItemIndent",n.containerState.size+1);function r(l){const h=n.events[n.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===n.containerState.size?i(l):t(l)}}function JW(e){e.exit(this.containerState.type)}function $W(e,i,t){const n=this;return cn(e,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const h=n.events[n.events.length-1];return!rn(l)&&h&&h[1].type==="listItemPrefixWhitespace"?i(l):t(l)}}const YS={name:"setextUnderline",tokenize:eG,resolveTo:QW};function QW(e,i){let t=e.length,n,r,l;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){n=t;break}e[t][1].type==="paragraph"&&(r=t)}else e[t][1].type==="content"&&e.splice(t,1),!l&&e[t][1].type==="definition"&&(l=t);const h={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",l?(e.splice(r,0,["enter",h,i]),e.splice(l+1,0,["exit",e[n][1],i]),e[n][1].end=Object.assign({},e[l][1].end)):e[n][1]=h,e.push(["exit",h,i]),e}function eG(e,i,t){const n=this;let r;return l;function l(f){let g=n.events.length,y;for(;g--;)if(n.events[g][1].type!=="lineEnding"&&n.events[g][1].type!=="linePrefix"&&n.events[g][1].type!=="content"){y=n.events[g][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||y)?(e.enter("setextHeadingLine"),r=f,h(f)):t(f)}function h(f){return e.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===r?(e.consume(f),d):(e.exit("setextHeadingLineSequence"),rn(f)?cn(e,p,"lineSuffix")(f):p(f))}function p(f){return f===null||zt(f)?(e.exit("setextHeadingLine"),i(f)):t(f)}}const tG={tokenize:nG};function nG(e){const i=this,t=e.attempt(Hl,n,e.attempt(this.parser.constructs.flowInitial,r,cn(e,e.attempt(this.parser.constructs.flow,r,e.attempt(aW,r)),"linePrefix")));return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),i.currentConstruct=void 0,t}function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i.currentConstruct=void 0,t}}const iG={resolveAll:lC()},rG=aC("string"),oG=aC("text");function aC(e){return{tokenize:i,resolveAll:lC(e==="text"?sG:void 0)};function i(t){const n=this,r=this.parser.constructs[e],l=t.attempt(r,h,d);return h;function h(g){return f(g)?l(g):d(g)}function d(g){if(g===null){t.consume(g);return}return t.enter("data"),t.consume(g),p}function p(g){return f(g)?(t.exit("data"),l(g)):(t.consume(g),p)}function f(g){if(g===null)return!0;const y=r[g];let S=-1;if(y)for(;++S<y.length;){const k=y[S];if(!k.previous||k.previous.call(n,n.previous))return!0}return!1}}}function lC(e){return i;function i(t,n){let r=-1,l;for(;++r<=t.length;)l===void 0?t[r]&&t[r][1].type==="data"&&(l=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==l+2&&(t[l][1].end=t[r-1][1].end,t.splice(l+2,r-l-2),r=l+2),l=void 0);return e?e(t,n):t}}function sG(e,i){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const n=e[t-1][1],r=i.sliceStream(n);let l=r.length,h=-1,d=0,p;for(;l--;){const f=r[l];if(typeof f=="string"){for(h=f.length;f.charCodeAt(h-1)===32;)d++,h--;if(h)break;h=-1}else if(f===-2)p=!0,d++;else if(f!==-1){l++;break}}if(d){const f={type:t===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-d,offset:n.end.offset-d,_index:n.start._index+l,_bufferIndex:l?h:n.start._bufferIndex+h},end:Object.assign({},n.end)};n.end=Object.assign({},f.start),n.start.offset===n.end.offset?Object.assign(n,f):(e.splice(t,0,["enter",f,i],["exit",f,i]),t+=2)}t++}return e}function aG(e,i,t){let n=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},l=[];let h=[],d=[];const p={consume:q,enter:G,exit:ne,attempt:se(K),check:se(Y),interrupt:se(Y,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:k,sliceSerialize:S,now:C,defineSkip:P,write:y};let g=i.tokenize.call(f,p);return i.resolveAll&&l.push(i),f;function y(ye){return h=Qi(h,ye),_(),h[h.length-1]!==null?[]:(ue(i,0),f.events=Cd(l,f.events,f),f.events)}function S(ye,fe){return uG(k(ye),fe)}function k(ye){return lG(h,ye)}function C(){const{line:ye,column:fe,offset:we,_index:Ie,_bufferIndex:je}=n;return{line:ye,column:fe,offset:we,_index:Ie,_bufferIndex:je}}function P(ye){r[ye.line]=ye.column,le()}function _(){let ye;for(;n._index<h.length;){const fe=h[n._index];if(typeof fe=="string")for(ye=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===ye&&n._bufferIndex<fe.length;)D(fe.charCodeAt(n._bufferIndex));else D(fe)}}function D(ye){g=g(ye)}function q(ye){zt(ye)?(n.line++,n.column=1,n.offset+=ye===-3?2:1,le()):ye!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===h[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=ye}function G(ye,fe){const we=fe||{};return we.type=ye,we.start=C(),f.events.push(["enter",we,f]),d.push(we),we}function ne(ye){const fe=d.pop();return fe.end=C(),f.events.push(["exit",fe,f]),fe}function K(ye,fe){ue(ye,fe.from)}function Y(ye,fe){fe.restore()}function se(ye,fe){return we;function we(Ie,je,Se){let ge,Re,_e,J;return Array.isArray(Ie)?st(Ie):"tokenize"in Ie?st([Ie]):ze(Ie);function ze(at){return yt;function yt(Ot){const Tt=Ot!==null&&at[Ot],rt=Ot!==null&&at.null,Ye=[...Array.isArray(Tt)?Tt:Tt?[Tt]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return st(Ye)(Ot)}}function st(at){return ge=at,Re=0,at.length===0?Se:ee(at[Re])}function ee(at){return yt;function yt(Ot){return J=he(),_e=at,at.partial||(f.currentConstruct=at),at.name&&f.parser.constructs.disable.null.includes(at.name)?tt():at.tokenize.call(fe?Object.assign(Object.create(f),fe):f,p,kt,tt)(Ot)}}function kt(at){return ye(_e,J),je}function tt(at){return J.restore(),++Re<ge.length?ee(ge[Re]):Se}}}function ue(ye,fe){ye.resolveAll&&!l.includes(ye)&&l.push(ye),ye.resolve&&Gi(f.events,fe,f.events.length-fe,ye.resolve(f.events.slice(fe),f)),ye.resolveTo&&(f.events=ye.resolveTo(f.events,f))}function he(){const ye=C(),fe=f.previous,we=f.currentConstruct,Ie=f.events.length,je=Array.from(d);return{restore:Se,from:Ie};function Se(){n=ye,f.previous=fe,f.currentConstruct=we,f.events.length=Ie,d=je,le()}}function le(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function lG(e,i){const t=i.start._index,n=i.start._bufferIndex,r=i.end._index,l=i.end._bufferIndex;let h;if(t===r)h=[e[t].slice(n,l)];else{if(h=e.slice(t,r),n>-1){const d=h[0];typeof d=="string"?h[0]=d.slice(n):h.shift()}l>0&&h.push(e[r].slice(0,l))}return h}function uG(e,i){let t=-1;const n=[];let r;for(;++t<e.length;){const l=e[t];let h;if(typeof l=="string")h=l;else switch(l){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=i?" ":"	";break}case-1:{if(!i&&r)continue;h=" ";break}default:h=String.fromCharCode(l)}r=l===-2,n.push(h)}return n.join("")}const cG={42:Di,43:Di,45:Di,48:Di,49:Di,50:Di,51:Di,52:Di,53:Di,54:Di,55:Di,56:Di,57:Di,62:eC},dG={91:hW},hG={[-2]:Bf,[-1]:Bf,32:Bf},pG={35:yW,42:Mc,45:[YS,Mc],60:SW,61:YS,95:Mc,96:qS,126:qS},fG={38:nC,92:tC},mG={[-5]:Nf,[-4]:Nf,[-3]:Nf,33:HW,38:nC,42:Am,60:[UU,RW],91:VW,92:[gW,tC],93:Bg,95:Am,96:nW},gG={null:[Am,iG]},vG={null:[42,95]},yG={null:[]},bG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vG,contentInitial:dG,disable:yG,document:cG,flow:pG,flowInitial:hG,insideSpan:gG,string:fG,text:mG},Symbol.toStringTag,{value:"Module"}));function wG(e){const i=Qk([bG,...(e||{}).extensions||[]]),t={defined:[],lazy:{},constructs:i,content:n(LU),document:n(NU),flow:n(tG),string:n(rG),text:n(oG)};return t;function n(r){return l;function l(h){return aG(t,r,h)}}}const KS=/[\0\t\n\r]/g;function xG(){let e=1,i="",t=!0,n;return r;function r(l,h,d){const p=[];let f,g,y,S,k;for(l=i+l.toString(h),y=0,i="",t&&(l.charCodeAt(0)===65279&&y++,t=void 0);y<l.length;){if(KS.lastIndex=y,f=KS.exec(l),S=f&&f.index!==void 0?f.index:l.length,k=l.charCodeAt(S),!f){i=l.slice(y);break}if(k===10&&y===S&&n)p.push(-3),n=void 0;else switch(n&&(p.push(-5),n=void 0),y<S&&(p.push(l.slice(y,S)),e+=S-y),k){case 0:{p.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,p.push(-2);e++<g;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:n=!0,e=1}y=S+1}return d&&(n&&p.push(-5),i&&p.push(i),p.push(null)),p}}function SG(e){for(;!iC(e););return e}function uC(e,i){const t=Number.parseInt(e,i);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCharCode(t)}const EG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cC(e){return e.replace(EG,TG)}function TG(e,i,t){if(i)return i;if(t.charCodeAt(0)===35){const n=t.charCodeAt(1),r=n===120||n===88;return uC(t.slice(r?2:1),r?16:10)}return Lg(t)||e}const dC={}.hasOwnProperty,kG=function(e,i,t){return typeof i!="string"&&(t=i,i=void 0),CG(t)(SG(wG(t).document().write(xG()(e,i,!0))))};function CG(e){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Ne),autolinkProtocol:ye,autolinkEmail:ye,atxHeading:d(Yt),blockQuote:d(Ye),characterEscape:ye,characterReference:ye,codeFenced:d(xt),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:d(xt,p),codeText:d(Ht,p),codeTextData:ye,data:ye,codeFlowValue:ye,definition:d(on),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:d(Dt),hardBreakEscape:d(I),hardBreakTrailing:d(I),htmlFlow:d(Q,p),htmlFlowData:ye,htmlText:d(Q,p),htmlTextData:ye,image:d(xe),label:p,link:d(Ne),listItem:d($e),listItemValue:C,listOrdered:d(Be,k),listUnordered:d(Be),paragraph:d(Ke),reference:tt,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:d(Yt),strong:d(Et),thematicBreak:d(Lt)},exit:{atxHeading:g(),atxHeadingSequence:se,autolink:g(),autolinkEmail:rt,autolinkProtocol:Tt,blockQuote:g(),characterEscapeValue:fe,characterReferenceMarkerHexadecimal:yt,characterReferenceMarkerNumeric:yt,characterReferenceValue:Ot,codeFenced:g(q),codeFencedFence:D,codeFencedFenceInfo:P,codeFencedFenceMeta:_,codeFlowValue:fe,codeIndented:g(G),codeText:g(ge),codeTextData:fe,data:fe,definition:g(),definitionDestinationString:Y,definitionLabelString:ne,definitionTitleString:K,emphasis:g(),hardBreakEscape:g(Ie),hardBreakTrailing:g(Ie),htmlFlow:g(je),htmlFlowData:fe,htmlText:g(Se),htmlTextData:fe,image:g(_e),label:ze,labelText:J,lineEnding:we,link:g(Re),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:at,resourceDestinationString:st,resourceTitleString:ee,resource:kt,setextHeading:g(le),setextHeadingLineSequence:he,setextHeadingText:ue,strong:g(),thematicBreak:g()}};hC(i,(e||{}).mdastExtensions||[]);const t={};return n;function n(me){let Ae={type:"root",children:[]};const L={stack:[Ae],tokenStack:[],config:i,enter:f,exit:y,buffer:p,resume:S,setData:l,getData:h},N=[];let W=-1;for(;++W<me.length;)if(me[W][1].type==="listOrdered"||me[W][1].type==="listUnordered")if(me[W][0]==="enter")N.push(W);else{const Z=N.pop();W=r(me,Z,W)}for(W=-1;++W<me.length;){const Z=i[me[W][0]];dC.call(Z,me[W][1].type)&&Z[me[W][1].type].call(Object.assign({sliceSerialize:me[W][2].sliceSerialize},L),me[W][1])}if(L.tokenStack.length>0){const Z=L.tokenStack[L.tokenStack.length-1];(Z[1]||ZS).call(L,void 0,Z[0])}for(Ae.position={start:$r(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:$r(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<i.transforms.length;)Ae=i.transforms[W](Ae)||Ae;return Ae}function r(me,Ae,L){let N=Ae-1,W=-1,Z=!1,Te,Ue,gt,He;for(;++N<=L;){const lt=me[N];if(lt[1].type==="listUnordered"||lt[1].type==="listOrdered"||lt[1].type==="blockQuote"?(lt[0]==="enter"?W++:W--,He=void 0):lt[1].type==="lineEndingBlank"?lt[0]==="enter"&&(Te&&!He&&!W&&!gt&&(gt=N),He=void 0):lt[1].type==="linePrefix"||lt[1].type==="listItemValue"||lt[1].type==="listItemMarker"||lt[1].type==="listItemPrefix"||lt[1].type==="listItemPrefixWhitespace"||(He=void 0),!W&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||W===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(Te){let _n=N;for(Ue=void 0;_n--;){const en=me[_n];if(en[1].type==="lineEnding"||en[1].type==="lineEndingBlank"){if(en[0]==="exit")continue;Ue&&(me[Ue][1].type="lineEndingBlank",Z=!0),en[1].type="lineEnding",Ue=_n}else if(!(en[1].type==="linePrefix"||en[1].type==="blockQuotePrefix"||en[1].type==="blockQuotePrefixWhitespace"||en[1].type==="blockQuoteMarker"||en[1].type==="listItemIndent"))break}gt&&(!Ue||gt<Ue)&&(Te._spread=!0),Te.end=Object.assign({},Ue?me[Ue][1].start:lt[1].end),me.splice(Ue||N,0,["exit",Te,lt[2]]),N++,L++}lt[1].type==="listItemPrefix"&&(Te={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0},me.splice(N,0,["enter",Te,lt[2]]),N++,L++,gt=void 0,He=!0)}}return me[Ae][1]._spread=Z,L}function l(me,Ae){t[me]=Ae}function h(me){return t[me]}function d(me,Ae){return L;function L(N){f.call(this,me(N),N),Ae&&Ae.call(this,N)}}function p(){this.stack.push({type:"fragment",children:[]})}function f(me,Ae,L){return this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ae,L]),me.position={start:$r(Ae.start)},me}function g(me){return Ae;function Ae(L){me&&me.call(this,L),y.call(this,L)}}function y(me,Ae){const L=this.stack.pop(),N=this.tokenStack.pop();if(N)N[0].type!==me.type&&(Ae?Ae.call(this,me,N[0]):(N[1]||ZS).call(this,me,N[0]));else throw new Error("Cannot close `"+me.type+"` ("+bl({start:me.start,end:me.end})+"): it’s not open");return L.position.end=$r(me.end),L}function S(){return _U(this.stack.pop())}function k(){l("expectingFirstListItemValue",!0)}function C(me){if(h("expectingFirstListItemValue")){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(me),10),l("expectingFirstListItemValue")}}function P(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=me}function _(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=me}function D(){h("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function q(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function G(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me.replace(/(\r?\n|\r)$/g,"")}function ne(me){const Ae=this.resume(),L=this.stack[this.stack.length-1];L.label=Ae,L.identifier=ur(this.sliceSerialize(me)).toLowerCase()}function K(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=me}function Y(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=me}function se(me){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const L=this.sliceSerialize(me).length;Ae.depth=L}}function ue(){l("setextHeadingSlurpLineEnding",!0)}function he(me){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(me).charCodeAt(0)===61?1:2}function le(){l("setextHeadingSlurpLineEnding")}function ye(me){const Ae=this.stack[this.stack.length-1];let L=Ae.children[Ae.children.length-1];(!L||L.type!=="text")&&(L=It(),L.position={start:$r(me.start)},Ae.children.push(L)),this.stack.push(L)}function fe(me){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(me),Ae.position.end=$r(me.end)}function we(me){const Ae=this.stack[this.stack.length-1];if(h("atHardBreak")){const L=Ae.children[Ae.children.length-1];L.position.end=$r(me.end),l("atHardBreak");return}!h("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(Ae.type)&&(ye.call(this,me),fe.call(this,me))}function Ie(){l("atHardBreak",!0)}function je(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me}function Se(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me}function ge(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me}function Re(){const me=this.stack[this.stack.length-1];if(h("inReference")){const Ae=h("referenceType")||"shortcut";me.type+="Reference",me.referenceType=Ae,delete me.url,delete me.title}else delete me.identifier,delete me.label;l("referenceType")}function _e(){const me=this.stack[this.stack.length-1];if(h("inReference")){const Ae=h("referenceType")||"shortcut";me.type+="Reference",me.referenceType=Ae,delete me.url,delete me.title}else delete me.identifier,delete me.label;l("referenceType")}function J(me){const Ae=this.sliceSerialize(me),L=this.stack[this.stack.length-2];L.label=cC(Ae),L.identifier=ur(Ae).toLowerCase()}function ze(){const me=this.stack[this.stack.length-1],Ae=this.resume(),L=this.stack[this.stack.length-1];if(l("inReference",!0),L.type==="link"){const N=me.children;L.children=N}else L.alt=Ae}function st(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=me}function ee(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=me}function kt(){l("inReference")}function tt(){l("referenceType","collapsed")}function at(me){const Ae=this.resume(),L=this.stack[this.stack.length-1];L.label=Ae,L.identifier=ur(this.sliceSerialize(me)).toLowerCase(),l("referenceType","full")}function yt(me){l("characterReferenceType",me.type)}function Ot(me){const Ae=this.sliceSerialize(me),L=h("characterReferenceType");let N;L?(N=uC(Ae,L==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):N=Lg(Ae);const W=this.stack.pop();W.value+=N,W.position.end=$r(me.end)}function Tt(me){fe.call(this,me);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(me)}function rt(me){fe.call(this,me);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(me)}function Ye(){return{type:"blockquote",children:[]}}function xt(){return{type:"code",lang:null,meta:null,value:""}}function Ht(){return{type:"inlineCode",value:""}}function on(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Dt(){return{type:"emphasis",children:[]}}function Yt(){return{type:"heading",depth:void 0,children:[]}}function I(){return{type:"break"}}function Q(){return{type:"html",value:""}}function xe(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function Be(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function $e(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Et(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function Lt(){return{type:"thematicBreak"}}}function $r(e){return{line:e.line,column:e.column,offset:e.offset}}function hC(e,i){let t=-1;for(;++t<i.length;){const n=i[t];Array.isArray(n)?hC(e,n):PG(e,n)}}function PG(e,i){let t;for(t in i)if(dC.call(i,t)){if(t==="canContainEols"){const n=i[t];n&&e[t].push(...n)}else if(t==="transforms"){const n=i[t];n&&e[t].push(...n)}else if(t==="enter"||t==="exit"){const n=i[t];n&&Object.assign(e[t],n)}}}function ZS(e,i){throw e?new Error("Cannot close `"+e.type+"` ("+bl({start:e.start,end:e.end})+"): a different token (`"+i.type+"`, "+bl({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+bl({start:i.start,end:i.end})+") is still open")}function _G(e){Object.assign(this,{Parser:i=>{const t=this.data("settings");return kG(i,Object.assign({},t,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function RG(e,i){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(i),!0)};return e.patch(i,t),e.applyData(i,t)}function OG(e,i){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(i,t),[e.applyData(i,t),{type:"text",value:`
`}]}function DG(e,i){const t=i.value?i.value+`
`:"",n=i.lang?i.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,r={};n&&(r.className=["language-"+n]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return i.meta&&(l.data={meta:i.meta}),e.patch(i,l),l=e.applyData(i,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(i,l),l}function AG(e,i){const t={type:"element",tagName:"del",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function IG(e,i){const t={type:"element",tagName:"em",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function ma(e){const i=[];let t=-1,n=0,r=0;for(;++t<e.length;){const l=e.charCodeAt(t);let h="";if(l===37&&bi(e.charCodeAt(t+1))&&bi(e.charCodeAt(t+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(h=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(t+1);l<56320&&d>56319&&d<57344?(h=String.fromCharCode(l,d),r=1):h="�"}else h=String.fromCharCode(l);h&&(i.push(e.slice(n,t),encodeURIComponent(h)),n=t+r+1,h=""),r&&(t+=r,r=0)}return i.join("")+e.slice(n)}function pC(e,i){const t=String(i.identifier).toUpperCase(),n=ma(t.toLowerCase()),r=e.footnoteOrder.indexOf(t);let l;r===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,l=e.footnoteOrder.length):(e.footnoteCounts[t]++,l=r+1);const h=e.footnoteCounts[t],d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+n,id:e.clobberPrefix+"fnref-"+n+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(i,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(i,p),e.applyData(i,p)}function MG(e,i){const t=e.footnoteById;let n=1;for(;n in t;)n++;const r=String(n);return t[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:i.children}],position:i.position},pC(e,{type:"footnoteReference",identifier:r,position:i.position})}function zG(e,i){const t={type:"element",tagName:"h"+i.depth,properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function LG(e,i){if(e.dangerous){const t={type:"raw",value:i.value};return e.patch(i,t),e.applyData(i,t)}return null}function fC(e,i){const t=i.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return{type:"text",value:"!["+i.alt+n};const r=e.all(i),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const h=r[r.length-1];return h&&h.type==="text"?h.value+=n:r.push({type:"text",value:n}),r}function BG(e,i){const t=e.definition(i.identifier);if(!t)return fC(e,i);const n={src:ma(t.url||""),alt:i.alt};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(i,r),e.applyData(i,r)}function NG(e,i){const t={src:ma(i.url)};i.alt!==null&&i.alt!==void 0&&(t.alt=i.alt),i.title!==null&&i.title!==void 0&&(t.title=i.title);const n={type:"element",tagName:"img",properties:t,children:[]};return e.patch(i,n),e.applyData(i,n)}function jG(e,i){const t={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};e.patch(i,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(i,n),e.applyData(i,n)}function HG(e,i){const t=e.definition(i.identifier);if(!t)return fC(e,i);const n={href:ma(t.url||"")};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(i)};return e.patch(i,r),e.applyData(i,r)}function FG(e,i){const t={href:ma(i.url)};i.title!==null&&i.title!==void 0&&(t.title=i.title);const n={type:"element",tagName:"a",properties:t,children:e.all(i)};return e.patch(i,n),e.applyData(i,n)}function VG(e,i,t){const n=e.all(i),r=t?UG(t):mC(i),l={},h=[];if(typeof i.checked=="boolean"){const g=n[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},n.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<n.length;){const g=n[d];(r||d!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?h.push(...g.children):h.push(g)}const p=n[n.length-1];p&&(r||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:h};return e.patch(i,f),e.applyData(i,f)}function UG(e){let i=!1;if(e.type==="list"){i=e.spread||!1;const t=e.children;let n=-1;for(;!i&&++n<t.length;)i=mC(t[n])}return i}function mC(e){return e.spread??e.children.length>1}function WG(e,i){const t={},n=e.all(i);let r=-1;for(typeof i.start=="number"&&i.start!==1&&(t.start=i.start);++r<n.length;){const h=n[r];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const l={type:"element",tagName:i.ordered?"ol":"ul",properties:t,children:e.wrap(n,!0)};return e.patch(i,l),e.applyData(i,l)}function GG(e,i){const t={type:"element",tagName:"p",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}function qG(e,i){const t={type:"root",children:e.wrap(e.all(i))};return e.patch(i,t),e.applyData(i,t)}function XG(e,i){const t={type:"element",tagName:"strong",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}const Ng=gC("start"),jg=gC("end");function YG(e){return{start:Ng(e),end:jg(e)}}function gC(e){return i;function i(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}function KG(e,i){const t=e.all(i),n=t.shift(),r=[];if(n){const h={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(i.children[0],h),r.push(h)}if(t.length>0){const h={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},d=Ng(i.children[1]),p=jg(i.children[i.children.length-1]);d.line&&p.line&&(h.position={start:d,end:p}),r.push(h)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(i,l),e.applyData(i,l)}function ZG(e,i,t){const n=t?t.children:void 0,r=(n?n.indexOf(i):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,h=l?l.length:i.children.length;let d=-1;const p=[];for(;++d<h;){const g=i.children[d],y={},S=l?l[d]:void 0;S&&(y.align=S);let k={type:"element",tagName:r,properties:y,children:[]};g&&(k.children=e.all(g),e.patch(g,k),k=e.applyData(i,k)),p.push(k)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(i,f),e.applyData(i,f)}function JG(e,i){const t={type:"element",tagName:"td",properties:{},children:e.all(i)};return e.patch(i,t),e.applyData(i,t)}const JS=9,$S=32;function $G(e){const i=String(e),t=/\r?\n|\r/g;let n=t.exec(i),r=0;const l=[];for(;n;)l.push(QS(i.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=t.exec(i);return l.push(QS(i.slice(r),r>0,!1)),l.join("")}function QS(e,i,t){let n=0,r=e.length;if(i){let l=e.codePointAt(n);for(;l===JS||l===$S;)n++,l=e.codePointAt(n)}if(t){let l=e.codePointAt(r-1);for(;l===JS||l===$S;)r--,l=e.codePointAt(r-1)}return r>n?e.slice(n,r):""}function QG(e,i){const t={type:"text",value:$G(String(i.value))};return e.patch(i,t),e.applyData(i,t)}function eq(e,i){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(i,t),e.applyData(i,t)}const tq={blockquote:RG,break:OG,code:DG,delete:AG,emphasis:IG,footnoteReference:pC,footnote:MG,heading:zG,html:LG,imageReference:BG,image:NG,inlineCode:jG,linkReference:HG,link:FG,listItem:VG,list:WG,paragraph:GG,root:qG,strong:XG,table:KG,tableCell:JG,tableRow:ZG,text:QG,thematicBreak:eq,toml:Sc,yaml:Sc,definition:Sc,footnoteDefinition:Sc};function Sc(){return null}const Hg=function(e){if(e==null)return oq;if(typeof e=="string")return rq(e);if(typeof e=="object")return Array.isArray(e)?nq(e):iq(e);if(typeof e=="function")return Pd(e);throw new Error("Expected function, string, or object as test")};function nq(e){const i=[];let t=-1;for(;++t<e.length;)i[t]=Hg(e[t]);return Pd(n);function n(...r){let l=-1;for(;++l<i.length;)if(i[l].call(this,...r))return!0;return!1}}function iq(e){return Pd(i);function i(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function rq(e){return Pd(i);function i(t){return t&&t.type===e}}function Pd(e){return i;function i(t,...n){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...n))}}function oq(){return!0}const sq=!0,eE=!1,aq="skip",vC=function(e,i,t,n){typeof i=="function"&&typeof t!="function"&&(n=t,t=i,i=null);const r=Hg(i),l=n?-1:1;h(e,void 0,[])();function h(d,p,f){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(S?"<"+S+">":""))+")"})}return y;function y(){let S=[],k,C,P;if((!i||r(d,p,f[f.length-1]||null))&&(S=lq(t(d,f)),S[0]===eE))return S;if(d.children&&S[0]!==aq)for(C=(n?d.children.length:-1)+l,P=f.concat(d);C>-1&&C<d.children.length;){if(k=h(d.children[C],C,P)(),k[0]===eE)return k;C=typeof k[1]=="number"?k[1]:C+l}return S}}};function lq(e){return Array.isArray(e)?e:typeof e=="number"?[sq,e]:[e]}const Fg=function(e,i,t,n){typeof i=="function"&&typeof t!="function"&&(n=t,t=i,i=null),vC(e,i,r,n);function r(l,h){const d=h[h.length-1];return t(l,d?d.children.indexOf(l):null,d)}};function uq(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const tE={}.hasOwnProperty;function cq(e){const i=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Fg(e,"definition",n=>{const r=nE(n.identifier);r&&!tE.call(i,r)&&(i[r]=n)}),t;function t(n){const r=nE(n);return r&&tE.call(i,r)?i[r]:null}}function nE(e){return String(e||"").toUpperCase()}const Xc={}.hasOwnProperty;function dq(e,i){const t=i||{},n=t.allowDangerousHtml||!1,r={};return h.dangerous=n,h.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,h.footnoteLabel=t.footnoteLabel||"Footnotes",h.footnoteLabelTagName=t.footnoteLabelTagName||"h2",h.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},h.footnoteBackLabel=t.footnoteBackLabel||"Back to content",h.unknownHandler=t.unknownHandler,h.passThrough=t.passThrough,h.handlers={...tq,...t.handlers},h.definition=cq(e),h.footnoteById=r,h.footnoteOrder=[],h.footnoteCounts={},h.patch=hq,h.applyData=pq,h.one=d,h.all=p,h.wrap=mq,h.augment=l,Fg(e,"footnoteDefinition",f=>{const g=String(f.identifier).toUpperCase();Xc.call(r,g)||(r[g]=f)}),h;function l(f,g){if(f&&"data"in f&&f.data){const y=f.data;y.hName&&(g.type!=="element"&&(g={type:"element",tagName:"",properties:{},children:[]}),g.tagName=y.hName),g.type==="element"&&y.hProperties&&(g.properties={...g.properties,...y.hProperties}),"children"in g&&g.children&&y.hChildren&&(g.children=y.hChildren)}if(f){const y="type"in f?f:{position:f};uq(y)||(g.position={start:Ng(y),end:jg(y)})}return g}function h(f,g,y,S){return Array.isArray(y)&&(S=y,y={}),l(f,{type:"element",tagName:g,properties:y||{},children:S||[]})}function d(f,g){return yC(h,f,g)}function p(f){return Vg(h,f)}}function hq(e,i){e.position&&(i.position=YG(e))}function pq(e,i){let t=i;if(e&&e.data){const n=e.data.hName,r=e.data.hChildren,l=e.data.hProperties;typeof n=="string"&&(t.type==="element"?t.tagName=n:t={type:"element",tagName:n,properties:{},children:[]}),t.type==="element"&&l&&(t.properties={...t.properties,...l}),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function yC(e,i,t){const n=i&&i.type;if(!n)throw new Error("Expected node, got `"+i+"`");return Xc.call(e.handlers,n)?e.handlers[n](e,i,t):e.passThrough&&e.passThrough.includes(n)?"children"in i?{...i,children:Vg(e,i)}:i:e.unknownHandler?e.unknownHandler(e,i,t):fq(e,i)}function Vg(e,i){const t=[];if("children"in i){const n=i.children;let r=-1;for(;++r<n.length;){const l=yC(e,n[r],i);if(l){if(r&&n[r-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const h=l.children[0];h&&h.type==="text"&&(h.value=h.value.replace(/^\s+/,""))}Array.isArray(l)?t.push(...l):t.push(l)}}}return t}function fq(e,i){const t=i.data||{},n="value"in i&&!(Xc.call(t,"hProperties")||Xc.call(t,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:Vg(e,i)};return e.patch(i,n),e.applyData(i,n)}function mq(e,i){const t=[];let n=-1;for(i&&t.push({type:"text",value:`
`});++n<e.length;)n&&t.push({type:"text",value:`
`}),t.push(e[n]);return i&&e.length>0&&t.push({type:"text",value:`
`}),t}function gq(e){const i=[];let t=-1;for(;++t<e.footnoteOrder.length;){const n=e.footnoteById[e.footnoteOrder[t]];if(!n)continue;const r=e.all(n),l=String(n.identifier).toUpperCase(),h=ma(l.toLowerCase());let d=0;const p=[];for(;++d<=e.footnoteCounts[l];){const y={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"↩"}]};d>1&&y.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(d)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(y)}const f=r[r.length-1];if(f&&f.type==="element"&&f.tagName==="p"){const y=f.children[f.children.length-1];y&&y.type==="text"?y.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...p)}else r.push(...p);const g={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+h},children:e.wrap(r,!0)};e.patch(n,g),i.push(g)}if(i.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(i,!0)},{type:"text",value:`
`}]}}function bC(e,i){const t=dq(e,i),n=t.one(e,null),r=gq(t);return r&&n.children.push({type:"text",value:`
`},r),Array.isArray(n)?{type:"root",children:n}:n}const vq=function(e,i){return e&&"run"in e?yq(e,i):bq(e||i)};function yq(e,i){return(t,n,r)=>{e.run(bC(t,i),n,l=>{r(l)})}}function bq(e){return i=>bC(i,e)}class Fl{constructor(i,t,n){this.property=i,this.normal=t,n&&(this.space=n)}}Fl.prototype.property={};Fl.prototype.normal={};Fl.prototype.space=null;function wC(e,i){const t={},n={};let r=-1;for(;++r<e.length;)Object.assign(t,e[r].property),Object.assign(n,e[r].normal);return new Fl(t,n,i)}function Im(e){return e.toLowerCase()}class ir{constructor(i,t){this.property=i,this.attribute=t}}ir.prototype.space=null;ir.prototype.boolean=!1;ir.prototype.booleanish=!1;ir.prototype.overloadedBoolean=!1;ir.prototype.number=!1;ir.prototype.commaSeparated=!1;ir.prototype.spaceSeparated=!1;ir.prototype.commaOrSpaceSeparated=!1;ir.prototype.mustUseProperty=!1;ir.prototype.defined=!1;let wq=0;const Jt=ls(),qn=ls(),xC=ls(),et=ls(),An=ls(),ra=ls(),Vi=ls();function ls(){return 2**++wq}const Mm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jt,booleanish:qn,commaOrSpaceSeparated:Vi,commaSeparated:ra,number:et,overloadedBoolean:xC,spaceSeparated:An},Symbol.toStringTag,{value:"Module"})),jf=Object.keys(Mm);class Ug extends ir{constructor(i,t,n,r){let l=-1;if(super(i,t),iE(this,"space",r),typeof n=="number")for(;++l<jf.length;){const h=jf[l];iE(this,jf[l],(n&Mm[h])===Mm[h])}}}Ug.prototype.defined=!0;function iE(e,i,t){t&&(e[i]=t)}const xq={}.hasOwnProperty;function ga(e){const i={},t={};let n;for(n in e.properties)if(xq.call(e.properties,n)){const r=e.properties[n],l=new Ug(n,e.transform(e.attributes||{},n),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(l.mustUseProperty=!0),i[n]=l,t[Im(n)]=n,t[Im(l.attribute)]=n}return new Fl(i,t,e.space)}const SC=ga({space:"xlink",transform(e,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),EC=ga({space:"xml",transform(e,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function TC(e,i){return i in e?e[i]:i}function kC(e,i){return TC(e,i.toLowerCase())}const CC=ga({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:kC,properties:{xmlns:null,xmlnsXLink:null}}),PC=ga({transform(e,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:qn,ariaAutoComplete:null,ariaBusy:qn,ariaChecked:qn,ariaColCount:et,ariaColIndex:et,ariaColSpan:et,ariaControls:An,ariaCurrent:null,ariaDescribedBy:An,ariaDetails:null,ariaDisabled:qn,ariaDropEffect:An,ariaErrorMessage:null,ariaExpanded:qn,ariaFlowTo:An,ariaGrabbed:qn,ariaHasPopup:null,ariaHidden:qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:An,ariaLevel:et,ariaLive:null,ariaModal:qn,ariaMultiLine:qn,ariaMultiSelectable:qn,ariaOrientation:null,ariaOwns:An,ariaPlaceholder:null,ariaPosInSet:et,ariaPressed:qn,ariaReadOnly:qn,ariaRelevant:null,ariaRequired:qn,ariaRoleDescription:An,ariaRowCount:et,ariaRowIndex:et,ariaRowSpan:et,ariaSelected:qn,ariaSetSize:et,ariaSort:null,ariaValueMax:et,ariaValueMin:et,ariaValueNow:et,ariaValueText:null,role:null}}),Sq=ga({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:kC,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ra,acceptCharset:An,accessKey:An,action:null,allow:null,allowFullScreen:Jt,allowPaymentRequest:Jt,allowUserMedia:Jt,alt:null,as:null,async:Jt,autoCapitalize:null,autoComplete:An,autoFocus:Jt,autoPlay:Jt,blocking:An,capture:null,charSet:null,checked:Jt,cite:null,className:An,cols:et,colSpan:null,content:null,contentEditable:qn,controls:Jt,controlsList:An,coords:et|ra,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jt,defer:Jt,dir:null,dirName:null,disabled:Jt,download:xC,draggable:qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jt,formTarget:null,headers:An,height:et,hidden:Jt,high:et,href:null,hrefLang:null,htmlFor:An,httpEquiv:An,id:null,imageSizes:null,imageSrcSet:null,inert:Jt,inputMode:null,integrity:null,is:null,isMap:Jt,itemId:null,itemProp:An,itemRef:An,itemScope:Jt,itemType:An,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jt,low:et,manifest:null,max:null,maxLength:et,media:null,method:null,min:null,minLength:et,multiple:Jt,muted:Jt,name:null,nonce:null,noModule:Jt,noValidate:Jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jt,optimum:et,pattern:null,ping:An,placeholder:null,playsInline:Jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jt,referrerPolicy:null,rel:An,required:Jt,reversed:Jt,rows:et,rowSpan:et,sandbox:An,scope:null,scoped:Jt,seamless:Jt,selected:Jt,shadowRootClonable:Jt,shadowRootDelegatesFocus:Jt,shadowRootMode:null,shape:null,size:et,sizes:null,slot:null,span:et,spellCheck:qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:et,step:null,style:null,tabIndex:et,target:null,title:null,translate:null,type:null,typeMustMatch:Jt,useMap:null,value:qn,width:et,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:An,axis:null,background:null,bgColor:null,border:et,borderColor:null,bottomMargin:et,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jt,declare:Jt,event:null,face:null,frame:null,frameBorder:null,hSpace:et,leftMargin:et,link:null,longDesc:null,lowSrc:null,marginHeight:et,marginWidth:et,noResize:Jt,noHref:Jt,noShade:Jt,noWrap:Jt,object:null,profile:null,prompt:null,rev:null,rightMargin:et,rules:null,scheme:null,scrolling:qn,standby:null,summary:null,text:null,topMargin:et,valueType:null,version:null,vAlign:null,vLink:null,vSpace:et,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jt,disableRemotePlayback:Jt,prefix:null,property:null,results:et,security:null,unselectable:null}}),Eq=ga({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:TC,properties:{about:Vi,accentHeight:et,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:et,amplitude:et,arabicForm:null,ascent:et,attributeName:null,attributeType:null,azimuth:et,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:et,by:null,calcMode:null,capHeight:et,className:An,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:et,diffuseConstant:et,direction:null,display:null,dur:null,divisor:et,dominantBaseline:null,download:Jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:et,enableBackground:null,end:null,event:null,exponent:et,externalResourcesRequired:null,fill:null,fillOpacity:et,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ra,g2:ra,glyphName:ra,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:et,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:et,horizOriginX:et,horizOriginY:et,id:null,ideographic:et,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:et,k:et,k1:et,k2:et,k3:et,k4:et,kernelMatrix:Vi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:et,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:et,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:et,overlineThickness:et,paintOrder:null,panose1:null,path:null,pathLength:et,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:An,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:et,pointsAtY:et,pointsAtZ:et,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vi,rev:Vi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vi,requiredFeatures:Vi,requiredFonts:Vi,requiredFormats:Vi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:et,specularExponent:et,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:et,strikethroughThickness:et,string:null,stroke:null,strokeDashArray:Vi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:et,strokeOpacity:et,strokeWidth:null,style:null,surfaceScale:et,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vi,tabIndex:et,tableValues:null,target:null,targetX:et,targetY:et,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:et,underlineThickness:et,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:et,values:null,vAlphabetic:et,vMathematical:et,vectorEffect:null,vHanging:et,vIdeographic:et,version:null,vertAdvY:et,vertOriginX:et,vertOriginY:et,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:et,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Tq=/^data[-\w.:]+$/i,rE=/-[a-z]/g,kq=/[A-Z]/g;function Cq(e,i){const t=Im(i);let n=i,r=ir;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Tq.test(i)){if(i.charAt(4)==="-"){const l=i.slice(5).replace(rE,_q);n="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=i.slice(4);if(!rE.test(l)){let h=l.replace(kq,Pq);h.charAt(0)!=="-"&&(h="-"+h),i="data"+h}}r=Ug}return new r(n,i)}function Pq(e){return"-"+e.toLowerCase()}function _q(e){return e.charAt(1).toUpperCase()}const oE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Rq=wC([EC,SC,CC,PC,Sq],"html"),Oq=wC([EC,SC,CC,PC,Eq],"svg");function Dq(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return i=>{Fg(i,"element",(t,n,r)=>{const l=r;let h;if(e.allowedElements?h=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(h=e.disallowedElements.includes(t.tagName)),!h&&e.allowElement&&typeof n=="number"&&(h=!e.allowElement(t,n,l)),h&&typeof n=="number")return e.unwrapDisallowed&&t.children?l.children.splice(n,1,...t.children):l.children.splice(n,1),n})}}var _C={exports:{}},xn={},sE;function Aq(){if(sE)return xn;sE=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),i=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),C;C=Symbol.for("react.module.reference");function P(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case e:switch(_=_.type,_){case t:case r:case n:case f:case g:return _;default:switch(_=_&&_.$$typeof,_){case d:case h:case p:case S:case y:case l:return _;default:return D}}case i:return D}}}return xn.ContextConsumer=h,xn.ContextProvider=l,xn.Element=e,xn.ForwardRef=p,xn.Fragment=t,xn.Lazy=S,xn.Memo=y,xn.Portal=i,xn.Profiler=r,xn.StrictMode=n,xn.Suspense=f,xn.SuspenseList=g,xn.isAsyncMode=function(){return!1},xn.isConcurrentMode=function(){return!1},xn.isContextConsumer=function(_){return P(_)===h},xn.isContextProvider=function(_){return P(_)===l},xn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},xn.isForwardRef=function(_){return P(_)===p},xn.isFragment=function(_){return P(_)===t},xn.isLazy=function(_){return P(_)===S},xn.isMemo=function(_){return P(_)===y},xn.isPortal=function(_){return P(_)===i},xn.isProfiler=function(_){return P(_)===r},xn.isStrictMode=function(_){return P(_)===n},xn.isSuspense=function(_){return P(_)===f},xn.isSuspenseList=function(_){return P(_)===g},xn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===t||_===r||_===n||_===f||_===g||_===k||typeof _=="object"&&_!==null&&(_.$$typeof===S||_.$$typeof===y||_.$$typeof===l||_.$$typeof===h||_.$$typeof===p||_.$$typeof===C||_.getModuleId!==void 0)},xn.typeOf=P,xn}_C.exports=Aq();var Iq=_C.exports;const Mq=Sr(Iq);function zq(e){const i=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof i=="string"&&i.replace(/[ \t\n\f\r]/g,"")===""}function Lq(e){return e.join(" ").trim()}function Bq(e,i){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const zm={}.hasOwnProperty,Nq=new Set(["table","thead","tbody","tfoot","tr"]);function RC(e,i){const t=[];let n=-1,r;for(;++n<i.children.length;)r=i.children[n],r.type==="element"?t.push(jq(e,r,n,i)):r.type==="text"?(i.type!=="element"||!Nq.has(i.tagName)||!zq(r))&&t.push(r.value):r.type==="raw"&&!e.options.skipHtml&&t.push(r.value);return t}function jq(e,i,t,n){const r=e.options,l=r.transformLinkUri===void 0?aU:r.transformLinkUri,h=e.schema,d=i.tagName,p={};let f=h,g;if(h.space==="html"&&d==="svg"&&(f=Oq,e.schema=f),i.properties)for(g in i.properties)zm.call(i.properties,g)&&Fq(p,g,i.properties[g],e);(d==="ol"||d==="ul")&&e.listDepth++;const y=RC(e,i);(d==="ol"||d==="ul")&&e.listDepth--,e.schema=h;const S=i.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},k=r.components&&zm.call(r.components,d)?r.components[d]:d,C=typeof k=="string"||k===vt.Fragment;if(!Mq.isValidElementType(k))throw new TypeError(`Component for name \`${d}\` not defined or is not renderable`);if(p.key=t,d==="a"&&r.linkTarget&&(p.target=typeof r.linkTarget=="function"?r.linkTarget(String(p.href||""),i.children,typeof p.title=="string"?p.title:null):r.linkTarget),d==="a"&&l&&(p.href=l(String(p.href||""),i.children,typeof p.title=="string"?p.title:null)),!C&&d==="code"&&n.type==="element"&&n.tagName!=="pre"&&(p.inline=!0),!C&&(d==="h1"||d==="h2"||d==="h3"||d==="h4"||d==="h5"||d==="h6")&&(p.level=Number.parseInt(d.charAt(1),10)),d==="img"&&r.transformImageUri&&(p.src=r.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!C&&d==="li"&&n.type==="element"){const P=Hq(i);p.checked=P&&P.properties?!!P.properties.checked:null,p.index=Hf(n,i),p.ordered=n.tagName==="ol"}return!C&&(d==="ol"||d==="ul")&&(p.ordered=d==="ol",p.depth=e.listDepth),(d==="td"||d==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),C||(p.isHeader=d==="th")),!C&&d==="tr"&&n.type==="element"&&(p.isHeader=n.tagName==="thead"),r.sourcePos&&(p["data-sourcepos"]=Wq(S)),!C&&r.rawSourcePos&&(p.sourcePosition=i.position),!C&&r.includeElementIndex&&(p.index=Hf(n,i),p.siblingCount=Hf(n)),C||(p.node=i),y.length>0?vt.createElement(k,p,y):vt.createElement(k,p)}function Hq(e){let i=-1;for(;++i<e.children.length;){const t=e.children[i];if(t.type==="element"&&t.tagName==="input")return t}return null}function Hf(e,i){let t=-1,n=0;for(;++t<e.children.length&&e.children[t]!==i;)e.children[t].type==="element"&&n++;return n}function Fq(e,i,t,n){const r=Cq(n.schema,i);let l=t;l==null||l!==l||(Array.isArray(l)&&(l=r.commaSeparated?Bq(l):Lq(l)),r.property==="style"&&typeof l=="string"&&(l=Vq(l)),r.space&&r.property?e[zm.call(oE,r.property)?oE[r.property]:r.property]=l:r.attribute&&(e[r.attribute]=l))}function Vq(e){const i={};try{Fk(e,t)}catch{}return i;function t(n,r){const l=n.slice(0,4)==="-ms-"?`ms-${n.slice(4)}`:n;i[l.replace(/-([a-z])/g,Uq)]=r}}function Uq(e,i){return i.toUpperCase()}function Wq(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const aE={}.hasOwnProperty,Gq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ec={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Yc(e){for(const l in Ec)if(aE.call(Ec,l)&&aE.call(e,l)){const h=Ec[l];console.warn(`[react-markdown] Warning: please ${h.to?`use \`${h.to}\` instead of`:"remove"} \`${l}\` (see <${Gq}#${h.id}> for more info)`),delete Ec[l]}const i=EU().use(_G).use(e.remarkPlugins||[]).use(vq,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Dq,e),t=new Yk;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const n=i.runSync(i.parse(t),t);if(n.type!=="root")throw new TypeError("Expected a `root` node");let r=vt.createElement(vt.Fragment,{},RC({options:e,schema:Rq,listDepth:0},n));return e.className&&(r=vt.createElement("div",{className:e.className},r)),r}Yc.propTypes={children:wt.string,className:wt.string,allowElement:wt.func,allowedElements:wt.arrayOf(wt.string),disallowedElements:wt.arrayOf(wt.string),unwrapDisallowed:wt.bool,remarkPlugins:wt.arrayOf(wt.oneOfType([wt.object,wt.func,wt.arrayOf(wt.oneOfType([wt.bool,wt.string,wt.object,wt.func,wt.arrayOf(wt.any)]))])),rehypePlugins:wt.arrayOf(wt.oneOfType([wt.object,wt.func,wt.arrayOf(wt.oneOfType([wt.bool,wt.string,wt.object,wt.func,wt.arrayOf(wt.any)]))])),sourcePos:wt.bool,rawSourcePos:wt.bool,skipHtml:wt.bool,includeElementIndex:wt.bool,transformLinkUri:wt.oneOfType([wt.func,wt.bool]),linkTarget:wt.oneOfType([wt.func,wt.string]),transformImageUri:wt.func,components:wt.object};var Hn={},Wg={},Vl={},Ul={},OC="Expected a function",lE=NaN,qq="[object Symbol]",Xq=/^\s+|\s+$/g,Yq=/^[-+]0x[0-9a-f]+$/i,Kq=/^0b[01]+$/i,Zq=/^0o[0-7]+$/i,Jq=parseInt,$q=typeof ii=="object"&&ii&&ii.Object===Object&&ii,Qq=typeof self=="object"&&self&&self.Object===Object&&self,eX=$q||Qq||Function("return this")(),tX=Object.prototype,nX=tX.toString,iX=Math.max,rX=Math.min,Ff=function(){return eX.Date.now()};function oX(e,i,t){var n,r,l,h,d,p,f=0,g=!1,y=!1,S=!0;if(typeof e!="function")throw new TypeError(OC);i=uE(i)||0,Kc(t)&&(g=!!t.leading,y="maxWait"in t,l=y?iX(uE(t.maxWait)||0,i):l,S="trailing"in t?!!t.trailing:S);function k(Y){var se=n,ue=r;return n=r=void 0,f=Y,h=e.apply(ue,se),h}function C(Y){return f=Y,d=setTimeout(D,i),g?k(Y):h}function P(Y){var se=Y-p,ue=Y-f,he=i-se;return y?rX(he,l-ue):he}function _(Y){var se=Y-p,ue=Y-f;return p===void 0||se>=i||se<0||y&&ue>=l}function D(){var Y=Ff();if(_(Y))return q(Y);d=setTimeout(D,P(Y))}function q(Y){return d=void 0,S&&n?k(Y):(n=r=void 0,h)}function G(){d!==void 0&&clearTimeout(d),f=0,n=p=r=d=void 0}function ne(){return d===void 0?h:q(Ff())}function K(){var Y=Ff(),se=_(Y);if(n=arguments,r=this,p=Y,se){if(d===void 0)return C(p);if(y)return d=setTimeout(D,i),k(p)}return d===void 0&&(d=setTimeout(D,i)),h}return K.cancel=G,K.flush=ne,K}function sX(e,i,t){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(OC);return Kc(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),oX(e,i,{leading:n,maxWait:i,trailing:r})}function Kc(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function aX(e){return!!e&&typeof e=="object"}function lX(e){return typeof e=="symbol"||aX(e)&&nX.call(e)==qq}function uE(e){if(typeof e=="number")return e;if(lX(e))return lE;if(Kc(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=Kc(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(Xq,"");var t=Kq.test(e);return t||Zq.test(e)?Jq(e.slice(2),t?2:8):Yq.test(e)?lE:+e}var uX=sX,Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.addPassiveEventListener=function(e,i,t){var n=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,l)}catch{}return r}();e.addEventListener(i,t,n?{passive:!0}:!1)};Wl.removePassiveEventListener=function(e,i,t){e.removeEventListener(i,t)};Object.defineProperty(Ul,"__esModule",{value:!0});var cX=uX,dX=pX(cX),hX=Wl;function pX(e){return e&&e.__esModule?e:{default:e}}var fX=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,dX.default)(e,i)},Ln={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,i){if(e){var t=fX(function(n){Ln.scrollHandler(e)},i);Ln.scrollSpyContainers.push(e),(0,hX.addPassiveEventListener)(e,"scroll",t)}},isMounted:function(e){return Ln.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var i=window.pageYOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var i=window.pageXOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var i=Ln.scrollSpyContainers[Ln.scrollSpyContainers.indexOf(e)].spyCallbacks||[];i.forEach(function(t){return t(Ln.currentPositionX(e),Ln.currentPositionY(e))})},addStateHandler:function(e){Ln.spySetState.push(e)},addSpyHandler:function(e,i){var t=Ln.scrollSpyContainers[Ln.scrollSpyContainers.indexOf(i)];t.spyCallbacks||(t.spyCallbacks=[]),t.spyCallbacks.push(e),e(Ln.currentPositionX(i),Ln.currentPositionY(i))},updateStates:function(){Ln.spySetState.forEach(function(e){return e()})},unmount:function(e,i){Ln.scrollSpyContainers.forEach(function(t){return t.spyCallbacks&&t.spyCallbacks.length&&t.spyCallbacks.indexOf(i)>-1&&t.spyCallbacks.splice(t.spyCallbacks.indexOf(i),1)}),Ln.spySetState&&Ln.spySetState.length&&Ln.spySetState.indexOf(e)>-1&&Ln.spySetState.splice(Ln.spySetState.indexOf(e),1),document.removeEventListener("scroll",Ln.scrollHandler)},update:function(){return Ln.scrollSpyContainers.forEach(function(e){return Ln.scrollHandler(e)})}};Ul.default=Ln;var va={},Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});var mX=function(e,i){var t=e.indexOf("#")===0?e.substring(1):e,n=t?"#"+t:"",r=window&&window.location,l=n?r.pathname+r.search+n:r.pathname+r.search;i?history.pushState(history.state,"",l):history.replaceState(history.state,"",l)},gX=function(){return window.location.hash.replace(/^#/,"")},vX=function(e){return function(i){return e.contains?e!=i&&e.contains(i):!!(e.compareDocumentPosition(i)&16)}},yX=function(e){return getComputedStyle(e).position!=="static"},Vf=function(e,i){for(var t=e.offsetTop,n=e.offsetParent;n&&!i(n);)t+=n.offsetTop,n=n.offsetParent;return{offsetTop:t,offsetParent:n}},bX=function(e,i,t){if(t)return e===document?i.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?i.offsetLeft:i.offsetLeft-e.offsetLeft;if(e===document)return i.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(yX(e)){if(i.offsetParent!==e){var n=function(p){return p===e||p===document},r=Vf(i,n),l=r.offsetTop,h=r.offsetParent;if(h!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return l}return i.offsetTop}if(i.offsetParent===e.offsetParent)return i.offsetTop-e.offsetTop;var d=function(p){return p===document};return Vf(i,d).offsetTop-Vf(e,d).offsetTop};Gl.default={updateHash:mX,getHash:gX,filterElementInContainer:vX,scrollOffset:bX};var _d={},Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var qg={};Object.defineProperty(qg,"__esModule",{value:!0});var wX=Wl,xX=["mousedown","mousewheel","touchmove","keydown"];qg.default={subscribe:function(e){return typeof document<"u"&&xX.forEach(function(i){return(0,wX.addPassiveEventListener)(document,i,e)})}};var ql={};Object.defineProperty(ql,"__esModule",{value:!0});var Lm={registered:{},scrollEvent:{register:function(e,i){Lm.registered[e]=i},remove:function(e){Lm.registered[e]=null}}};ql.default=Lm;Object.defineProperty(_d,"__esModule",{value:!0});var SX=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},EX=Gl;Rd(EX);var TX=Gg,cE=Rd(TX),kX=qg,CX=Rd(kX),PX=ql,br=Rd(PX);function Rd(e){return e&&e.__esModule?e:{default:e}}var DC=function(e){return cE.default[e.smooth]||cE.default.defaultEasing},_X=function(e){return typeof e=="function"?e:function(){return e}},RX=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Bm=function(){return RX()||function(e,i,t){window.setTimeout(e,t||1e3/60,new Date().getTime())}}(),AC=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},IC=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollLeft;var t=window.pageXOffset!==void 0,n=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft},MC=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollTop;var t=window.pageXOffset!==void 0,n=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop},OX=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollWidth-i.offsetWidth;var t=document.body,n=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)},DX=function(e){var i=e.data.containerElement;if(i&&i!==document&&i!==document.body)return i.scrollHeight-i.offsetHeight;var t=document.body,n=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},AX=function e(i,t,n){var r=t.data;if(!t.ignoreCancelEvents&&r.cancel){br.default.registered.end&&br.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=n),r.progress=n-r.start,r.percent=r.progress>=r.duration?1:i(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?t.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:t.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var l=e.bind(null,i,t);Bm.call(window,l);return}br.default.registered.end&&br.default.registered.end(r.to,r.target,r.currentPosition)},Xg=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Xl=function(e,i,t,n){if(i.data=i.data||AC(),window.clearTimeout(i.data.delayTimeout),CX.default.subscribe(function(){i.data.cancel=!0}),Xg(i),i.data.start=null,i.data.cancel=!1,i.data.startPosition=i.horizontal?IC(i):MC(i),i.data.targetPosition=i.absolute?e:e+i.data.startPosition,i.data.startPosition===i.data.targetPosition){br.default.registered.end&&br.default.registered.end(i.data.to,i.data.target,i.data.currentPosition);return}i.data.delta=Math.round(i.data.targetPosition-i.data.startPosition),i.data.duration=_X(i.duration)(i.data.delta),i.data.duration=isNaN(parseFloat(i.data.duration))?1e3:parseFloat(i.data.duration),i.data.to=t,i.data.target=n;var r=DC(i),l=AX.bind(null,r,i);if(i&&i.delay>0){i.data.delayTimeout=window.setTimeout(function(){br.default.registered.begin&&br.default.registered.begin(i.data.to,i.data.target),Bm.call(window,l)},i.delay);return}br.default.registered.begin&&br.default.registered.begin(i.data.to,i.data.target),Bm.call(window,l)},Od=function(e){return e=SX({},e),e.data=e.data||AC(),e.absolute=!0,e},IX=function(e){Xl(0,Od(e))},MX=function(e,i){Xl(e,Od(i))},zX=function(e){e=Od(e),Xg(e),Xl(e.horizontal?OX(e):DX(e),e)},LX=function(e,i){i=Od(i),Xg(i);var t=i.horizontal?IC(i):MC(i);Xl(e+t,i)};_d.default={animateTopScroll:Xl,getAnimationType:DC,scrollToTop:IX,scrollToBottom:zX,scrollTo:MX,scrollMore:LX};Object.defineProperty(va,"__esModule",{value:!0});var BX=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},NX=Gl,jX=Yg(NX),HX=_d,FX=Yg(HX),VX=ql,Tc=Yg(VX);function Yg(e){return e&&e.__esModule?e:{default:e}}var kc={},dE=void 0;va.default={unmount:function(){kc={}},register:function(e,i){kc[e]=i},unregister:function(e){delete kc[e]},get:function(e){return kc[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return dE=e},getActiveLink:function(){return dE},scrollTo:function(e,i){var t=this.get(e);if(!t){console.warn("target Element not found");return}i=BX({},i,{absolute:!1});var n=i.containerId,r=i.container,l=void 0;n?l=document.getElementById(n):r&&r.nodeType?l=r:l=document,i.absolute=!0;var h=i.horizontal,d=jX.default.scrollOffset(l,t,h)+(i.offset||0);if(!i.smooth){Tc.default.registered.begin&&Tc.default.registered.begin(e,t),l===document?i.horizontal?window.scrollTo(d,0):window.scrollTo(0,d):l.scrollTop=d,Tc.default.registered.end&&Tc.default.registered.end(e,t);return}FX.default.animateTopScroll(d,i,e,t)}};var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});var UX=Gl,Uf=WX(UX);function WX(e){return e&&e.__esModule?e:{default:e}}var GX={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,i){this.containers[e]=i},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,i=this.getHash();i?window.setTimeout(function(){e.scrollTo(i,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,i){var t=this.scroller,n=t.get(e);if(n&&(i||e!==t.getActiveLink())){var r=this.containers[e]||document;t.scrollTo(e,{container:r})}},getHash:function(){return Uf.default.getHash()},changeHash:function(e,i){this.isInitialized()&&Uf.default.getHash()!==e&&Uf.default.updateHash(e,i)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Dd.default=GX;Object.defineProperty(Vl,"__esModule",{value:!0});var Cc=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qX=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),XX=vt,hE=Yl(XX),YX=Ul,Pc=Yl(YX),KX=va,ZX=Yl(KX),JX=da,Mn=Yl(JX),$X=Dd,Qr=Yl($X);function Yl(e){return e&&e.__esModule?e:{default:e}}function QX(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function eY(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function tY(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var pE={to:Mn.default.string.isRequired,containerId:Mn.default.string,container:Mn.default.object,activeClass:Mn.default.string,activeStyle:Mn.default.object,spy:Mn.default.bool,horizontal:Mn.default.bool,smooth:Mn.default.oneOfType([Mn.default.bool,Mn.default.string]),offset:Mn.default.number,delay:Mn.default.number,isDynamic:Mn.default.bool,onClick:Mn.default.func,duration:Mn.default.oneOfType([Mn.default.number,Mn.default.func]),absolute:Mn.default.bool,onSetActive:Mn.default.func,onSetInactive:Mn.default.func,ignoreCancelEvents:Mn.default.bool,hashSpy:Mn.default.bool,saveHashHistory:Mn.default.bool,spyThrottle:Mn.default.number};Vl.default=function(e,i){var t=i||ZX.default,n=function(l){tY(h,l);function h(d){QX(this,h);var p=eY(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d));return r.call(p),p.state={active:!1},p}return qX(h,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,p=this.props.container;return d&&!p?document.getElementById(d):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();Pc.default.isMounted(d)||Pc.default.mount(d,this.props.spyThrottle),this.props.hashSpy&&(Qr.default.isMounted()||Qr.default.mount(t),Qr.default.mapContainer(this.props.to,d)),Pc.default.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){Pc.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var p={};this.state&&this.state.active?p=Cc({},this.props.style,this.props.activeStyle):p=Cc({},this.props.style);var f=Cc({},this.props);for(var g in pE)f.hasOwnProperty(g)&&delete f[g];return f.className=d,f.style=p,f.onClick=this.handleClick,hE.default.createElement(e,f)}}]),h}(hE.default.PureComponent),r=function(){var l=this;this.scrollTo=function(h,d){t.scrollTo(h,Cc({},l.state,d))},this.handleClick=function(h){l.props.onClick&&l.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),l.scrollTo(l.props.to,l.props)},this.spyHandler=function(h,d){var p=l.getScrollSpyContainer();if(!(Qr.default.isMounted()&&!Qr.default.isInitialized())){var f=l.props.horizontal,g=l.props.to,y=null,S=void 0,k=void 0;if(f){var C=0,P=0,_=0;if(p.getBoundingClientRect){var D=p.getBoundingClientRect();_=D.left}if(!y||l.props.isDynamic){if(y=t.get(g),!y)return;var q=y.getBoundingClientRect();C=q.left-_+h,P=C+q.width}var G=h-l.props.offset;S=G>=Math.floor(C)&&G<Math.floor(P),k=G<Math.floor(C)||G>=Math.floor(P)}else{var ne=0,K=0,Y=0;if(p.getBoundingClientRect){var se=p.getBoundingClientRect();Y=se.top}if(!y||l.props.isDynamic){if(y=t.get(g),!y)return;var ue=y.getBoundingClientRect();ne=ue.top-Y+d,K=ne+ue.height}var he=d-l.props.offset;S=he>=Math.floor(ne)&&he<Math.floor(K),k=he<Math.floor(ne)||he>=Math.floor(K)}var le=t.getActiveLink();if(k){if(g===le&&t.setActiveLink(void 0),l.props.hashSpy&&Qr.default.getHash()===g){var ye=l.props.saveHashHistory,fe=ye===void 0?!1:ye;Qr.default.changeHash("",fe)}l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive(g,y))}if(S&&(le!==g||l.state.active===!1)){t.setActiveLink(g);var we=l.props.saveHashHistory,Ie=we===void 0?!1:we;l.props.hashSpy&&Qr.default.changeHash(g,Ie),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(g,y))}}}};return n.propTypes=pE,n.defaultProps={offset:0},n};Object.defineProperty(Wg,"__esModule",{value:!0});var nY=vt,fE=zC(nY),iY=Vl,rY=zC(iY);function zC(e){return e&&e.__esModule?e:{default:e}}function oY(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function mE(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function sY(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var aY=function(e){sY(i,e);function i(){var t,n,r,l;oY(this,i);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return l=(n=(r=mE(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(d))),r),r.render=function(){return fE.default.createElement("a",r.props,r.props.children)},n),mE(r,l)}return i}(fE.default.Component);Wg.default=(0,rY.default)(aY);var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});var lY=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),uY=vt,gE=LC(uY),cY=Vl,dY=LC(cY);function LC(e){return e&&e.__esModule?e:{default:e}}function hY(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function pY(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function fY(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var mY=function(e){fY(i,e);function i(){return hY(this,i),pY(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return lY(i,[{key:"render",value:function(){return gE.default.createElement("input",this.props,this.props.children)}}]),i}(gE.default.Component);Kg.default=(0,dY.default)(mY);var Zg={},Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});var gY=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vY=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),yY=vt,vE=Id(yY),bY=al;Id(bY);var wY=va,yE=Id(wY),xY=da,bE=Id(xY);function Id(e){return e&&e.__esModule?e:{default:e}}function SY(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function EY(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function TY(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}Ad.default=function(e){var i=function(t){TY(n,t);function n(r){SY(this,n);var l=EY(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return l.childBindings={domNode:null},l}return vY(n,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(r){this.props.name!==r.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;yE.default.unregister(this.props.name)}},{key:"registerElems",value:function(r){yE.default.register(r,this.childBindings.domNode)}},{key:"render",value:function(){return vE.default.createElement(e,gY({},this.props,{parentBindings:this.childBindings}))}}]),n}(vE.default.Component);return i.propTypes={name:bE.default.string,id:bE.default.string},i};Object.defineProperty(Zg,"__esModule",{value:!0});var wE=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},kY=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),CY=vt,xE=Jg(CY),PY=Ad,_Y=Jg(PY),RY=da,SE=Jg(RY);function Jg(e){return e&&e.__esModule?e:{default:e}}function OY(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function DY(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function AY(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var BC=function(e){AY(i,e);function i(){return OY(this,i),DY(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return kY(i,[{key:"render",value:function(){var t=this,n=wE({},this.props);return n.parentBindings&&delete n.parentBindings,xE.default.createElement("div",wE({},n,{ref:function(r){t.props.parentBindings.domNode=r}}),this.props.children)}}]),i}(xE.default.Component);BC.propTypes={name:SE.default.string,id:SE.default.string};Zg.default=(0,_Y.default)(BC);var Wf=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},EE=function(){function e(i,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}();function TE(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function kE(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function CE(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var _c=vt,Bo=Ul,Gf=va,Bn=da,eo=Dd,PE={to:Bn.string.isRequired,containerId:Bn.string,container:Bn.object,activeClass:Bn.string,spy:Bn.bool,smooth:Bn.oneOfType([Bn.bool,Bn.string]),offset:Bn.number,delay:Bn.number,isDynamic:Bn.bool,onClick:Bn.func,duration:Bn.oneOfType([Bn.number,Bn.func]),absolute:Bn.bool,onSetActive:Bn.func,onSetInactive:Bn.func,ignoreCancelEvents:Bn.bool,hashSpy:Bn.bool,spyThrottle:Bn.number},IY={Scroll:function(e,i){console.warn("Helpers.Scroll is deprecated since v1.7.0");var t=i||Gf,n=function(l){CE(h,l);function h(d){TE(this,h);var p=kE(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d));return r.call(p),p.state={active:!1},p}return EE(h,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,p=this.props.container;return d?document.getElementById(d):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();Bo.isMounted(d)||Bo.mount(d,this.props.spyThrottle),this.props.hashSpy&&(eo.isMounted()||eo.mount(t),eo.mapContainer(this.props.to,d)),this.props.spy&&Bo.addStateHandler(this.stateHandler),Bo.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){Bo.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var p=Wf({},this.props);for(var f in PE)p.hasOwnProperty(f)&&delete p[f];return p.className=d,p.onClick=this.handleClick,_c.createElement(e,p)}}]),h}(_c.Component),r=function(){var l=this;this.scrollTo=function(h,d){t.scrollTo(h,Wf({},l.state,d))},this.handleClick=function(h){l.props.onClick&&l.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),l.scrollTo(l.props.to,l.props)},this.stateHandler=function(){t.getActiveLink()!==l.props.to&&(l.state!==null&&l.state.active&&l.props.onSetInactive&&l.props.onSetInactive(),l.setState({active:!1}))},this.spyHandler=function(h){var d=l.getScrollSpyContainer();if(!(eo.isMounted()&&!eo.isInitialized())){var p=l.props.to,f=null,g=0,y=0,S=0;if(d.getBoundingClientRect){var k=d.getBoundingClientRect();S=k.top}if(!f||l.props.isDynamic){if(f=t.get(p),!f)return;var C=f.getBoundingClientRect();g=C.top-S+h,y=g+C.height}var P=h-l.props.offset,_=P>=Math.floor(g)&&P<Math.floor(y),D=P<Math.floor(g)||P>=Math.floor(y),q=t.getActiveLink();if(D)return p===q&&t.setActiveLink(void 0),l.props.hashSpy&&eo.getHash()===p&&eo.changeHash(),l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive()),Bo.updateStates();if(_&&q!==p)return t.setActiveLink(p),l.props.hashSpy&&eo.changeHash(p),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(p)),Bo.updateStates()}}};return n.propTypes=PE,n.defaultProps={offset:0},n},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var i=function(t){CE(n,t);function n(r){TE(this,n);var l=kE(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return l.childBindings={domNode:null},l}return EE(n,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(r){this.props.name!==r.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Gf.unregister(this.props.name)}},{key:"registerElems",value:function(r){Gf.register(r,this.childBindings.domNode)}},{key:"render",value:function(){return _c.createElement(e,Wf({},this.props,{parentBindings:this.childBindings}))}}]),n}(_c.Component);return i.propTypes={name:Bn.string,id:Bn.string},i}},MY=IY;Object.defineProperty(Hn,"__esModule",{value:!0});Hn.Helpers=Hn.ScrollElement=Hn.ScrollLink=Hn.animateScroll=Hn.scrollSpy=Hn.Events=Hn.scroller=Hn.Element=Hn.Button=YC=Hn.Link=void 0;var zY=Wg,NC=Er(zY),LY=Kg,jC=Er(LY),BY=Zg,HC=Er(BY),NY=va,FC=Er(NY),jY=ql,VC=Er(jY),HY=Ul,UC=Er(HY),FY=_d,WC=Er(FY),VY=Vl,GC=Er(VY),UY=Ad,qC=Er(UY),WY=MY,XC=Er(WY);function Er(e){return e&&e.__esModule?e:{default:e}}var YC=Hn.Link=NC.default;Hn.Button=jC.default;Hn.Element=HC.default;Hn.scroller=FC.default;Hn.Events=VC.default;Hn.scrollSpy=UC.default;Hn.animateScroll=WC.default;Hn.ScrollLink=GC.default;Hn.ScrollElement=qC.default;Hn.Helpers=XC.default;Hn.default={Link:NC.default,Button:jC.default,Element:HC.default,scroller:FC.default,Events:VC.default,scrollSpy:UC.default,animateScroll:WC.default,ScrollLink:GC.default,ScrollElement:qC.default,Helpers:XC.default};const xl=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","Z"];class _E extends z.Component{renderAlphaLinks(){const i=[];for(let t=0;t<xl.length;t++){const n=xl[t],r=`alpha-${t}`;i.push(U.jsxs("span",{children:[U.jsx(YC,{to:r,offset:-120,containerId:"glossaryViewInner",smooth:"true",children:n})," "]},`link-${r}`))}return U.jsxs("div",{style:{display:"inline"},children:[U.jsx("input",{id:"glossary-filter",className:"searchBox",placeholder:"Filter by Entry",onChange:this.props.onFilterChange,value:this.props.filterTerm}),U.jsxs("div",{className:"alphaNav",children:[U.jsx("span",{style:{color:"black"},children:"Go to: "}),i]})]})}render(){return U.jsx("div",{className:"glossaryNav",children:this.renderAlphaLinks()})}}var KC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RE=vt.createContext&&vt.createContext(KC),so=function(){return so=Object.assign||function(e){for(var i,t=1,n=arguments.length;t<n;t++){i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},so.apply(this,arguments)},GY=function(e,i){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)i.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};function ZC(e){return e&&e.map(function(i,t){return vt.createElement(i.tag,so({key:t},i.attr),ZC(i.child))})}function ri(e){return function(i){return vt.createElement(qY,so({attr:so({},e.attr)},i),ZC(e.child))}}function qY(e){var i=function(t){var n=e.attr,r=e.size,l=e.title,h=GY(e,["attr","size","title"]),d=r||t.size||"1em",p;return t.className&&(p=t.className),e.className&&(p=(p?p+" ":"")+e.className),vt.createElement("svg",so({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,h,{className:p,style:so(so({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&vt.createElement("title",null,l),e.children)};return RE!==void 0?vt.createElement(RE.Consumer,null,function(t){return i(t)}):i(KC)}function XY(e){return ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"}}]})(e)}function YY(e){return ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}}]})(e)}function KY(e){return ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}}]})(e)}function JC(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"}}]})(e)}function $C(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"}}]})(e)}function ZY(e){return ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function JY(e){return ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function OE(e){return ri({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function DE(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function QC(e){return ri({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.75 6.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"}},{tag:"path",attr:{d:"M2.5 1h8.44a1.5 1.5 0 0 1 1.06.44l10.25 10.25a1.5 1.5 0 0 1 0 2.12l-8.44 8.44a1.5 1.5 0 0 1-2.12 0L1.44 12A1.497 1.497 0 0 1 1 10.94V2.5A1.5 1.5 0 0 1 2.5 1Zm0 1.5v8.44l10.25 10.25 8.44-8.44L10.94 2.5Z"}}]})(e)}function $Y(e){return ri({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}}]})(e)}function QY(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M249.38 336L170 256l79.38-80m-68.35 80H342"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}]})(e)}function eK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.62 336L342 256l-79.38-80m68.35 80H170"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 448c106 0 192-86 192-192S362 64 256 64 64 150 64 256s86 192 192 192z"}}]})(e)}function tK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"44",d:"M416 128L192 384l-96-96"}}]})(e)}function nK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 184l144 144 144-144"}}]})(e)}function iK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 328l144-144 144 144"}}]})(e)}function rK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 112a80 80 0 00-160 0v96"}},{tag:"rect",attr:{width:"320",height:"272",x:"96",y:"208",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"}}]})(e)}function oK(){return U.jsxs("svg",{className:"document-pages-icon",width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[U.jsxs("g",{id:"fluent:document-one-page-20-regular",clipPath:"url(#clip0_288_13990)",children:[U.jsx("path",{id:"Vector",d:"M2.16667 0H8.83333C9.27536 0 9.69928 0.210714 10.0118 0.585786C10.3244 0.960859 10.5 1.46957 10.5 2V14C10.5 14.5304 10.3244 15.0391 10.0118 15.4142C9.69928 15.7893 9.27536 16 8.83333 16H2.16667C1.72464 16 1.30072 15.7893 0.988155 15.4142C0.675595 15.0391 0.5 14.5304 0.5 14V2C0.5 1.46957 0.675595 0.960859 0.988155 0.585786C1.30072 0.210714 1.72464 0 2.16667 0ZM2.16667 1C1.94565 1 1.73369 1.10536 1.57741 1.29289C1.42113 1.48043 1.33333 1.73478 1.33333 2V14C1.33333 14.2652 1.42113 14.5196 1.57741 14.7071C1.73369 14.8946 1.94565 15 2.16667 15H8.83333C9.05435 15 9.26631 14.8946 9.42259 14.7071C9.57887 14.5196 9.66667 14.2652 9.66667 14V2C9.66667 1.73478 9.57887 1.48043 9.42259 1.29289C9.26631 1.10536 9.05435 1 8.83333 1H2.16667ZM8 4.5C8.00003 4.61703 7.96586 4.73036 7.90343 4.82026C7.84099 4.91016 7.75426 4.97094 7.65833 4.992L7.58333 5H3.41667C3.31255 5.00023 3.21212 4.95367 3.13518 4.86949C3.05824 4.78531 3.01035 4.66961 3.00094 4.54518C2.99153 4.42074 3.02129 4.29659 3.08435 4.19717C3.14741 4.09775 3.23921 4.03026 3.34167 4.008L3.41667 4H7.58333C7.69384 4 7.79982 4.05268 7.87796 4.14645C7.9561 4.24021 8 4.36739 8 4.5ZM8 8C8.00003 8.11703 7.96586 8.23036 7.90343 8.32026C7.84099 8.41016 7.75426 8.47093 7.65833 8.492L7.58333 8.5H3.41667C3.31255 8.50023 3.21212 8.45367 3.13518 8.36949C3.05824 8.28531 3.01035 8.16961 3.00094 8.04518C2.99153 7.92074 3.02129 7.79659 3.08435 7.69717C3.14741 7.59775 3.23921 7.53026 3.34167 7.508L3.41667 7.5H7.58333C7.69384 7.5 7.79982 7.55268 7.87796 7.64645C7.9561 7.74021 8 7.86739 8 8ZM8 11.5C8.00003 11.617 7.96586 11.7304 7.90343 11.8203C7.84099 11.9102 7.75426 11.9709 7.65833 11.992L7.58333 12H3.41667C3.31255 12.0002 3.21212 11.9537 3.13518 11.8695C3.05824 11.7853 3.01035 11.6696 3.00094 11.5452C2.99153 11.4207 3.02129 11.2966 3.08435 11.1972C3.14741 11.0977 3.23921 11.0303 3.34167 11.008L3.41667 11H7.58333C7.69384 11 7.79982 11.0527 7.87796 11.1464C7.9561 11.2402 8 11.3674 8 11.5Z"}),U.jsx("path",{id:"Vector_2",d:"M13.1667 0H19.8333C20.2754 0 20.6993 0.210714 21.0118 0.585786C21.3244 0.960859 21.5 1.46957 21.5 2V14C21.5 14.5304 21.3244 15.0391 21.0118 15.4142C20.6993 15.7893 20.2754 16 19.8333 16H13.1667C12.7246 16 12.3007 15.7893 11.9882 15.4142C11.6756 15.0391 11.5 14.5304 11.5 14V2C11.5 1.46957 11.6756 0.960859 11.9882 0.585786C12.3007 0.210714 12.7246 0 13.1667 0ZM13.1667 1C12.9457 1 12.7337 1.10536 12.5774 1.29289C12.4211 1.48043 12.3333 1.73478 12.3333 2V14C12.3333 14.2652 12.4211 14.5196 12.5774 14.7071C12.7337 14.8946 12.9457 15 13.1667 15H19.8333C20.0543 15 20.2663 14.8946 20.4226 14.7071C20.5789 14.5196 20.6667 14.2652 20.6667 14V2C20.6667 1.73478 20.5789 1.48043 20.4226 1.29289C20.2663 1.10536 20.0543 1 19.8333 1H13.1667ZM19 4.5C19 4.61703 18.9659 4.73036 18.9034 4.82026C18.841 4.91016 18.7543 4.97094 18.6583 4.992L18.5833 5H14.4167C14.3125 5.00023 14.2121 4.95367 14.1352 4.86949C14.0582 4.78531 14.0103 4.66961 14.0009 4.54518C13.9915 4.42074 14.0213 4.29659 14.0843 4.19717C14.1474 4.09775 14.2392 4.03026 14.3417 4.008L14.4167 4H18.5833C18.6938 4 18.7998 4.05268 18.878 4.14645C18.9561 4.24021 19 4.36739 19 4.5ZM19 8C19 8.11703 18.9659 8.23036 18.9034 8.32026C18.841 8.41016 18.7543 8.47093 18.6583 8.492L18.5833 8.5H14.4167C14.3125 8.50023 14.2121 8.45367 14.1352 8.36949C14.0582 8.28531 14.0103 8.16961 14.0009 8.04518C13.9915 7.92074 14.0213 7.79659 14.0843 7.69717C14.1474 7.59775 14.2392 7.53026 14.3417 7.508L14.4167 7.5H18.5833C18.6938 7.5 18.7998 7.55268 18.878 7.64645C18.9561 7.74021 19 7.86739 19 8ZM19 11.5C19 11.617 18.9659 11.7304 18.9034 11.8203C18.841 11.9102 18.7543 11.9709 18.6583 11.992L18.5833 12H14.4167C14.3125 12.0002 14.2121 11.9537 14.1352 11.8695C14.0582 11.7853 14.0103 11.6696 14.0009 11.5452C13.9915 11.4207 14.0213 11.2966 14.0843 11.1972C14.1474 11.0977 14.2392 11.0303 14.3417 11.008L14.4167 11H18.5833C18.6938 11 18.7998 11.0527 18.878 11.1464C18.9561 11.2402 19 11.3674 19 11.5Z"})]}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_288_13990",children:U.jsx("rect",{width:"21",height:"16",transform:"translate(0.5)"})})})]})}const Zs={};Zs.transcriptionTypeLabels={f:"Facsimile",glossary:"Glossary",notes:"Notes"};const sK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAbCAYAAAGrR/egAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFxEAABYlAXDOav8AAAW+SURBVEhL3ZcJTJRHFIDX1tZ6NI02adPEVu2pYlsvWqFVY0mlVQubNrZqxC5WkVMBVxQUrSKiGGMFigIaDFFA8cSjWkWEpkKVAOsBTZQiKsgh4LHicn6d/f8FdqELiNKoX7I78978M2/e/DPvf6OgDcw0aqHG0Bjs7cGHmzLZt3itkKr1KonODCvTfuMKSyu2navE871xKK3flxr0dH5YE+aKERXi8eGrJbG5Y+EpGkQR+prRWAXHkZT/QdNTP9jFw/0iSnR12M+YTcjxEhSfqLAZPYVJfb8wPNVMx6dqRMc7vdADXnxeqna80/SpYGsnVZs6KUbqFQ0UP5Bl/TqkyFUhmK5KU6cK/V9NCfcTv5TkfOql0sHWFq/jN6R6I3Kn+jNS0fOV16HkD+ZOnkHdzb8knYurI7lSrZmO+2REpzq1zz3o9pKh3kzXGIueK9bDHdwOGBQyrYw1vhczu/aRaGUsO8SRsBMaxh0tFRZr6W+1TjKsVDuSuP8QM5aphNSAt72ChF2XSA0aS/j2WDY5jSfisk4awxytjDnNnyiVRZlxFGmPcLi0hkOzXyHrlqRm/syvhK0CekzTH9oKLOzDJH2mlzWHC6WqWUyMmV86o5YWB8CUthe/azaIGf43Y11jKDUIdpcZBJnHa+j672JEMWTvXtCrj1y/ekdqevwe1QhP+nQXI/cUcc+gEzx+Q39Gi6WrEuE4FU40R90Whtrepo9CK49C/cfiuf6CQdLguiNPlK3Pk/cgF6nsKC0MVeFnY0viuhmyeHEzJ69rKUyYh3doJOFrVCzNquKWZi+W6hjKuM3sZYHs3Z+Ire/Pch8zmBoqOsrXHkcpSd/JnnJIdFFQXguv2unTJEF9Dt9ZxXErPZroAll11k2F7RR7ek32lBVmMDFUcMARtyT9B7iSiaPicFN4iUXTMjM0UWqvzQ5jsF82aVFu3BVyqro/ycVSE4tdl8sVM5gYCv7Gi8uGek7EByhcDkv1kDkuzFrgzrf26yV518J++JwqpPScM46qeQQGTcfZW56MOYwMGV54m8Gz87TYDF3Hs2fokam/DUmroHtvWJfR5it+sp2qFsdgdzCoxC89R5wGEUqfE/H6mDhfmoOw5HvYKPLgCnFHMuLJdqpeTLZcxIXz2bAnVCRoItnWf+mGOEJCAqRdgmsina01fWtP/varyofNwonu/cBGhKi7JeA3UtyCXoaVp8RdVkTlFjwdZ6pa3MJLb0o3cZk6cUMVss4obzCifaeq8jgW5sGYKSoiW16qxHcwZc3nLNqXS/F9g6od6nQV5MaOIkrsqLquCeftO1WcvJYAtTU2fhFEuASQ1TQRsVoVB3BVjGZDShmVQpS0GX6op1swZPBQhip9CDxhSC11ZeT/tpoh7w6ij+ItBo+JJqNaHiznVyX244fz8QgLhlqsIPLQTf3oJsnLw9COUwWc8HHFZbQPSeXlaGJXYPnpQcSuFrOvJm+rBQqvQ+RrhXVtKg4WSpQbTiLilEzxPgJcp/HOrCT0L1JXepZEzx74psnNQsPVlJ2kiaSlib/9Ubo7o4q/YlA8PG069SB9JbPVdkyIEYdVUF+WRUqYkhF7RUSqzSR0wEcEpFSgT3PO+PZl7JoYTt+Q97m0yHUXiVcHMGFMPNfEVs2LW8WAbv6clp4QR+VCNM4/LhQ7IZiN638hJHwjnpPeYLjKmzCNaZh+GNpwSktG4AJWTfdhjziTjWgLM4i1HsbqLct52yKcrAdy9LkSZsWwz4LYkd04GQ3bPaZiabuIbZVCLE4jLnAYfaOLpNaGhjsc+UnBwMiLwpJM+Rl/HN4ciMOCnZyvNig7gXmn7uVyMOYYUQf+EWm0EfU6dFeSWbTED//UG9Qan/byZLZu8MPZeQ5znbawK0naqDIiQBSkRKH28UWd1HgHuYtm5VKWuLvjNMeJ+GwN6duTOXc8B0PW2inaDRRPI8+gU/AvCRLk8OxchHwAAAAASUVORK5CYII=",aK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAASCAYAAAHpiZZSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFa8AABWvAQS7x0sAAAmkSURBVFhH7Zl5VFT3Fccfi2DkgFI1RpOcY416rKaWWmuNaeyC5DTEDZQcjaiNUGtEmugIYhVZVKIYDYoS3FCjBxeqYpEEK3HDKqKEzShEIEAwLEHWAQYG59vfve8NDDAKuFT/4HPOzPstb/m9++6725PwBOCTbDSXIL0dygMxd8qhOnKH26GObpCkwVi33gUeqt+KtoT6gnOArkrMalGTvhvanAPySR6XJ3OSg7lNYpMGW0v5fPlHJqCYGulbePleUz5C8KZ1WDNFQvqeQNy9Esn72fT7G+43qrn9/7kdEnQ7bmxioRvjPwErlFYLvPrK75WecXghQQFrkdPQBCshFmvLqehvLaGyked5ISQaJ88vMP7nEu7RoBAXLSTh45lwD7rBYiMtINGFLfESOxRB6vsrfCNESBqhKbkO1OfTkYwkWQBNGrwwJ5I1hMf4/xnz8EVkhSuN1gTEFyFXabfluk5pGBCnAQaG3lJ67RGLSORGw32gpxA9UAfPqDwe0y+CHonf6NnctlMt40Xk3T7G44Vo4HFDaHyc42lc0gIj9xbwIpz7LeK5j/kawHHxbM2CknH4R2URdBAhOYo3mbZKnxeRfxh+X5/lriS93rwIkoS8XwXP6SkRv1HK8fIi8iH1G4X+i+N47DN7CTHiEDrWbP11/SKePc/FIp4XFGGQavhxy8R5D1B2EqvPVIpeDUwnbwUyQxBVUC3UJBSHsgzsmFCbmDuVuOw9BBcL66FLXI0l+9OBK6uxM0nY4cRAbE/W4NdClcjEkDqRmSkUhy5UqfgUjstcxH81RttMFNs6/E6ywXei5aZ6i6bZ/JCqfbtfhShxyqLEMPheATL2eeDNqLsoPL8Zy/+rY9tI7wCq8ppVkKkrhdWCGEBTAct50VALJ0bvBVl/eje0OfvgcrSUd20WRuAl2Vi+ZzodSA5GZq3c7zljJ29l6uEcmqC0BSyMauwZPhdl1G+8iLURGTj6xhDcqeM9GHqvDIVRce8i5q67pswSFWx/CbLBBNlhgrwysdl3Hm/1kF2md5BsMxmDZmEIz603Cq3RYo2ZFTQ32wrjAL+nRDthPG/E+X2KH5R2Z2goScHLYdlKr2t02wwDuoVhwGMJY/C8MKXVMQ5uFBBmQOUjjFmnycP8P21S2g+jDv6DlnDrbLgchDwKLIwN5ia4IILP5E/Mkd2gw/s9RBohwvSYBb2QWqNDH4vVHHz077UKhpZFFoYOvT2ExxGMHvBHkK+xcw3g/vj5vig9PRl7swyFEYvbu2bguHity79eDJ+EGiSteg/uUblI3eSGNxccgubGRsyO/Uk4s1T8ZuopcZwa3q878Dn9544R//cwwnq42GrhYTtMbDUtwgiZ0Sr2uv75dNSKbdqu6cI33sd0c1lY8Wvo1nWYJplyn2BhrDdxFrsRyfCPlxOOrbbWHBWlVzXiK4+XuC2arRg8t0UzfvmyyNckOzRoryEgXETeCsXH/9JKGF5rzuPvkwbx+eg3TXUaid7TcV5EYWWXfRGWKnYrT4LjthuoTQnFtOgSqLMim/eXpCEoFa541siVfP4t3gPFf2OzMPLjtiDOwJPVFJ4Qx1jgNEUKuoZ2wnAymcl9goURZCKhiQLo0mOI+E4LC5f9NIya6DlIrSR/JfPlwj64K8uKkYWRje1H5SDbZ8QsIf1SrAg4yX2irTBUq+Kx0N4LlLrqubT84cIQwQQmfGLoiks6LQw9tcWnsDkDnRCGqQnMzMwgTY3gwdTNNvwU8hKDEXKjArfD5Ce55FjrXESvGeNH0vw47Bg7DCnCh989+Q7v/6HQkLITbYTBNqMMY/kpTwQ9sAcJo+U1AZLCFvE57TeL8XbCAHa5SliRoGv3mtSXJ/Nx1n3duV95xgeSeU8kHCYhPEwznjty4Tn5hNLuHHt9eiutrsPC6EamWxjdGOUZKkYuDtkNxQCyo+N9EZtDlvTRIIdFuSDZacoHyVZTTkj2mvJCstkPqkI9LjW39sH7zxIsRzthe5oy+MjUcb7pP8gTZ0WoU52xFwuEfGyHLcc5Iw7yaWKgGIki9JqBSLEwlx7mMKUHJhwtFUWbuReN+dYvoAfN8W8SQlOqoFH8UF3cIrxka6nMTUTw5VLUGvFR2gte+MUrVsp+Ej7YncylssTAMXitt/7cEuy8onCTq60y5LCpACvPOyPweA470dIuKEZmpDscXlHOMcQZK2L0M6W4sHwdtrr6Yr2XK4bT/KvvwDM2Cem7lmISX3Mg/uC6D9/q70k4fqq2kPOniouMGtlRAXDi/cXvtQl4N/quMleEbyI+x18Hi/VtmCDP9x6KsYFXxZwOpdfC8YFy3ItD7XCICp61eRwsUIWmfU1TRltTiJP/UK4nWaFP/x3izgUixKRPEBRZUdGCoMIFRVhUvKBrar8/CKeZX+CgPx1rCpO1tJY2ikHBBhU1mgMOEY5SpSciUwOtkQdM4SlVflKrxWRmCCcwVA6jJKZDssI5YjNa/icaL3I4S5UiCmmpWkRhrWHFSE+HFkOEvBVF5+G2MhhLT9BOeooR77EKG9yPiCC6gXMCqjBR9EdUXfHDnGWT4HZGkaqIBKnixNEgYaAYXCgrOIdPtyyG/ZGWLwBCnZG4IwTubxxBocgh6GMLRYtUlSKoMkVRI1WnKIyWLcYSuUpFVHWgGHWlnHxRKY8SsFZ0RjFyDnDUqa9u6WljMZxBX5TkhI1I5o9l/vF1YiwVITa9YC600iH8NlsC9SlXWTEMchciM/xVDLAhDXwLGy8VG7UabRUjP3IcRvYVx4xZiZPZdIsJWEmKsf8W6kTiR98GKPnjr1tt6EgxKDHMS4vArA+XQhX9oApYBacEhopBqQGVIDk9IBTFmBKehcrMMHy21gGbkpQ5gVqYfpVqNByi6NrGKOFSZZcUg9Hgp4zj8Ld1x+l2T78FTWUqtjmQ3Huhd7/tbDXqnoRibDAzgeS0H/laJZcPEnnbmnio6SbSgmFp4oevhBKwc8nYhr5WppAmbUO62ojFUMfCrY8Ttp3/ETTdjmbFqBadAuwb8SJ8tl7CDyyQAkRNHIGfSSPxUeRNLo9QsZ1KJFxwJ4qOwX6UN/75rxLkxE3FmIe6klguxmfvdcEY13lYm6Sky+Xn4PmuF2asuIp64d+vdFIxjFkM2ZWocfvAcrgN/j2CUnhArPMqdga8Dzt/+jhWiZSnbTGa1Cj+ty/Mem1hxWgs/xKrJQvMPkX33ARN5m44Smaw2NgFxWjnSrrpgFyu21NO3ZXafZfoSDGeEt2K8Zg82azEEA3K0p6LrKSbbvQA/wNGF2xMO2U8SgAAAABJRU5ErkJggg==",lK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAQCAYAAAFLg1xnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABURAZUCwyYAAAk6SURBVFhH7ZkLUBXnFceXhwg1UkWrrVWrdpqk1alNxmgntrY0RpumEbVANYCIQUTLqFGBiqAEQQHRgWhMMdRHCQkQRYxRY0Q0xQdgfBFFBSI+UBRFEJCLl8v995yz914v8ijqdcZO+c3c3e/b3bv77dmz5/ufswosgJzEI+OOdID7QFUxtkRNwfnkINny7qoQWVd8/hdUpDtL23XNHhy5eQ/1OqBUq1dP8qTQSfSohgb56yehuiBJ3VpbBFzJosZdBPimYMwCH6ApH1OX/xOvhH0hh4RllMM2PJv+TSfR6w+jy9tpUBR1UKZ1j36oOJ1B/b7SB11o2Itu6m3KBYCoaYG0LARKtsI1ZBc2J01DfuY0Ocf1NGe5aMSo51FSrZqA+dC7D6oagF6ODmikEbA5rK2UliaZGv2NofXk8ECMGAfSFhZ5NpaArKhAW7wR9s95QXN7F370wVnEOavji1k7D5ekBbjTcb9dmYftN4Fx8cdlWyX9Qudlmx6nk9IfQWPGouQesLO8Xrap+xql3fDFTNOxijIed7b+FW5TPoWeHpHysbs1wmhn0aZJsJ+2XQ7S0C/cyQ8bLgKDFmbLNmZExJFmAwl6811alkjbSOLpOoSuzjEN5NVhP6YlvRtEw56ZtDyH+O5dpC8DsZ4s7eaPRk9e9FRQLdIeMpCy5ImwsbWTDRbjRh5GRh41dCwHv41s7aHdFKQVsnM8IGTYQIyMUN/ojsBPpFSrPi0jYhB2E3PYXWqghW231YYtwKXPQnFeWnWY3Ntf4ha7EEdRczfavTIYZdwQg+RJ2GG34tBjdC3mbm4UZu2rQmHqbBzRNmLljGTZfuNLX+y4CjX+ERyN2e04FrLrcWRmg6iRoQzBsfvkOJXGZlGCXZKjN7tlWMY17JjugBoK/Iz10r0Gg+jFTTmmMmYG0cHKNpourKUXy5bCMrDB1Z53Y9uSrkDNcfRZdx73ynMw4B8luHW6dYNUnNqC0CPAyY/84Rx/AhWHE/DnHbdwYeMCTEj61nCUyqrZo/HGnDRpv/ObqTRJAFl+r+O49lEN0gS32Axa69oxCD2mswlYd6oGKFiNxML6tg3SFhzdFMfeht6zhSVemdZo1yD/byjQN8n8E2O5SV9YH+5haFmWFxYtxZn416AMX2DYYqAhB3Z0H1drDf0OYOO62dBSUZbTCRQrG9yit+dNbis22H6bd+mwiPvdnOTA+tvHxGg/SyLRhwZE9XCX/gsjPpH9Rq58tZq294VXsD/1dAj65R9le+Ti6bIWavIx1lcNgim+0XRtYO6fBtD/BonQuLrLB7PHjce0hAIs2TwLL9F1JoSrMYaNcSLyZZyooI42F460b8SSz2Vf1vz+KOWgZ6B39Bb8wEGRGCacWStjTjyragExxvVUpETYQAk/RAK16RpW5Mk+lUYNunhuQ+XuZTCFvcYaOPR6X5rX9idgHwW6xT1/Iv3MVW4GaUFoLmHwyBRpqp7RhjEIjwVjZR0dNg9HA8NY5grBMfNRnzUdcd9QwCNeWRgg6xWjvcD3b26M5JcH4oqZTHnYGD3d1so6oWdXenz1mPRRgfRPxdijlgYtxihPQ3KpegcmY+gaDkKxo1lEr4GdZwYKkybB5HGa23CcqUr9ysLt+LItY9w6jWFhOdJM2/AeLds2Rm6EBw4e3YuA7Cok+/wNFwzbmdt7vDtkDOFKujzti2SE9oxxn2aWpTt5vgeqt05p3xgNByPAYaM2KwTdfTKhrT0Lzx210NVdh1NCIWInfk/+EOniSMum1o1BRHgMo2Ulfmo9RPoek4fTsgG/6zJU+iZqTtFN9EIxt79LgVsIC7Y7CPSMQO1XHTOG0TMOBA5BUVX7xqijObS73QRSUoCDrYuMuYUxZNkG1RdUUfSscTj8Vw88w4yHjfGotGMMNYD67Sbh84xxLM7ZIrPJw3TqjE7aRJyD4yinKs1m2WcVygd55n4aSfLThsMdp1ethbyWNEoY5LTrSULhk9CKczRBW7IJE627INaQgzdqipHoYgV770zJbXny5fyWJ2BGU3USH7p2g88uyherj8lkzPkuwzkvT8qc9/K5K7/diOmKIwYv/pp6NKF/txPBLn0xdLOx1GWOBpf3rIR/3+FYKklDpeTGPHk7x5+kvk6KBqxopHDAXMkSZWNeQHhADfKivBA41hdZxuruuU/gt3IJ5ufQdHHpU/gEBMA/1aB97uzHrHGL4BGRC86Eqw764g8DR8Iv/oxJiVXs88Dofv0wNfoQbvCGgliMGTwDwR9f4MIxbqY5iyjgvJuFwQPnKBOBwDm4Kh8vY9Mvfoi/v38I16Xw0L5zNGTNQx/S2HPSLqKGE/Dz6+Dk8BbW5N0hOUNQvs6CgnN2FhWct7Ow4Nyd5QTn7ywwOIdHeTrcbaww8V9X0WRM5ol2IocejfXZCKV5i6WeYmuP7jMypVLNMpULiC2mM5KsXMVm2cqFRZX7Il+5yMgSlitFrNykOMJUFYuC4yKJuYoTSNpyTd4ob4XaIpG5XKB8dOcgavIQ4RmI1/2/JiOWIt0vGkvm5qAO17Bj/lsYYLxfs98Q92XIogfK+QIXXozKkOECDCtEKcIwTfmiFKUYw/vT23IOsnBuJH79/PfV63h+gKPl5rXQ/+Ice2aKulQLOMw5UZn8VYBlNxdeWXrztwojLMH5iwHL8ObOkSZFHlahZr7RmnPoSMssh/WUVClNC5TIcYmQkzn2Q07ouFTYvJZFUHLHZUNO8NS4wZDZKdHjEiIne4/kHJQEcnmRE0EpMTKmaYUH+xjOQdw9Ggnv0Nfg7OeKxKi52C//rcK/F7pg0eRAHOIyXCtw/mRJ53gY3YEFGDQlBplFPAD9YzrHNUlQufTJSaqx/Mlwsspl0CdwDurrGnAg1PDm2HRFN69UXD4QDiu7t5EpHqOTKqGUP/hn54g+c3ZL6GW4FMLfRmRfj36GkgijlZJqh51D0EjJhL+rKMqLGDUiFEFrfTHapDluInfdLPxc9g/H5AlxWJYchzfW5Bv2t8ZdnFzhjZeeexXvfGYcm0pVbhg8RxnGTr/fz14FrqYyFneOsm0YM7y/6VqK13rk3TBGj8eNHGWoMxryzFr5tKeef7yUdfgzH9Nh53hsGu+hfO97cPDebnKMTtrmf1KQdtJJS4D/ACf1pRCRRDX9AAAAAElFTkSuQmCC",uK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAUCAYAAAE8S7kiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABXWARG5gq8AAAjbSURBVFhH7VkLUFXXFX0FBayaUhirzSTqxPysE2zScUJNzIgitRotAbGQGDRpsBGjVT4CSlAkShQBLaig0vhJTBs1piJRRENBPvKRB7wPj+c0yKeIn1gbK4rCW9373Ps+IBDQR6zRNbPfvfudc++5++6zz91rHwXuEh1u0ExyUzplGCrlEwmXSJT0U117GPqCZFSq1R1v0DOoVCqT3L0Je3xsgVZ69OaLpLaQfCML4wqJjkQjjDtvAMq+boROXwy1RgsD6eYnuHZePukIlXyUoNfrTY/PuGsTegLLQS2FIR5AvAYGvwqG0ZqWWnFown/FEbggHwmN6fIJw2hle68zrpMU6ppQmuItBq3O3wRNVUH7B7hX+F4Gt3zlltJucAf/z8VRMehRzHAaicWDR2Kh0zPwHbMckSHP4JUnJ4n28NB3MM73LxjzrJfQBwz7HUbPXYAJb8TDbfQyRD7nh+eGKjCWZOEwbzh6hGN+fCYmr9yPV94/hH42gfCwce98cKc/fom0cEcMX3ocX8WHmwb3fylWtPPgAZlN8AyaKfSgkL/DxzUUEbHZmLMyWfz39OtrsPjxVTiycKgYfG9uibA2+mAxJn9w5HbLjeDBewMevDtYvmpLuacTzproKqy7EobJeFPIG0Ghb5wG1gJPl75C3xpP69+QTWpxmrXRG9euVuKp7TVCV32ShDpaDzk2GBwfvC4aY8QIs/FnMVKhgMLVX9YZSsSuLRJniR5v4bJBI2IIOIcnua8s2bQMczwxOKZ4LeW44vWUYys9+jFTX4ViLrSFfxZxpq3eh34W92mlb5XJ+J2vmRsU9gPpHwOC6TyDP3cMMt7OK1S07/qn9NeF0u1CX1XQJvSsBF8ohryAhB2LuLVL42eNojFeDkCYxxzxNZWgwuLfeIv77dBcpeFLZeMJZQni/7FBnwi1O+NVWh18h/xE9P+8sEx8WNh49nZe4nTxv9vaLHH9Dybm7wQPjf8hoLKy8rZFrTthPDS+rbUOscVCN+FiVjRo2bEeag7jtZQKWbE++tT4wnUvYcmJm6g/Fo20r4nllGxFUF4b/pWTiPBTQPlHMci7RQRJvx9un11AQaI/Ei1tZeO367DmzTegJ7VkxWyEF/1baiPsmeOK6BMN0G6egS3qm9jo/jTymqihaT8iP6MrWvOxOq0MKIrB7I05QMH7UMxJJS55HJuO1aMsxQe7sk9juaMDTpVrkeQ5AIVKLWba26BEqYJuXxDSSsuhyd6A2EzpwXpsfP722dLJt3V4dEk2UsKcJZ346jyX3VB3MD53wwqUSF9ACRaeTw/zEp+caAvjt3iuwWU+MSgRtvofSHCbiwZSM7wmiL5CZseT0RH4m4ZoZ0sWPi1spB63EPOFCkoy/uN8LZwHyX1JNp9UYrrdZChVGoQMsDffJ3AXj9QL45O9cIOONy+qMHLbWRyOn4VWbrjRgMd++XGPjPdOO4Ol68KEeiU3DCE5ZuNTvAJAE4oGzkDg1irET5SMP7XWFYXnuEGCga7ryvjdJysxeMoKqDRqaXqrtbLxaiRMt0VZRRfT3vRWSBwTKnD9UgYcnANEJ0bBVk9E/FYB5+HPyv+0YB71HTzqV5J6vUFcOykkGW5/bejC85WoOxol+kXt3QqvZflyI7DNbynGT3gCiinBQl8vG8+YMtZJXKMmm7szfld2Mc4UpcKO+ip+HUEvocpkvJrO7frZiPtUVPZytTd6vq9g8vwd4oH+1N0JHmjjH2Q8dPz/Gbgs0dvlqzdiRDvH8wevHau3EPuBj2AjV2UNzSID4DKHVZNfa4I+qlw56Mtkuq9wpqYep7f6iMoEf7hNGYuVxIjbHM+1rI6pngltN3D5SJg8GX6Mn/5sMzRykwnXziN/x+twXH0IGX+SJg1nRcbSj4QWUQLiDInbOUsyloIovxMkgethnC4yOGXkuhinjUAjcr/YiwXzFmGpF10/wh3+xzrslnR0/LfliHt3ovzcLK7wjyqCObm0hBJbZsUjNTgOfv4vSv0p6xKlJcaNAqyPOYANoePx8lPUNnUVDpw1UIr/JWaMH2Ua4/cbMlHPNSaCITsUoz9Mx0frn8cLj0vtb+/UovHEKriMGCRd84edqLrSirO1DR0cX4XqmnREDXPCQPneijeTkFNCJEWjRXVuAqa/moB1ixzgYMv32YbicjURmRDY97c1PU/gLqUps2P0MOLtMPCRRJRzp9bviHh2PGWCXHc3ZoPMBXgDgPkAb/4wJ+DNAMELGMQNeGOA+QFvCjFH6NrxEmfg2mC71NkS3xHxzCl4s8GSV5ihEpkm7wOYsk3iGrwhwXyDN6OYc3Bt0Zh658W8iNUpe6GzeCGGnAj8YmUajnAnImJccxQpOaPlKywZ4YP1B8/I9ctbogbJKTrXITlNZ8czTynd4oVBC5KRWaiERk3Rr66CvnATXrUPRGpumSjOcvrONUpO4XkTLH6aLd7bSTo5WkS6WoOcOA/86L3daG2jSUroXcQzeuJ4Yr7GCrcAMWCudDML5mo3M2FjxVvCJVH5ZlbM1W+rOT5VS8o5HI30wc9pAj/vF4aSZg7a7hxPEU/Mmivogl0ziGFzJZ1ZNlfTmWmbHX8O+yePwbLln0Ivb3B2BPOw9o7PEkVn5mTSotC545mdp69whkNAHDmeIpwdb7l0E2HlwrTZ8RpRnQ/qb4PAtGKUGx1vIUZY3/HNF1GwbjxsHYeDiDvhKuoyE+E9dAGOCStbRP2H9x65BsQb+lwH4n3I8EKpvfZoLN4d6oKoUta/gTJ1Pp5wcsG0w71zPFcO0JSB4KD58E2TJ2LNIYROdYbCxa9dGcUMHfb4jYPDuHcop5G2pJVJ0/BW+Cpk1rN2WhBty4hH00G4j/HE28lF9KGSkBflAt8PdqLiP6Tkh9+R47kmVV17GJFOAzAxeC9OnlZRROtRnDQTDlNW4sCpCugK2kc8TwbdvmD0t5mE1RllqBBEPhdxU23gHnscbYZOIt4q6GSpv7/QyVL/PeKeZPVWwUPH3xXuX8c/xH0A4H+sQgIhfdYH4gAAAABJRU5ErkJggg==";function AE(e){return U.jsx(bk,{anchorEl:e.anchorEl,open:e.open,style:e.marginStyle,children:U.jsx(V1,{in:e.open,children:U.jsxs(pd,{className:"helpContainer",children:[U.jsx("div",{onClick:e.onClose,className:"closeX",children:U.jsx("span",{className:"fa fa-window-close"})}),U.jsxs("div",{children:[U.jsx(Xn,{variant:"h6",component:"h2",children:"Toolbar Buttons"}),U.jsxs(Z1,{children:[U.jsxs(Ks,{children:[U.jsx("span",{className:"fa fa-lock"}),U.jsx(il,{primary:"Toggle Sync Views"})]}),U.jsxs(Ks,{children:[U.jsx("span",{className:"fa fa-book"}),U.jsx(il,{primary:"Toggle Book Mode"})]}),U.jsxs(Ks,{children:[U.jsx("span",{className:"fa fa-code"}),U.jsx(il,{primary:"Toggle XML Mode"})]}),U.jsxs(Ks,{children:[U.jsxs("span",{className:"horizontal-buttons",children:[U.jsx(JC,{}),U.jsx($C,{})]}),U.jsx(il,{primary:"Go Forward / Back"})]}),U.jsxs(Ks,{children:[U.jsx("span",{className:"fa fa-hand-point-right"}),U.jsx(il,{primary:"Jump to folio"})]}),U.jsxs("div",{className:"readingGuide",children:[U.jsx(Xn,{variant:"h6",component:"h2",children:"Reading Guide"}),U.jsxs("table",{children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{children:U.jsx(Xn,{variant:"overline",component:"span",children:"Syntax"})}),U.jsx("th",{children:U.jsx(Xn,{variant:"overline",component:"span",children:"Meaning"})})]})}),U.jsxs("tbody",{children:[U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:uK,alt:"howtouse-ups"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Text is under the paper strip"})})]}),U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:aK,alt:"howtouse-curly"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Expanded version implied by abbreviation marks"})})]}),U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:lK,alt:"howtouse-square"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Editorial interventions and corrections"})})]}),U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx("img",{src:sK,alt:"howtouse-asterisk"})}),U.jsx("td",{children:U.jsx(Xn,{children:"Editorial Comments"})})]})]})]})]})]}),U.jsxs(Xn,{children:["See  ",U.jsx("a",{href:"#/content/how-to-use",children:"How to Use"}),"  for more information."]})]})]})})})}function cK(e){const[i,t]=z.useState(""),n=!!e.anchorEl,r=n?`${e.side}_jumpInput`:void 0,l=p=>{p.preventDefault();const f=new FormData(p.target).get("folioID");e.submitHandler(f,e.side),e.blurHandler(),t("")},h=p=>{t(p.target.value)},d=z.useRef(null);return z.useEffect(()=>{d.current&&d.current.focus()},[d,n]),U.jsx(J1,{id:r,open:n,anchorEl:e.anchorEl,onClose:e.blurHandler,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:U.jsx("form",{onSubmit:l,children:U.jsx("input",{id:r,name:"folioID",onBlur:e.blurHandler,onChange:h,placeholder:"Page Name (e.g. '3r')",ref:d,type:"text",value:i})})})}function dK(e){return U.jsxs("button",{className:e.isActive?"active":"",onClick:e.onClick,type:"button",children:[e.isActive&&U.jsx(YY,{}),e.name]})}function hK(e){const{tagsLeft:i,tagsRight:t,toggleTag:n}=z.useContext(od),r=z.useMemo(()=>e.side==="right"?t:i,[e.side,t,i]);return U.jsxs("div",{className:"tag-bar",children:[U.jsxs("div",{className:"tag-list",children:[U.jsxs("span",{className:"tag-label",children:[U.jsx(QC,{}),"Tags"]}),e.folio.tagIds.map(l=>{let h;return e.document.variorum?h=e.document.tags[e.folio.doc_id]?e.document.tags[e.folio.doc_id][l]:void 0:h=e.document.tags[l],h?U.jsx(dK,{isActive:r.includes(l),name:h,onClick:()=>n(l,e.side)},l):null})]}),U.jsx("button",{className:"tag-bar-close",onClick:e.toggleTags,type:"button",children:U.jsx(KY,{})})]})}const pK={anchorEl:null};function IE(e){return U.jsxs(U.Fragment,{children:[U.jsx("span",{title:"Go back",onClick:e.changeCurrentFolio,"data-id":e.documentView[e.side].previousFolioShortID,className:e.documentView[e.side].hasPrevious?"nav-arrow":"disabled nav-arrow",children:U.jsx(QY,{})}),U.jsx("span",{title:"Go forward",onClick:e.changeCurrentFolio,"data-id":e.documentView[e.side].nextFolioShortID,className:e.documentView[e.side].hasNext?"nav-arrow":"disabled nav-arrow",children:U.jsx(eK,{})})]})}function ME(e){return U.jsx("button",{className:"grid-view-button",style:{cursor:e.documentView[e.side].transcriptionType!=="g"?"pointer":"default",padding:"0 15px"},title:e.documentView[e.side].transcriptionType!=="g"&&"Return to Grid View",onClick:e.documentView[e.side].transcriptionType!=="g"&&e.onGoToGrid,type:"button",children:U.jsx(XY,{})})}function qf(e){return U.jsx("button",{className:`toggle-button ${e.active?"active":""}`,onClick:e.onClick,title:"Toggle XML Mode",type:"button",children:U.jsx(e.icon,{})})}function fK(e){var i;const[t,n]=z.useState({...pK}),[r,l]=z.useState(!1),[h,d]=z.useState(!1),[p,f]=z.useState(!1),g=z.useRef(null),y=z.useRef(null),S=()=>{n({anchorEl:null})},k=ze=>{ze.target.value===void 0||ze.target.value===0||e.documentViewActions.changeTranscriptionType(e.side,ze.target.value)},C=()=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},P=()=>{l(!r)},_=()=>{d(!h)},D=()=>f(!p),q=()=>{e.documentView.bookMode||(e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"left",e.documentView.left.transcriptionType),e.documentViewActions.changeCurrentFolio(e.documentView.left.nextFolioShortID,"right",e.documentView.left.transcriptionType)),e.documentViewActions.setBookMode(e.documentView.left.iiifShortID,!e.documentView.bookMode)},G=()=>{e.documentViewActions.setXMLMode(e.side,!e.documentView[e.side].isXMLMode)},ne=()=>{if(e.documentView.bookMode){q();return}e.documentView.linkedMode===!1&&(e.side==="left"?e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"right",e.documentView.right.transcriptionType):e.documentViewActions.changeCurrentFolio(e.documentView.right.iiifShortID,"left",e.documentView.left.transcriptionType)),e.documentViewActions.setLinkedMode(!e.documentView.linkedMode)},K=ze=>{const{documentViewActions:st,documentView:ee,side:kt}=e;if(typeof ze.currentTarget.dataset.id>"u"||ze.currentTarget.dataset.id.length===0)return;const tt=ze.currentTarget.dataset.id;st.changeCurrentFolio(tt,kt,ee[kt].transcriptionType)},Y=ze=>{n({anchorEl:ze.currentTarget})},{side:se,document:ue,documentView:he,documentViewActions:le,onFilterChange:ye}=e,fe=he[se].transcriptionType==="f"?{color:"white"}:{color:"black"},we=he[se].transcriptionType==="f"?"dark":"light",Ie=he[se].transcriptionType==="glossary"?{visibility:"hidden"}:{visibility:"visible"},je={display:"flex"},Se=he[se].transcriptionType==="f",ge=(i=ue.folioIndex[he[se].iiifShortID])==null?void 0:i.name,Re=se==="left"?{marginRight:"55px"}:{marginRight:"15px"},_e=ge?ue.folioByName[ge]:null,J=z.useMemo(()=>_e?.tagIds&&_e.tagIds.length>0&&ue.tags&&Object.keys(ue.tags).length>0,[_e,ue]);return he?U.jsxs("div",{children:[U.jsx("div",{className:"navigationComponent",children:he[se].transcriptionType!=="glossary"?U.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbs",style:Ie,children:[U.jsxs("div",{className:"toolbar-side toolbar-left",children:[U.jsx(ME,{documentView:he,onGoToGrid:C,side:se}),U.jsxs("div",{className:"folio-path",style:{display:"flex",overflowX:"hidden",justifyContent:"flex-end"},children:[U.jsx("span",{className:"document-title",title:e.documentName||ue.documentName,children:e.documentName||ue.documentName}),U.jsx("span",{children:"/"}),U.jsx("div",{onClick:Y,className:"folioName",style:{flexShrink:"0",minWidth:"40px"},title:ge,children:ge})]}),U.jsx(IE,{changeCurrentFolio:K,side:se,documentView:he})]}),U.jsxs("div",{className:"toolbar-side toolbar-right",children:[U.jsxs("div",{className:"book-mode-toggles",title:"Toggle book mode",onClick:q,children:[U.jsx("button",{className:e.documentView.bookMode?"selected":"",type:"button",children:U.jsx($Y,{})}),U.jsx("button",{className:e.documentView.bookMode?"":"selected",type:"button",children:U.jsx(oK,{})})]}),U.jsxs("label",{className:"lockmode-container",children:[U.jsx("input",{onChange:ne,title:"Toggle coordination of views",type:"checkbox",value:e.documentView.linkedMode}),U.jsx("span",{className:"switch",children:U.jsx("span",{className:"slider",children:U.jsx(rK,{})})})]}),U.jsx("div",{className:"vertical-separator"}),U.jsxs(km,{className:we,style:{...fe,marginRight:15,fontSize:"max(16px, 1rem)"},value:he[se].transcriptionType,id:"doc-type",onClick:k,children:[Object.keys(e.document.folios.find(ze=>ze.id===e.documentView[e.side].iiifShortID).annotationURLs).map(ze=>U.jsx(no,{value:ze,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(st=>st.id===e.documentView[e.side].iiifShortID).doc_id][ze]:e.document.transcriptionTypes[ze]},ze)),U.jsx(no,{value:"f",children:Zs.transcriptionTypeLabels.f},"f"),e.glossary&&U.jsx(no,{value:"glossary",children:Zs.transcriptionTypeLabels.glossary},"glossary"),e.notes&&U.jsx(no,{value:"notes",children:Zs.transcriptionTypeLabels.notes},"notes")]}),!Se&&U.jsx(qf,{onClick:G,active:e.documentView[e.side].isXMLMode,icon:OE}),U.jsx("div",{className:"vertical-separator"}),J&&U.jsx(qf,{active:p,onClick:D,icon:QC}),U.jsxs("button",{title:"Toggle folio help",className:`toggle-button ${r?"active":""}`,onClick:P,ref:g,type:"button",children:[U.jsx(DE,{}),U.jsx(AE,{marginStyle:Re,anchorEl:g.current,open:r,onClose:P})]})]}),U.jsx(cK,{side:se,anchorEl:t.anchorEl,submitHandler:le.jumpToFolio,blurHandler:S})]}):U.jsx(_E,{onFilterChange:ye,value:e.value})}),p&&U.jsx(hK,{document:e.document,folio:_e,toggleTags:D,side:se}),U.jsxs("div",{className:"navigationComponentNarrow",children:[he[se].transcriptionType!=="glossary"?U.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbsNarrow",style:Ie,children:[U.jsx(ME,{documentView:he,onGoToGrid:C,side:se})," ",!Se&&U.jsx(qf,{onClick:G,active:e.documentView[e.side].isXMLMode,icon:OE}),Se&&U.jsx(IE,{changeCurrentFolio:K,side:se,documentView:he})]}):U.jsx(_E,{onFilterChange:ye,value:e.value}),U.jsxs("div",{id:"doc-type-help",style:je,ref:y,children:[U.jsxs(km,{className:we,style:{...fe,marginRight:15,fontSize:"max(16px, 1rem)"},value:he[se].transcriptionType,id:"doc-type",onClick:k,children:[Object.keys(e.document.folios.find(ze=>ze.id===e.documentView[e.side].iiifShortID).annotationURLs).map(ze=>U.jsx(no,{value:ze,title:ze,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(st=>st.id===e.documentView[e.side].iiifShortID).doc_id][ze]:e.document.transcriptionTypes[ze]},ze)),U.jsx(no,{value:"f",children:Zs.transcriptionTypeLabels.f},"f"),e.glossary&&U.jsx(no,{value:"glossary",children:Zs.transcriptionTypeLabels.glossary},"glossary")]}),U.jsx("span",{title:"Toggle folio help",onClick:_,className:"helpIcon",children:U.jsx(DE,{})}),U.jsx(AE,{marginStyle:Re,anchorEl:y.current,open:h,onClose:_})]})]})]}):U.jsx("div",{children:"Unknown Transcription Type"})}function mK(e){return{document:e.document,glossary:!!e.glossary.URL,notes:!!e.notes.URL}}const ns=qi(mK)(fK);class gK extends z.Component{constructor(){super(),Ai(this,"onFilterChange",i=>{const t=i.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}renderGlossary(){const{glossary:i}=this.props.glossary,t=this.state.filterTerm.toLowerCase(),n=Object.values(i.entries),r=(d,p,f)=>{const g=d.split(f);for(const y of g)if(y.startsWith(p))return!0;return!1},l=[];let h=0;for(const d of n){if(t.length===0&&d.headWord[0]===xl[h]){const y=`alpha-${h}`;l.push(U.jsxs(Xn,{variant:"h4",id:y,children:["—",xl[h]," ","—"]},`gloss-heading-${xl[h]}`)),h++}const p=d.headWord.toLowerCase(),f=d.alternateSpellings.toLowerCase(),g=d.modernSpelling.toLowerCase();if(t.length===0||t.length!==0&&r(p,t," ")||t.length!==0&&r(g,t," ")||t.length!==0&&r(f,t,", ")){const y=vK(d),S=y[y.length-1].endsWith("."),k=d.alternateSpellings?`, ${d.alternateSpellings}`:"",C=d.meanings[0].partOfSpeech,P=C?`${C}:`:"",_=C?",":":",D=d.modernSpelling?` (mod. ${d.modernSpelling})`:"",q=S?"":",",G=d.seeAlso?`${q} see also <span>&#8594;</span>${d.seeAlso} `:"",ne=d.synonym?`, syn. <span>&#8594;</span>${d.synonym}`:"",K=d.antonym?`, ant. <span>&#8594;</span>${d.antonym}`:"";l.push(U.jsxs(Xn,{gutterBottom:!0,children:[U.jsx("u",{children:d.headWord}),k,D,_," ",P," ",y.map(Y=>Wi(Y)),Wi(G),Wi(ne),Wi(K)]},`gloss-${d.headWord}`))}}return l}render(){return this.props.glossary.loaded?U.jsxs("div",{id:"glossaryView",style:{position:"relative",overflow:"auto"},children:[U.jsx(ns,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),U.jsx("div",{id:"glossaryViewInner",children:U.jsxs("div",{id:"glossaryContent",children:[U.jsx(Xn,{variant:"h2",className:"title",children:"Glossary"}),this.props.glossary.glossary.title&&U.jsx("div",{className:"subtitle MuiTypography-root MuiTypography-body1",children:U.jsx(Yc,{children:this.props.glossary.glossary.title})}),U.jsx("div",{className:"cite-instructions",children:this.props.glossary.glossary.citation&&U.jsxs(U.Fragment,{children:[U.jsx(Xn,{className:"cite-header",children:"How to Cite"}),U.jsx("div",{className:"MuiTypography-root MuiTypography-body1",children:U.jsx(Yc,{children:this.props.glossary.glossary.citation})})]})}),this.renderGlossary()]})})]}):null}}function vK(e){const i=[];for(let t=0;t<e.meanings.length;t++){const n=e.meanings[t],r=n.references?` [${n.references}]`:"",l=e.meanings.length>1?`${t+1}. `:"",h=t<e.meanings.length-1?" ":"";i.push(`${l}${n.meaning}${r}${h}`)}return i}function yK(e){return{glossary:e.glossary}}const bK=qi(yK)(gK);class Nm extends z.Component{constructor(i){super(i),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const i=this.getParentElement(this.scrollComponent);i.scrollTop=i.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let i=!1;const t={get passive(){i=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch{}return i}eventListenerOptions(){let i=this.props.useCapture;return this.isPassiveSupported()?i={useCapture:this.props.useCapture,passive:!0}:i={passive:!1},i}setDefaultLoader(i){this.defaultLoader=i}detachMousewheelListener(){let i=window;this.props.useWindow===!1&&(i=this.scrollComponent.parentNode),i.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let i=window;this.props.useWindow===!1&&(i=this.getParentElement(this.scrollComponent)),i.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),i.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(i){return(this.props.getScrollParent&&this.props.getScrollParent())??(i&&i.parentNode)}filterProps(i){return i}attachScrollListener(){const i=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!i)return;let t=window;this.props.useWindow===!1&&(t=i),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(i){i.deltaY===1&&!this.isPassiveSupported()&&i.preventDefault()}scrollListener(){const i=this.scrollComponent,t=window,n=this.getParentElement(i);let r;if(this.props.useWindow){const l=document.documentElement||document.body.parentNode||document.body,h=t.pageYOffset!==void 0?t.pageYOffset:l.scrollTop;this.props.isReverse?r=h:r=this.calculateOffset(i,h)}else this.props.isReverse?r=n.scrollTop:r=i.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&i&&i.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(i,t){return i?this.calculateTopPosition(i)+(i.offsetHeight-t-window.innerHeight):0}calculateTopPosition(i){return i?i.offsetTop+this.calculateTopPosition(i.offsetParent):0}render(){const i=this.filterProps(this.props),{children:t,element:n,hasMore:r,initialLoad:l,isReverse:h,loader:d,loadMore:p,pageStart:f,ref:g,threshold:y,useCapture:S,useWindow:k,getScrollParent:C,...P}=i;P.ref=D=>{this.scrollComponent=D,g&&g(D)};const _=[t];return r&&(d?h?_.unshift(d):_.push(d):this.defaultLoader&&(h?_.unshift(this.defaultLoader):_.push(this.defaultLoader))),vt.createElement(n,P,_)}}Ai(Nm,"propTypes",{children:wt.node.isRequired,element:wt.node,hasMore:wt.bool,initialLoad:wt.bool,isReverse:wt.bool,loader:wt.node,loadMore:wt.func.isRequired,pageStart:wt.number,ref:wt.func,getScrollParent:wt.func,threshold:wt.number,useCapture:wt.bool,useWindow:wt.bool}),Ai(Nm,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});class wK extends vt.Component{constructor(i,t){super(i,t),Ai(this,"onJumpToChange",n=>{const r=n.target.value;this.setState({...this.state,jumpToBuffer:r})}),Ai(this,"onJumpTo",n=>{const{jumpToBuffer:r}=this.state,{side:l,document:h,documentViewActions:d}=this.props;if(n.preventDefault(),h.folioByName[r]){const p=h.folioByName[r];p&&d.changeCurrentFolio(p.id,l)}this.setState({...this.state,jumpToBuffer:""})}),Ai(this,"onSelectDoc",n=>{if(!n.target.value||n.target.value==0)return;n.target.value&&n.target.value!=="none"?this.setState({...this.state,currentDoc:n.target.value}):this.setState({...this.state,currentDoc:null});const{documentView:r}=this.props,l=r[this.props.side].iiifShortID,h=this.generateThumbs(l,n.target.value!=="none"?this.props.document.folios.filter(f=>f.doc_id===n.target.value):this.props.document.folios),d=h.length>this.loadIncrement?this.loadIncrement:h.length,p=h.slice(0,d);this.setState({thumbs:h,visibleThumbs:p})}),Ai(this,"onClickThumb",(n,r)=>{this.props.documentViewActions.changeCurrentFolio(n,this.props.side,"f")}),Ai(this,"moreThumbs",()=>{const{thumbs:n}=this.state;let{visibleThumbs:r}=this.state;const l=r.length+this.loadIncrement;n.length>=l?r=n.slice(0,l):r=n,this.setState({visibleThumbs:r})}),this.generateThumbs=this.generateThumbs.bind(this),this.loadIncrement=10,this.state={jumpToBuffer:"",thumbs:"",visibleThumbs:[],currentDoc:i.selectedDoc||null}}componentDidUpdate(i){const{documentView:t}=this.props,n=t[this.props.side].iiifShortID,r=this.props.documentView[this.props.side].iiifShortID;if(n!==r){const l=this.generateThumbs(r,this.state.currentDoc?this.props.document.folios.filter(p=>p.doc_id===this.state.currentDoc):this.props.document.folios),h=l.length>this.loadIncrement?this.loadIncrement:l.length,d=l.slice(0,h);this.setState({thumbs:l,visibleThumbs:d})}}renderToolbar(){return U.jsxs("div",{className:"imageGridToolbar",children:[U.jsx("span",{className:"fas fa-th",style:{paddingLeft:"15px"}}),this.props.document.variorum?this.renderDocSelect():U.jsx("div",{className:"doc-select",style:{marginTop:"5px"},children:this.props.document.documentName}),U.jsx("div",{className:"jump-to",children:U.jsxs("form",{onSubmit:this.onJumpTo,children:[U.jsx("span",{children:"Jump to: "}),U.jsx("input",{id:"jump-to-input",placeholder:"Page Name (e.g. '3r')",onChange:this.onJumpToChange,value:this.state.jumpToBuffer}),U.jsx("button",{id:"jump-to-button",onClick:this.onJumpTo,children:U.jsx("span",{style:{color:"black"},className:"fa fa-hand-point-right"})})]})})]})}renderDocSelect(){return U.jsx("div",{className:"doc-select",children:U.jsx(km,{id:"doc-filter",className:"dark",style:{color:"white",fontSize:"max(16px, 1rem)"},value:this.state.currentDoc||Object.keys(this.props.document.derivativeNames)[0],onClick:this.onSelectDoc,children:Object.keys(this.props.document.derivativeNames).map(i=>U.jsx(no,{value:i,children:this.props.document.derivativeNames[i]},i))})})}componentDidMount(){const{documentView:i}=this.props,t=i[this.props.side].iiifShortID,n=this.generateThumbs(t,this.props.document.variorum&&this.state.currentDoc?this.props.document.folios.filter(h=>h.doc_id===this.state.currentDoc):this.props.document.folios),r=n.length>this.loadIncrement?this.loadIncrement:n.length,l=n.slice(0,r);this.setState({thumbs:n,visibleThumbs:l})}generateThumbs(i,t){return t.map((n,r)=>U.jsxs("li",{className:"thumbnail",children:[U.jsx("figure",{children:U.jsx("a",{id:n.id,onClick:this.onClickThumb.bind(this,n.id),children:U.jsx("img",{src:n.image_thumbnail_url,alt:n.name,style:{maxWidth:"130px",maxHeight:"130px"},onError:({currentTarget:l})=>{l.onerror=null,n.image_zoom_url&&l.src!==`${n.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`&&(l.src=`${n.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`)}})})}),U.jsx("figcaption",{className:"thumbnail-caption",children:n.name})]},`thumb-${r}`))}hasMore(){return this.state.visibleThumbs.length!==this.state.thumbs.length}render(){let i="imageGridComponent";i=`${i} ${this.props.side}`;let{visibleThumbs:t}=this.state;return t.constructor.toString().includes("Array")||(t=[]),U.jsxs("div",{className:i,children:[this.renderToolbar(),U.jsx(Nm,{element:"ul",loadMore:this.moreThumbs,hasMore:this.hasMore(),useWindow:!1,children:t})]})}}function xK(e){return{document:e.document}}const SK=qi(xK)(wK);var eP={exports:{}};(function(e,i){(function(t,n){e.exports=n()})(ii,function(){var t=Object.defineProperty,n=(s,u,o)=>u in s?t(s,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[u]=o,r=(s,u,o)=>(n(s,typeof u!="symbol"?u+"":u,o),o),l,h,d,p,f,g,y,S={},k=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(s,u){for(var o in u)s[o]=u[o];return s}function _(s){var u=s.parentNode;u&&u.removeChild(s)}function D(s,u,o){var a,c,m,v={};for(m in u)m=="key"?a=u[m]:m=="ref"?c=u[m]:v[m]=u[m];if(arguments.length>2&&(v.children=arguments.length>3?l.call(arguments,2):o),typeof s=="function"&&s.defaultProps!=null)for(m in s.defaultProps)v[m]===void 0&&(v[m]=s.defaultProps[m]);return q(s,v,a,c,null)}function q(s,u,o,a,c){var m={type:s,props:u,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:c??++d};return c==null&&h.vnode!=null&&h.vnode(m),m}function G(){return{current:null}}function ne(s){return s.children}function K(s,u){this.props=s,this.context=u}function Y(s,u){if(u==null)return s.__?Y(s.__,s.__.__k.indexOf(s)+1):null;for(var o;u<s.__k.length;u++)if((o=s.__k[u])!=null&&o.__e!=null)return o.__e;return typeof s.type=="function"?Y(s):null}function se(s){var u,o;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,u=0;u<s.__k.length;u++)if((o=s.__k[u])!=null&&o.__e!=null){s.__e=s.__c.base=o.__e;break}return se(s)}}function ue(s){(!s.__d&&(s.__d=!0)&&p.push(s)&&!he.__r++||g!==h.debounceRendering)&&((g=h.debounceRendering)||f)(he)}function he(){for(var s;he.__r=p.length;)s=p.sort(function(u,o){return u.__v.__b-o.__v.__b}),p=[],s.some(function(u){var o,a,c,m,v,b;u.__d&&(v=(m=(o=u).__v).__e,(b=o.__P)&&(a=[],(c=P({},m)).__v=m.__v+1,_e(b,m,c,o.__n,b.ownerSVGElement!==void 0,m.__h!=null?[v]:null,a,v??Y(m),m.__h),J(a,m),m.__e!=v&&se(m)))})}function le(s,u,o,a,c,m,v,b,w,x){var E,O,A,H,X,ae,ie,de=a&&a.__k||k,M=de.length;for(o.__k=[],E=0;E<u.length;E++)if((H=o.__k[E]=(H=u[E])==null||typeof H=="boolean"?null:typeof H=="string"||typeof H=="number"||typeof H=="bigint"?q(null,H,null,null,H):Array.isArray(H)?q(ne,{children:H},null,null,null):H.__b>0?q(H.type,H.props,H.key,null,H.__v):H)!=null){if(H.__=o,H.__b=o.__b+1,(A=de[E])===null||A&&H.key==A.key&&H.type===A.type)de[E]=void 0;else for(O=0;O<M;O++){if((A=de[O])&&H.key==A.key&&H.type===A.type){de[O]=void 0;break}A=null}_e(s,H,A=A||S,c,m,v,b,w,x),X=H.__e,(O=H.ref)&&A.ref!=O&&(ie||(ie=[]),A.ref&&ie.push(A.ref,null,H),ie.push(O,H.__c||X,H)),X!=null?(ae==null&&(ae=X),typeof H.type=="function"&&H.__k===A.__k?H.__d=w=ye(H,w,s):w=we(s,H,A,de,X,w),typeof o.type=="function"&&(o.__d=w)):w&&A.__e==w&&w.parentNode!=s&&(w=Y(A))}for(o.__e=ae,E=M;E--;)de[E]!=null&&(typeof o.type=="function"&&de[E].__e!=null&&de[E].__e==o.__d&&(o.__d=Y(a,E+1)),ee(de[E],de[E]));if(ie)for(E=0;E<ie.length;E++)st(ie[E],ie[++E],ie[++E])}function ye(s,u,o){for(var a,c=s.__k,m=0;c&&m<c.length;m++)(a=c[m])&&(a.__=s,u=typeof a.type=="function"?ye(a,u,o):we(o,a,a,c,a.__e,u));return u}function fe(s,u){return u=u||[],s==null||typeof s=="boolean"||(Array.isArray(s)?s.some(function(o){fe(o,u)}):u.push(s)),u}function we(s,u,o,a,c,m){var v,b,w;if(u.__d!==void 0)v=u.__d,u.__d=void 0;else if(o==null||c!=m||c.parentNode==null)e:if(m==null||m.parentNode!==s)s.appendChild(c),v=null;else{for(b=m,w=0;(b=b.nextSibling)&&w<a.length;w+=2)if(b==c)break e;s.insertBefore(c,m),v=m}return v!==void 0?v:c.nextSibling}function Ie(s,u,o,a,c){var m;for(m in o)m==="children"||m==="key"||m in u||Se(s,m,null,o[m],a);for(m in u)c&&typeof u[m]!="function"||m==="children"||m==="key"||m==="value"||m==="checked"||o[m]===u[m]||Se(s,m,u[m],o[m],a)}function je(s,u,o){u[0]==="-"?s.setProperty(u,o):s[u]=o==null?"":typeof o!="number"||C.test(u)?o:o+"px"}function Se(s,u,o,a,c){var m;e:if(u==="style")if(typeof o=="string")s.style.cssText=o;else{if(typeof a=="string"&&(s.style.cssText=a=""),a)for(u in a)o&&u in o||je(s.style,u,"");if(o)for(u in o)a&&o[u]===a[u]||je(s.style,u,o[u])}else if(u[0]==="o"&&u[1]==="n")m=u!==(u=u.replace(/Capture$/,"")),u=u.toLowerCase()in s?u.toLowerCase().slice(2):u.slice(2),s.l||(s.l={}),s.l[u+m]=o,o?a||s.addEventListener(u,m?Re:ge,m):s.removeEventListener(u,m?Re:ge,m);else if(u!=="dangerouslySetInnerHTML"){if(c)u=u.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u in s)try{s[u]=o??"";break e}catch{}typeof o=="function"||(o!=null&&(o!==!1||u[0]==="a"&&u[1]==="r")?s.setAttribute(u,o):s.removeAttribute(u))}}function ge(s){this.l[s.type+!1](h.event?h.event(s):s)}function Re(s){this.l[s.type+!0](h.event?h.event(s):s)}function _e(s,u,o,a,c,m,v,b,w){var x,E,O,A,H,X,ae,ie,de,M,oe,be=u.type;if(u.constructor!==void 0)return null;o.__h!=null&&(w=o.__h,b=u.__e=o.__e,u.__h=null,m=[b]),(x=h.__b)&&x(u);try{e:if(typeof be=="function"){if(ie=u.props,de=(x=be.contextType)&&a[x.__c],M=x?de?de.props.value:x.__:a,o.__c?ae=(E=u.__c=o.__c).__=E.__E:("prototype"in be&&be.prototype.render?u.__c=E=new be(ie,M):(u.__c=E=new K(ie,M),E.constructor=be,E.render=kt),de&&de.sub(E),E.props=ie,E.state||(E.state={}),E.context=M,E.__n=a,O=E.__d=!0,E.__h=[]),E.__s==null&&(E.__s=E.state),be.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=P({},E.__s)),P(E.__s,be.getDerivedStateFromProps(ie,E.__s))),A=E.props,H=E.state,O)be.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(be.getDerivedStateFromProps==null&&ie!==A&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(ie,M),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(ie,E.__s,M)===!1||u.__v===o.__v){E.props=ie,E.state=E.__s,u.__v!==o.__v&&(E.__d=!1),E.__v=u,u.__e=o.__e,u.__k=o.__k,u.__k.forEach(function(ve){ve&&(ve.__=u)}),E.__h.length&&v.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(ie,E.__s,M),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(A,H,X)})}E.context=M,E.props=ie,E.state=E.__s,(x=h.__r)&&x(u),E.__d=!1,E.__v=u,E.__P=s,x=E.render(E.props,E.state,E.context),E.state=E.__s,E.getChildContext!=null&&(a=P(P({},a),E.getChildContext())),O||E.getSnapshotBeforeUpdate==null||(X=E.getSnapshotBeforeUpdate(A,H)),oe=x!=null&&x.type===ne&&x.key==null?x.props.children:x,le(s,Array.isArray(oe)?oe:[oe],u,o,a,c,m,v,b,w),E.base=u.__e,u.__h=null,E.__h.length&&v.push(E),ae&&(E.__E=E.__=null),E.__e=!1}else m==null&&u.__v===o.__v?(u.__k=o.__k,u.__e=o.__e):u.__e=ze(o.__e,u,o,a,c,m,v,w);(x=h.diffed)&&x(u)}catch(ve){u.__v=null,(w||m!=null)&&(u.__e=b,u.__h=!!w,m[m.indexOf(b)]=null),h.__e(ve,u,o)}}function J(s,u){h.__c&&h.__c(u,s),s.some(function(o){try{s=o.__h,o.__h=[],s.some(function(a){a.call(o)})}catch(a){h.__e(a,o.__v)}})}function ze(s,u,o,a,c,m,v,b){var w,x,E,O=o.props,A=u.props,H=u.type,X=0;if(H==="svg"&&(c=!0),m!=null){for(;X<m.length;X++)if((w=m[X])&&"setAttribute"in w==!!H&&(H?w.localName===H:w.nodeType===3)){s=w,m[X]=null;break}}if(s==null){if(H===null)return document.createTextNode(A);s=c?document.createElementNS("http://www.w3.org/2000/svg",H):document.createElement(H,A.is&&A),m=null,b=!1}if(H===null)O===A||b&&s.data===A||(s.data=A);else{if(m=m&&l.call(s.childNodes),x=(O=o.props||S).dangerouslySetInnerHTML,E=A.dangerouslySetInnerHTML,!b){if(m!=null)for(O={},X=0;X<s.attributes.length;X++)O[s.attributes[X].name]=s.attributes[X].value;(E||x)&&(E&&(x&&E.__html==x.__html||E.__html===s.innerHTML)||(s.innerHTML=E&&E.__html||""))}if(Ie(s,A,O,c,b),E)u.__k=[];else if(X=u.props.children,le(s,Array.isArray(X)?X:[X],u,o,a,c&&H!=="foreignObject",m,v,m?m[0]:o.__k&&Y(o,0),b),m!=null)for(X=m.length;X--;)m[X]!=null&&_(m[X]);b||("value"in A&&(X=A.value)!==void 0&&(X!==O.value||X!==s.value||H==="progress"&&!X)&&Se(s,"value",X,O.value,!1),"checked"in A&&(X=A.checked)!==void 0&&X!==s.checked&&Se(s,"checked",X,O.checked,!1))}return s}function st(s,u,o){try{typeof s=="function"?s(u):s.current=u}catch(a){h.__e(a,o)}}function ee(s,u,o){var a,c;if(h.unmount&&h.unmount(s),(a=s.ref)&&(a.current&&a.current!==s.__e||st(a,null,u)),(a=s.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(m){h.__e(m,u)}a.base=a.__P=null}if(a=s.__k)for(c=0;c<a.length;c++)a[c]&&ee(a[c],u,typeof s.type!="function");o||s.__e==null||_(s.__e),s.__e=s.__d=void 0}function kt(s,u,o){return this.constructor(s,o)}function tt(s,u,o){var a,c,m;h.__&&h.__(s,u),c=(a=typeof o=="function")?null:o&&o.__k||u.__k,m=[],_e(u,s=(!a&&o||u).__k=D(ne,null,[s]),c||S,S,u.ownerSVGElement!==void 0,!a&&o?[o]:c?null:u.firstChild?l.call(u.childNodes):null,m,!a&&o?o:c?c.__e:u.firstChild,a),J(m,s)}function at(s,u){tt(s,u,at)}function yt(s,u,o){var a,c,m,v=P({},s.props);for(m in u)m=="key"?a=u[m]:m=="ref"?c=u[m]:v[m]=u[m];return arguments.length>2&&(v.children=arguments.length>3?l.call(arguments,2):o),q(s.type,v,a||s.key,c||s.ref,null)}function Ot(s,u){var o={__c:u="__cC"+y++,__:s,Consumer:function(a,c){return a.children(c)},Provider:function(a){var c,m;return this.getChildContext||(c=[],(m={})[u]=this,this.getChildContext=function(){return m},this.shouldComponentUpdate=function(v){this.props.value!==v.value&&c.some(ue)},this.sub=function(v){c.push(v);var b=v.componentWillUnmount;v.componentWillUnmount=function(){c.splice(c.indexOf(v),1),b&&b.call(v)}}),a.children}};return o.Provider.__=o.Consumer.contextType=o}l=k.slice,h={__e:function(s,u){for(var o,a,c;u=u.__;)if((o=u.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(s)),c=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(s),c=o.__d),c)return o.__E=o}catch(m){s=m}throw s}},d=0,K.prototype.setState=function(s,u){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof s=="function"&&(s=s(P({},o),this.props)),s&&P(o,s),s!=null&&this.__v&&(u&&this.__h.push(u),ue(this))},K.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),ue(this))},K.prototype.render=ne,p=[],f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,he.__r=0,y=0;var Tt,rt,Ye,xt=0,Ht=[],on=h.__b,Dt=h.__r,Yt=h.diffed,I=h.__c,Q=h.unmount;function xe(s,u){h.__h&&h.__h(rt,s,xt||u),xt=0;var o=rt.__H||(rt.__H={__:[],__h:[]});return s>=o.__.length&&o.__.push({}),o.__[s]}function Ne(s){return xt=1,Be(He,s)}function Be(s,u,o){var a=xe(Tt++,2);return a.t=s,a.__c||(a.__=[o?o(u):He(void 0,u),function(c){var m=a.t(a.__[0],c);a.__[0]!==m&&(a.__=[m,a.__[1]],a.__c.setState({}))}],a.__c=rt),a.__}function $e(s,u){var o=xe(Tt++,3);!h.__s&&gt(o.__H,u)&&(o.__=s,o.__H=u,rt.__H.__h.push(o))}function Ke(s,u){var o=xe(Tt++,4);!h.__s&&gt(o.__H,u)&&(o.__=s,o.__H=u,rt.__h.push(o))}function Et(s){return xt=5,Lt(function(){return{current:s}},[])}function It(s,u,o){xt=6,Ke(function(){typeof s=="function"?s(u()):s&&(s.current=u())},o==null?o:o.concat(s))}function Lt(s,u){var o=xe(Tt++,7);return gt(o.__H,u)&&(o.__=s(),o.__H=u,o.__h=s),o.__}function me(s,u){return xt=8,Lt(function(){return s},u)}function Ae(s){var u=rt.context[s.__c],o=xe(Tt++,9);return o.c=s,u?(o.__==null&&(o.__=!0,u.sub(rt)),u.props.value):s.__}function L(s,u){h.useDebugValue&&h.useDebugValue(u?u(s):s)}function N(s){var u=xe(Tt++,10),o=Ne();return u.__=s,rt.componentDidCatch||(rt.componentDidCatch=function(a){u.__&&u.__(a),o[1](a)}),[o[0],function(){o[1](void 0)}]}function W(){var s;for(Ht.sort(function(u,o){return u.__v.__b-o.__v.__b});s=Ht.pop();)if(s.__P)try{s.__H.__h.forEach(Te),s.__H.__h.forEach(Ue),s.__H.__h=[]}catch(u){s.__H.__h=[],h.__e(u,s.__v)}}h.__b=function(s){rt=null,on&&on(s)},h.__r=function(s){Dt&&Dt(s),Tt=0;var u=(rt=s.__c).__H;u&&(u.__h.forEach(Te),u.__h.forEach(Ue),u.__h=[])},h.diffed=function(s){Yt&&Yt(s);var u=s.__c;u&&u.__H&&u.__H.__h.length&&(Ht.push(u)!==1&&Ye===h.requestAnimationFrame||((Ye=h.requestAnimationFrame)||function(o){var a,c=function(){clearTimeout(m),Z&&cancelAnimationFrame(a),setTimeout(o)},m=setTimeout(c,100);Z&&(a=requestAnimationFrame(c))})(W)),rt=null},h.__c=function(s,u){u.some(function(o){try{o.__h.forEach(Te),o.__h=o.__h.filter(function(a){return!a.__||Ue(a)})}catch(a){u.some(function(c){c.__h&&(c.__h=[])}),u=[],h.__e(a,o.__v)}}),I&&I(s,u)},h.unmount=function(s){Q&&Q(s);var u,o=s.__c;o&&o.__H&&(o.__H.__.forEach(function(a){try{Te(a)}catch(c){u=c}}),u&&h.__e(u,o.__v))};var Z=typeof requestAnimationFrame=="function";function Te(s){var u=rt,o=s.__c;typeof o=="function"&&(s.__c=void 0,o()),rt=u}function Ue(s){var u=rt;s.__c=s.__(),rt=u}function gt(s,u){return!s||s.length!==u.length||u.some(function(o,a){return o!==s[a]})}function He(s,u){return typeof u=="function"?u(s):u}function lt(s,u){for(var o in u)s[o]=u[o];return s}function _n(s,u){for(var o in s)if(o!=="__source"&&!(o in u))return!0;for(var a in u)if(a!=="__source"&&s[a]!==u[a])return!0;return!1}function en(s){this.props=s}function oi(s,u){function o(c){var m=this.props.ref,v=m==c.ref;return!v&&m&&(m.call?m(null):m.current=null),u?!u(this.props,c)||!v:_n(this.props,c)}function a(c){return this.shouldComponentUpdate=o,D(s,c)}return a.displayName="Memo("+(s.displayName||s.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(en.prototype=new K).isPureReactComponent=!0,en.prototype.shouldComponentUpdate=function(s,u){return _n(this.props,s)||_n(this.state,u)};var yo=h.__b;h.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),yo&&yo(s)};var zi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function kr(s){function u(o,a){var c=lt({},o);return delete c.ref,s(c,(a=o.ref||a)&&(typeof a!="object"||"current"in a)?a:null)}return u.$$typeof=zi,u.render=u,u.prototype.isReactComponent=u.__f=!0,u.displayName="ForwardRef("+(s.displayName||s.name)+")",u}var ut=function(s,u){return s==null?null:fe(fe(s).map(u))},us={map:ut,forEach:ut,count:function(s){return s?fe(s).length:0},only:function(s){var u=fe(s);if(u.length!==1)throw"Children.only";return u[0]},toArray:fe},zd=h.__e;h.__e=function(s,u,o){if(s.then){for(var a,c=u;c=c.__;)if((a=c.__c)&&a.__c)return u.__e==null&&(u.__e=o.__e,u.__k=o.__k),a.__c(s,u)}zd(s,u,o)};var Zl=h.unmount;function Un(){this.__u=0,this.t=null,this.__b=null}function bo(s){var u=s.__.__c;return u&&u.__e&&u.__e(s)}function cs(s){var u,o,a;function c(m){if(u||(u=s()).then(function(v){o=v.default||v},function(v){a=v}),a)throw a;if(!o)throw u;return D(o,m)}return c.displayName="Lazy",c.__f=!0,c}function Cr(){this.u=null,this.o=null}h.unmount=function(s){var u=s.__c;u&&u.__R&&u.__R(),u&&s.__h===!0&&(s.type=null),Zl&&Zl(s)},(Un.prototype=new K).__c=function(s,u){var o=u.__c,a=this;a.t==null&&(a.t=[]),a.t.push(o);var c=bo(a.__v),m=!1,v=function(){m||(m=!0,o.__R=null,c?c(b):b())};o.__R=v;var b=function(){if(!--a.__u){if(a.state.__e){var x=a.state.__e;a.__v.__k[0]=function O(A,H,X){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function(ae){return O(ae,H,X)}),A.__c&&A.__c.__P===H&&(A.__e&&X.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=X)),A}(x,x.__c.__P,x.__c.__O)}var E;for(a.setState({__e:a.__b=null});E=a.t.pop();)E.forceUpdate()}},w=u.__h===!0;a.__u++||w||a.setState({__e:a.__b=a.__v.__k[0]}),s.then(v,v)},Un.prototype.componentWillUnmount=function(){this.t=[]},Un.prototype.render=function(s,u){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=function m(v,b,w){return v&&(v.__c&&v.__c.__H&&(v.__c.__H.__.forEach(function(x){typeof x.__c=="function"&&x.__c()}),v.__c.__H=null),(v=lt({},v)).__c!=null&&(v.__c.__P===w&&(v.__c.__P=b),v.__c=null),v.__k=v.__k&&v.__k.map(function(x){return m(x,b,w)})),v}(this.__b,o,a.__O=a.__P)}this.__b=null}var c=u.__e&&D(ne,null,s.fallback);return c&&(c.__h=null),[D(ne,null,u.__e?null:s.children),c]};var pr=function(s,u,o){if(++o[1]===o[0]&&s.o.delete(u),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.o.size))for(o=s.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;s.u=o=o[2]}};function Jl(s){return this.getChildContext=function(){return s.context},s.children}function wi(s){var u=this,o=s.i;u.componentWillUnmount=function(){tt(null,u.l),u.l=null,u.i=null},u.i&&u.i!==o&&u.componentWillUnmount(),s.__v?(u.l||(u.i=o,u.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(a){this.childNodes.push(a),u.i.appendChild(a)},insertBefore:function(a,c){this.childNodes.push(a),u.i.appendChild(a)},removeChild:function(a){this.childNodes.splice(this.childNodes.indexOf(a)>>>1,1),u.i.removeChild(a)}}),tt(D(Jl,{context:u.context},s.__v),u.l)):u.l&&u.componentWillUnmount()}function ds(s,u){return D(wi,{__v:s,i:u})}(Cr.prototype=new K).__e=function(s){var u=this,o=bo(u.__v),a=u.o.get(s);return a[0]++,function(c){var m=function(){u.props.revealOrder?(a.push(c),pr(u,s,a)):c()};o?o(m):m()}},Cr.prototype.render=function(s){this.u=null,this.o=new Map;var u=fe(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&u.reverse();for(var o=u.length;o--;)this.o.set(u[o],this.u=[1,0,this.u]);return s.children},Cr.prototype.componentDidUpdate=Cr.prototype.componentDidMount=function(){var s=this;this.o.forEach(function(u,o){pr(s,o,u)})};var Pr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$l=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ql=typeof document<"u",si=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(s)};function ya(s,u,o){return u.__k==null&&(u.textContent=""),tt(s,u),typeof o=="function"&&o(),s?s.__c:null}function eu(s,u,o){return at(s,u),typeof o=="function"&&o(),s?s.__c:null}K.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(K.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(u){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:u})}})});var tu=h.event;function ba(){}function nu(){return this.cancelBubble}function hs(){return this.defaultPrevented}h.event=function(s){return tu&&(s=tu(s)),s.persist=ba,s.isPropagationStopped=nu,s.isDefaultPrevented=hs,s.nativeEvent=s};var Li,wo={configurable:!0,get:function(){return this.class}},ps=h.vnode;h.vnode=function(s){var u=s.type,o=s.props,a=o;if(typeof u=="string"){var c=u.indexOf("-")===-1;for(var m in a={},o){var v=o[m];Ql&&m==="children"&&u==="noscript"||m==="value"&&"defaultValue"in o&&v==null||(m==="defaultValue"&&"value"in o&&o.value==null?m="value":m==="download"&&v===!0?v="":/ondoubleclick/i.test(m)?m="ondblclick":/^onchange(textarea|input)/i.test(m+u)&&!si(o.type)?m="oninput":/^onfocus$/i.test(m)?m="onfocusin":/^onblur$/i.test(m)?m="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(m)?m=m.toLowerCase():c&&$l.test(m)?m=m.replace(/[A-Z0-9]/,"-$&").toLowerCase():v===null&&(v=void 0),a[m]=v)}u=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=fe(o.children).forEach(function(b){b.props.selected=a.value.indexOf(b.props.value)!=-1})),u=="select"&&a.defaultValue!=null&&(a.value=fe(o.children).forEach(function(b){b.props.selected=a.multiple?a.defaultValue.indexOf(b.props.value)!=-1:a.defaultValue==b.props.value})),s.props=a,o.class!=o.className&&(wo.enumerable="className"in o,o.className!=null&&(a.class=o.className),Object.defineProperty(a,"className",wo))}s.$$typeof=Pr,ps&&ps(s)};var wa=h.__r;h.__r=function(s){wa&&wa(s),Li=s.__c};var xa={ReactCurrentDispatcher:{current:{readContext:function(s){return Li.__n[s.__c].props.value}}}},iu="17.0.2";function Hr(s){return D.bind(null,s)}function fs(s){return!!s&&s.$$typeof===Pr}function xo(s){return fs(s)?yt.apply(null,arguments):s}function Sa(s){return!!s.__k&&(tt(null,s),!0)}function _r(s){return s&&(s.base||s.nodeType===1&&s)||null}var ms=function(s,u){return s(u)},Ea=function(s,u){return s(u)},ru=ne,Le={useState:Ne,useReducer:Be,useEffect:$e,useLayoutEffect:Ke,useRef:Et,useImperativeHandle:It,useMemo:Lt,useCallback:me,useContext:Ae,useDebugValue:L,version:"17.0.2",Children:us,render:ya,hydrate:eu,unmountComponentAtNode:Sa,createPortal:ds,createElement:D,createContext:Ot,createFactory:Hr,cloneElement:xo,createRef:G,Fragment:ne,isValidElement:fs,findDOMNode:_r,Component:K,PureComponent:en,memo:oi,forwardRef:kr,flushSync:Ea,unstable_batchedUpdates:ms,StrictMode:ne,Suspense:Un,SuspenseList:Cr,lazy:cs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xa},Ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Le,version:iu,Children:us,render:ya,hydrate:eu,unmountComponentAtNode:Sa,createPortal:ds,createFactory:Hr,cloneElement:xo,isValidElement:fs,findDOMNode:_r,PureComponent:en,memo:oi,forwardRef:kr,flushSync:Ea,unstable_batchedUpdates:ms,StrictMode:ru,Suspense:Un,SuspenseList:Cr,lazy:cs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xa,createElement:D,createContext:Ot,createRef:G,Fragment:ne,Component:K,useState:Ne,useReducer:Be,useEffect:$e,useLayoutEffect:Ke,useRef:Et,useImperativeHandle:It,useMemo:Lt,useCallback:me,useContext:Ae,useDebugValue:L,useErrorBoundary:N}),rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ii<"u"?ii:typeof self<"u"?self:{};function So(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Eo(s){if(s.__esModule)return s;var u=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(o){var a=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(u,o,a.get?a:{enumerable:!0,get:function(){return s[o]}})}),u}var Sn={exports:{}};function Fr(){}Fr.prototype={on:function(s,u,o){var a=this.e||(this.e={});return(a[s]||(a[s]=[])).push({fn:u,ctx:o}),this},once:function(s,u,o){var a=this;function c(){a.off(s,c),u.apply(o,arguments)}return c._=u,this.on(s,c,o)},emit:function(s){var u=[].slice.call(arguments,1),o=((this.e||(this.e={}))[s]||[]).slice(),a=0,c=o.length;for(a;a<c;a++)o[a].fn.apply(o[a].ctx,u);return this},off:function(s,u){var o=this.e||(this.e={}),a=o[s],c=[];if(a&&u)for(var m=0,v=a.length;m<v;m++)a[m].fn!==u&&a[m].fn._!==u&&c.push(a[m]);return c.length?o[s]=c:delete o[s],this}},Sn.exports=Fr,Sn.exports.TinyEmitter=Fr;var Xi=Sn.exports,Rr={exports:{}},To={},or=Eo(Ta),sr={exports:{}},Ld="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bd=Ld,ka=Bd;function Ca(){}function gs(){}gs.resetWarningCache=Ca;var Pa=function(){function s(a,c,m,v,b,w){if(w!==ka){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function u(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:gs,resetWarningCache:Ca};return o.PropTypes=o,o};sr.exports=Pa();function ou(s){var u,o,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s))for(u=0;u<s.length;u++)s[u]&&(o=ou(s[u]))&&(a&&(a+=" "),a+=o);else for(u in s)s[u]&&(a&&(a+=" "),a+=u);return a}function ko(){for(var s,u,o=0,a="";o<arguments.length;)(s=arguments[o++])&&(u=ou(s))&&(a&&(a+=" "),a+=u);return a}var vs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",clsx:ko,default:ko}),Or=Eo(vs),On={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.dontSetMe=_a,Wn.findInArray=Vr,Wn.int=_t,Wn.isFunction=ys,Wn.isNum=Nd;function Vr(s,u){for(var o=0,a=s.length;o<a;o++)if(u.apply(u,[s[o],o,s]))return s[o]}function ys(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function Nd(s){return typeof s=="number"&&!isNaN(s)}function _t(s){return parseInt(s,10)}function _a(s,u,o){if(s[u])return new Error("Invalid prop ".concat(u," passed to ").concat(o," - do not set this, set it on the child."))}var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.browserPrefixToKey=ar,Yi.browserPrefixToStyle=Co,Yi.default=void 0,Yi.getPrefix=Ur;var bs=["Moz","Webkit","O","ms"];function Ur(){var s,u,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var a=(s=window.document)===null||s===void 0||(u=s.documentElement)===null||u===void 0?void 0:u.style;if(!a||o in a)return"";for(var c=0;c<bs.length;c++)if(ar(o,bs[c])in a)return bs[c];return""}function ar(s,u){return u?"".concat(u).concat(ws(s)):s}function Co(s,u){return u?"-".concat(u.toLowerCase(),"-").concat(s):s}function ws(s){for(var u="",o=!0,a=0;a<s.length;a++)o?(u+=s[a].toUpperCase(),o=!1):s[a]==="-"?o=!0:u+=s[a];return u}var su=Ur();Yi.default=su;function T(s){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},T(s)}Object.defineProperty(On,"__esModule",{value:!0}),On.addClassName=Oa,On.addEvent=Kn,On.addUserSelectStyles=Xd,On.createCSSTransform=Ud,On.createSVGTransform=Wd,On.getTouch=Gd,On.getTouchIdentifier=qd,On.getTranslation=Ra,On.innerHeight=Fd,On.innerWidth=lu,On.matchesSelector=Kt,On.matchesSelectorAndParentsTo=Fn,On.offsetXYFromParent=Vd,On.outerHeight=Hd,On.outerWidth=au,On.removeClassName=uu,On.removeEvent=jd,On.removeUserSelectStyles=Yd;var R=Wn,j=pe(Yi);function $(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,o=new WeakMap;return($=function(a){return a?o:u})(s)}function pe(s,u){if(s&&s.__esModule)return s;if(s===null||T(s)!=="object"&&typeof s!="function")return{default:s};var o=$(u);if(o&&o.has(s))return o.get(s);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var v=c?Object.getOwnPropertyDescriptor(s,m):null;v&&(v.get||v.set)?Object.defineProperty(a,m,v):a[m]=s[m]}return a.default=s,o&&o.set(s,a),a}function Oe(s,u){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);u&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),o.push.apply(o,a)}return o}function Ve(s){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{};u%2?Oe(Object(o),!0).forEach(function(a){Wt(s,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):Oe(Object(o)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}return s}function Wt(s,u,o){return u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}var an="";function Kt(s,u){return an||(an=(0,R.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,R.isFunction)(s[o])})),(0,R.isFunction)(s[an])?s[an](u):!1}function Fn(s,u,o){var a=s;do{if(Kt(a,u))return!0;if(a===o)return!1;a=a.parentNode}while(a);return!1}function Kn(s,u,o,a){if(s){var c=Ve({capture:!0},a);s.addEventListener?s.addEventListener(u,o,c):s.attachEvent?s.attachEvent("on"+u,o):s["on"+u]=o}}function jd(s,u,o,a){if(s){var c=Ve({capture:!0},a);s.removeEventListener?s.removeEventListener(u,o,c):s.detachEvent?s.detachEvent("on"+u,o):s["on"+u]=null}}function Hd(s){var u=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return u+=(0,R.int)(o.borderTopWidth),u+=(0,R.int)(o.borderBottomWidth),u}function au(s){var u=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return u+=(0,R.int)(o.borderLeftWidth),u+=(0,R.int)(o.borderRightWidth),u}function Fd(s){var u=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return u-=(0,R.int)(o.paddingTop),u-=(0,R.int)(o.paddingBottom),u}function lu(s){var u=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return u-=(0,R.int)(o.paddingLeft),u-=(0,R.int)(o.paddingRight),u}function Vd(s,u,o){var a=u===u.ownerDocument.body,c=a?{left:0,top:0}:u.getBoundingClientRect(),m=(s.clientX+u.scrollLeft-c.left)/o,v=(s.clientY+u.scrollTop-c.top)/o;return{x:m,y:v}}function Ud(s,u){var o=Ra(s,u,"px");return Wt({},(0,j.browserPrefixToKey)("transform",j.default),o)}function Wd(s,u){var o=Ra(s,u,"");return o}function Ra(s,u,o){var a=s.x,c=s.y,m="translate(".concat(a).concat(o,",").concat(c).concat(o,")");if(u){var v="".concat(typeof u.x=="string"?u.x:u.x+o),b="".concat(typeof u.y=="string"?u.y:u.y+o);m="translate(".concat(v,", ").concat(b,")")+m}return m}function Gd(s,u){return s.targetTouches&&(0,R.findInArray)(s.targetTouches,function(o){return u===o.identifier})||s.changedTouches&&(0,R.findInArray)(s.changedTouches,function(o){return u===o.identifier})}function qd(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function Xd(s){if(s){var u=s.getElementById("react-draggable-style-el");u||(u=s.createElement("style"),u.type="text/css",u.id="react-draggable-style-el",u.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,u.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(u)),s.body&&Oa(s.body,"react-draggable-transparent-selection")}}function Yd(s){if(s)try{if(s.body&&uu(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{var u=(s.defaultView||window).getSelection();u&&u.type!=="Caret"&&u.removeAllRanges()}}catch{}}function Oa(s,u){s.classList?s.classList.add(u):s.className.match(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)")))||(s.className+=" ".concat(u))}function uu(s,u){s.classList?s.classList.remove(u):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)"),"g"),"")}var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.canDragX=Jd,Ki.canDragY=cu,Ki.createCoreData=Qd,Ki.createDraggableData=eh,Ki.getBoundPosition=Kd,Ki.getControlPosition=$d,Ki.snapToGrid=Zd;var xi=Wn,Wr=On;function Kd(s,u,o){if(!s.props.bounds)return[u,o];var a=s.props.bounds;a=typeof a=="string"?a:th(a);var c=Da(s);if(typeof a=="string"){var m=c.ownerDocument,v=m.defaultView,b;if(a==="parent"?b=c.parentNode:b=m.querySelector(a),!(b instanceof v.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var w=b,x=v.getComputedStyle(c),E=v.getComputedStyle(w);a={left:-c.offsetLeft+(0,xi.int)(E.paddingLeft)+(0,xi.int)(x.marginLeft),top:-c.offsetTop+(0,xi.int)(E.paddingTop)+(0,xi.int)(x.marginTop),right:(0,Wr.innerWidth)(w)-(0,Wr.outerWidth)(c)-c.offsetLeft+(0,xi.int)(E.paddingRight)-(0,xi.int)(x.marginRight),bottom:(0,Wr.innerHeight)(w)-(0,Wr.outerHeight)(c)-c.offsetTop+(0,xi.int)(E.paddingBottom)-(0,xi.int)(x.marginBottom)}}return(0,xi.isNum)(a.right)&&(u=Math.min(u,a.right)),(0,xi.isNum)(a.bottom)&&(o=Math.min(o,a.bottom)),(0,xi.isNum)(a.left)&&(u=Math.max(u,a.left)),(0,xi.isNum)(a.top)&&(o=Math.max(o,a.top)),[u,o]}function Zd(s,u,o){var a=Math.round(u/s[0])*s[0],c=Math.round(o/s[1])*s[1];return[a,c]}function Jd(s){return s.props.axis==="both"||s.props.axis==="x"}function cu(s){return s.props.axis==="both"||s.props.axis==="y"}function $d(s,u,o){var a=typeof u=="number"?(0,Wr.getTouch)(s,u):null;if(typeof u=="number"&&!a)return null;var c=Da(o),m=o.props.offsetParent||c.offsetParent||c.ownerDocument.body;return(0,Wr.offsetXYFromParent)(a||s,m,o.props.scale)}function Qd(s,u,o){var a=s.state,c=!(0,xi.isNum)(a.lastX),m=Da(s);return c?{node:m,deltaX:0,deltaY:0,lastX:u,lastY:o,x:u,y:o}:{node:m,deltaX:u-a.lastX,deltaY:o-a.lastY,lastX:a.lastX,lastY:a.lastY,x:u,y:o}}function eh(s,u){var o=s.props.scale;return{node:u.node,x:s.state.x+u.deltaX/o,y:s.state.y+u.deltaY/o,deltaX:u.deltaX/o,deltaY:u.deltaY/o,lastX:s.state.x,lastY:s.state.y}}function th(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}function Da(s){var u=s.findDOMNode();if(!u)throw new Error("<DraggableCore>: Unmounted during event!");return u}var xs={},Po={};Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=nh;function nh(){}function Ss(s){return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Ss(s)}Object.defineProperty(xs,"__esModule",{value:!0}),xs.default=void 0;var Aa=Cn(or),Qn=Ft(sr.exports),du=Ft(or),Zn=On,Ee=Ki,qe=Wn,bt=Ft(Po);function Ft(s){return s&&s.__esModule?s:{default:s}}function Qt(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,o=new WeakMap;return(Qt=function(a){return a?o:u})(s)}function Cn(s,u){if(s&&s.__esModule)return s;if(s===null||Ss(s)!=="object"&&typeof s!="function")return{default:s};var o=Qt(u);if(o&&o.has(s))return o.get(s);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var v=c?Object.getOwnPropertyDescriptor(s,m):null;v&&(v.get||v.set)?Object.defineProperty(a,m,v):a[m]=s[m]}return a.default=s,o&&o.set(s,a),a}function Ci(s,u){return Dr(s)||Ia(s,u)||Si(s,u)||Pi()}function Pi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Si(s,u){if(s){if(typeof s=="string")return _i(s,u);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _i(s,u)}}function _i(s,u){(u==null||u>s.length)&&(u=s.length);for(var o=0,a=new Array(u);o<u;o++)a[o]=s[o];return a}function Ia(s,u){var o=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(o!=null){var a=[],c=!0,m=!1,v,b;try{for(o=o.call(s);!(c=(v=o.next()).done)&&(a.push(v.value),!(u&&a.length===u));c=!0);}catch(w){m=!0,b=w}finally{try{!c&&o.return!=null&&o.return()}finally{if(m)throw b}}return a}}function Dr(s){if(Array.isArray(s))return s}function ih(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function SP(s,u){for(var o=0;o<u.length;o++){var a=u[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}function EP(s,u,o){return u&&SP(s.prototype,u),Object.defineProperty(s,"prototype",{writable:!1}),s}function TP(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),u&&rh(s,u)}function rh(s,u){return rh=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},rh(s,u)}function kP(s){var u=PP();return function(){var o=hu(s),a;if(u){var c=hu(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return CP(this,a)}}function CP(s,u){if(u&&(Ss(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fi(s)}function fi(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function PP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hu(s){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},hu(s)}function Zi(s,u,o){return u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}var lr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Gr=lr.mouse,pu=function(s){TP(o,s);var u=kP(o);function o(){var a;ih(this,o);for(var c=arguments.length,m=new Array(c),v=0;v<c;v++)m[v]=arguments[v];return a=u.call.apply(u,[this].concat(m)),Zi(fi(a),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Zi(fi(a),"mounted",!1),Zi(fi(a),"handleDragStart",function(b){if(a.props.onMouseDown(b),!a.props.allowAnyClick&&typeof b.button=="number"&&b.button!==0)return!1;var w=a.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var x=w.ownerDocument;if(!(a.props.disabled||!(b.target instanceof x.defaultView.Node)||a.props.handle&&!(0,Zn.matchesSelectorAndParentsTo)(b.target,a.props.handle,w)||a.props.cancel&&(0,Zn.matchesSelectorAndParentsTo)(b.target,a.props.cancel,w))){b.type==="touchstart"&&b.preventDefault();var E=(0,Zn.getTouchIdentifier)(b);a.setState({touchIdentifier:E});var O=(0,Ee.getControlPosition)(b,E,fi(a));if(O!=null){var A=O.x,H=O.y,X=(0,Ee.createCoreData)(fi(a),A,H);(0,bt.default)("DraggableCore: handleDragStart: %j",X),(0,bt.default)("calling",a.props.onStart);var ae=a.props.onStart(b,X);ae===!1||a.mounted===!1||(a.props.enableUserSelectHack&&(0,Zn.addUserSelectStyles)(x),a.setState({dragging:!0,lastX:A,lastY:H}),(0,Zn.addEvent)(x,Gr.move,a.handleDrag),(0,Zn.addEvent)(x,Gr.stop,a.handleDragStop))}}}),Zi(fi(a),"handleDrag",function(b){var w=(0,Ee.getControlPosition)(b,a.state.touchIdentifier,fi(a));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(a.props.grid)){var O=x-a.state.lastX,A=E-a.state.lastY,H=(0,Ee.snapToGrid)(a.props.grid,O,A),X=Ci(H,2);if(O=X[0],A=X[1],!O&&!A)return;x=a.state.lastX+O,E=a.state.lastY+A}var ae=(0,Ee.createCoreData)(fi(a),x,E);(0,bt.default)("DraggableCore: handleDrag: %j",ae);var ie=a.props.onDrag(b,ae);if(ie===!1||a.mounted===!1){try{a.handleDragStop(new MouseEvent("mouseup"))}catch{var de=document.createEvent("MouseEvents");de.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.handleDragStop(de)}return}a.setState({lastX:x,lastY:E})}}),Zi(fi(a),"handleDragStop",function(b){if(a.state.dragging){var w=(0,Ee.getControlPosition)(b,a.state.touchIdentifier,fi(a));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(a.props.grid)){var O=x-a.state.lastX||0,A=E-a.state.lastY||0,H=(0,Ee.snapToGrid)(a.props.grid,O,A),X=Ci(H,2);O=X[0],A=X[1],x=a.state.lastX+O,E=a.state.lastY+A}var ae=(0,Ee.createCoreData)(fi(a),x,E),ie=a.props.onStop(b,ae);if(ie===!1||a.mounted===!1)return!1;var de=a.findDOMNode();de&&a.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(de.ownerDocument),(0,bt.default)("DraggableCore: handleDragStop: %j",ae),a.setState({dragging:!1,lastX:NaN,lastY:NaN}),de&&((0,bt.default)("DraggableCore: Removing handlers"),(0,Zn.removeEvent)(de.ownerDocument,Gr.move,a.handleDrag),(0,Zn.removeEvent)(de.ownerDocument,Gr.stop,a.handleDragStop))}}}),Zi(fi(a),"onMouseDown",function(b){return Gr=lr.mouse,a.handleDragStart(b)}),Zi(fi(a),"onMouseUp",function(b){return Gr=lr.mouse,a.handleDragStop(b)}),Zi(fi(a),"onTouchStart",function(b){return Gr=lr.touch,a.handleDragStart(b)}),Zi(fi(a),"onTouchEnd",function(b){return Gr=lr.touch,a.handleDragStop(b)}),a}return EP(o,[{key:"componentDidMount",value:function(){this.mounted=!0;var a=this.findDOMNode();a&&(0,Zn.addEvent)(a,lr.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.findDOMNode();if(a){var c=a.ownerDocument;(0,Zn.removeEvent)(c,lr.mouse.move,this.handleDrag),(0,Zn.removeEvent)(c,lr.touch.move,this.handleDrag),(0,Zn.removeEvent)(c,lr.mouse.stop,this.handleDragStop),(0,Zn.removeEvent)(c,lr.touch.stop,this.handleDragStop),(0,Zn.removeEvent)(a,lr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(c)}}},{key:"findDOMNode",value:function(){var a,c,m;return(a=this.props)!==null&&a!==void 0&&a.nodeRef?(c=this.props)===null||c===void 0||(m=c.nodeRef)===null||m===void 0?void 0:m.current:du.default.findDOMNode(this)}},{key:"render",value:function(){return Aa.cloneElement(Aa.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(Aa.Component);xs.default=pu,Zi(pu,"displayName","DraggableCore"),Zi(pu,"propTypes",{allowAnyClick:Qn.default.bool,disabled:Qn.default.bool,enableUserSelectHack:Qn.default.bool,offsetParent:function(s,u){if(s[u]&&s[u].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Qn.default.arrayOf(Qn.default.number),handle:Qn.default.string,cancel:Qn.default.string,nodeRef:Qn.default.object,onStart:Qn.default.func,onDrag:Qn.default.func,onStop:Qn.default.func,onMouseDown:Qn.default.func,scale:Qn.default.number,className:qe.dontSetMe,style:qe.dontSetMe,transform:qe.dontSetMe}),Zi(pu,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(s){function u(We){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},u(We)}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),s.default=void 0;var o=X(or),a=A(sr.exports),c=A(or),m=A(Or),v=On,b=Ki,w=Wn,x=A(xs),E=A(Po),O=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function A(We){return We&&We.__esModule?We:{default:We}}function H(We){if(typeof WeakMap!="function")return null;var nt=new WeakMap,ot=new WeakMap;return(H=function(it){return it?ot:nt})(We)}function X(We,nt){if(We&&We.__esModule)return We;if(We===null||u(We)!=="object"&&typeof We!="function")return{default:We};var ot=H(nt);if(ot&&ot.has(We))return ot.get(We);var it={},ct=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mt in We)if(Mt!=="default"&&Object.prototype.hasOwnProperty.call(We,Mt)){var yn=ct?Object.getOwnPropertyDescriptor(We,Mt):null;yn&&(yn.get||yn.set)?Object.defineProperty(it,Mt,yn):it[Mt]=We[Mt]}return it.default=We,ot&&ot.set(We,it),it}function ae(){return ae=Object.assign||function(We){for(var nt=1;nt<arguments.length;nt++){var ot=arguments[nt];for(var it in ot)Object.prototype.hasOwnProperty.call(ot,it)&&(We[it]=ot[it])}return We},ae.apply(this,arguments)}function ie(We,nt){if(We==null)return{};var ot=de(We,nt),it,ct;if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(We);for(ct=0;ct<Mt.length;ct++)it=Mt[ct],!(nt.indexOf(it)>=0)&&(!Object.prototype.propertyIsEnumerable.call(We,it)||(ot[it]=We[it]))}return ot}function de(We,nt){if(We==null)return{};var ot={},it=Object.keys(We),ct,Mt;for(Mt=0;Mt<it.length;Mt++)ct=it[Mt],!(nt.indexOf(ct)>=0)&&(ot[ct]=We[ct]);return ot}function M(We,nt){var ot=Object.keys(We);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(We);nt&&(it=it.filter(function(ct){return Object.getOwnPropertyDescriptor(We,ct).enumerable})),ot.push.apply(ot,it)}return ot}function oe(We){for(var nt=1;nt<arguments.length;nt++){var ot=arguments[nt]!=null?arguments[nt]:{};nt%2?M(Object(ot),!0).forEach(function(it){pt(We,it,ot[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(ot)):M(Object(ot)).forEach(function(it){Object.defineProperty(We,it,Object.getOwnPropertyDescriptor(ot,it))})}return We}function be(We,nt){return Je(We)||Xe(We,nt)||ke(We,nt)||ve()}function ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ke(We,nt){if(We){if(typeof We=="string")return Pe(We,nt);var ot=Object.prototype.toString.call(We).slice(8,-1);if(ot==="Object"&&We.constructor&&(ot=We.constructor.name),ot==="Map"||ot==="Set")return Array.from(We);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return Pe(We,nt)}}function Pe(We,nt){(nt==null||nt>We.length)&&(nt=We.length);for(var ot=0,it=new Array(nt);ot<nt;ot++)it[ot]=We[ot];return it}function Xe(We,nt){var ot=We==null?null:typeof Symbol<"u"&&We[Symbol.iterator]||We["@@iterator"];if(ot!=null){var it=[],ct=!0,Mt=!1,yn,zn;try{for(ot=ot.call(We);!(ct=(yn=ot.next()).done)&&(it.push(yn.value),!(nt&&it.length===nt));ct=!0);}catch(dn){Mt=!0,zn=dn}finally{try{!ct&&ot.return!=null&&ot.return()}finally{if(Mt)throw zn}}return it}}function Je(We){if(Array.isArray(We))return We}function dt(We,nt){if(!(We instanceof nt))throw new TypeError("Cannot call a class as a function")}function mt(We,nt){for(var ot=0;ot<nt.length;ot++){var it=nt[ot];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(We,it.key,it)}}function ht(We,nt,ot){return nt&&mt(We.prototype,nt),ot&&mt(We,ot),Object.defineProperty(We,"prototype",{writable:!1}),We}function Rt(We,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");We.prototype=Object.create(nt&&nt.prototype,{constructor:{value:We,writable:!0,configurable:!0}}),Object.defineProperty(We,"prototype",{writable:!1}),nt&&Pt(We,nt)}function Pt(We,nt){return Pt=Object.setPrototypeOf||function(ot,it){return ot.__proto__=it,ot},Pt(We,nt)}function qt(We){var nt=hn();return function(){var ot=Tn(We),it;if(nt){var ct=Tn(this).constructor;it=Reflect.construct(ot,arguments,ct)}else it=ot.apply(this,arguments);return Gt(this,it)}}function Gt(We,nt){if(nt&&(u(nt)==="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(We)}function Zt(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We}function hn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tn(We){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},Tn(We)}function pt(We,nt,ot){return nt in We?Object.defineProperty(We,nt,{value:ot,enumerable:!0,configurable:!0,writable:!0}):We[nt]=ot,We}var tn=function(We){Rt(ot,We);var nt=qt(ot);function ot(it){var ct;return dt(this,ot),ct=nt.call(this,it),pt(Zt(ct),"onDragStart",function(Mt,yn){(0,E.default)("Draggable: onDragStart: %j",yn);var zn=ct.props.onStart(Mt,(0,b.createDraggableData)(Zt(ct),yn));if(zn===!1)return!1;ct.setState({dragging:!0,dragged:!0})}),pt(Zt(ct),"onDrag",function(Mt,yn){if(!ct.state.dragging)return!1;(0,E.default)("Draggable: onDrag: %j",yn);var zn=(0,b.createDraggableData)(Zt(ct),yn),dn={x:zn.x,y:zn.y};if(ct.props.bounds){var Ji=dn.x,Oi=dn.y;dn.x+=ct.state.slackX,dn.y+=ct.state.slackY;var Hi=(0,b.getBoundPosition)(Zt(ct),dn.x,dn.y),B=be(Hi,2),ce=B[0],De=B[1];dn.x=ce,dn.y=De,dn.slackX=ct.state.slackX+(Ji-dn.x),dn.slackY=ct.state.slackY+(Oi-dn.y),zn.x=dn.x,zn.y=dn.y,zn.deltaX=dn.x-ct.state.x,zn.deltaY=dn.y-ct.state.y}var Ze=ct.props.onDrag(Mt,zn);if(Ze===!1)return!1;ct.setState(dn)}),pt(Zt(ct),"onDragStop",function(Mt,yn){if(!ct.state.dragging)return!1;var zn=ct.props.onStop(Mt,(0,b.createDraggableData)(Zt(ct),yn));if(zn===!1)return!1;(0,E.default)("Draggable: onDragStop: %j",yn);var dn={dragging:!1,slackX:0,slackY:0},Ji=!!ct.props.position;if(Ji){var Oi=ct.props.position,Hi=Oi.x,B=Oi.y;dn.x=Hi,dn.y=B}ct.setState(dn)}),ct.state={dragging:!1,dragged:!1,x:it.position?it.position.x:it.defaultPosition.x,y:it.position?it.position.y:it.defaultPosition.y,prevPropsPosition:oe({},it.position),slackX:0,slackY:0,isElementSVG:!1},it.position&&!(it.onDrag||it.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ct}return ht(ot,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var it,ct,Mt;return(it=(ct=this.props)===null||ct===void 0||(Mt=ct.nodeRef)===null||Mt===void 0?void 0:Mt.current)!==null&&it!==void 0?it:c.default.findDOMNode(this)}},{key:"render",value:function(){var it,ct=this.props;ct.axis,ct.bounds;var Mt=ct.children,yn=ct.defaultPosition,zn=ct.defaultClassName,dn=ct.defaultClassNameDragging,Ji=ct.defaultClassNameDragged,Oi=ct.position,Hi=ct.positionOffset;ct.scale;var B=ie(ct,O),ce={},De=null,Ze=!!Oi,Ge=!Ze||this.state.dragging,Ct=Oi||yn,ft={x:(0,b.canDragX)(this)&&Ge?this.state.x:Ct.x,y:(0,b.canDragY)(this)&&Ge?this.state.y:Ct.y};this.state.isElementSVG?De=(0,v.createSVGTransform)(ft,Hi):ce=(0,v.createCSSTransform)(ft,Hi);var pn=(0,m.default)(Mt.props.className||"",zn,(it={},pt(it,dn,this.state.dragging),pt(it,Ji,this.state.dragged),it));return o.createElement(x.default,ae({},B,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(Mt),{className:pn,style:oe(oe({},Mt.props.style),ce),transform:De}))}}],[{key:"getDerivedStateFromProps",value:function(it,ct){var Mt=it.position,yn=ct.prevPropsPosition;return Mt&&(!yn||Mt.x!==yn.x||Mt.y!==yn.y)?((0,E.default)("Draggable: getDerivedStateFromProps %j",{position:Mt,prevPropsPosition:yn}),{x:Mt.x,y:Mt.y,prevPropsPosition:oe({},Mt)}):null}}]),ot}(o.Component);s.default=tn,pt(tn,"displayName","Draggable"),pt(tn,"propTypes",oe(oe({},x.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe})),pt(tn,"defaultProps",oe(oe({},x.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(To);var sv=To,av=sv.default,_P=sv.DraggableCore;Rr.exports=av,Rr.exports.default=av,Rr.exports.DraggableCore=_P;var RP=Rr.exports,OP=["second","minute","hour","day","week","month","year"];function DP(s,u){if(u===0)return["just now","right now"];var o=OP[Math.floor(u/2)];return s>1&&(o+="s"),[s+" "+o+" ago","in "+s+" "+o]}var AP=["秒","分钟","小时","天","周","个月","年"];function IP(s,u){if(u===0)return["刚刚","片刻后"];var o=AP[~~(u/2)];return[s+" "+o+"前",s+" "+o+"后"]}var oh={},Nn=function(s,u){oh[s]=u},lv=function(s){return oh[s]||oh.en_US},_o=[60,60,24,7,365/7/12,12];function uv(s){return s instanceof Date?s:!isNaN(s)||/^\d+$/.test(s)?new Date(parseInt(s)):(s=(s||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(s))}function cv(s,u){var o=s<0?1:0;s=Math.abs(s);for(var a=s,c=0;s>=_o[c]&&c<_o.length;c++)s/=_o[c];return s=Math.floor(s),c*=2,s>(c===0?9:1)&&(c+=1),u(s,c,a)[o].replace("%s",s.toString())}function dv(s,u){var o=u?uv(u):new Date;return(+o-+uv(s))/1e3}function MP(s){for(var u=1,o=0,a=Math.abs(s);s>=_o[o]&&o<_o.length;o++)s/=_o[o],u*=_o[o];return a=a%u,a=a?u-a:u,Math.ceil(a)}var zP=function(s,u,o){var a=dv(s,o&&o.relativeDate);return cv(a,lv(u))},hv="timeago-id";function LP(s){return s.getAttribute("datetime")}function BP(s,u){s.setAttribute(hv,u)}function pv(s){return parseInt(s.getAttribute(hv))}var sh={},ah=function(s){clearTimeout(s),delete sh[s]};function fv(s,u,o,a){ah(pv(s));var c=a.relativeDate,m=a.minInterval,v=dv(u,c);s.innerText=cv(v,o);var b=setTimeout(function(){fv(s,u,o,a)},Math.min(Math.max(MP(v),m||1)*1e3,2147483647));sh[b]=0,BP(s,b)}function mv(s){s?ah(pv(s)):Object.keys(sh).forEach(ah)}function NP(s,u,o){var a=s.length?s:[s];return a.forEach(function(c){fv(c,LP(c),lv(u),o||{})}),a}Nn("en_US",DP),Nn("zh_CN",IP);var jP=globalThis&&globalThis.__extends||function(){var s=function(u,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var m in c)c.hasOwnProperty(m)&&(a[m]=c[m])},s(u,o)};return function(u,o){s(u,o);function a(){this.constructor=u}u.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),lh=globalThis&&globalThis.__assign||function(){return lh=Object.assign||function(s){for(var u,o=1,a=arguments.length;o<a;o++){u=arguments[o];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s},lh.apply(this,arguments)},HP=globalThis&&globalThis.__rest||function(s,u){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&u.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)u.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(o[a[c]]=s[a[c]]);return o},FP=function(s){return""+(s instanceof Date?s.getTime():s)},VP=function(s){jP(u,s);function u(){var o=s!==null&&s.apply(this,arguments)||this;return o.dom=null,o}return u.prototype.componentDidMount=function(){this.renderTimeAgo()},u.prototype.componentDidUpdate=function(){this.renderTimeAgo()},u.prototype.renderTimeAgo=function(){var o=this.props,a=o.live,c=o.datetime,m=o.locale,v=o.opts;mv(this.dom),a!==!1&&(this.dom.setAttribute("datetime",FP(c)),NP(this.dom,m,v))},u.prototype.componentWillUnmount=function(){mv(this.dom)},u.prototype.render=function(){var o=this,a=this.props,c=a.datetime;a.live;var m=a.locale,v=a.opts,b=HP(a,["datetime","live","locale","opts"]);return D("time",lh({ref:function(w){o.dom=w}},b),zP(c,m,v))},u.defaultProps={live:!0,className:""},u}(en);function UP(s,u){const o=a=>{s.current&&!s.current.contains(event.target)&&u()};$e(()=>(document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)))}var gv=Object.prototype.toString,vv=function(s){var u=gv.call(s),o=u==="[object Arguments]";return o||(o=u!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&gv.call(s.callee)==="[object Function]"),o},yv;if(!Object.keys){var fu=Object.prototype.hasOwnProperty,bv=Object.prototype.toString,WP=vv,wv=Object.prototype.propertyIsEnumerable,GP=!wv.call({toString:null},"toString"),qP=wv.call(function(){},"prototype"),mu=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],uh=function(s){var u=s.constructor;return u&&u.prototype===s},XP={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},YP=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!XP["$"+s]&&fu.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{uh(window[s])}catch{return!0}}catch{return!0}return!1}(),KP=function(s){if(typeof window>"u"||!YP)return uh(s);try{return uh(s)}catch{return!1}};yv=function(s){var u=s!==null&&typeof s=="object",o=bv.call(s)==="[object Function]",a=WP(s),c=u&&bv.call(s)==="[object String]",m=[];if(!u&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var v=qP&&o;if(c&&s.length>0&&!fu.call(s,0))for(var b=0;b<s.length;++b)m.push(String(b));if(a&&s.length>0)for(var w=0;w<s.length;++w)m.push(String(w));else for(var x in s)!(v&&x==="prototype")&&fu.call(s,x)&&m.push(String(x));if(GP)for(var E=KP(s),O=0;O<mu.length;++O)!(E&&mu[O]==="constructor")&&fu.call(s,mu[O])&&m.push(mu[O]);return m}}var ZP=yv,JP=Array.prototype.slice,$P=vv,xv=Object.keys,gu=xv?function(s){return xv(s)}:ZP,Sv=Object.keys;gu.shim=function(){if(Object.keys){var s=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);s||(Object.keys=function(u){return $P(u)?Sv(JP.call(u)):Sv(u)})}else Object.keys=gu;return Object.keys||gu};var QP=gu,Ev=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},u=Symbol("test"),o=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;s[u]=a;for(u in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var c=Object.getOwnPropertySymbols(s);if(c.length!==1||c[0]!==u||!Object.prototype.propertyIsEnumerable.call(s,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(s,u);if(m.value!==a||m.enumerable!==!0)return!1}return!0},Tv=typeof Symbol<"u"&&Symbol,e_=Ev,kv=function(){return typeof Tv!="function"||typeof Symbol!="function"||typeof Tv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e_()},Cv={foo:{}},t_=Object,n_=function(){return{__proto__:Cv}.foo===Cv.foo&&!({__proto__:null}instanceof t_)},i_="Function.prototype.bind called on incompatible ",ch=Array.prototype.slice,r_=Object.prototype.toString,o_="[object Function]",s_=function(s){var u=this;if(typeof u!="function"||r_.call(u)!==o_)throw new TypeError(i_+u);for(var o=ch.call(arguments,1),a,c=function(){if(this instanceof a){var x=u.apply(this,o.concat(ch.call(arguments)));return Object(x)===x?x:this}else return u.apply(s,o.concat(ch.call(arguments)))},m=Math.max(0,u.length-o.length),v=[],b=0;b<m;b++)v.push("$"+b);if(a=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(c),u.prototype){var w=function(){};w.prototype=u.prototype,a.prototype=new w,w.prototype=null}return a},a_=s_,dh=Function.prototype.bind||a_,l_=dh,Pv=l_.call(Function.call,Object.prototype.hasOwnProperty),sn,Es=SyntaxError,_v=Function,Ts=TypeError,hh=function(s){try{return _v('"use strict"; return ('+s+").constructor;")()}catch{}},Ro=Object.getOwnPropertyDescriptor;if(Ro)try{Ro({},"")}catch{Ro=null}var ph=function(){throw new Ts},u_=Ro?function(){try{return arguments.callee,ph}catch{try{return Ro(arguments,"callee").get}catch{return ph}}}():ph,ks=kv(),c_=n_(),ei=Object.getPrototypeOf||(c_?function(s){return s.__proto__}:null),Cs={},d_=typeof Uint8Array>"u"||!ei?sn:ei(Uint8Array),Oo={"%AggregateError%":typeof AggregateError>"u"?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?sn:ArrayBuffer,"%ArrayIteratorPrototype%":ks&&ei?ei([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":Cs,"%AsyncGenerator%":Cs,"%AsyncGeneratorFunction%":Cs,"%AsyncIteratorPrototype%":Cs,"%Atomics%":typeof Atomics>"u"?sn:Atomics,"%BigInt%":typeof BigInt>"u"?sn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?sn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?sn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?sn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?sn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?sn:FinalizationRegistry,"%Function%":_v,"%GeneratorFunction%":Cs,"%Int8Array%":typeof Int8Array>"u"?sn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?sn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ks&&ei?ei(ei([][Symbol.iterator]())):sn,"%JSON%":typeof JSON=="object"?JSON:sn,"%Map%":typeof Map>"u"?sn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ks||!ei?sn:ei(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?sn:Promise,"%Proxy%":typeof Proxy>"u"?sn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?sn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?sn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ks||!ei?sn:ei(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ks&&ei?ei(""[Symbol.iterator]()):sn,"%Symbol%":ks?Symbol:sn,"%SyntaxError%":Es,"%ThrowTypeError%":u_,"%TypedArray%":d_,"%TypeError%":Ts,"%Uint8Array%":typeof Uint8Array>"u"?sn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?sn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?sn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?sn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?sn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?sn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?sn:WeakSet};if(ei)try{null.error}catch(s){var h_=ei(ei(s));Oo["%Error.prototype%"]=h_}var p_=function s(u){var o;if(u==="%AsyncFunction%")o=hh("async function () {}");else if(u==="%GeneratorFunction%")o=hh("function* () {}");else if(u==="%AsyncGeneratorFunction%")o=hh("async function* () {}");else if(u==="%AsyncGenerator%"){var a=s("%AsyncGeneratorFunction%");a&&(o=a.prototype)}else if(u==="%AsyncIteratorPrototype%"){var c=s("%AsyncGenerator%");c&&ei&&(o=ei(c.prototype))}return Oo[u]=o,o},Rv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ma=dh,vu=Pv,f_=Ma.call(Function.call,Array.prototype.concat),m_=Ma.call(Function.apply,Array.prototype.splice),Ov=Ma.call(Function.call,String.prototype.replace),yu=Ma.call(Function.call,String.prototype.slice),g_=Ma.call(Function.call,RegExp.prototype.exec),v_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y_=/\\(\\)?/g,b_=function(s){var u=yu(s,0,1),o=yu(s,-1);if(u==="%"&&o!=="%")throw new Es("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&u!=="%")throw new Es("invalid intrinsic syntax, expected opening `%`");var a=[];return Ov(s,v_,function(c,m,v,b){a[a.length]=v?Ov(b,y_,"$1"):m||c}),a},w_=function(s,u){var o=s,a;if(vu(Rv,o)&&(a=Rv[o],o="%"+a[0]+"%"),vu(Oo,o)){var c=Oo[o];if(c===Cs&&(c=p_(o)),typeof c>"u"&&!u)throw new Ts("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:a,name:o,value:c}}throw new Es("intrinsic "+s+" does not exist!")},ai=function(s,u){if(typeof s!="string"||s.length===0)throw new Ts("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof u!="boolean")throw new Ts('"allowMissing" argument must be a boolean');if(g_(/^%?[^%]*%?$/,s)===null)throw new Es("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=b_(s),a=o.length>0?o[0]:"",c=w_("%"+a+"%",u),m=c.name,v=c.value,b=!1,w=c.alias;w&&(a=w[0],m_(o,f_([0,1],w)));for(var x=1,E=!0;x<o.length;x+=1){var O=o[x],A=yu(O,0,1),H=yu(O,-1);if((A==='"'||A==="'"||A==="`"||H==='"'||H==="'"||H==="`")&&A!==H)throw new Es("property names with quotes must have matching quotes");if((O==="constructor"||!E)&&(b=!0),a+="."+O,m="%"+a+"%",vu(Oo,m))v=Oo[m];else if(v!=null){if(!(O in v)){if(!u)throw new Ts("base intrinsic for "+s+" exists, but the property is not available.");return}if(Ro&&x+1>=o.length){var X=Ro(v,O);E=!!X,E&&"get"in X&&!("originalValue"in X.get)?v=X.get:v=v[O]}else E=vu(v,O),v=v[O];E&&!b&&(Oo[m]=v)}}return v},x_=ai,fh=x_("%Object.defineProperty%",!0),mh=function(){if(fh)try{return fh({},"a",{value:1}),!0}catch{return!1}return!1};mh.hasArrayLengthDefineBug=function(){if(!mh())return null;try{return fh([],"length",{value:1}).length!==1}catch{return!0}};var S_=mh,E_=QP,T_=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",k_=Object.prototype.toString,C_=Array.prototype.concat,Dv=Object.defineProperty,P_=function(s){return typeof s=="function"&&k_.call(s)==="[object Function]"},__=S_(),Av=Dv&&__,R_=function(s,u,o,a){if(u in s){if(a===!0){if(s[u]===o)return}else if(!P_(a)||!a())return}Av?Dv(s,u,{configurable:!0,enumerable:!1,value:o,writable:!0}):s[u]=o},Iv=function(s,u){var o=arguments.length>2?arguments[2]:{},a=E_(u);T_&&(a=C_.call(a,Object.getOwnPropertySymbols(u)));for(var c=0;c<a.length;c+=1)R_(s,a[c],u[a[c]],o[a[c]])};Iv.supportsDescriptors=!!Av;var Ps=Iv,za={exports:{}};(function(s){var u=dh,o=ai,a=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),m=o("%Reflect.apply%",!0)||u.call(c,a),v=o("%Object.getOwnPropertyDescriptor%",!0),b=o("%Object.defineProperty%",!0),w=o("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}s.exports=function(E){var O=m(u,c,arguments);if(v&&b){var A=v(O,"length");A.configurable&&b(O,"length",{value:1+w(0,E.length-(arguments.length-1))})}return O};var x=function(){return m(u,a,arguments)};b?b(s.exports,"apply",{value:x}):s.exports.apply=x})(za);var Mv=ai,zv=za.exports,O_=zv(Mv("String.prototype.indexOf")),Ar=function(s,u){var o=Mv(s,!!u);return typeof o=="function"&&O_(s,".prototype.")>-1?zv(o):o},D_=ai,A_=D_("%TypeError%"),I_=function(s,u){if(s==null)throw new A_(u||"Cannot call method on "+s);return s},La=I_,M_=ai,Lv=M_("%Array%"),z_=!Lv.isArray&&Ar("Object.prototype.toString"),L_=Lv.isArray||function(s){return z_(s)==="[object Array]"},B_=L_,Bv=ai,N_=Ar,j_=Bv("%TypeError%"),H_=B_,F_=Bv("%Reflect.apply%",!0)||N_("Function.prototype.apply"),V_=function(s,u){var o=arguments.length>2?arguments[2]:[];if(!H_(o))throw new j_("Assertion failed: optional `argumentsList`, if provided, must be a List");return F_(s,u,o)},U_={},W_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U_}),G_=Eo(W_),gh=typeof Map=="function"&&Map.prototype,vh=Object.getOwnPropertyDescriptor&&gh?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bu=gh&&vh&&typeof vh.get=="function"?vh.get:null,Nv=gh&&Map.prototype.forEach,yh=typeof Set=="function"&&Set.prototype,bh=Object.getOwnPropertyDescriptor&&yh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,wu=yh&&bh&&typeof bh.get=="function"?bh.get:null,jv=yh&&Set.prototype.forEach,q_=typeof WeakMap=="function"&&WeakMap.prototype,Ba=q_?WeakMap.prototype.has:null,X_=typeof WeakSet=="function"&&WeakSet.prototype,Na=X_?WeakSet.prototype.has:null,Y_=typeof WeakRef=="function"&&WeakRef.prototype,Hv=Y_?WeakRef.prototype.deref:null,K_=Boolean.prototype.valueOf,Z_=Object.prototype.toString,J_=Function.prototype.toString,$_=String.prototype.match,wh=String.prototype.slice,qr=String.prototype.replace,Q_=String.prototype.toUpperCase,Fv=String.prototype.toLowerCase,Vv=RegExp.prototype.test,Uv=Array.prototype.concat,fr=Array.prototype.join,e2=Array.prototype.slice,Wv=Math.floor,xh=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Sh=Object.getOwnPropertySymbols,Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_s=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_s||!0)?Symbol.toStringTag:null,Gv=Object.prototype.propertyIsEnumerable,qv=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(s){return s.__proto__}:null);function Xv(s,u){if(s===1/0||s===-1/0||s!==s||s&&s>-1e3&&s<1e3||Vv.call(/e/,u))return u;var o=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof s=="number"){var a=s<0?-Wv(-s):Wv(s);if(a!==s){var c=String(a),m=wh.call(u,c.length+1);return qr.call(c,o,"$&_")+"."+qr.call(qr.call(m,/([0-9]{3})/g,"$&_"),/_$/,"")}}return qr.call(u,o,"$&_")}var Th=G_,Yv=Th.custom,Kv=$v(Yv)?Yv:null,t2=function s(u,o,a,c){var m=o||{};if(Xr(m,"quoteStyle")&&m.quoteStyle!=="single"&&m.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Xr(m,"maxStringLength")&&(typeof m.maxStringLength=="number"?m.maxStringLength<0&&m.maxStringLength!==1/0:m.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=Xr(m,"customInspect")?m.customInspect:!0;if(typeof v!="boolean"&&v!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Xr(m,"indent")&&m.indent!==null&&m.indent!=="	"&&!(parseInt(m.indent,10)===m.indent&&m.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Xr(m,"numericSeparator")&&typeof m.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=m.numericSeparator;if(typeof u>"u")return"undefined";if(u===null)return"null";if(typeof u=="boolean")return u?"true":"false";if(typeof u=="string")return ey(u,m);if(typeof u=="number"){if(u===0)return 1/0/u>0?"0":"-0";var w=String(u);return b?Xv(u,w):w}if(typeof u=="bigint"){var x=String(u)+"n";return b?Xv(u,x):x}var E=typeof m.depth>"u"?5:m.depth;if(typeof a>"u"&&(a=0),a>=E&&E>0&&typeof u=="object")return kh(u)?"[Array]":"[Object]";var O=b2(m,a);if(typeof c>"u")c=[];else if(Qv(c,u)>=0)return"[Circular]";function A(Rt,Pt,qt){if(Pt&&(c=e2.call(c),c.push(Pt)),qt){var Gt={depth:m.depth};return Xr(m,"quoteStyle")&&(Gt.quoteStyle=m.quoteStyle),s(Rt,Gt,a+1,c)}return s(Rt,m,a+1,c)}if(typeof u=="function"&&!Jv(u)){var H=c2(u),X=xu(u,A);return"[Function"+(H?": "+H:" (anonymous)")+"]"+(X.length>0?" { "+fr.call(X,", ")+" }":"")}if($v(u)){var ae=_s?qr.call(String(u),/^(Symbol\(.*\))_[^)]*$/,"$1"):Eh.call(u);return typeof u=="object"&&!_s?ja(ae):ae}if(g2(u)){for(var ie="<"+Fv.call(String(u.nodeName)),de=u.attributes||[],M=0;M<de.length;M++)ie+=" "+de[M].name+"="+Zv(n2(de[M].value),"double",m);return ie+=">",u.childNodes&&u.childNodes.length&&(ie+="..."),ie+="</"+Fv.call(String(u.nodeName))+">",ie}if(kh(u)){if(u.length===0)return"[]";var oe=xu(u,A);return O&&!y2(oe)?"["+Ph(oe,O)+"]":"[ "+fr.call(oe,", ")+" ]"}if(r2(u)){var be=xu(u,A);return!("cause"in Error.prototype)&&"cause"in u&&!Gv.call(u,"cause")?"{ ["+String(u)+"] "+fr.call(Uv.call("[cause]: "+A(u.cause),be),", ")+" }":be.length===0?"["+String(u)+"]":"{ ["+String(u)+"] "+fr.call(be,", ")+" }"}if(typeof u=="object"&&v){if(Kv&&typeof u[Kv]=="function"&&Th)return Th(u,{depth:E-a});if(v!=="symbol"&&typeof u.inspect=="function")return u.inspect()}if(d2(u)){var ve=[];return Nv&&Nv.call(u,function(Rt,Pt){ve.push(A(Pt,u,!0)+" => "+A(Rt,u))}),ty("Map",bu.call(u),ve,O)}if(f2(u)){var ke=[];return jv&&jv.call(u,function(Rt){ke.push(A(Rt,u))}),ty("Set",wu.call(u),ke,O)}if(h2(u))return Ch("WeakMap");if(m2(u))return Ch("WeakSet");if(p2(u))return Ch("WeakRef");if(s2(u))return ja(A(Number(u)));if(l2(u))return ja(A(xh.call(u)));if(a2(u))return ja(K_.call(u));if(o2(u))return ja(A(String(u)));if(!i2(u)&&!Jv(u)){var Pe=xu(u,A),Xe=qv?qv(u)===Object.prototype:u instanceof Object||u.constructor===Object,Je=u instanceof Object?"":"null prototype",dt=!Xe&&mi&&Object(u)===u&&mi in u?wh.call(Yr(u),8,-1):Je?"Object":"",mt=Xe||typeof u.constructor!="function"?"":u.constructor.name?u.constructor.name+" ":"",ht=mt+(dt||Je?"["+fr.call(Uv.call([],dt||[],Je||[]),": ")+"] ":"");return Pe.length===0?ht+"{}":O?ht+"{"+Ph(Pe,O)+"}":ht+"{ "+fr.call(Pe,", ")+" }"}return String(u)};function Zv(s,u,o){var a=(o.quoteStyle||u)==="double"?'"':"'";return a+s+a}function n2(s){return qr.call(String(s),/"/g,"&quot;")}function kh(s){return Yr(s)==="[object Array]"&&(!mi||!(typeof s=="object"&&mi in s))}function i2(s){return Yr(s)==="[object Date]"&&(!mi||!(typeof s=="object"&&mi in s))}function Jv(s){return Yr(s)==="[object RegExp]"&&(!mi||!(typeof s=="object"&&mi in s))}function r2(s){return Yr(s)==="[object Error]"&&(!mi||!(typeof s=="object"&&mi in s))}function o2(s){return Yr(s)==="[object String]"&&(!mi||!(typeof s=="object"&&mi in s))}function s2(s){return Yr(s)==="[object Number]"&&(!mi||!(typeof s=="object"&&mi in s))}function a2(s){return Yr(s)==="[object Boolean]"&&(!mi||!(typeof s=="object"&&mi in s))}function $v(s){if(_s)return s&&typeof s=="object"&&s instanceof Symbol;if(typeof s=="symbol")return!0;if(!s||typeof s!="object"||!Eh)return!1;try{return Eh.call(s),!0}catch{}return!1}function l2(s){if(!s||typeof s!="object"||!xh)return!1;try{return xh.call(s),!0}catch{}return!1}var u2=Object.prototype.hasOwnProperty||function(s){return s in this};function Xr(s,u){return u2.call(s,u)}function Yr(s){return Z_.call(s)}function c2(s){if(s.name)return s.name;var u=$_.call(J_.call(s),/^function\s*([\w$]+)/);return u?u[1]:null}function Qv(s,u){if(s.indexOf)return s.indexOf(u);for(var o=0,a=s.length;o<a;o++)if(s[o]===u)return o;return-1}function d2(s){if(!bu||!s||typeof s!="object")return!1;try{bu.call(s);try{wu.call(s)}catch{return!0}return s instanceof Map}catch{}return!1}function h2(s){if(!Ba||!s||typeof s!="object")return!1;try{Ba.call(s,Ba);try{Na.call(s,Na)}catch{return!0}return s instanceof WeakMap}catch{}return!1}function p2(s){if(!Hv||!s||typeof s!="object")return!1;try{return Hv.call(s),!0}catch{}return!1}function f2(s){if(!wu||!s||typeof s!="object")return!1;try{wu.call(s);try{bu.call(s)}catch{return!0}return s instanceof Set}catch{}return!1}function m2(s){if(!Na||!s||typeof s!="object")return!1;try{Na.call(s,Na);try{Ba.call(s,Ba)}catch{return!0}return s instanceof WeakSet}catch{}return!1}function g2(s){return!s||typeof s!="object"?!1:typeof HTMLElement<"u"&&s instanceof HTMLElement?!0:typeof s.nodeName=="string"&&typeof s.getAttribute=="function"}function ey(s,u){if(s.length>u.maxStringLength){var o=s.length-u.maxStringLength,a="... "+o+" more character"+(o>1?"s":"");return ey(wh.call(s,0,u.maxStringLength),u)+a}var c=qr.call(qr.call(s,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,v2);return Zv(c,"single",u)}function v2(s){var u=s.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[u];return o?"\\"+o:"\\x"+(u<16?"0":"")+Q_.call(u.toString(16))}function ja(s){return"Object("+s+")"}function Ch(s){return s+" { ? }"}function ty(s,u,o,a){var c=a?Ph(o,a):fr.call(o,", ");return s+" ("+u+") {"+c+"}"}function y2(s){for(var u=0;u<s.length;u++)if(Qv(s[u],`
`)>=0)return!1;return!0}function b2(s,u){var o;if(s.indent==="	")o="	";else if(typeof s.indent=="number"&&s.indent>0)o=fr.call(Array(s.indent+1)," ");else return null;return{base:o,prev:fr.call(Array(u+1),o)}}function Ph(s,u){if(s.length===0)return"";var o=`
`+u.prev+u.base;return o+fr.call(s,","+o)+`
`+u.prev}function xu(s,u){var o=kh(s),a=[];if(o){a.length=s.length;for(var c=0;c<s.length;c++)a[c]=Xr(s,c)?u(s[c],s):""}var m=typeof Sh=="function"?Sh(s):[],v;if(_s){v={};for(var b=0;b<m.length;b++)v["$"+m[b]]=m[b]}for(var w in s)!Xr(s,w)||o&&String(Number(w))===w&&w<s.length||_s&&v["$"+w]instanceof Symbol||(Vv.call(/[^\w$]/,w)?a.push(u(w,s)+": "+u(s[w],s)):a.push(w+": "+u(s[w],s)));if(typeof Sh=="function")for(var x=0;x<m.length;x++)Gv.call(s,m[x])&&a.push("["+u(m[x])+"]: "+u(s[m[x]],s));return a}var ny=function(s){return typeof s=="string"||typeof s=="symbol"},w2=function(s){if(s===null)return"Null";if(typeof s>"u")return"Undefined";if(typeof s=="function"||typeof s=="object")return"Object";if(typeof s=="number")return"Number";if(typeof s=="boolean")return"Boolean";if(typeof s=="string")return"String"},x2=w2,Ha=function(s){return typeof s=="symbol"?"Symbol":typeof s=="bigint"?"BigInt":x2(s)},S2=ai,iy=S2("%TypeError%"),E2=t2,T2=ny,k2=Ha,ry=function(s,u){if(k2(s)!=="Object")throw new iy("Assertion failed: Type(O) is not Object");if(!T2(u))throw new iy("Assertion failed: IsPropertyKey(P) is not true, got "+E2(u));return s[u]},C2=ai,oy=C2("%TypeError%"),P2=ny,_2=Ha,R2=function(s,u){if(_2(s)!=="Object")throw new oy("Assertion failed: `O` must be an Object");if(!P2(u))throw new oy("Assertion failed: `P` must be a Property Key");return u in s},sy=Function.prototype.toString,Rs=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_h,Su;if(typeof Rs=="function"&&typeof Object.defineProperty=="function")try{_h=Object.defineProperty({},"length",{get:function(){throw Su}}),Su={},Rs(function(){throw 42},null,_h)}catch(s){s!==Su&&(Rs=null)}else Rs=null;var O2=/^\s*class\b/,Rh=function(s){try{var u=sy.call(s);return O2.test(u)}catch{return!1}},Oh=function(s){try{return Rh(s)?!1:(sy.call(s),!0)}catch{return!1}},Eu=Object.prototype.toString,D2="[object Object]",A2="[object Function]",I2="[object GeneratorFunction]",M2="[object HTMLAllCollection]",z2="[object HTML document.all class]",L2="[object HTMLCollection]",B2=typeof Symbol=="function"&&!!Symbol.toStringTag,N2=!(0 in[,]),Dh=function(){return!1};if(typeof document=="object"){var j2=document.all;Eu.call(j2)===Eu.call(document.all)&&(Dh=function(s){if((N2||!s)&&(typeof s>"u"||typeof s=="object"))try{var u=Eu.call(s);return(u===M2||u===z2||u===L2||u===D2)&&s("")==null}catch{}return!1})}var ay=Rs?function(s){if(Dh(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;try{Rs(s,null,_h)}catch(u){if(u!==Su)return!1}return!Rh(s)&&Oh(s)}:function(s){if(Dh(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;if(B2)return Oh(s);if(Rh(s))return!1;var u=Eu.call(s);return u!==A2&&u!==I2&&!/^\[object HTML/.test(u)?!1:Oh(s)},H2=ay,ly=ai,F2=ly("%Math%"),V2=ly("%Number%"),U2=V2.MAX_SAFE_INTEGER||F2.pow(2,53)-1,W2=ai,G2=W2("%Math.abs%"),q2=function(s){return G2(s)},X2=Ha,Y2=Math.floor,K2=function(s){return X2(s)==="BigInt"?s:Y2(s)},Z2=function(s){return s===null||typeof s!="function"&&typeof s!="object"},J2=function(s){return s===null||typeof s!="function"&&typeof s!="object"},$2=Ev,Ah=function(){return $2()&&!!Symbol.toStringTag},Q2=Date.prototype.getDay,eR=function(s){try{return Q2.call(s),!0}catch{return!1}},tR=Object.prototype.toString,nR="[object Date]",iR=Ah(),rR=function(s){return typeof s!="object"||s===null?!1:iR?eR(s):tR.call(s)===nR},Ih={exports:{}},oR=Object.prototype.toString,sR=kv();if(sR){var aR=Symbol.prototype.toString,lR=/^Symbol\(.*\)$/,uR=function(s){return typeof s.valueOf()!="symbol"?!1:lR.test(aR.call(s))};Ih.exports=function(s){if(typeof s=="symbol")return!0;if(oR.call(s)!=="[object Symbol]")return!1;try{return uR(s)}catch{return!1}}}else Ih.exports=function(s){return!1};var cR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Mh=J2,uy=ay,dR=rR,cy=Ih.exports,hR=function(s,u){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var o=u==="string"?["toString","valueOf"]:["valueOf","toString"],a,c,m;for(m=0;m<o.length;++m)if(a=s[o[m]],uy(a)&&(c=a.call(s),Mh(c)))return c;throw new TypeError("No default value")},pR=function(s,u){var o=s[u];if(o!==null&&typeof o<"u"){if(!uy(o))throw new TypeError(o+" returned for property "+u+" of object "+s+" is not a function");return o}},fR=function(s){if(Mh(s))return s;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var o;if(cR&&(Symbol.toPrimitive?o=pR(s,Symbol.toPrimitive):cy(s)&&(o=Symbol.prototype.valueOf)),typeof o<"u"){var a=o.call(s,u);if(Mh(a))return a;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(dR(s)||cy(s))&&(u="string"),hR(s,u==="default"?"number":u)},dy=fR,mR=function(s){return arguments.length>1?dy(s,arguments[1]):dy(s)},zh=Ar,hy=Ah(),py,fy,Lh,Bh;if(hy){py=zh("Object.prototype.hasOwnProperty"),fy=zh("RegExp.prototype.exec"),Lh={};var Nh=function(){throw Lh};Bh={toString:Nh,valueOf:Nh},typeof Symbol.toPrimitive=="symbol"&&(Bh[Symbol.toPrimitive]=Nh)}var gR=zh("Object.prototype.toString"),vR=Object.getOwnPropertyDescriptor,yR="[object RegExp]",bR=hy?function(s){if(!s||typeof s!="object")return!1;var u=vR(s,"lastIndex"),o=u&&py(u,"value");if(!o)return!1;try{fy(s,Bh)}catch(a){return a===Lh}}:function(s){return!s||typeof s!="object"&&typeof s!="function"?!1:gR(s)===yR},wR=Ar,xR=ai,SR=bR,ER=wR("RegExp.prototype.exec"),TR=xR("%TypeError%"),kR=function(s){if(!SR(s))throw new TR("`regex` must be a RegExp");return function(u){return ER(s,u)!==null}},my=ai,CR=my("%String%"),PR=my("%TypeError%"),gy=function(s){if(typeof s=="symbol")throw new PR("Cannot convert a Symbol value to a string");return CR(s)},_R=La,RR=gy,OR=Ar,vy=OR("String.prototype.replace"),yy=/^\s$/.test("᠎"),DR=yy?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,AR=yy?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,by=function(){var s=RR(_R(this));return vy(vy(s,DR,""),AR,"")},IR=by,wy="​",Os="᠎",xy=function(){return String.prototype.trim&&wy.trim()===wy&&Os.trim()===Os&&("_"+Os).trim()==="_"+Os&&(Os+"_").trim()===Os+"_"?String.prototype.trim:IR},MR=Ps,zR=xy,LR=function(){var s=zR();return MR(String.prototype,{trim:s},{trim:function(){return String.prototype.trim!==s}}),s},BR=za.exports,NR=Ps,jR=La,HR=by,Sy=xy,FR=LR,VR=BR(Sy()),Ey=function(s){return jR(s),VR(s)};NR(Ey,{getPolyfill:Sy,implementation:HR,shim:FR});var Ty=Ey,Tu=ai,jh=Tu("%Number%"),UR=Tu("%RegExp%"),WR=Tu("%TypeError%"),ky=Tu("%parseInt%"),GR=Ar,ku=kR,Cy=GR("String.prototype.slice"),qR=ku(/^0b[01]+$/i),XR=ku(/^0o[0-7]+$/i),YR=ku(/^[-+]0x[0-9a-f]+$/i),KR=["","​","￾"].join(""),ZR=new UR("["+KR+"]","g"),JR=ku(ZR),$R=Ty,QR=Ha,eO=function s(u){if(QR(u)!=="String")throw new WR("Assertion failed: `argument` is not a String");if(qR(u))return jh(ky(Cy(u,2),2));if(XR(u))return jh(ky(Cy(u,2),8));if(JR(u)||YR(u))return NaN;var o=$R(u);return o!==u?s(o):jh(u)},Py=ai,_y=Py("%TypeError%"),Ry=Py("%Number%"),tO=Z2,nO=mR,iO=eO,rO=function(s){var u=tO(s)?s:nO(s,Ry);if(typeof u=="symbol")throw new _y("Cannot convert a Symbol value to a number");if(typeof u=="bigint")throw new _y("Conversion from 'BigInt' to 'number' is not allowed.");return typeof u=="string"?iO(u):Ry(u)},Oy=Number.isNaN||function(s){return s!==s},oO=Oy,sO=function(s){return(typeof s=="number"||typeof s=="bigint")&&!oO(s)&&s!==1/0&&s!==-1/0},aO=function(s){return s>=0?1:-1},lO=q2,uO=K2,cO=rO,dO=Oy,hO=sO,pO=aO,fO=function(s){var u=cO(s);if(dO(u)||u===0)return 0;if(!hO(u))return u;var o=uO(lO(u));return o===0?0:pO(u)*o},Dy=U2,mO=fO,gO=function(s){var u=mO(s);return u<=0?0:u>Dy?Dy:u},vO=ai,yO=vO("%TypeError%"),bO=ry,wO=gO,xO=Ha,SO=function(s){if(xO(s)!=="Object")throw new yO("Assertion failed: `obj` must be an Object");return wO(bO(s,"length"))},EO=ai,TO=EO("%Object%"),kO=La,CO=function(s){return kO(s),TO(s)},PO=String.prototype.valueOf,_O=function(s){try{return PO.call(s),!0}catch{return!1}},RO=Object.prototype.toString,OO="[object String]",DO=Ah(),AO=function(s){return typeof s=="string"?!0:typeof s!="object"?!1:DO?_O(s):RO.call(s)===OO},IO=ai,MO=Ar,zO=IO("%TypeError%"),LO=V_,BO=ry,NO=R2,jO=H2,HO=SO,FO=CO,VO=gy,UO=AO,WO=MO("String.prototype.split"),Ay=Object("a"),GO=Ay[0]!=="a"||!(0 in Ay),Iy=function(s){var u=FO(this),o=GO&&UO(this)?WO(this,""):u,a=HO(o);if(!jO(s))throw new zO("Array.prototype.forEach callback must be a function");var c;arguments.length>1&&(c=arguments[1]);for(var m=0;m<a;){var v=VO(m),b=NO(o,v);if(b){var w=BO(o,v);LO(s,c,[w,m,o])}m+=1}},qO=function(s){var u=!0,o=!0,a=!1;if(typeof s=="function"){try{s.call("f",function(c,m,v){typeof v!="object"&&(u=!1)}),s.call([null],function(){"use strict";o=typeof this=="string"},"x")}catch{a=!0}return!a&&u&&o}return!1},XO=qO,YO=Iy,My=function(){var s=Array.prototype.forEach;return XO(s)?s:YO},KO=Ps,ZO=My,JO=function(){var s=ZO();return KO(Array.prototype,{forEach:s},{forEach:function(){return Array.prototype.forEach!==s}}),s},$O=Ps,QO=za.exports,eD=Ar,tD=La,nD=Iy,zy=My,iD=zy(),rD=JO,oD=eD("Array.prototype.slice"),sD=QO.apply(iD),Ly=function(s,u){return tD(s),sD(s,oD(arguments,1))};$O(Ly,{getPolyfill:zy,implementation:nD,shim:rD});var aD=Ly,lD=La,By=Ar,uD=By("Object.prototype.propertyIsEnumerable"),cD=By("Array.prototype.push"),Ny=function(s){var u=lD(s),o=[];for(var a in u)uD(u,a)&&cD(o,[a,u[a]]);return o},dD=Ny,jy=function(){return typeof Object.entries=="function"?Object.entries:dD},hD=jy,pD=Ps,fD=function(){var s=hD();return pD(Object,{entries:s},{entries:function(){return Object.entries!==s}}),s},mD=Ps,gD=za.exports,vD=Ny,Hy=jy,yD=fD,Fy=gD(Hy(),Object);mD(Fy,{getPolyfill:Hy,implementation:vD,shim:yD});var bD=Fy,Cu=aD,Hh=bD,Vy=Pv,wD=Ty,xD=function(s){},Uy=String.prototype.replace,Wy=String.prototype.split,Pu="||||",Fh=function(s){var u=s%100,o=u%10;return u!==11&&o===1?0:2<=o&&o<=4&&!(u>=12&&u<=14)?1:2},Gy={pluralTypes:{arabic:function(s){if(s<3)return s;var u=s%100;return u>=3&&u<=10?3:u>=11?4:5},bosnian_serbian:Fh,chinese:function(){return 0},croatian:Fh,french:function(s){return s>=2?1:0},german:function(s){return s!==1?1:0},russian:Fh,lithuanian:function(s){return s%10===1&&s%100!==11?0:s%10>=2&&s%10<=9&&(s%100<11||s%100>19)?1:2},czech:function(s){return s===1?0:s>=2&&s<=4?1:2},polish:function(s){if(s===1)return 0;var u=s%10;return 2<=u&&u<=4&&(s%100<10||s%100>=20)?1:2},icelandic:function(s){return s%10!==1||s%100===11?1:0},slovenian:function(s){var u=s%100;return u===1?0:u===2?1:u===3||u===4?2:3},romanian:function(s){if(s===1)return 0;var u=s%100;return s===0||u>=2&&u<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function SD(s){var u={};return Cu(Hh(s),function(o){var a=o[0],c=o[1];Cu(c,function(m){u[m]=a})}),u}function ED(s,u){var o=SD(s.pluralTypeToLanguages);return o[u]||o[Wy.call(u,/-/,1)[0]]||o.en}function TD(s,u,o){return s.pluralTypes[u](o)}function kD(){var s={};return function(u,o){var a=s[o];return a&&!u.pluralTypes[a]&&(a=null,s[o]=a),a||(a=ED(u,o),a&&(s[o]=a)),a}}function qy(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function CD(s){var u=s&&s.prefix||"%{",o=s&&s.suffix||"}";if(u===Pu||o===Pu)throw new RangeError('"'+Pu+'" token is reserved for pluralization');return new RegExp(qy(u)+"(.*?)"+qy(o),"g")}var PD=kD(),_D=/%\{(.*?)\}/g;function Vh(s,u,o,a,c,m){if(typeof s!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(u==null)return s;var v=s,b=a||_D,w=m||Uy,x=typeof u=="number"?{smart_count:u}:u;if(x.smart_count!=null&&s){var E=c||Gy,O=Wy.call(s,Pu),A=o||"en",H=PD(E,A),X=TD(E,H,x.smart_count);v=wD(O[X]||O[0])}return v=w.call(v,b,function(ae,ie){return!Vy(x,ie)||x[ie]==null?ae:x[ie]}),v}function Ir(s){var u=s||{};this.phrases={},this.extend(u.phrases||{}),this.currentLocale=u.locale||"en";var o=u.allowMissing?Vh:null;this.onMissingKey=typeof u.onMissingKey=="function"?u.onMissingKey:o,this.warn=u.warn||xD,this.replaceImplementation=u.replace||Uy,this.tokenRegex=CD(u.interpolation),this.pluralRules=u.pluralRules||Gy}Ir.prototype.locale=function(s){return s&&(this.currentLocale=s),this.currentLocale},Ir.prototype.extend=function(s,u){Cu(Hh(s||{}),function(o){var a=o[0],c=o[1],m=u?u+"."+a:a;typeof c=="object"?this.extend(c,m):this.phrases[m]=c},this)},Ir.prototype.unset=function(s,u){typeof s=="string"?delete this.phrases[s]:Cu(Hh(s||{}),function(o){var a=o[0],c=o[1],m=u?u+"."+a:a;typeof c=="object"?this.unset(c,m):delete this.phrases[m]},this)},Ir.prototype.clear=function(){this.phrases={}},Ir.prototype.replace=function(s){this.clear(),this.extend(s)},Ir.prototype.t=function(s,u){var o,a,c=u??{};if(typeof this.phrases[s]=="string")o=this.phrases[s];else if(typeof c._=="string")o=c._;else if(this.onMissingKey){var m=this.onMissingKey;a=m(s,c,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+s+'"'),a=s;return typeof o=="string"&&(a=Vh(o,c,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),a},Ir.prototype.has=function(s){return Vy(this.phrases,s)},Ir.transformPhrase=function(s,u,o){return Vh(s,u,o)};var RD=Ir,OD={"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},DD={"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},AD={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},ID={"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},MD={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},zD={"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},LD={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},BD={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},ND={"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},jD={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},HD={"Add a comment...":"コメントを追加する...","Add a reply...":"返信する...","Add tag...":"タグを追加する...",Cancel:"キャンセル",Close:"閉じる",Edit:"編集",Delete:"削除",Ok:"Ok"},FD={"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},VD={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},UD={"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},WD={"Add a comment...":"Добавить комментарий...","Add a reply...":"Добавить ответ...","Add tag...":"Добавить тэг...",Cancel:"Отмена",Close:"Закрыть",Edit:"Редактировать",Delete:"Удалить",Ok:"Ок"},GD={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},qD={"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},XD={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},YD={"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"},KD={"Add a comment...":"添加评论...","Add a reply...":"添加回复...","Add tag...":"添加标签...",Cancel:"取消",Close:"关闭",Edit:"编辑",Delete:"删除",Ok:"确认"},ZD={"Add a comment...":"添加評論...","Add a reply...":"添加回覆...","Add tag...":"添加標籤...",Cancel:"取消",Close:"關閉",Edit:"編輯",Delete:"刪除",Ok:"確認"},Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});var Uh=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]];function JD(s,u){return u<3?Uh[s][u-1]:u>=3&&u<=10?Uh[s][2]:Uh[s][3]}function $D(s,u){if(u===0)return["منذ لحظات","بعد لحظات"];var o=JD(Math.floor(u/2),s);return["منذ "+o,"بعد "+o]}var QD=Xy.default=$D,Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});function eA(s,u){var o=0,a=u==1||u==3||u==5||u==7||u==9||u==11||u==13;return a&&s>=5&&(o=1),[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][u][o]}var tA=Yy.default=eA,Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});function nA(s,u){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][u]}var iA=Ky.default=nA,Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});function rA(s,u){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][u]}var oA=Zy.default=rA,Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});function sA(s,u){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][u]}var aA=Jy.default=sA,$y={};Object.defineProperty($y,"__esModule",{value:!0});function lA(s,u){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][u]}var uA=$y.default=lA,Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});function cA(s,u){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][u]}var dA=Qy.default=cA,eb={};Object.defineProperty(eb,"__esModule",{value:!0});function hA(s,u){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][u]}var pA=eb.default=hA,tb={};Object.defineProperty(tb,"__esModule",{value:!0});function fA(s,u){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][u]}var mA=tb.default=fA,nb={};Object.defineProperty(nb,"__esModule",{value:!0});function gA(s,u){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][u]}var vA=nb.default=gA,ib={};Object.defineProperty(ib,"__esModule",{value:!0});function yA(s,u){return[["すこし前","すぐに"],["%s秒前","%s秒以内"],["1分前","1分以内"],["%s分前","%s分以内"],["1時間前","1時間以内"],["%s時間前","%s時間以内"],["1日前","1日以内"],["%s日前","%s日以内"],["1週間前","1週間以内"],["%s週間前","%s週間以内"],["1ヶ月前","1ヶ月以内"],["%sヶ月前","%sヶ月以内"],["1年前","1年以内"],["%s年前","%s年以内"]][u]}var bA=ib.default=yA,rb={};Object.defineProperty(rb,"__esModule",{value:!0});function wA(s,u){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][u]}var xA=rb.default=wA,ob={};Object.defineProperty(ob,"__esModule",{value:!0});function SA(s,u){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][u]}var EA=ob.default=SA,sb={};Object.defineProperty(sb,"__esModule",{value:!0});function TA(s,u){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][u]}var kA=sb.default=TA,ab={};Object.defineProperty(ab,"__esModule",{value:!0});function Do(s,u,o,a,c){var m=c%10,v=a;return c===1?v=s:m===1&&c>20?v=u:m>1&&m<5&&(c>20||c<10)&&(v=o),v}var lb=Do.bind(null,"секунду","%s секунду","%s секунды","%s секунд"),ub=Do.bind(null,"минуту","%s минуту","%s минуты","%s минут"),cb=Do.bind(null,"час","%s час","%s часа","%s часов"),db=Do.bind(null,"день","%s день","%s дня","%s дней"),hb=Do.bind(null,"неделю","%s неделю","%s недели","%s недель"),pb=Do.bind(null,"месяц","%s месяц","%s месяца","%s месяцев"),fb=Do.bind(null,"год","%s год","%s года","%s лет");function CA(s,u){switch(u){case 0:return["только что","через несколько секунд"];case 1:return[lb(s)+" назад","через "+lb(s)];case 2:case 3:return[ub(s)+" назад","через "+ub(s)];case 4:case 5:return[cb(s)+" назад","через "+cb(s)];case 6:return["вчера","завтра"];case 7:return[db(s)+" назад","через "+db(s)];case 8:case 9:return[hb(s)+" назад","через "+hb(s)];case 10:case 11:return[pb(s)+" назад","через "+pb(s)];case 12:case 13:return[fb(s)+" назад","через "+fb(s)];default:return["",""]}}var PA=ab.default=CA,mb={};Object.defineProperty(mb,"__esModule",{value:!0});function _A(s,u){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][u]}var RA=mb.default=_A,gb={};Object.defineProperty(gb,"__esModule",{value:!0});function OA(s,u){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][u]}var DA=gb.default=OA,vb={};Object.defineProperty(vb,"__esModule",{value:!0});function AA(s,u){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][u]}var IA=vb.default=AA,yb={};Object.defineProperty(yb,"__esModule",{value:!0});var MA=["秒","分钟","小时","天","周","个月","年"];function zA(s,u){if(u===0)return["刚刚","片刻后"];var o=MA[~~(u/2)];return[s+" "+o+"前",s+" "+o+"后"]}var LA=yb.default=zA,bb={};Object.defineProperty(bb,"__esModule",{value:!0});function BA(s,u){return[["剛剛","片刻後"],["%s 秒前","%s 秒後"],["1 分鐘前","1 分鐘後"],["%s 分鐘前","%s 分鐘後"],["1 小時前","1 小時後"],["%s 小時前","%s 小時後"],["1 天前","1 天後"],["%s 天前","%s 天後"],["1 週前","1 週後"],["%s 週前","%s 週後"],["1 個月前","1 個月後"],["%s 個月前","%s 個月後"],["1 年前","1 年後"],["%s 年前","%s 年後"]][u]}var NA=bb.default=BA;const Ds={ar:OD,cs:DD,de:AD,el:ID,es:MD,fi:zD,fr:LD,gl:BD,hi:ND,it:jD,ja:HD,ko:FD,nl:VD,pt:UD,ru:WD,sv:GD,th:qD,tr:XD,ur:YD,"zh-CN":KD,"zh-TW":ZD},jA=Object.keys(Ds),Ao=new RD({allowMissing:!0});Ao.init=(s,u)=>{Ao.clear(),s&&(Ao.locale(s),Ao.extend(Ds[s])),u&&Ao.extend(u)},Nn("ar",QD),Nn("cs",tA),Nn("de",iA),Nn("el",oA),Nn("es",aA),Nn("fi",uA),Nn("fr",dA),Nn("gl",pA),Nn("hi",mA),Nn("it",vA),Nn("ja",bA),Nn("ko",xA),Nn("nl",EA),Nn("pt",kA),Nn("ru",PA),Nn("sv",RA),Nn("th",DA),Nn("tr",IA),Nn("zh-CN",LA),Nn("zh-TW",NA),Ao.registerMessages=(s,u)=>{Ds[s]?Ds[s]={...Ds[s],...u}:Ds[s]=u};var Bi=Ao,HA=s=>{const u=Et();return UP(u,()=>s.onClickOutside()),Le.createElement("ul",{ref:u,className:"r6o-comment-dropdown-menu"},Le.createElement("li",{onClick:s.onEdit},Bi.t("Edit")),Le.createElement("li",{onClick:s.onDelete},Bi.t("Delete")))},wb={},Wh={},Gh={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(s,u){(function(o,a){a(s,u)})(rr,function(o,a){var c=typeof Map=="function"?new Map:function(){var E=[],O=[];return{has:function(A){return E.indexOf(A)>-1},get:function(A){return O[E.indexOf(A)]},set:function(A,H){E.indexOf(A)===-1&&(E.push(A),O.push(H))},delete:function(A){var H=E.indexOf(A);H>-1&&(E.splice(H,1),O.splice(H,1))}}}(),m=function(E){return new Event(E,{bubbles:!0})};try{new Event("test")}catch{m=function(E){var O=document.createEvent("Event");return O.initEvent(E,!0,!1),O}}function v(E){if(!E||!E.nodeName||E.nodeName!=="TEXTAREA"||c.has(E))return;var O=null,A=null,H=null;function X(){var ve=window.getComputedStyle(E,null);ve.resize==="vertical"?E.style.resize="none":ve.resize==="both"&&(E.style.resize="horizontal"),ve.boxSizing==="content-box"?O=-(parseFloat(ve.paddingTop)+parseFloat(ve.paddingBottom)):O=parseFloat(ve.borderTopWidth)+parseFloat(ve.borderBottomWidth),isNaN(O)&&(O=0),M()}function ae(ve){{var ke=E.style.width;E.style.width="0px",E.offsetWidth,E.style.width=ke}E.style.overflowY=ve}function ie(ve){for(var ke=[];ve&&ve.parentNode&&ve.parentNode instanceof Element;)ve.parentNode.scrollTop&&ke.push({node:ve.parentNode,scrollTop:ve.parentNode.scrollTop}),ve=ve.parentNode;return ke}function de(){if(E.scrollHeight!==0){var ve=ie(E),ke=document.documentElement&&document.documentElement.scrollTop;E.style.height="",E.style.height=E.scrollHeight+O+"px",A=E.clientWidth,ve.forEach(function(Pe){Pe.node.scrollTop=Pe.scrollTop}),ke&&(document.documentElement.scrollTop=ke)}}function M(){de();var ve=Math.round(parseFloat(E.style.height)),ke=window.getComputedStyle(E,null),Pe=ke.boxSizing==="content-box"?Math.round(parseFloat(ke.height)):E.offsetHeight;if(Pe<ve?ke.overflowY==="hidden"&&(ae("scroll"),de(),Pe=ke.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight):ke.overflowY!=="hidden"&&(ae("hidden"),de(),Pe=ke.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight),H!==Pe){H=Pe;var Xe=m("autosize:resized");try{E.dispatchEvent(Xe)}catch{}}}var oe=function(){E.clientWidth!==A&&M()},be=function(ve){window.removeEventListener("resize",oe,!1),E.removeEventListener("input",M,!1),E.removeEventListener("keyup",M,!1),E.removeEventListener("autosize:destroy",be,!1),E.removeEventListener("autosize:update",M,!1),Object.keys(ve).forEach(function(ke){E.style[ke]=ve[ke]}),c.delete(E)}.bind(E,{height:E.style.height,resize:E.style.resize,overflowY:E.style.overflowY,overflowX:E.style.overflowX,wordWrap:E.style.wordWrap});E.addEventListener("autosize:destroy",be,!1),"onpropertychange"in E&&"oninput"in E&&E.addEventListener("keyup",M,!1),window.addEventListener("resize",oe,!1),E.addEventListener("input",M,!1),E.addEventListener("autosize:update",M,!1),E.style.overflowX="hidden",E.style.wordWrap="break-word",c.set(E,{destroy:be,update:M}),X()}function b(E){var O=c.get(E);O&&O.destroy()}function w(E){var O=c.get(E);O&&O.update()}var x=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(x=function(E){return E},x.destroy=function(E){return E},x.update=function(E){return E}):(x=function(E,O){return E&&Array.prototype.forEach.call(E.length?E:[E],function(A){return v(A)}),E},x.destroy=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],b),E},x.update=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],w),E}),a.default=x,o.exports=a.default})})(Gh,Gh.exports);var FA=function(s,u,o){return o=window.getComputedStyle,(o?o(s):s.currentStyle)[u.replace(/-(\w)/gi,function(a,c){return c.toUpperCase()})]},VA=FA,qh=VA;function UA(s){var u=qh(s,"line-height"),o=parseFloat(u,10);if(u===o+""){var a=s.style.lineHeight;s.style.lineHeight=u+"em",u=qh(s,"line-height"),o=parseFloat(u,10),a?s.style.lineHeight=a:delete s.style.lineHeight}if(u.indexOf("pt")!==-1?(o*=4,o/=3):u.indexOf("mm")!==-1?(o*=96,o/=25.4):u.indexOf("cm")!==-1?(o*=96,o/=2.54):u.indexOf("in")!==-1?o*=96:u.indexOf("pc")!==-1&&(o*=16),o=Math.round(o),u==="normal"){var c=s.nodeName,m=document.createElement(c);m.innerHTML="&nbsp;",c.toUpperCase()==="TEXTAREA"&&m.setAttribute("rows","1");var v=qh(s,"font-size");m.style.fontSize=v,m.style.padding="0px",m.style.border="0px";var b=document.body;b.appendChild(m);var w=m.offsetHeight;o=w,b.removeChild(m)}return o}var WA=UA,GA=rr&&rr.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,o){u.__proto__=o}||function(u,o){for(var a in o)o.hasOwnProperty(a)&&(u[a]=o[a])};return function(u,o){s(u,o);function a(){this.constructor=u}u.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),Xh=rr&&rr.__assign||Object.assign||function(s){for(var u,o=1,a=arguments.length;o<a;o++){u=arguments[o];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(s[c]=u[c])}return s},qA=rr&&rr.__rest||function(s,u){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&u.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)u.indexOf(a[c])<0&&(o[a[c]]=s[a[c]]);return o};Wh.__esModule=!0;var _u=or,Fa=sr.exports,Ru=Gh.exports,XA=WA,YA=XA,xb="autosize:resized",KA=function(s){GA(u,s);function u(){var o=s!==null&&s.apply(this,arguments)||this;return o.state={lineHeight:null},o.textarea=null,o.onResize=function(a){o.props.onResize&&o.props.onResize(a)},o.updateLineHeight=function(){o.textarea&&o.setState({lineHeight:YA(o.textarea)})},o.onChange=function(a){var c=o.props.onChange;o.currentValue=a.currentTarget.value,c&&c(a)},o}return u.prototype.componentDidMount=function(){var o=this,a=this.props,c=a.maxRows,m=a.async;typeof c=="number"&&this.updateLineHeight(),typeof c=="number"||m?setTimeout(function(){return o.textarea&&Ru(o.textarea)}):this.textarea&&Ru(this.textarea),this.textarea&&this.textarea.addEventListener(xb,this.onResize)},u.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(xb,this.onResize),Ru.destroy(this.textarea))},u.prototype.render=function(){var o=this,a=this,c=a.props;c.onResize;var m=c.maxRows;c.onChange;var v=c.style;c.innerRef;var b=c.children,w=qA(c,["onResize","maxRows","onChange","style","innerRef","children"]),x=a.state.lineHeight,E=m&&x?x*m:null;return _u.createElement("textarea",Xh({},w,{onChange:this.onChange,style:E?Xh({},v,{maxHeight:E}):v,ref:function(O){o.textarea=O,typeof o.props.innerRef=="function"?o.props.innerRef(O):o.props.innerRef&&(o.props.innerRef.current=O)}}),b)},u.prototype.componentDidUpdate=function(){this.textarea&&Ru.update(this.textarea)},u.defaultProps={rows:1,async:!1},u.propTypes={rows:Fa.number,maxRows:Fa.number,onResize:Fa.func,innerRef:Fa.any,async:Fa.bool},u}(_u.Component);Wh.TextareaAutosize=_u.forwardRef(function(s,u){return _u.createElement(KA,Xh({},s,{innerRef:u}))}),function(s){s.__esModule=!0;var u=Wh;s.default=u.TextareaAutosize}(wb);var ZA=So(wb);class Sb extends K{constructor(u){super(u),r(this,"onKeyDown",o=>{o.which===13&&o.ctrlKey&&this.props.onSaveAndClose()}),r(this,"onKeyUp",o=>{o.which===46&&o.stopPropagation()}),this.element=G()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Le.createElement(ZA,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||Bi.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown})}}function Vt(){return Vt=Object.assign?Object.assign.bind():function(s){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Vt.apply(this,arguments)}function JA(s){if(s.sheet)return s.sheet;for(var u=0;u<document.styleSheets.length;u++)if(document.styleSheets[u].ownerNode===s)return document.styleSheets[u]}function $A(s){var u=document.createElement("style");return u.setAttribute("data-emotion",s.key),s.nonce!==void 0&&u.setAttribute("nonce",s.nonce),u.appendChild(document.createTextNode("")),u.setAttribute("data-s",""),u}var QA=function(){function s(o){var a=this;this._insertTag=function(c){var m;a.tags.length===0?a.insertionPoint?m=a.insertionPoint.nextSibling:a.prepend?m=a.container.firstChild:m=a.before:m=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(c,m),a.tags.push(c)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var u=s.prototype;return u.hydrate=function(o){o.forEach(this._insertTag)},u.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($A(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var c=JA(a);try{c.insertRule(o,c.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(o));this.ctr++},u.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},s}(),gi="-ms-",Ou="-moz-",mn="-webkit-",Eb="comm",Yh="rule",Kh="decl",eI="@import",Tb="@keyframes",tI="@layer",nI=Math.abs,Du=String.fromCharCode,iI=Object.assign;function rI(s,u){return li(s,0)^45?(((u<<2^li(s,0))<<2^li(s,1))<<2^li(s,2))<<2^li(s,3):0}function kb(s){return s.trim()}function oI(s,u){return(s=u.exec(s))?s[0]:s}function gn(s,u,o){return s.replace(u,o)}function Zh(s,u){return s.indexOf(u)}function li(s,u){return s.charCodeAt(u)|0}function Va(s,u,o){return s.slice(u,o)}function mr(s){return s.length}function Jh(s){return s.length}function Au(s,u){return u.push(s),s}function sI(s,u){return s.map(u).join("")}var Iu=1,As=1,Cb=0,Ri=0,Gn=0,Is="";function Mu(s,u,o,a,c,m,v){return{value:s,root:u,parent:o,type:a,props:c,children:m,line:Iu,column:As,length:v,return:""}}function Ua(s,u){return iI(Mu("",null,null,"",null,null,0),s,{length:-s.length},u)}function aI(){return Gn}function lI(){return Gn=Ri>0?li(Is,--Ri):0,As--,Gn===10&&(As=1,Iu--),Gn}function Ni(){return Gn=Ri<Cb?li(Is,Ri++):0,As++,Gn===10&&(As=1,Iu++),Gn}function gr(){return li(Is,Ri)}function zu(){return Ri}function Wa(s,u){return Va(Is,s,u)}function Ga(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pb(s){return Iu=As=1,Cb=mr(Is=s),Ri=0,[]}function _b(s){return Is="",s}function Lu(s){return kb(Wa(Ri-1,$h(s===91?s+2:s===40?s+1:s)))}function uI(s){for(;(Gn=gr())&&Gn<33;)Ni();return Ga(s)>2||Ga(Gn)>3?"":" "}function cI(s,u){for(;--u&&Ni()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return Wa(s,zu()+(u<6&&gr()==32&&Ni()==32))}function $h(s){for(;Ni();)switch(Gn){case s:return Ri;case 34:case 39:s!==34&&s!==39&&$h(Gn);break;case 40:s===41&&$h(s);break;case 92:Ni();break}return Ri}function dI(s,u){for(;Ni()&&s+Gn!==57&&!(s+Gn===84&&gr()===47););return"/*"+Wa(u,Ri-1)+"*"+Du(s===47?s:Ni())}function hI(s){for(;!Ga(gr());)Ni();return Wa(s,Ri)}function pI(s){return _b(Bu("",null,null,null,[""],s=Pb(s),0,[0],s))}function Bu(s,u,o,a,c,m,v,b,w){for(var x=0,E=0,O=v,A=0,H=0,X=0,ae=1,ie=1,de=1,M=0,oe="",be=c,ve=m,ke=a,Pe=oe;ie;)switch(X=M,M=Ni()){case 40:if(X!=108&&li(Pe,O-1)==58){Zh(Pe+=gn(Lu(M),"&","&\f"),"&\f")!=-1&&(de=-1);break}case 34:case 39:case 91:Pe+=Lu(M);break;case 9:case 10:case 13:case 32:Pe+=uI(X);break;case 92:Pe+=cI(zu()-1,7);continue;case 47:switch(gr()){case 42:case 47:Au(fI(dI(Ni(),zu()),u,o),w);break;default:Pe+="/"}break;case 123*ae:b[x++]=mr(Pe)*de;case 125*ae:case 59:case 0:switch(M){case 0:case 125:ie=0;case 59+E:de==-1&&(Pe=gn(Pe,/\f/g,"")),H>0&&mr(Pe)-O&&Au(H>32?Ob(Pe+";",a,o,O-1):Ob(gn(Pe," ","")+";",a,o,O-2),w);break;case 59:Pe+=";";default:if(Au(ke=Rb(Pe,u,o,x,E,c,b,oe,be=[],ve=[],O),m),M===123)if(E===0)Bu(Pe,u,ke,ke,be,m,O,b,ve);else switch(A===99&&li(Pe,3)===110?100:A){case 100:case 108:case 109:case 115:Bu(s,ke,ke,a&&Au(Rb(s,ke,ke,0,0,c,b,oe,c,be=[],O),ve),c,ve,O,b,a?be:ve);break;default:Bu(Pe,ke,ke,ke,[""],ve,0,b,ve)}}x=E=H=0,ae=de=1,oe=Pe="",O=v;break;case 58:O=1+mr(Pe),H=X;default:if(ae<1){if(M==123)--ae;else if(M==125&&ae++==0&&lI()==125)continue}switch(Pe+=Du(M),M*ae){case 38:de=E>0?1:(Pe+="\f",-1);break;case 44:b[x++]=(mr(Pe)-1)*de,de=1;break;case 64:gr()===45&&(Pe+=Lu(Ni())),A=gr(),E=O=mr(oe=Pe+=hI(zu())),M++;break;case 45:X===45&&mr(Pe)==2&&(ae=0)}}return m}function Rb(s,u,o,a,c,m,v,b,w,x,E){for(var O=c-1,A=c===0?m:[""],H=Jh(A),X=0,ae=0,ie=0;X<a;++X)for(var de=0,M=Va(s,O+1,O=nI(ae=v[X])),oe=s;de<H;++de)(oe=kb(ae>0?A[de]+" "+M:gn(M,/&\f/g,A[de])))&&(w[ie++]=oe);return Mu(s,u,o,c===0?Yh:b,w,x,E)}function fI(s,u,o){return Mu(s,u,o,Eb,Du(aI()),Va(s,2,-2),0)}function Ob(s,u,o,a){return Mu(s,u,o,Kh,Va(s,0,a),Va(s,a+1,-1),a)}function Ms(s,u){for(var o="",a=Jh(s),c=0;c<a;c++)o+=u(s[c],c,s,u)||"";return o}function mI(s,u,o,a){switch(s.type){case tI:if(s.children.length)break;case eI:case Kh:return s.return=s.return||s.value;case Eb:return"";case Tb:return s.return=s.value+"{"+Ms(s.children,a)+"}";case Yh:s.value=s.props.join(",")}return mr(o=Ms(s.children,a))?s.return=s.value+"{"+o+"}":""}function gI(s){var u=Jh(s);return function(o,a,c,m){for(var v="",b=0;b<u;b++)v+=s[b](o,a,c,m)||"";return v}}function vI(s){return function(u){u.root||(u=u.return)&&s(u)}}function yI(s){var u=Object.create(null);return function(o){return u[o]===void 0&&(u[o]=s(o)),u[o]}}var bI=function(s,u,o){for(var a=0,c=0;a=c,c=gr(),a===38&&c===12&&(u[o]=1),!Ga(c);)Ni();return Wa(s,Ri)},wI=function(s,u){var o=-1,a=44;do switch(Ga(a)){case 0:a===38&&gr()===12&&(u[o]=1),s[o]+=bI(Ri-1,u,o);break;case 2:s[o]+=Lu(a);break;case 4:if(a===44){s[++o]=gr()===58?"&\f":"",u[o]=s[o].length;break}default:s[o]+=Du(a)}while(a=Ni());return s},xI=function(s,u){return _b(wI(Pb(s),u))},Db=new WeakMap,SI=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var u=s.value,o=s.parent,a=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&u.charCodeAt(0)!==58&&!Db.get(o))&&!a){Db.set(s,!0);for(var c=[],m=xI(u,c),v=o.props,b=0,w=0;b<m.length;b++)for(var x=0;x<v.length;x++,w++)s.props[w]=c[b]?m[b].replace(/&\f/g,v[x]):v[x]+" "+m[b]}}},EI=function(s){if(s.type==="decl"){var u=s.value;u.charCodeAt(0)===108&&u.charCodeAt(2)===98&&(s.return="",s.value="")}};function Ab(s,u){switch(rI(s,u)){case 5103:return mn+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mn+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return mn+s+Ou+s+gi+s+s;case 6828:case 4268:return mn+s+gi+s+s;case 6165:return mn+s+gi+"flex-"+s+s;case 5187:return mn+s+gn(s,/(\w+).+(:[^]+)/,mn+"box-$1$2"+gi+"flex-$1$2")+s;case 5443:return mn+s+gi+"flex-item-"+gn(s,/flex-|-self/,"")+s;case 4675:return mn+s+gi+"flex-line-pack"+gn(s,/align-content|flex-|-self/,"")+s;case 5548:return mn+s+gi+gn(s,"shrink","negative")+s;case 5292:return mn+s+gi+gn(s,"basis","preferred-size")+s;case 6060:return mn+"box-"+gn(s,"-grow","")+mn+s+gi+gn(s,"grow","positive")+s;case 4554:return mn+gn(s,/([^-])(transform)/g,"$1"+mn+"$2")+s;case 6187:return gn(gn(gn(s,/(zoom-|grab)/,mn+"$1"),/(image-set)/,mn+"$1"),s,"")+s;case 5495:case 3959:return gn(s,/(image-set\([^]*)/,mn+"$1$`$1");case 4968:return gn(gn(s,/(.+:)(flex-)?(.*)/,mn+"box-pack:$3"+gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mn+s+s;case 4095:case 3583:case 4068:case 2532:return gn(s,/(.+)-inline(.+)/,mn+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mr(s)-1-u>6)switch(li(s,u+1)){case 109:if(li(s,u+4)!==45)break;case 102:return gn(s,/(.+:)(.+)-([^]+)/,"$1"+mn+"$2-$3$1"+Ou+(li(s,u+3)==108?"$3":"$2-$3"))+s;case 115:return~Zh(s,"stretch")?Ab(gn(s,"stretch","fill-available"),u)+s:s}break;case 4949:if(li(s,u+1)!==115)break;case 6444:switch(li(s,mr(s)-3-(~Zh(s,"!important")&&10))){case 107:return gn(s,":",":"+mn)+s;case 101:return gn(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mn+(li(s,14)===45?"inline-":"")+"box$3$1"+mn+"$2$3$1"+gi+"$2box$3")+s}break;case 5936:switch(li(s,u+11)){case 114:return mn+s+gi+gn(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return mn+s+gi+gn(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return mn+s+gi+gn(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return mn+s+gi+s+s}return s}var TI=function(s,u,o,a){if(s.length>-1&&!s.return)switch(s.type){case Kh:s.return=Ab(s.value,s.length);break;case Tb:return Ms([Ua(s,{value:gn(s.value,"@","@"+mn)})],a);case Yh:if(s.length)return sI(s.props,function(c){switch(oI(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ms([Ua(s,{props:[gn(c,/:(read-\w+)/,":"+Ou+"$1")]})],a);case"::placeholder":return Ms([Ua(s,{props:[gn(c,/:(plac\w+)/,":"+mn+"input-$1")]}),Ua(s,{props:[gn(c,/:(plac\w+)/,":"+Ou+"$1")]}),Ua(s,{props:[gn(c,/:(plac\w+)/,gi+"input-$1")]})],a)}return""})}},kI=[TI],CI=function(s){var u=s.key;if(u==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(X){var ae=X.getAttribute("data-emotion");ae.indexOf(" ")!==-1&&(document.head.appendChild(X),X.setAttribute("data-s",""))})}var a=s.stylisPlugins||kI,c={},m,v=[];m=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+u+' "]'),function(X){for(var ae=X.getAttribute("data-emotion").split(" "),ie=1;ie<ae.length;ie++)c[ae[ie]]=!0;v.push(X)});var b,w=[SI,EI];{var x,E=[mI,vI(function(X){x.insert(X)})],O=gI(w.concat(a,E)),A=function(X){return Ms(pI(X),O)};b=function(X,ae,ie,de){x=ie,A(X?X+"{"+ae.styles+"}":ae.styles),de&&(H.inserted[ae.name]=!0)}}var H={key:u,sheet:new QA({key:u,container:m,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:c,registered:{},insert:b};return H.sheet.hydrate(v),H},Ib={exports:{}},En={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ti=typeof Symbol=="function"&&Symbol.for,Qh=ti?Symbol.for("react.element"):60103,ep=ti?Symbol.for("react.portal"):60106,Nu=ti?Symbol.for("react.fragment"):60107,ju=ti?Symbol.for("react.strict_mode"):60108,Hu=ti?Symbol.for("react.profiler"):60114,Fu=ti?Symbol.for("react.provider"):60109,Vu=ti?Symbol.for("react.context"):60110,tp=ti?Symbol.for("react.async_mode"):60111,Uu=ti?Symbol.for("react.concurrent_mode"):60111,Wu=ti?Symbol.for("react.forward_ref"):60112,Gu=ti?Symbol.for("react.suspense"):60113,PI=ti?Symbol.for("react.suspense_list"):60120,qu=ti?Symbol.for("react.memo"):60115,Xu=ti?Symbol.for("react.lazy"):60116,_I=ti?Symbol.for("react.block"):60121,RI=ti?Symbol.for("react.fundamental"):60117,OI=ti?Symbol.for("react.responder"):60118,DI=ti?Symbol.for("react.scope"):60119;function ji(s){if(typeof s=="object"&&s!==null){var u=s.$$typeof;switch(u){case Qh:switch(s=s.type,s){case tp:case Uu:case Nu:case Hu:case ju:case Gu:return s;default:switch(s=s&&s.$$typeof,s){case Vu:case Wu:case Xu:case qu:case Fu:return s;default:return u}}case ep:return u}}}function Mb(s){return ji(s)===Uu}En.AsyncMode=tp,En.ConcurrentMode=Uu,En.ContextConsumer=Vu,En.ContextProvider=Fu,En.Element=Qh,En.ForwardRef=Wu,En.Fragment=Nu,En.Lazy=Xu,En.Memo=qu,En.Portal=ep,En.Profiler=Hu,En.StrictMode=ju,En.Suspense=Gu,En.isAsyncMode=function(s){return Mb(s)||ji(s)===tp},En.isConcurrentMode=Mb,En.isContextConsumer=function(s){return ji(s)===Vu},En.isContextProvider=function(s){return ji(s)===Fu},En.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Qh},En.isForwardRef=function(s){return ji(s)===Wu},En.isFragment=function(s){return ji(s)===Nu},En.isLazy=function(s){return ji(s)===Xu},En.isMemo=function(s){return ji(s)===qu},En.isPortal=function(s){return ji(s)===ep},En.isProfiler=function(s){return ji(s)===Hu},En.isStrictMode=function(s){return ji(s)===ju},En.isSuspense=function(s){return ji(s)===Gu},En.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===Nu||s===Uu||s===Hu||s===ju||s===Gu||s===PI||typeof s=="object"&&s!==null&&(s.$$typeof===Xu||s.$$typeof===qu||s.$$typeof===Fu||s.$$typeof===Vu||s.$$typeof===Wu||s.$$typeof===RI||s.$$typeof===OI||s.$$typeof===DI||s.$$typeof===_I)},En.typeOf=ji,Ib.exports=En;var zb=Ib.exports,AI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},II={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lb={};Lb[zb.ForwardRef]=AI,Lb[zb.Memo]=II;var MI=!0;function Bb(s,u,o){var a="";return o.split(" ").forEach(function(c){s[c]!==void 0?u.push(s[c]+";"):a+=c+" "}),a}var np=function(s,u,o){var a=s.key+"-"+u.name;(o===!1||MI===!1)&&s.registered[a]===void 0&&(s.registered[a]=u.styles)},Nb=function(s,u,o){np(s,u,o);var a=s.key+"-"+u.name;if(s.inserted[u.name]===void 0){var c=u;do s.insert(u===c?"."+a:"",c,s.sheet,!0),c=c.next;while(c!==void 0)}};function zI(s){for(var u=0,o,a=0,c=s.length;c>=4;++a,c-=4)o=s.charCodeAt(a)&255|(s.charCodeAt(++a)&255)<<8|(s.charCodeAt(++a)&255)<<16|(s.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,u=(o&65535)*1540483477+((o>>>16)*59797<<16)^(u&65535)*1540483477+((u>>>16)*59797<<16);switch(c){case 3:u^=(s.charCodeAt(a+2)&255)<<16;case 2:u^=(s.charCodeAt(a+1)&255)<<8;case 1:u^=s.charCodeAt(a)&255,u=(u&65535)*1540483477+((u>>>16)*59797<<16)}return u^=u>>>13,u=(u&65535)*1540483477+((u>>>16)*59797<<16),((u^u>>>15)>>>0).toString(36)}var LI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},BI=/[A-Z]|^ms/g,NI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jb=function(s){return s.charCodeAt(1)===45},Hb=function(s){return s!=null&&typeof s!="boolean"},ip=yI(function(s){return jb(s)?s:s.replace(BI,"-$&").toLowerCase()}),Fb=function(s,u){switch(s){case"animation":case"animationName":if(typeof u=="string")return u.replace(NI,function(o,a,c){return vr={name:a,styles:c,next:vr},a})}return LI[s]!==1&&!jb(s)&&typeof u=="number"&&u!==0?u+"px":u};function qa(s,u,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return vr={name:o.name,styles:o.styles,next:vr},o.name;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)vr={name:a.name,styles:a.styles,next:vr},a=a.next;var c=o.styles+";";return c}return jI(s,u,o)}case"function":{if(s!==void 0){var m=vr,v=o(s);return vr=m,qa(s,u,v)}break}}if(u==null)return o;var b=u[o];return b!==void 0?b:o}function jI(s,u,o){var a="";if(Array.isArray(o))for(var c=0;c<o.length;c++)a+=qa(s,u,o[c])+";";else for(var m in o){var v=o[m];if(typeof v!="object")u!=null&&u[v]!==void 0?a+=m+"{"+u[v]+"}":Hb(v)&&(a+=ip(m)+":"+Fb(m,v)+";");else if(Array.isArray(v)&&typeof v[0]=="string"&&(u==null||u[v[0]]===void 0))for(var b=0;b<v.length;b++)Hb(v[b])&&(a+=ip(m)+":"+Fb(m,v[b])+";");else{var w=qa(s,u,v);switch(m){case"animation":case"animationName":{a+=ip(m)+":"+w+";";break}default:a+=m+"{"+w+"}"}}}return a}var Vb=/label:\s*([^\s;\n{]+)\s*(;|$)/g,vr,rp=function(s,u,o){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var a=!0,c="";vr=void 0;var m=s[0];m==null||m.raw===void 0?(a=!1,c+=qa(o,u,m)):c+=m[0];for(var v=1;v<s.length;v++)c+=qa(o,u,s[v]),a&&(c+=m[v]);Vb.lastIndex=0;for(var b="",w;(w=Vb.exec(c))!==null;)b+="-"+w[1];var x=zI(c)+b;return{name:x,styles:c,next:vr}},HI=function(s){return s()},FI=Ta.useInsertionEffect?Ta.useInsertionEffect:!1,Ub=FI||HI,op={}.hasOwnProperty,Wb=Ot(typeof HTMLElement<"u"?CI({key:"css"}):null);Wb.Provider;var Gb=function(s){return kr(function(u,o){var a=Ae(Wb);return s(u,a,o)})},qb=Ot({}),sp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",VI=function(s,u){var o={};for(var a in u)op.call(u,a)&&(o[a]=u[a]);return o[sp]=s,o},UI=function(s){var u=s.cache,o=s.serialized,a=s.isStringTag;return np(u,o,a),Ub(function(){return Nb(u,o,a)}),null},WI=Gb(function(s,u,o){var a=s.css;typeof a=="string"&&u.registered[a]!==void 0&&(a=u.registered[a]);var c=s[sp],m=[a],v="";typeof s.className=="string"?v=Bb(u.registered,m,s.className):s.className!=null&&(v=s.className+" ");var b=rp(m,void 0,Ae(qb));v+=u.key+"-"+b.name;var w={};for(var x in s)op.call(s,x)&&x!=="css"&&x!==sp&&(w[x]=s[x]);return w.ref=o,w.className=v,D(ne,null,D(UI,{cache:u,serialized:b,isStringTag:typeof c=="string"}),D(c,w))}),GI=WI,Ut=function(s,u){var o=arguments;if(u==null||!op.call(u,"css"))return D.apply(void 0,o);var a=o.length,c=new Array(a);c[0]=GI,c[1]=VI(s,u);for(var m=2;m<a;m++)c[m]=o[m];return D.apply(null,c)};function ap(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];return rp(u)}var qI=function(){var s=ap.apply(void 0,arguments),u="animation-"+s.name;return{name:u,styles:"@keyframes "+u+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},XI=function s(u){for(var o=u.length,a=0,c="";a<o;a++){var m=u[a];if(m!=null){var v=void 0;switch(typeof m){case"boolean":break;case"object":{if(Array.isArray(m))v=s(m);else{v="";for(var b in m)m[b]&&b&&(v&&(v+=" "),v+=b)}break}default:v=m}v&&(c&&(c+=" "),c+=v)}}return c};function YI(s,u,o){var a=[],c=Bb(s,a,o);return a.length<2?o:c+u(a)}var KI=function(s){var u=s.cache,o=s.serializedArr;return Ub(function(){for(var a=0;a<o.length;a++)Nb(u,o[a],!1)}),null},ZI=Gb(function(s,u){var o=[],a=function(){for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];var E=rp(w,u.registered);return o.push(E),np(u,E,!1),u.key+"-"+E.name},c=function(){for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];return YI(u.registered,a,XI(w))},m={css:a,cx:c,theme:Ae(qb)},v=s.children(m);return D(ne,null,D(KI,{cache:u,serializedArr:o}),v)});function JI(s,u){return u||(u=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(u)}}))}function lp(s,u){if(s==null)return{};var o={},a=Object.keys(s),c,m;for(m=0;m<a.length;m++)c=a[m],!(u.indexOf(c)>=0)&&(o[c]=s[c]);return o}function zs(s,u){if(s==null)return{};var o=lp(s,u),a,c;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(s);for(c=0;c<m.length;c++)a=m[c],!(u.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,a)||(o[a]=s[a]))}return o}function Ls(s){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Ls(s)}var Xb={};Object.defineProperty(Xb,"__esModule",{value:!0});var up=Object.assign||function(s){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Yb=function(){function s(u,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,o,a){return o&&s(u.prototype,o),a&&s(u,a),u}}(),Kb=or,Xa=Zb(Kb),$I=sr.exports,Jn=Zb($I);function Zb(s){return s&&s.__esModule?s:{default:s}}function QI(s,u){var o={};for(var a in s)u.indexOf(a)>=0||!Object.prototype.hasOwnProperty.call(s,a)||(o[a]=s[a]);return o}function eM(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function tM(s,u){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:s}function nM(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(s,u):s.__proto__=u)}var Jb={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},iM=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],rM=function(s){return iM.forEach(function(u){return delete s[u]}),s},$b=function(s,u){u.style.fontSize=s.fontSize,u.style.fontFamily=s.fontFamily,u.style.fontWeight=s.fontWeight,u.style.fontStyle=s.fontStyle,u.style.letterSpacing=s.letterSpacing,u.style.textTransform=s.textTransform},Qb=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,ew=function(){return Qb?"_"+Math.random().toString(36).substr(2,12):void 0},cp=function(s){nM(u,s),Yb(u,null,[{key:"getDerivedStateFromProps",value:function(o,a){var c=o.id;return c!==a.prevId?{inputId:c||ew(),prevId:c}:null}}]);function u(o){eM(this,u);var a=tM(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,o));return a.inputRef=function(c){a.input=c,typeof a.props.inputRef=="function"&&a.props.inputRef(c)},a.placeHolderSizerRef=function(c){a.placeHolderSizer=c},a.sizerRef=function(c){a.sizer=c},a.state={inputWidth:o.minWidth,inputId:o.id||ew(),prevId:o.id},a}return Yb(u,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(o,a){a.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var o=this.input&&window.getComputedStyle(this.input);!o||($b(o,this.sizer),this.placeHolderSizer&&$b(o,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var o=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?o=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:o=this.sizer.scrollWidth+2;var a=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;o+=a,o<this.props.minWidth&&(o=this.props.minWidth),o!==this.state.inputWidth&&this.setState({inputWidth:o})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var o=this.props.injectStyles;return Qb&&o?Xa.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var o=[this.props.defaultValue,this.props.value,""].reduce(function(v,b){return v??b}),a=up({},this.props.style);a.display||(a.display="inline-block");var c=up({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),m=QI(this.props,[]);return rM(m),m.className=this.props.inputClassName,m.id=this.state.inputId,m.style=c,Xa.default.createElement("div",{className:this.props.className,style:a},this.renderStyles(),Xa.default.createElement("input",up({},m,{ref:this.inputRef})),Xa.default.createElement("div",{ref:this.sizerRef,style:Jb},o),this.props.placeholder?Xa.default.createElement("div",{ref:this.placeHolderSizerRef,style:Jb},this.props.placeholder):null)}}]),u}(Kb.Component);cp.propTypes={className:Jn.default.string,defaultValue:Jn.default.any,extraWidth:Jn.default.oneOfType([Jn.default.number,Jn.default.string]),id:Jn.default.string,injectStyles:Jn.default.bool,inputClassName:Jn.default.string,inputRef:Jn.default.func,inputStyle:Jn.default.object,minWidth:Jn.default.oneOfType([Jn.default.number,Jn.default.string]),onAutosize:Jn.default.func,onChange:Jn.default.func,placeholder:Jn.default.string,placeholderIsMinWidth:Jn.default.bool,style:Jn.default.object,value:Jn.default.any},cp.defaultProps={minWidth:1,injectStyles:!0};var oM=Xb.default=cp;function Yu(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function sM(s,u){if(Ls(s)!=="object"||s===null)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,u);if(Ls(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function tw(s){var u=sM(s,"string");return Ls(u)==="symbol"?u:String(u)}function nw(s,u){for(var o=0;o<u.length;o++){var a=u[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,tw(a.key),a)}}function Ku(s,u,o){return u&&nw(s.prototype,u),o&&nw(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}function Zu(s,u){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},Zu(s,u)}function Ju(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),u&&Zu(s,u)}function Mr(s,u,o){return u=tw(u),u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}function aM(s,u,o){return u in s?Object.defineProperty(s,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[u]=o,s}function iw(s,u){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);u&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),o.push.apply(o,a)}return o}function ui(s){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{};u%2?iw(Object(o),!0).forEach(function(a){aM(s,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):iw(Object(o)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}return s}function $u(s){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},$u(s)}function lM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function uM(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function cM(s,u){return u&&(typeof u=="object"||typeof u=="function")?u:uM(s)}function Qu(s){var u=lM();return function(){var o=$u(s),a;if(u){var c=$u(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return cM(this,a)}}var ec=function(){};function dM(s,u){return u?u[0]==="-"?s+u:s+"__"+u:s}function hM(s,u,o){var a=[o];if(u&&s)for(var c in u)u.hasOwnProperty(c)&&u[c]&&a.push("".concat(dM(s,c)));return a.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var rw=function(s){return Array.isArray(s)?s.filter(Boolean):Ls(s)==="object"&&s!==null?[s]:[]},ow=function(s){s.className,s.clearValue,s.cx,s.getStyles,s.getValue,s.hasValue,s.isMulti,s.isRtl,s.options,s.selectOption,s.selectProps,s.setValue,s.theme;var u=zs(s,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return ui({},u)};function dp(s){return[document.documentElement,document.body,window].indexOf(s)>-1}function sw(s){return dp(s)?window.pageYOffset:s.scrollTop}function tc(s,u){if(dp(s)){window.scrollTo(0,u);return}s.scrollTop=u}function pM(s){var u=getComputedStyle(s),o=u.position==="absolute",a=/(auto|scroll)/,c=document.documentElement;if(u.position==="fixed")return c;for(var m=s;m=m.parentElement;)if(u=getComputedStyle(m),!(o&&u.position==="static")&&a.test(u.overflow+u.overflowY+u.overflowX))return m;return c}function fM(s,u,o,a){return o*((s=s/a-1)*s*s+1)+u}function nc(s,u){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ec,c=sw(s),m=u-c,v=10,b=0;function w(){b+=v;var x=fM(b,c,m,o);tc(s,x),b<o?window.requestAnimationFrame(w):a(s)}w()}function mM(s,u){var o=s.getBoundingClientRect(),a=u.getBoundingClientRect(),c=u.offsetHeight/3;a.bottom+c>o.bottom?tc(s,Math.min(u.offsetTop+u.clientHeight-s.offsetHeight+c,s.scrollHeight)):a.top-c<o.top&&tc(s,Math.max(u.offsetTop-c,0))}function gM(s){var u=s.getBoundingClientRect();return{bottom:u.bottom,height:u.height,left:u.left,right:u.right,top:u.top,width:u.width}}function aw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function vM(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var lw=!1,yM={get passive(){return lw=!0}},ic=typeof window<"u"?window:{};ic.addEventListener&&ic.removeEventListener&&(ic.addEventListener("p",ec,yM),ic.removeEventListener("p",ec,!1));var bM=lw;function wM(s){var u=s.maxHeight,o=s.menuEl,a=s.minHeight,c=s.placement,m=s.shouldScroll,v=s.isFixedPosition,b=s.theme,w=b.spacing,x=pM(o),E={placement:"bottom",maxHeight:u};if(!o||!o.offsetParent)return E;var O=x.getBoundingClientRect(),A=O.height,H=o.getBoundingClientRect(),X=H.bottom,ae=H.height,ie=H.top,de=o.offsetParent.getBoundingClientRect(),M=de.top,oe=window.innerHeight,be=sw(x),ve=parseInt(getComputedStyle(o).marginBottom,10),ke=parseInt(getComputedStyle(o).marginTop,10),Pe=M-ke,Xe=oe-ie,Je=Pe+be,dt=A-be-ie,mt=X-oe+be+ve,ht=be+ie-ke,Rt=160;switch(c){case"auto":case"bottom":if(Xe>=ae)return{placement:"bottom",maxHeight:u};if(dt>=ae&&!v)return m&&nc(x,mt,Rt),{placement:"bottom",maxHeight:u};if(!v&&dt>=a||v&&Xe>=a){m&&nc(x,mt,Rt);var Pt=v?Xe-ve:dt-ve;return{placement:"bottom",maxHeight:Pt}}if(c==="auto"||v){var qt=u,Gt=v?Pe:Je;return Gt>=a&&(qt=Math.min(Gt-ve-w.controlHeight,u)),{placement:"top",maxHeight:qt}}if(c==="bottom")return m&&tc(x,mt),{placement:"bottom",maxHeight:u};break;case"top":if(Pe>=ae)return{placement:"top",maxHeight:u};if(Je>=ae&&!v)return m&&nc(x,ht,Rt),{placement:"top",maxHeight:u};if(!v&&Je>=a||v&&Pe>=a){var Zt=u;return(!v&&Je>=a||v&&Pe>=a)&&(Zt=v?Pe-ke:Je-ke),m&&nc(x,ht,Rt),{placement:"top",maxHeight:Zt}}return{placement:"bottom",maxHeight:u};default:throw new Error('Invalid placement provided "'.concat(c,'".'))}return E}function xM(s){var u={bottom:"top",top:"bottom"};return s?u[s]:"bottom"}var hp=function(s){return s==="auto"?"bottom":s},SM=function(s){var u,o=s.placement,a=s.theme,c=a.borderRadius,m=a.spacing,v=a.colors;return u={label:"menu"},Mr(u,xM(o),"100%"),Mr(u,"backgroundColor",v.neutral0),Mr(u,"borderRadius",c),Mr(u,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Mr(u,"marginBottom",m.menuGutter),Mr(u,"marginTop",m.menuGutter),Mr(u,"position","absolute"),Mr(u,"width","100%"),Mr(u,"zIndex",1),u},uw=Ot({getPortalPlacement:null}),cw=function(s){Ju(o,s);var u=Qu(o);function o(){var a;Yu(this,o);for(var c=arguments.length,m=new Array(c),v=0;v<c;v++)m[v]=arguments[v];return a=u.call.apply(u,[this].concat(m)),a.state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(b){var w=a.props,x=w.minMenuHeight,E=w.maxMenuHeight,O=w.menuPlacement,A=w.menuPosition,H=w.menuShouldScrollIntoView,X=w.theme;if(b){var ae=A==="fixed",ie=H&&!ae,de=wM({maxHeight:E,menuEl:b,minHeight:x,placement:O,shouldScroll:ie,isFixedPosition:ae,theme:X}),M=a.context.getPortalPlacement;M&&M(de),a.setState(de)}},a.getUpdatedProps=function(){var b=a.props.menuPlacement,w=a.state.placement||hp(b);return ui(ui({},a.props),{},{placement:w,maxHeight:a.state.maxHeight})},a}return Ku(o,[{key:"render",value:function(){var a=this.props.children;return a({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),o}(K);cw.contextType=uw;var EM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerRef,v=s.innerProps;return Ut("div",Vt({css:c("menu",s),className:a({menu:!0},o),ref:m},v),u)},TM=function(s){var u=s.maxHeight,o=s.theme.spacing.baseUnit;return{maxHeight:u,overflowY:"auto",paddingBottom:o,paddingTop:o,position:"relative",WebkitOverflowScrolling:"touch"}},kM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps,v=s.innerRef,b=s.isMulti;return Ut("div",Vt({css:c("menuList",s),className:a({"menu-list":!0,"menu-list--is-multi":b},o),ref:v},m),u)},dw=function(s){var u=s.theme,o=u.spacing.baseUnit,a=u.colors;return{color:a.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px"),textAlign:"center"}},CM=dw,PM=dw,hw=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:c("noOptionsMessage",s),className:a({"menu-notice":!0,"menu-notice--no-options":!0},o)},m),u)};hw.defaultProps={children:"No options"};var pw=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:c("loadingMessage",s),className:a({"menu-notice":!0,"menu-notice--loading":!0},o)},m),u)};pw.defaultProps={children:"Loading..."};var _M=function(s){var u=s.rect,o=s.offset,a=s.position;return{left:u.left,position:a,top:o,width:u.width,zIndex:1}},RM=function(s){Ju(o,s);var u=Qu(o);function o(){var a;Yu(this,o);for(var c=arguments.length,m=new Array(c),v=0;v<c;v++)m[v]=arguments[v];return a=u.call.apply(u,[this].concat(m)),a.state={placement:null},a.getPortalPlacement=function(b){var w=b.placement,x=hp(a.props.menuPlacement);w!==x&&a.setState({placement:w})},a}return Ku(o,[{key:"render",value:function(){var a=this.props,c=a.appendTo,m=a.children,v=a.className,b=a.controlElement,w=a.cx,x=a.innerProps,E=a.menuPlacement,O=a.menuPosition,A=a.getStyles,H=O==="fixed";if(!c&&!H||!b)return null;var X=this.state.placement||hp(E),ae=gM(b),ie=H?0:window.pageYOffset,de=ae[X]+ie,M={offset:de,position:O,rect:ae},oe=Ut("div",Vt({css:A("menuPortal",M),className:w({"menu-portal":!0},v)},x),m);return Ut(uw.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},c?ds(oe,c):oe)}}]),o}(K),OM=function(s){var u=s.isDisabled,o=s.isRtl;return{label:"container",direction:o?"rtl":null,pointerEvents:u?"none":null,position:"relative"}},DM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps,v=s.isDisabled,b=s.isRtl;return Ut("div",Vt({css:c("container",s),className:a({"--is-disabled":v,"--is-rtl":b},o)},m),u)},AM=function(s){var u=s.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(u.baseUnit/2,"px ").concat(u.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},IM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.innerProps,m=s.isMulti,v=s.getStyles,b=s.hasValue;return Ut("div",Vt({css:v("valueContainer",s),className:a({"value-container":!0,"value-container--is-multi":m,"value-container--has-value":b},o)},c),u)},MM=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},zM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.innerProps,m=s.getStyles;return Ut("div",Vt({css:m("indicatorsContainer",s),className:a({indicators:!0},o)},c),u)},fw,LM={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},mw=function(s){var u=s.size,o=zs(s,["size"]);return Ut("svg",Vt({height:u,width:u,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:LM},o))},pp=function(s){return Ut(mw,Vt({size:20},s),Ut("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},gw=function(s){return Ut(mw,Vt({size:20},s),Ut("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},vw=function(s){var u=s.isFocused,o=s.theme,a=o.spacing.baseUnit,c=o.colors;return{label:"indicatorContainer",color:u?c.neutral60:c.neutral20,display:"flex",padding:a*2,transition:"color 150ms",":hover":{color:u?c.neutral80:c.neutral40}}},BM=vw,NM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:c("dropdownIndicator",s),className:a({indicator:!0,"dropdown-indicator":!0},o)},m),u||Ut(gw,null))},jM=vw,HM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:c("clearIndicator",s),className:a({indicator:!0,"clear-indicator":!0},o)},m),u||Ut(pp,null))},FM=function(s){var u=s.isDisabled,o=s.theme,a=o.spacing.baseUnit,c=o.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:u?c.neutral10:c.neutral20,marginBottom:a*2,marginTop:a*2,width:1}},VM=function(s){var u=s.className,o=s.cx,a=s.getStyles,c=s.innerProps;return Ut("span",Vt({},c,{css:a("indicatorSeparator",s),className:o({"indicator-separator":!0},u)}))},UM=qI(fw||(fw=JI([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),WM=function(s){var u=s.isFocused,o=s.size,a=s.theme,c=a.colors,m=a.spacing.baseUnit;return{label:"loadingIndicator",color:u?c.neutral60:c.neutral20,display:"flex",padding:m*2,transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"}},fp=function(s){var u=s.delay,o=s.offset;return Ut("span",{css:ap({animation:"".concat(UM," 1s ease-in-out ").concat(u,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yw=function(s){var u=s.className,o=s.cx,a=s.getStyles,c=s.innerProps,m=s.isRtl;return Ut("div",Vt({css:a("loadingIndicator",s),className:o({indicator:!0,"loading-indicator":!0},u)},c),Ut(fp,{delay:0,offset:m}),Ut(fp,{delay:160,offset:!0}),Ut(fp,{delay:320,offset:!m}))};yw.defaultProps={size:4};var GM=function(s){var u=s.isDisabled,o=s.isFocused,a=s.theme,c=a.colors,m=a.borderRadius,v=a.spacing;return{label:"control",alignItems:"center",backgroundColor:u?c.neutral5:c.neutral0,borderColor:u?c.neutral10:o?c.primary:c.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(c.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:v.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:o?c.primary:c.neutral30}}},qM=function(s){var u=s.children,o=s.cx,a=s.getStyles,c=s.className,m=s.isDisabled,v=s.isFocused,b=s.innerRef,w=s.innerProps,x=s.menuIsOpen;return Ut("div",Vt({ref:b,css:a("control",s),className:o({control:!0,"control--is-disabled":m,"control--is-focused":v,"control--menu-is-open":x},c)},w),u)},XM=function(s){var u=s.theme.spacing;return{paddingBottom:u.baseUnit*2,paddingTop:u.baseUnit*2}},YM=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.Heading,v=s.headingProps,b=s.innerProps,w=s.label,x=s.theme,E=s.selectProps;return Ut("div",Vt({css:c("group",s),className:a({group:!0},o)},b),Ut(m,Vt({},v,{selectProps:E,theme:x,getStyles:c,cx:a}),w),Ut("div",null,u))},KM=function(s){var u=s.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"}},ZM=function(s){var u=s.getStyles,o=s.cx,a=s.className,c=ow(s);c.data;var m=zs(c,["data"]);return Ut("div",Vt({css:u("groupHeading",s),className:o({"group-heading":!0},a)},m))},JM=function(s){var u=s.isDisabled,o=s.theme,a=o.spacing,c=o.colors;return{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,visibility:u?"hidden":"visible",color:c.neutral80}},$M=function(s){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:s?0:1,outline:0,padding:0,color:"inherit"}},QM=function(s){var u=s.className,o=s.cx,a=s.getStyles,c=ow(s),m=c.innerRef,v=c.isDisabled,b=c.isHidden,w=zs(c,["innerRef","isDisabled","isHidden"]);return Ut("div",{css:a("input",s)},Ut(oM,Vt({className:o({input:!0},u),inputRef:m,inputStyle:$M(b),disabled:v},w)))},e9=function(s){var u=s.theme,o=u.spacing,a=u.borderRadius,c=u.colors;return{label:"multiValue",backgroundColor:c.neutral10,borderRadius:a/2,display:"flex",margin:o.baseUnit/2,minWidth:0}},t9=function(s){var u=s.theme,o=u.borderRadius,a=u.colors,c=s.cropWithEllipsis;return{borderRadius:o/2,color:a.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:c?"ellipsis":null,whiteSpace:"nowrap"}},n9=function(s){var u=s.theme,o=u.spacing,a=u.borderRadius,c=u.colors,m=s.isFocused;return{alignItems:"center",borderRadius:a/2,backgroundColor:m&&c.dangerLight,display:"flex",paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}}},bw=function(s){var u=s.children,o=s.innerProps;return Ut("div",o,u)},i9=bw,r9=bw;function o9(s){var u=s.children,o=s.innerProps;return Ut("div",o,u||Ut(pp,{size:14}))}var ww=function(s){var u=s.children,o=s.className,a=s.components,c=s.cx,m=s.data,v=s.getStyles,b=s.innerProps,w=s.isDisabled,x=s.removeProps,E=s.selectProps,O=a.Container,A=a.Label,H=a.Remove;return Ut(ZI,null,function(X){var ae=X.css,ie=X.cx;return Ut(O,{data:m,innerProps:ui({className:ie(ae(v("multiValue",s)),c({"multi-value":!0,"multi-value--is-disabled":w},o))},b),selectProps:E},Ut(A,{data:m,innerProps:{className:ie(ae(v("multiValueLabel",s)),c({"multi-value__label":!0},o))},selectProps:E},u),Ut(H,{data:m,innerProps:ui({className:ie(ae(v("multiValueRemove",s)),c({"multi-value__remove":!0},o))},x),selectProps:E}))})};ww.defaultProps={cropWithEllipsis:!0};var s9=function(s){var u=s.isDisabled,o=s.isFocused,a=s.isSelected,c=s.theme,m=c.spacing,v=c.colors;return{label:"option",backgroundColor:a?v.primary:o?v.primary25:"transparent",color:u?v.neutral20:a?v.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!u&&(a?v.primary:v.primary50)}}},a9=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.isDisabled,v=s.isFocused,b=s.isSelected,w=s.innerRef,x=s.innerProps;return Ut("div",Vt({css:c("option",s),className:a({option:!0,"option--is-disabled":m,"option--is-focused":v,"option--is-selected":b},o),ref:w},x),u)},l9=function(s){var u=s.theme,o=u.spacing,a=u.colors;return{label:"placeholder",color:a.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},u9=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:c("placeholder",s),className:a({placeholder:!0},o)},m),u)},c9=function(s){var u=s.isDisabled,o=s.theme,a=o.spacing,c=o.colors;return{label:"singleValue",color:u?c.neutral40:c.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,maxWidth:"calc(100% - ".concat(a.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},d9=function(s){var u=s.children,o=s.className,a=s.cx,c=s.getStyles,m=s.isDisabled,v=s.innerProps;return Ut("div",Vt({css:c("singleValue",s),className:a({"single-value":!0,"single-value--is-disabled":m},o)},v),u)},h9={ClearIndicator:HM,Control:qM,DropdownIndicator:NM,DownChevron:gw,CrossIcon:pp,Group:YM,GroupHeading:ZM,IndicatorsContainer:zM,IndicatorSeparator:VM,Input:QM,LoadingIndicator:yw,Menu:EM,MenuList:kM,MenuPortal:RM,LoadingMessage:pw,NoOptionsMessage:hw,MultiValue:ww,MultiValueContainer:i9,MultiValueLabel:r9,MultiValueRemove:o9,Option:a9,Placeholder:u9,SelectContainer:DM,SingleValue:d9,ValueContainer:IM},p9=function(s){return ui(ui({},h9),s.components)};function mp(s,u){(u==null||u>s.length)&&(u=s.length);for(var o=0,a=new Array(u);o<u;o++)a[o]=s[o];return a}function f9(s){if(Array.isArray(s))return mp(s)}function m9(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function g9(s,u){if(s){if(typeof s=="string")return mp(s,u);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return mp(s,u)}}function v9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xw(s){return f9(s)||m9(s)||g9(s)||v9()}var Sw=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function y9(s,u){return!!(s===u||Sw(s)&&Sw(u))}function b9(s,u){if(s.length!==u.length)return!1;for(var o=0;o<s.length;o++)if(!y9(s[o],u[o]))return!1;return!0}function w9(s,u){u===void 0&&(u=b9);var o,a=[],c,m=!1;function v(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];return m&&o===this&&u(b,a)||(c=s.apply(this,b),m=!0,o=this,a=b),c}return v}for(var x9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},S9=function(s){return Ut("span",Vt({css:x9},s))},E9={guidance:function(s){var u=s.isSearchable,o=s.isMulti,a=s.isDisabled,c=s.tabSelectsValue,m=s.context;switch(m){case"menu":return"Use Up and Down to choose options".concat(a?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(c?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(s["aria-label"]||"Select"," is focused ").concat(u?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(s){var u=s.action,o=s.label,a=o===void 0?"":o,c=s.isDisabled;switch(u){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"select-option":return c?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(s){var u=s.context,o=s.focused,a=o===void 0?{}:o,c=s.options,m=s.label,v=m===void 0?"":m,b=s.selectValue,w=s.isDisabled,x=s.isSelected,E=function(H,X){return H&&H.length?"".concat(H.indexOf(X)+1," of ").concat(H.length):""};if(u==="value"&&b)return"value ".concat(v," focused, ").concat(E(b,a),".");if(u==="menu"){var O=w?" disabled":"",A="".concat(x?"selected":"focused").concat(O);return"option ".concat(v," ").concat(A,", ").concat(E(c,a),".")}return""},onFilter:function(s){var u=s.inputValue,o=s.resultsMessage;return"".concat(o).concat(u?" for search term "+u:"",".")}},T9=function(s){var u=s.ariaSelection,o=s.focusedOption,a=s.focusedValue,c=s.focusableOptions,m=s.isFocused,v=s.selectValue,b=s.selectProps,w=b.ariaLiveMessages,x=b.getOptionLabel,E=b.inputValue,O=b.isMulti,A=b.isOptionDisabled,H=b.isSearchable,X=b.menuIsOpen,ae=b.options,ie=b.screenReaderStatus,de=b.tabSelectsValue,M=b["aria-label"],oe=b["aria-live"],be=Lt(function(){return ui(ui({},E9),w||{})},[w]),ve=Lt(function(){var dt="";if(u&&be.onChange){var mt=u.option,ht=u.removedValue,Rt=u.value,Pt=function(Zt){return Array.isArray(Zt)?null:Zt},qt=ht||mt||Pt(Rt),Gt=ui({isDisabled:qt&&A(qt),label:qt?x(qt):""},u);dt=be.onChange(Gt)}return dt},[u,A,x,be]),ke=Lt(function(){var dt="",mt=o||a,ht=!!(o&&v&&v.includes(o));if(mt&&be.onFocus){var Rt={focused:mt,label:x(mt),isDisabled:A(mt),isSelected:ht,options:ae,context:mt===o?"menu":"value",selectValue:v};dt=be.onFocus(Rt)}return dt},[o,a,x,A,be,ae,v]),Pe=Lt(function(){var dt="";if(X&&ae.length&&be.onFilter){var mt=ie({count:c.length});dt=be.onFilter({inputValue:E,resultsMessage:mt})}return dt},[c,E,X,be,ae,ie]),Xe=Lt(function(){var dt="";if(be.guidance){var mt=a?"value":X?"menu":"input";dt=be.guidance({"aria-label":M,context:mt,isDisabled:o&&A(o),isMulti:O,isSearchable:H,tabSelectsValue:de})}return dt},[M,o,a,O,A,H,X,be,de]),Je="".concat(ke," ").concat(Pe," ").concat(Xe);return Ut(S9,{"aria-live":oe,"aria-atomic":"false","aria-relevant":"additions text"},m&&Ut(Le.Fragment,null,Ut("span",{id:"aria-selection"},ve),Ut("span",{id:"aria-context"},Je)))},gp=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],k9=new RegExp("["+gp.map(function(s){return s.letters}).join("")+"]","g"),Ew={},vp=0;vp<gp.length;vp++)for(var yp=gp[vp],bp=0;bp<yp.letters.length;bp++)Ew[yp.letters[bp]]=yp.base;var Tw=function(s){return s.replace(k9,function(u){return Ew[u]})},C9=w9(Tw),kw=function(s){return s.replace(/^\s+|\s+$/g,"")},P9=function(s){return"".concat(s.label," ").concat(s.value)},_9=function(s){return function(u,o){var a=ui({ignoreCase:!0,ignoreAccents:!0,stringify:P9,trim:!0,matchFrom:"any"},s),c=a.ignoreCase,m=a.ignoreAccents,v=a.stringify,b=a.trim,w=a.matchFrom,x=b?kw(o):o,E=b?kw(v(u)):v(u);return c&&(x=x.toLowerCase(),E=E.toLowerCase()),m&&(x=C9(x),E=Tw(E)),w==="start"?E.substr(0,x.length)===x:E.indexOf(x)>-1}};function R9(s){s.in,s.out,s.onExited,s.appear,s.enter,s.exit;var u=s.innerRef;s.emotion;var o=zs(s,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Ut("input",Vt({ref:u},o,{css:ap({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var O9=function(s){s.preventDefault(),s.stopPropagation()};function D9(s){var u=s.isEnabled,o=s.onBottomArrive,a=s.onBottomLeave,c=s.onTopArrive,m=s.onTopLeave,v=Et(!1),b=Et(!1),w=Et(0),x=Et(null),E=me(function(ie,de){if(x.current!==null){var M=x.current,oe=M.scrollTop,be=M.scrollHeight,ve=M.clientHeight,ke=x.current,Pe=de>0,Xe=be-ve-oe,Je=!1;Xe>de&&v.current&&(a&&a(ie),v.current=!1),Pe&&b.current&&(m&&m(ie),b.current=!1),Pe&&de>Xe?(o&&!v.current&&o(ie),ke.scrollTop=be,Je=!0,v.current=!0):!Pe&&-de>oe&&(c&&!b.current&&c(ie),ke.scrollTop=0,Je=!0,b.current=!0),Je&&O9(ie)}},[]),O=me(function(ie){E(ie,ie.deltaY)},[E]),A=me(function(ie){w.current=ie.changedTouches[0].clientY},[]),H=me(function(ie){var de=w.current-ie.changedTouches[0].clientY;E(ie,de)},[E]),X=me(function(ie){if(ie){var de=bM?{passive:!1}:!1;typeof ie.addEventListener=="function"&&ie.addEventListener("wheel",O,de),typeof ie.addEventListener=="function"&&ie.addEventListener("touchstart",A,de),typeof ie.addEventListener=="function"&&ie.addEventListener("touchmove",H,de)}},[H,A,O]),ae=me(function(ie){!ie||(typeof ie.removeEventListener=="function"&&ie.removeEventListener("wheel",O,!1),typeof ie.removeEventListener=="function"&&ie.removeEventListener("touchstart",A,!1),typeof ie.removeEventListener=="function"&&ie.removeEventListener("touchmove",H,!1))},[H,A,O]);return $e(function(){if(u){var ie=x.current;return X(ie),function(){ae(ie)}}},[u,X,ae]),function(ie){x.current=ie}}var Cw=["boxSizing","height","overflow","paddingRight","position"],Pw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _w(s){s.preventDefault()}function Rw(s){s.stopPropagation()}function Ow(){var s=this.scrollTop,u=this.scrollHeight,o=s+this.offsetHeight;s===0?this.scrollTop=1:o===u&&(this.scrollTop=s-1)}function Dw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Aw=!!(typeof window<"u"&&window.document&&window.document.createElement),Ya=0,Bs={capture:!1,passive:!1};function A9(s){var u=s.isEnabled,o=s.accountForScrollbars,a=o===void 0?!0:o,c=Et({}),m=Et(null),v=me(function(w){if(Aw){var x=document.body,E=x&&x.style;if(a&&Cw.forEach(function(X){var ae=E&&E[X];c.current[X]=ae}),a&&Ya<1){var O=parseInt(c.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,H=window.innerWidth-A+O||0;Object.keys(Pw).forEach(function(X){var ae=Pw[X];E&&(E[X]=ae)}),E&&(E.paddingRight="".concat(H,"px"))}x&&Dw()&&(x.addEventListener("touchmove",_w,Bs),w&&(w.addEventListener("touchstart",Ow,Bs),w.addEventListener("touchmove",Rw,Bs))),Ya+=1}},[]),b=me(function(w){if(Aw){var x=document.body,E=x&&x.style;Ya=Math.max(Ya-1,0),a&&Ya<1&&Cw.forEach(function(O){var A=c.current[O];E&&(E[O]=A)}),x&&Dw()&&(x.removeEventListener("touchmove",_w,Bs),w&&(w.removeEventListener("touchstart",Ow,Bs),w.removeEventListener("touchmove",Rw,Bs)))}},[]);return $e(function(){if(u){var w=m.current;return v(w),function(){b(w)}}},[u,v,b]),function(w){m.current=w}}var I9=function(){return document.activeElement&&document.activeElement.blur()},M9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function z9(s){var u=s.children,o=s.lockEnabled,a=s.captureEnabled,c=a===void 0?!0:a,m=s.onBottomArrive,v=s.onBottomLeave,b=s.onTopArrive,w=s.onTopLeave,x=D9({isEnabled:c,onBottomArrive:m,onBottomLeave:v,onTopArrive:b,onTopLeave:w}),E=A9({isEnabled:o}),O=function(A){x(A),E(A)};return Ut(Le.Fragment,null,o&&Ut("div",{onClick:I9,css:M9}),u(O))}var L9=function(s){return s.label},B9=function(s){return s.label},N9=function(s){return s.value},j9=function(s){return!!s.isDisabled},H9={clearIndicator:jM,container:OM,control:GM,dropdownIndicator:BM,group:XM,groupHeading:KM,indicatorsContainer:MM,indicatorSeparator:FM,input:JM,loadingIndicator:WM,loadingMessage:PM,menu:SM,menuList:TM,menuPortal:_M,multiValue:e9,multiValueLabel:t9,multiValueRemove:n9,noOptionsMessage:CM,option:s9,placeholder:l9,singleValue:c9,valueContainer:AM},F9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},V9=4,Iw=4,U9=38,W9=Iw*2,G9={baseUnit:Iw,controlHeight:U9,menuGutter:W9},wp={borderRadius:V9,colors:F9,spacing:G9},q9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:aw(),captureMenuScroll:!aw(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:_9(),formatGroupLabel:L9,getOptionLabel:B9,getOptionValue:N9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:j9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!vM(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(s){var u=s.count;return"".concat(u," result").concat(u!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Mw(s,u,o,a){var c=jw(s,u,o),m=Hw(s,u,o),v=Nw(s,u),b=rc(s,u);return{type:"option",data:u,isDisabled:c,isSelected:m,label:v,value:b,index:a}}function zw(s,u){return s.options.map(function(o,a){if(o.options){var c=o.options.map(function(v,b){return Mw(s,v,u,b)}).filter(function(v){return Bw(s,v)});return c.length>0?{type:"group",data:o,options:c,index:a}:void 0}var m=Mw(s,o,u,a);return Bw(s,m)?m:void 0}).filter(function(o){return!!o})}function Lw(s){return s.reduce(function(u,o){return o.type==="group"?u.push.apply(u,xw(o.options.map(function(a){return a.data}))):u.push(o.data),u},[])}function X9(s,u){return Lw(zw(s,u))}function Bw(s,u){var o=s.inputValue,a=o===void 0?"":o,c=u.data,m=u.isSelected,v=u.label,b=u.value;return(!Vw(s)||!m)&&Fw(s,{label:v,value:b,data:c},a)}function Y9(s,u){var o=s.focusedValue,a=s.selectValue,c=a.indexOf(o);if(c>-1){var m=u.indexOf(o);if(m>-1)return o;if(c<u.length)return u[c]}return null}function K9(s,u){var o=s.focusedOption;return o&&u.indexOf(o)>-1?o:u[0]}var Nw=function(s,u){return s.getOptionLabel(u)},rc=function(s,u){return s.getOptionValue(u)};function jw(s,u,o){return typeof s.isOptionDisabled=="function"?s.isOptionDisabled(u,o):!1}function Hw(s,u,o){if(o.indexOf(u)>-1)return!0;if(typeof s.isOptionSelected=="function")return s.isOptionSelected(u,o);var a=rc(s,u);return o.some(function(c){return rc(s,c)===a})}function Fw(s,u,o){return s.filterOption?s.filterOption(u,o):!0}var Vw=function(s){var u=s.hideSelectedOptions,o=s.isMulti;return u===void 0?o:u},Z9=1,Uw=function(s){Ju(o,s);var u=Qu(o);function o(a){var c;return Yu(this,o),c=u.call(this,a),c.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},c.blockOptionHover=!1,c.isComposing=!1,c.commonProps=void 0,c.initialTouchX=0,c.initialTouchY=0,c.instancePrefix="",c.openAfterFocus=!1,c.scrollToFocusedOptionOnUpdate=!1,c.userIsDragging=void 0,c.controlRef=null,c.getControlRef=function(m){c.controlRef=m},c.focusedOptionRef=null,c.getFocusedOptionRef=function(m){c.focusedOptionRef=m},c.menuListRef=null,c.getMenuListRef=function(m){c.menuListRef=m},c.inputRef=null,c.getInputRef=function(m){c.inputRef=m},c.focus=c.focusInput,c.blur=c.blurInput,c.onChange=function(m,v){var b=c.props,w=b.onChange,x=b.name;v.name=x,c.ariaOnChange(m,v),w(m,v)},c.setValue=function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",b=arguments.length>2?arguments[2]:void 0,w=c.props,x=w.closeMenuOnSelect,E=w.isMulti;c.onInputChange("",{action:"set-value"}),x&&(c.setState({inputIsHiddenAfterUpdate:!E}),c.onMenuClose()),c.setState({clearFocusValueOnUpdate:!0}),c.onChange(m,{action:v,option:b})},c.selectOption=function(m){var v=c.props,b=v.blurInputOnSelect,w=v.isMulti,x=v.name,E=c.state.selectValue,O=w&&c.isOptionSelected(m,E),A=c.isOptionDisabled(m,E);if(O){var H=c.getOptionValue(m);c.setValue(E.filter(function(X){return c.getOptionValue(X)!==H}),"deselect-option",m)}else if(!A)w?c.setValue([].concat(xw(E),[m]),"select-option",m):c.setValue(m,"select-option");else{c.ariaOnChange(m,{action:"select-option",name:x});return}b&&c.blurInput()},c.removeValue=function(m){var v=c.props.isMulti,b=c.state.selectValue,w=c.getOptionValue(m),x=b.filter(function(O){return c.getOptionValue(O)!==w}),E=v?x:x[0]||null;c.onChange(E,{action:"remove-value",removedValue:m}),c.focusInput()},c.clearValue=function(){var m=c.state.selectValue;c.onChange(c.props.isMulti?[]:null,{action:"clear",removedValues:m})},c.popValue=function(){var m=c.props.isMulti,v=c.state.selectValue,b=v[v.length-1],w=v.slice(0,v.length-1),x=m?w:w[0]||null;c.onChange(x,{action:"pop-value",removedValue:b})},c.getValue=function(){return c.state.selectValue},c.cx=function(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];return hM.apply(void 0,[c.props.classNamePrefix].concat(v))},c.getOptionLabel=function(m){return Nw(c.props,m)},c.getOptionValue=function(m){return rc(c.props,m)},c.getStyles=function(m,v){var b=H9[m](v);b.boxSizing="border-box";var w=c.props.styles[m];return w?w(b,v):b},c.getElementId=function(m){return"".concat(c.instancePrefix,"-").concat(m)},c.getComponents=function(){return p9(c.props)},c.buildCategorizedOptions=function(){return zw(c.props,c.state.selectValue)},c.getCategorizedOptions=function(){return c.props.menuIsOpen?c.buildCategorizedOptions():[]},c.buildFocusableOptions=function(){return Lw(c.buildCategorizedOptions())},c.getFocusableOptions=function(){return c.props.menuIsOpen?c.buildFocusableOptions():[]},c.ariaOnChange=function(m,v){c.setState({ariaSelection:ui({value:m},v)})},c.onMenuMouseDown=function(m){m.button===0&&(m.stopPropagation(),m.preventDefault(),c.focusInput())},c.onMenuMouseMove=function(m){c.blockOptionHover=!1},c.onControlMouseDown=function(m){var v=c.props.openMenuOnClick;c.state.isFocused?c.props.menuIsOpen?m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&c.onMenuClose():v&&c.openMenu("first"):(v&&(c.openAfterFocus=!0),c.focusInput()),m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&m.preventDefault()},c.onDropdownIndicatorMouseDown=function(m){if(!(m&&m.type==="mousedown"&&m.button!==0)&&!c.props.isDisabled){var v=c.props,b=v.isMulti,w=v.menuIsOpen;c.focusInput(),w?(c.setState({inputIsHiddenAfterUpdate:!b}),c.onMenuClose()):c.openMenu("first"),m.preventDefault(),m.stopPropagation()}},c.onClearIndicatorMouseDown=function(m){m&&m.type==="mousedown"&&m.button!==0||(c.clearValue(),m.stopPropagation(),c.openAfterFocus=!1,m.type==="touchend"?c.focusInput():setTimeout(function(){return c.focusInput()}))},c.onScroll=function(m){typeof c.props.closeMenuOnScroll=="boolean"?m.target instanceof HTMLElement&&dp(m.target)&&c.props.onMenuClose():typeof c.props.closeMenuOnScroll=="function"&&c.props.closeMenuOnScroll(m)&&c.props.onMenuClose()},c.onCompositionStart=function(){c.isComposing=!0},c.onCompositionEnd=function(){c.isComposing=!1},c.onTouchStart=function(m){var v=m.touches,b=v&&v.item(0);!b||(c.initialTouchX=b.clientX,c.initialTouchY=b.clientY,c.userIsDragging=!1)},c.onTouchMove=function(m){var v=m.touches,b=v&&v.item(0);if(b){var w=Math.abs(b.clientX-c.initialTouchX),x=Math.abs(b.clientY-c.initialTouchY),E=5;c.userIsDragging=w>E||x>E}},c.onTouchEnd=function(m){c.userIsDragging||(c.controlRef&&!c.controlRef.contains(m.target)&&c.menuListRef&&!c.menuListRef.contains(m.target)&&c.blurInput(),c.initialTouchX=0,c.initialTouchY=0)},c.onControlTouchEnd=function(m){c.userIsDragging||c.onControlMouseDown(m)},c.onClearIndicatorTouchEnd=function(m){c.userIsDragging||c.onClearIndicatorMouseDown(m)},c.onDropdownIndicatorTouchEnd=function(m){c.userIsDragging||c.onDropdownIndicatorMouseDown(m)},c.handleInputChange=function(m){var v=m.currentTarget.value;c.setState({inputIsHiddenAfterUpdate:!1}),c.onInputChange(v,{action:"input-change"}),c.props.menuIsOpen||c.onMenuOpen()},c.onInputFocus=function(m){c.props.onFocus&&c.props.onFocus(m),c.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(c.openAfterFocus||c.props.openMenuOnFocus)&&c.openMenu("first"),c.openAfterFocus=!1},c.onInputBlur=function(m){if(c.menuListRef&&c.menuListRef.contains(document.activeElement)){c.inputRef.focus();return}c.props.onBlur&&c.props.onBlur(m),c.onInputChange("",{action:"input-blur"}),c.onMenuClose(),c.setState({focusedValue:null,isFocused:!1})},c.onOptionHover=function(m){c.blockOptionHover||c.state.focusedOption===m||c.setState({focusedOption:m})},c.shouldHideSelectedOptions=function(){return Vw(c.props)},c.onKeyDown=function(m){var v=c.props,b=v.isMulti,w=v.backspaceRemovesValue,x=v.escapeClearsValue,E=v.inputValue,O=v.isClearable,A=v.isDisabled,H=v.menuIsOpen,X=v.onKeyDown,ae=v.tabSelectsValue,ie=v.openMenuOnFocus,de=c.state,M=de.focusedOption,oe=de.focusedValue,be=de.selectValue;if(!A&&!(typeof X=="function"&&(X(m),m.defaultPrevented))){switch(c.blockOptionHover=!0,m.key){case"ArrowLeft":if(!b||E)return;c.focusValue("previous");break;case"ArrowRight":if(!b||E)return;c.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(oe)c.removeValue(oe);else{if(!w)return;b?c.popValue():O&&c.clearValue()}break;case"Tab":if(c.isComposing||m.shiftKey||!H||!ae||!M||ie&&c.isOptionSelected(M,be))return;c.selectOption(M);break;case"Enter":if(m.keyCode===229)break;if(H){if(!M||c.isComposing)return;c.selectOption(M);break}return;case"Escape":H?(c.setState({inputIsHiddenAfterUpdate:!1}),c.onInputChange("",{action:"menu-close"}),c.onMenuClose()):O&&x&&c.clearValue();break;case" ":if(E)return;if(!H){c.openMenu("first");break}if(!M)return;c.selectOption(M);break;case"ArrowUp":H?c.focusOption("up"):c.openMenu("last");break;case"ArrowDown":H?c.focusOption("down"):c.openMenu("first");break;case"PageUp":if(!H)return;c.focusOption("pageup");break;case"PageDown":if(!H)return;c.focusOption("pagedown");break;case"Home":if(!H)return;c.focusOption("first");break;case"End":if(!H)return;c.focusOption("last");break;default:return}m.preventDefault()}},c.instancePrefix="react-select-"+(c.props.instanceId||++Z9),c.state.selectValue=rw(a.value),c}return Ku(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(a){var c=this.props,m=c.isDisabled,v=c.menuIsOpen,b=this.state.isFocused;(b&&!m&&a.isDisabled||b&&v&&!a.menuIsOpen)&&this.focusInput(),b&&m&&!a.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(mM(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,c){this.props.onInputChange(a,c)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(a){var c=this,m=this.state,v=m.selectValue,b=m.isFocused,w=this.buildFocusableOptions(),x=a==="first"?0:w.length-1;if(!this.props.isMulti){var E=w.indexOf(v[0]);E>-1&&(x=E)}this.scrollToFocusedOptionOnUpdate=!(b&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[x]},function(){return c.onMenuOpen()})}},{key:"focusValue",value:function(a){var c=this.state,m=c.selectValue,v=c.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var b=m.indexOf(v);v||(b=-1);var w=m.length-1,x=-1;if(m.length){switch(a){case"previous":b===0?x=0:b===-1?x=w:x=b-1;break;case"next":b>-1&&b<w&&(x=b+1);break}this.setState({inputIsHidden:x!==-1,focusedValue:m[x]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",c=this.props.pageSize,m=this.state.focusedOption,v=this.getFocusableOptions();if(v.length){var b=0,w=v.indexOf(m);m||(w=-1),a==="up"?b=w>0?w-1:v.length-1:a==="down"?b=(w+1)%v.length:a==="pageup"?(b=w-c,b<0&&(b=0)):a==="pagedown"?(b=w+c,b>v.length-1&&(b=v.length-1)):a==="last"&&(b=v.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:v[b],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(wp):ui(ui({},wp),this.props.theme):wp}},{key:"getCommonProps",value:function(){var a=this.clearValue,c=this.cx,m=this.getStyles,v=this.getValue,b=this.selectOption,w=this.setValue,x=this.props,E=x.isMulti,O=x.isRtl,A=x.options,H=this.hasValue();return{clearValue:a,cx:c,getStyles:m,getValue:v,hasValue:H,isMulti:E,isRtl:O,options:A,selectOption:b,selectProps:x,setValue:w,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,c=a.isClearable,m=a.isMulti;return c===void 0?m:c}},{key:"isOptionDisabled",value:function(a,c){return jw(this.props,a,c)}},{key:"isOptionSelected",value:function(a,c){return Hw(this.props,a,c)}},{key:"filterOption",value:function(a,c){return Fw(this.props,a,c)}},{key:"formatOptionLabel",value:function(a,c){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,v=this.state.selectValue;return this.props.formatOptionLabel(a,{context:c,inputValue:m,selectValue:v})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,c=a.isDisabled,m=a.isSearchable,v=a.inputId,b=a.inputValue,w=a.tabIndex,x=a.form,E=this.getComponents(),O=E.Input,A=this.state.inputIsHidden,H=this.commonProps,X=v||this.getElementId("input"),ae={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return m?Le.createElement(O,Vt({},H,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:X,innerRef:this.getInputRef,isDisabled:c,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:x,type:"text",value:b},ae)):Le.createElement(R9,Vt({id:X,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ec,onFocus:this.onInputFocus,readOnly:!0,disabled:c,tabIndex:w,form:x,value:""},ae))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,c=this.getComponents(),m=c.MultiValue,v=c.MultiValueContainer,b=c.MultiValueLabel,w=c.MultiValueRemove,x=c.SingleValue,E=c.Placeholder,O=this.commonProps,A=this.props,H=A.controlShouldRenderValue,X=A.isDisabled,ae=A.isMulti,ie=A.inputValue,de=A.placeholder,M=this.state,oe=M.selectValue,be=M.focusedValue,ve=M.isFocused;if(!this.hasValue()||!H)return ie?null:Le.createElement(E,Vt({},O,{key:"placeholder",isDisabled:X,isFocused:ve}),de);if(ae){var ke=oe.map(function(Xe,Je){var dt=Xe===be;return Le.createElement(m,Vt({},O,{components:{Container:v,Label:b,Remove:w},isFocused:dt,isDisabled:X,key:"".concat(a.getOptionValue(Xe)).concat(Je),index:Je,removeProps:{onClick:function(){return a.removeValue(Xe)},onTouchEnd:function(){return a.removeValue(Xe)},onMouseDown:function(mt){mt.preventDefault(),mt.stopPropagation()}},data:Xe}),a.formatOptionLabel(Xe,"value"))});return ke}if(ie)return null;var Pe=oe[0];return Le.createElement(x,Vt({},O,{data:Pe,isDisabled:X}),this.formatOptionLabel(Pe,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),c=a.ClearIndicator,m=this.commonProps,v=this.props,b=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!this.isClearable()||!c||b||!this.hasValue()||w)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Le.createElement(c,Vt({},m,{innerProps:E,isFocused:x}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),c=a.LoadingIndicator,m=this.commonProps,v=this.props,b=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!c||!w)return null;var E={"aria-hidden":"true"};return Le.createElement(c,Vt({},m,{innerProps:E,isDisabled:b,isFocused:x}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),c=a.DropdownIndicator,m=a.IndicatorSeparator;if(!c||!m)return null;var v=this.commonProps,b=this.props.isDisabled,w=this.state.isFocused;return Le.createElement(m,Vt({},v,{isDisabled:b,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),c=a.DropdownIndicator;if(!c)return null;var m=this.commonProps,v=this.props.isDisabled,b=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Le.createElement(c,Vt({},m,{innerProps:w,isDisabled:v,isFocused:b}))}},{key:"renderMenu",value:function(){var a=this,c=this.getComponents(),m=c.Group,v=c.GroupHeading,b=c.Menu,w=c.MenuList,x=c.MenuPortal,E=c.LoadingMessage,O=c.NoOptionsMessage,A=c.Option,H=this.commonProps,X=this.state.focusedOption,ae=this.props,ie=ae.captureMenuScroll,de=ae.inputValue,M=ae.isLoading,oe=ae.loadingMessage,be=ae.minMenuHeight,ve=ae.maxMenuHeight,ke=ae.menuIsOpen,Pe=ae.menuPlacement,Xe=ae.menuPosition,Je=ae.menuPortalTarget,dt=ae.menuShouldBlockScroll,mt=ae.menuShouldScrollIntoView,ht=ae.noOptionsMessage,Rt=ae.onMenuScrollToTop,Pt=ae.onMenuScrollToBottom;if(!ke)return null;var qt=function(tn,We){var nt=tn.type,ot=tn.data,it=tn.isDisabled,ct=tn.isSelected,Mt=tn.label,yn=tn.value,zn=X===ot,dn=it?void 0:function(){return a.onOptionHover(ot)},Ji=it?void 0:function(){return a.selectOption(ot)},Oi="".concat(a.getElementId("option"),"-").concat(We),Hi={id:Oi,onClick:Ji,onMouseMove:dn,onMouseOver:dn,tabIndex:-1};return Le.createElement(A,Vt({},H,{innerProps:Hi,data:ot,isDisabled:it,isSelected:ct,key:Oi,label:Mt,type:nt,value:yn,isFocused:zn,innerRef:zn?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(tn.data,"menu"))},Gt;if(this.hasOptions())Gt=this.getCategorizedOptions().map(function(tn){if(tn.type==="group"){var We=tn.data,nt=tn.options,ot=tn.index,it="".concat(a.getElementId("group"),"-").concat(ot),ct="".concat(it,"-heading");return Le.createElement(m,Vt({},H,{key:it,data:We,options:nt,Heading:v,headingProps:{id:ct,data:tn.data},label:a.formatGroupLabel(tn.data)}),tn.options.map(function(Mt){return qt(Mt,"".concat(ot,"-").concat(Mt.index))}))}else if(tn.type==="option")return qt(tn,"".concat(tn.index))});else if(M){var Zt=oe({inputValue:de});if(Zt===null)return null;Gt=Le.createElement(E,H,Zt)}else{var hn=ht({inputValue:de});if(hn===null)return null;Gt=Le.createElement(O,H,hn)}var Tn={minMenuHeight:be,maxMenuHeight:ve,menuPlacement:Pe,menuPosition:Xe,menuShouldScrollIntoView:mt},pt=Le.createElement(cw,Vt({},H,Tn),function(tn){var We=tn.ref,nt=tn.placerProps,ot=nt.placement,it=nt.maxHeight;return Le.createElement(b,Vt({},H,Tn,{innerRef:We,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:M,placement:ot}),Le.createElement(z9,{captureEnabled:ie,onTopArrive:Rt,onBottomArrive:Pt,lockEnabled:dt},function(ct){return Le.createElement(w,Vt({},H,{innerRef:function(Mt){a.getMenuListRef(Mt),ct(Mt)},isLoading:M,maxHeight:it,focusedOption:X}),Gt)}))});return Je||Xe==="fixed"?Le.createElement(x,Vt({},H,{appendTo:Je,controlElement:this.controlRef,menuPlacement:Pe,menuPosition:Xe}),pt):pt}},{key:"renderFormField",value:function(){var a=this,c=this.props,m=c.delimiter,v=c.isDisabled,b=c.isMulti,w=c.name,x=this.state.selectValue;if(!(!w||v))if(b)if(m){var E=x.map(function(H){return a.getOptionValue(H)}).join(m);return Le.createElement("input",{name:w,type:"hidden",value:E})}else{var O=x.length>0?x.map(function(H,X){return Le.createElement("input",{key:"i-".concat(X),name:w,type:"hidden",value:a.getOptionValue(H)})}):Le.createElement("input",{name:w,type:"hidden"});return Le.createElement("div",null,O)}else{var A=x[0]?this.getOptionValue(x[0]):"";return Le.createElement("input",{name:w,type:"hidden",value:A})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,c=this.state,m=c.ariaSelection,v=c.focusedOption,b=c.focusedValue,w=c.isFocused,x=c.selectValue,E=this.getFocusableOptions();return Le.createElement(T9,Vt({},a,{ariaSelection:m,focusedOption:v,focusedValue:b,isFocused:w,selectValue:x,focusableOptions:E}))}},{key:"render",value:function(){var a=this.getComponents(),c=a.Control,m=a.IndicatorsContainer,v=a.SelectContainer,b=a.ValueContainer,w=this.props,x=w.className,E=w.id,O=w.isDisabled,A=w.menuIsOpen,H=this.state.isFocused,X=this.commonProps=this.getCommonProps();return Le.createElement(v,Vt({},X,{className:x,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:O,isFocused:H}),this.renderLiveRegion(),Le.createElement(c,Vt({},X,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:O,isFocused:H,menuIsOpen:A}),Le.createElement(b,Vt({},X,{isDisabled:O}),this.renderPlaceholderOrValue(),this.renderInput()),Le.createElement(m,Vt({},X,{isDisabled:O}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,c){var m=c.prevProps,v=c.clearFocusValueOnUpdate,b=c.inputIsHiddenAfterUpdate,w=a.options,x=a.value,E=a.menuIsOpen,O=a.inputValue,A={};if(m&&(x!==m.value||w!==m.options||E!==m.menuIsOpen||O!==m.inputValue)){var H=rw(x),X=E?X9(a,H):[],ae=v?Y9(c,H):null,ie=K9(c,X);A={selectValue:H,focusedOption:ie,focusedValue:ae,clearFocusValueOnUpdate:!1}}var de=b!=null&&a!==m?{inputIsHidden:b,inputIsHiddenAfterUpdate:void 0}:{};return ui(ui(ui({},A),de),{},{prevProps:a})}}]),o}(K);Uw.defaultProps=q9;var J9={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},$9=function(s){var u,o;return o=u=function(a){Ju(m,a);var c=Qu(m);function m(){var v;Yu(this,m);for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];return v=c.call.apply(c,[this].concat(w)),v.select=void 0,v.state={inputValue:v.props.inputValue!==void 0?v.props.inputValue:v.props.defaultInputValue,menuIsOpen:v.props.menuIsOpen!==void 0?v.props.menuIsOpen:v.props.defaultMenuIsOpen,value:v.props.value!==void 0?v.props.value:v.props.defaultValue},v.onChange=function(E,O){v.callProp("onChange",E,O),v.setState({value:E})},v.onInputChange=function(E,O){var A=v.callProp("onInputChange",E,O);v.setState({inputValue:A!==void 0?A:E})},v.onMenuOpen=function(){v.callProp("onMenuOpen"),v.setState({menuIsOpen:!0})},v.onMenuClose=function(){v.callProp("onMenuClose"),v.setState({menuIsOpen:!1})},v}return Ku(m,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(v){return this.props[v]!==void 0?this.props[v]:this.state[v]}},{key:"callProp",value:function(v){if(typeof this.props[v]=="function"){for(var b,w=arguments.length,x=new Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return(b=this.props)[v].apply(b,x)}}},{key:"render",value:function(){var v=this,b=this.props;b.defaultInputValue,b.defaultMenuIsOpen,b.defaultValue;var w=zs(b,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Le.createElement(s,Vt({},w,{ref:function(x){v.select=x},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),m}(K),u.defaultProps=J9,o},Q9=$9(Uw),e6=Q9;const xp=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var Ww=s=>{const u=s.content?xp.find(o=>o.value===s.content):null;return Le.createElement("div",{className:"r6o-purposedropdown"},Le.createElement(e6,{value:u,onChange:s.onChange,options:xp,isDisabled:!s.editable}))};const t6=s=>Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:s.width},Le.createElement("metadata",null,"IcoFont Icons"),Le.createElement("title",null,"simple-down"),Le.createElement("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),Le.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),n6=s=>Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:s.width},Le.createElement("metadata",null,"IcoFont Icons"),Le.createElement("title",null,"close"),Le.createElement("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),Le.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),i6=s=>Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:s.width},Le.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var r6=s=>{const[u,o]=Ne(!1),[a,c]=Ne(!1),m=O=>{o(!0),c(!1)},v=O=>{s.onDelete(s.body),c(!1)},b=O=>s.onUpdate(s.body,{...s.body,value:O.target.value}),w=O=>s.onUpdate(s.body,{...s.body,purpose:O.value}),x=s.body.modified||s.body.created,E=s.body.creator&&Le.createElement("div",{className:"r6o-lastmodified"},Le.createElement("span",{className:"r6o-lastmodified-by"},s.body.creator.name||s.body.creator.id),s.body.created&&Le.createElement("span",{className:"r6o-lastmodified-at"},Le.createElement(VP,{datetime:s.env.toClientTime(x),locale:Bi.locale()})));return s.readOnly?Le.createElement("div",{className:"r6o-widget comment"},Le.createElement("div",{className:"r6o-readonly-comment"},s.body.value),E):Le.createElement("div",{className:u?"r6o-widget comment editable":"r6o-widget comment"},Le.createElement(Sb,{editable:u,content:s.body.value,onChange:b,onSaveAndClose:s.onSaveAndClose}),!u&&E,s.purposeSelector&&Le.createElement(Ww,{editable:u,content:s.body.purpose,onChange:w,onSaveAndClose:s.onSaveAndClose}),Le.createElement("div",{className:a?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>c(!a)},Le.createElement(t6,{width:12})),a&&Le.createElement(HA,{onEdit:m,onDelete:v,onClickOutside:()=>c(!1)}))};const o6=xp.map(s=>s.value),Gw=(s,u)=>{const o=u?o6.indexOf(s.purpose)>-1:s.purpose=="commenting"||s.purpose=="replying";return s.type==="TextualBody"&&(!Object.prototype.hasOwnProperty.call(s,"purpose")||o)},qw=(s,u)=>{var o,a;if(u.editable===!0)return!1;if(u.editable===!1)return!0;if(u.editable==="MINE_ONLY"){const c=(o=s.creator)==null?void 0:o.id;return((a=u.env.user)==null?void 0:a.id)!==c}return u.readOnly},s6=(s,u)=>s||{type:"TextualBody",value:"",purpose:u?"replying":"commenting",draft:!0},Xw=s=>{const u=s.annotation?s.annotation.bodies.filter(w=>Gw(w,s.purposeSelector)):[],o=s6(u.find(w=>w.draft==!0),u.length>1),a=u.filter(w=>w!=o),c=w=>{const x=o.value,E=w.target.value;x.length===0&&E.length>0?s.onAppendBody({...o,value:E}):x.length>0&&E.length===0?s.onRemoveBody(o):s.onUpdateBody(o,{...o,value:E})},m=w=>s.onUpdateBody(o,{...o,purpose:w.value}),v=!s.readOnly&&s.annotation,b=a.length===0||!s.disableReply;return Le.createElement(Le.Fragment,null,a.map((w,x)=>Le.createElement(r6,{key:x,env:s.env,purposeSelector:s.purposeSelector,readOnly:qw(w,s),body:w,onUpdate:s.onUpdateBody,onDelete:s.onRemoveBody,onSaveAndClose:s.onSaveAndClose})),v&&b&&Le.createElement("div",{className:"r6o-widget comment editable"},Le.createElement(Sb,{focus:s.focus,content:o.value,editable:!0,placeholder:a.length>0?Bi.t("Add a reply..."):s.textPlaceHolder||Bi.t("Add a comment..."),onChange:c,onSaveAndClose:()=>s.onSaveAndClose()}),s.purposeSelector&&o.value.length>0&&Le.createElement(Ww,{editable:!0,content:o.purpose,onChange:m,onSaveAndClose:()=>s.onSaveAndClose()})))};Xw.disableDelete=(s,u)=>s.bodies.filter(o=>Gw(o,u.purposeSelector)).some(o=>qw(o,u));var Yw=Xw;function Kw(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,Zu(s,u)}function a6(s,u){return s.classList?!!u&&s.classList.contains(u):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+u+" ")!==-1}function l6(s,u){s.classList?s.classList.add(u):a6(s,u)||(typeof s.className=="string"?s.className=s.className+" "+u:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+u))}function Zw(s,u){return s.replace(new RegExp("(^|\\s)"+u+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function u6(s,u){s.classList?s.classList.remove(u):typeof s.className=="string"?s.className=Zw(s.className,u):s.setAttribute("class",Zw(s.className&&s.className.baseVal||"",u))}var Jw={disabled:!1},$w=Le.createContext(null),Qw=function(s){return s.scrollTop},Ka="unmounted",Io="exited",Mo="entering",Ns="entered",Sp="exiting",zr=function(s){Kw(u,s);function u(a,c){var m;m=s.call(this,a,c)||this;var v=c,b=v&&!v.isMounting?a.enter:a.appear,w;return m.appearStatus=null,a.in?b?(w=Io,m.appearStatus=Mo):w=Ns:a.unmountOnExit||a.mountOnEnter?w=Ka:w=Io,m.state={status:w},m.nextCallback=null,m}u.getDerivedStateFromProps=function(a,c){var m=a.in;return m&&c.status===Ka?{status:Io}:null};var o=u.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(a){var c=null;if(a!==this.props){var m=this.state.status;this.props.in?m!==Mo&&m!==Ns&&(c=Mo):(m===Mo||m===Ns)&&(c=Sp)}this.updateStatus(!1,c)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var a=this.props.timeout,c,m,v;return c=m=v=a,a!=null&&typeof a!="number"&&(c=a.exit,m=a.enter,v=a.appear!==void 0?a.appear:m),{exit:c,enter:m,appear:v}},o.updateStatus=function(a,c){if(a===void 0&&(a=!1),c!==null)if(this.cancelNextCallback(),c===Mo){if(this.props.unmountOnExit||this.props.mountOnEnter){var m=this.props.nodeRef?this.props.nodeRef.current:Le.findDOMNode(this);m&&Qw(m)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Io&&this.setState({status:Ka})},o.performEnter=function(a){var c=this,m=this.props.enter,v=this.context?this.context.isMounting:a,b=this.props.nodeRef?[v]:[Le.findDOMNode(this),v],w=b[0],x=b[1],E=this.getTimeouts(),O=v?E.appear:E.enter;if(!a&&!m||Jw.disabled){this.safeSetState({status:Ns},function(){c.props.onEntered(w)});return}this.props.onEnter(w,x),this.safeSetState({status:Mo},function(){c.props.onEntering(w,x),c.onTransitionEnd(O,function(){c.safeSetState({status:Ns},function(){c.props.onEntered(w,x)})})})},o.performExit=function(){var a=this,c=this.props.exit,m=this.getTimeouts(),v=this.props.nodeRef?void 0:Le.findDOMNode(this);if(!c||Jw.disabled){this.safeSetState({status:Io},function(){a.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:Sp},function(){a.props.onExiting(v),a.onTransitionEnd(m.exit,function(){a.safeSetState({status:Io},function(){a.props.onExited(v)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(a,c){c=this.setNextCallback(c),this.setState(a,c)},o.setNextCallback=function(a){var c=this,m=!0;return this.nextCallback=function(v){m&&(m=!1,c.nextCallback=null,a(v))},this.nextCallback.cancel=function(){m=!1},this.nextCallback},o.onTransitionEnd=function(a,c){this.setNextCallback(c);var m=this.props.nodeRef?this.props.nodeRef.current:Le.findDOMNode(this),v=a==null&&!this.props.addEndListener;if(!m||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],w=b[0],x=b[1];this.props.addEndListener(w,x)}a!=null&&setTimeout(this.nextCallback,a)},o.render=function(){var a=this.state.status;if(a===Ka)return null;var c=this.props,m=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var v=lp(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Le.createElement($w.Provider,{value:null},typeof m=="function"?m(a,v):Le.cloneElement(Le.Children.only(m),v))},u}(Le.Component);zr.contextType=$w,zr.propTypes={};function js(){}zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:js,onEntering:js,onEntered:js,onExit:js,onExiting:js,onExited:js},zr.UNMOUNTED=Ka,zr.EXITED=Io,zr.ENTERING=Mo,zr.ENTERED=Ns,zr.EXITING=Sp;var c6=zr,d6=function(s,u){return s&&u&&u.split(" ").forEach(function(o){return l6(s,o)})},Ep=function(s,u){return s&&u&&u.split(" ").forEach(function(o){return u6(s,o)})},Tp=function(s){Kw(u,s);function u(){for(var a,c=arguments.length,m=new Array(c),v=0;v<c;v++)m[v]=arguments[v];return a=s.call.apply(s,[this].concat(m))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1];a.removeClasses(E,"exit"),a.addClass(E,O?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(b,w)},a.onEntering=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1],A=O?"appear":"enter";a.addClass(E,A,"active"),a.props.onEntering&&a.props.onEntering(b,w)},a.onEntered=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1],A=O?"appear":"enter";a.removeClasses(E,A),a.addClass(E,A,"done"),a.props.onEntered&&a.props.onEntered(b,w)},a.onExit=function(b){var w=a.resolveArguments(b),x=w[0];a.removeClasses(x,"appear"),a.removeClasses(x,"enter"),a.addClass(x,"exit","base"),a.props.onExit&&a.props.onExit(b)},a.onExiting=function(b){var w=a.resolveArguments(b),x=w[0];a.addClass(x,"exit","active"),a.props.onExiting&&a.props.onExiting(b)},a.onExited=function(b){var w=a.resolveArguments(b),x=w[0];a.removeClasses(x,"exit"),a.addClass(x,"exit","done"),a.props.onExited&&a.props.onExited(b)},a.resolveArguments=function(b,w){return a.props.nodeRef?[a.props.nodeRef.current,b]:[b,w]},a.getClassNames=function(b){var w=a.props.classNames,x=typeof w=="string",E=x&&w?w+"-":"",O=x?""+E+b:w[b],A=x?O+"-active":w[b+"Active"],H=x?O+"-done":w[b+"Done"];return{baseClassName:O,activeClassName:A,doneClassName:H}},a}var o=u.prototype;return o.addClass=function(a,c,m){var v=this.getClassNames(c)[m+"ClassName"],b=this.getClassNames("enter"),w=b.doneClassName;c==="appear"&&m==="done"&&w&&(v+=" "+w),m==="active"&&a&&Qw(a),v&&(this.appliedClasses[c][m]=v,d6(a,v))},o.removeClasses=function(a,c){var m=this.appliedClasses[c],v=m.base,b=m.active,w=m.done;this.appliedClasses[c]={},v&&Ep(a,v),b&&Ep(a,b),w&&Ep(a,w)},o.render=function(){var a=this.props;a.classNames;var c=lp(a,["classNames"]);return Le.createElement(c6,Vt({},c,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},u}(Le.Component);Tp.defaultProps={classNames:""},Tp.propTypes={};var h6=Tp;const p6=(s,u)=>u.filter(o=>(o.label?o.label:o).toLowerCase().startsWith(s.toLowerCase())),f6=(s,u)=>u(s);var m6=s=>{const u=Et(),[o,a]=Ne(s.initialValue||""),[c,m]=Ne([]),[v,b]=Ne(null);$e(()=>{s.focus&&u.current.querySelector("input").focus({preventScroll:!0})},[]),$e(()=>{s.onChange&&s.onChange(o)},[o]);const w=A=>{if(typeof s.vocabulary=="function"){const H=f6(A,s.vocabulary);H.then?H.then(m):m(H)}else{const H=p6(A,s.vocabulary);m(H)}},x=()=>{if(v!==null)s.onSubmit(c[v]);else{const A=o.trim();if(A){const H=Array.isArray(s.vocabulary)?s.vocabulary.find(X=>(X.label||X).toLowerCase()===A.toLowerCase()):null;H?s.onSubmit(H):s.onSubmit(A)}}a(""),m([]),b(null)},E=A=>{if(A.which===13)x();else if(A.which===27)s.onCancel&&s.onCancel();else if(c.length>0){if(A.which===38)if(v===null)b(0);else{const H=Math.max(0,v-1);b(H)}else if(A.which===40)if(v===null)b(0);else{const H=Math.min(c.length-1,v+1);b(H)}}else A.which===40&&Array.isArray(s.vocabulary)&&m(s.vocabulary)},O=A=>{const{value:H}=A.target;a(H),b(null),H?w(H):m([])};return Le.createElement("div",{ref:u,className:"r6o-autocomplete"},Le.createElement("div",null,Le.createElement("input",{onKeyDown:E,onChange:O,value:o,placeholder:s.placeholder})),Le.createElement("ul",null,c.length>0&&c.map((A,H)=>Le.createElement("li",{key:`${A.label?A.label:A}${H}`,onClick:x,onMouseEnter:()=>b(H),style:v===H?{backgroundColor:"#bde4ff"}:{}},A.label?A.label:A))))};const g6=s=>s||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var ex=s=>{const u=s.annotation?s.annotation.bodies.filter(O=>O.purpose==="tagging"):[],o=g6(u.slice().reverse().find(O=>O.draft)),a=u.filter(O=>O!=o),[c,m]=Ne(!1),v=O=>A=>{m(c===O?!1:O)},b=O=>{const A=o.value.trim(),H=O.trim();A.length===0&&H.length>0?s.onAppendBody({...o,value:H}):A.length>0&&H.length===0?s.onRemoveBody(o):A!==H&&s.onUpdateBody(o,{...o,value:H})},w=O=>A=>{A.stopPropagation(),s.onRemoveBody(O)},x=O=>{const A=O.uri?{type:"SpecificResource",purpose:"tagging",source:{id:O.uri,label:O.label}}:{type:"TextualBody",purpose:"tagging",value:O.label||O};o.value.trim().length===0?s.onAppendBody(A):s.onUpdateBody(o,A)},E=O=>O.value||O.source.label;return Le.createElement("div",{className:"r6o-widget r6o-tag"},a.length>0&&Le.createElement("ul",{className:"r6o-taglist"},a.map(O=>Le.createElement("li",{key:E(O),onClick:v(O)},Le.createElement("span",{className:"r6o-label"},E(O)),!s.readOnly&&Le.createElement(h6,{in:c===O,timeout:200,classNames:"r6o-delete"},Le.createElement("span",{className:"r6o-delete-wrapper",onClick:w(O)},Le.createElement("span",{className:"r6o-delete"},Le.createElement(n6,{width:12}))))))),!s.readOnly&&Le.createElement(m6,{focus:s.focus,placeholder:s.textPlaceHolder||Bi.t("Add tag..."),vocabulary:s.vocabulary||[],onChange:b,onSubmit:x}))};class tx extends K{constructor(u){super(u),this.element=Le.createRef()}renderWidget(u){const o=this.props.widget({annotation:u.annotation,readOnly:u.readOnly,...u.config,onAppendBody:(a,c)=>u.onAppendBody(a,c),onUpdateBody:(a,c,m)=>u.onUpdateBody(a,c,m),onUpsertBody:(a,c,m)=>u.onUpsertBody(a,c,m),onRemoveBody:(a,c)=>u.onRemoveBody(a,c),onBatchModify:(a,c)=>u.onBatchModify(a,c),onSetProperty:(a,c)=>u.onSetProperty(a,c),onAddContext:a=>u.onAddContext(a),onSaveAndClose:()=>u.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(o)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(u){this.element.current&&this.props.annotation!==u.annotation&&this.renderWidget(u)}render(){return Le.createElement("div",{ref:this.element,className:"widget"})}}window.React=Le,window.ReactDOM=Le;const v6={COMMENT:Yw,TAG:ex},y6=[Le.createElement(Yw,null),Le.createElement(ex,null)],b6=s=>{const u=a=>{var c;return typeof a=="function"&&!!((c=a.prototype)!=null&&c.isReactComponent)},o=a=>typeof a=="function"&&(String(a).match(/return .+\(['|"].+['|"],\s*\{/g)||String(a).match(/return .+preact_compat/)||String(a).match(/return .+\.createElement/g));return u(s)||o(s)},w6=s=>{const u=(o,a,c)=>{if(typeof o=="string"||o instanceof String)return Le.createElement(v6[o],a);if(c?.toLowerCase()==="react")return Le.createElement(o,a);if(c?.toLowerCase()==="plainjs")return Le.createElement(tx,{widget:o,config:a});if(b6(o))return Le.createElement(o,a);if(typeof o=="function"||o instanceof Function)return Le.createElement(tx,{widget:o,config:a});throw`${o} is not a valid plugin`};if(s.widget){const{widget:o,force:a,...c}=s;return u(o,c,a)}else return u(s)},nx=14;var ix=(s,u,o,a)=>{const c=s.getBoundingClientRect();u.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:m,top:v,right:b,bottom:w}=o.getBoundingClientRect();if(u.style.top=`${w-c.top+nx}px`,u.style.left=`${m-c.left}px`,a){const x=u.children[1].getBoundingClientRect(),{innerWidth:E,innerHeight:O}=s.ownerDocument.defaultView;if(x.right>E&&(u.classList.remove("r6o-arrow-left"),u.classList.add("r6o-arrow-right"),u.style.left=`${b-x.width-c.left}px`),x.bottom>O){u.classList.remove("r6o-arrow-top"),u.classList.add("r6o-arrow-bottom");const H=u.children[1].getBoundingClientRect().height;u.style.top=`${v-c.top-H-nx}px`}const A=u.children[1].getBoundingClientRect();if(A.top<0){u.classList.add("pushed","down"),u.style.top=`${-c.top}px`;const H=w-c.top;A.height-c.top>H&&u.classList.remove("r6o-arrow-bottom")}A.left<0&&(u.classList.add("pushed","right"),u.style.left=`${-c.left}px`),requestAnimationFrame(()=>u.style.opacity=1)}};const rx=s=>{const{top:u,left:o,width:a,height:c}=s.getBoundingClientRect();return`${u}, ${o}, ${a}, ${c}`};class x6 extends K{constructor(u){super(u),r(this,"initResizeObserver",()=>{const o=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const a=new ResizeObserver(()=>{this.state.dragged||ix(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)});return a.observe(this.props.wrapperEl),()=>a.disconnect()}else this.state.dragged||ix(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)}),r(this,"creationMeta",o=>{const a={},{user:c}=this.props.env;return c&&(a.creator={},c.id&&(a.creator.id=c.id),c.displayName&&(a.creator.name=c.displayName),a[o.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),a}),r(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),r(this,"hasChanges",()=>{var o;return!((o=this.props.annotation)!=null&&o.isEqual(this.state.currentAnnotation))}),r(this,"updateCurrentAnnotation",(o,a)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(o)},()=>{a?this.onOk():this.props.onChanged&&this.props.onChanged()})}),r(this,"onAppendBody",(o,a)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...o,...this.creationMeta(o)}]},a)),r(this,"onUpdateBody",(o,a,c)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(m=>m===o?{...a,...this.creationMeta(a)}:m)},c)),r(this,"onRemoveBody",(o,a)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(c=>c!==o)},a)),r(this,"onUpsertBody",(o,a,c)=>{if(o==null&&a!=null)this.onAppendBody(a,c);else if(o!=null&&a!=null)this.onUpdateBody(o,a,c);else if(o!=null&&a==null){const m=this.state.currentAnnotation.bodies.find(v=>v.purpose===o.purpose);m?this.onUpdateBody(m,o,c):this.onAppendBody(o,c)}}),r(this,"onBatchModify",(o,a)=>{const c=o.filter(x=>x.action==="upsert"&&x.body).map(x=>({previous:this.state.currentAnnotation.bodies.find(E=>E.purpose===x.body.purpose),updated:{...x.body,...this.creationMeta(x.body)}})),m=o.filter(x=>x.action==="remove").map(x=>x.body),v=[...o.filter(x=>x.action==="append"||x.action==="upsert"&&x.updated&&!x.previous).map(x=>({...x.body,...this.creationMeta(x.body)})),...c.filter(x=>!x.previous).map(x=>x.updated)],b=[...o.filter(x=>x.action==="update"||x.action==="upsert"&&x.updated&&x.previous).map(x=>({previous:x.previous,updated:{...x.updated,...this.creationMeta(x.updated)}})),...c.filter(x=>x.previous)],w=[...this.state.currentAnnotation.bodies.filter(x=>!m.includes(x)).map(x=>{const E=b.find(O=>O.previous===x);return E?E.updated:x}),...v];this.updateCurrentAnnotation({body:w},a)}),r(this,"onSetProperty",(o,a)=>{if(["@context","id","type","body","target"].includes(o))throw new Exception(`Cannot set ${o} - not allowed`);if(a)this.updateCurrentAnnotation({[o]:a});else{const c=this.currentAnnotation.clone();delete c[o],this.setState({currentAnnotation:c})}}),r(this,"onAddContext",o=>{const{currentAnnotation:a}=this.state,c=Array.isArray(a.context)?a.context:[a.context];c.indexOf(o)<0&&(c.push(o),this.updateCurrentAnnotation({"@context":c}))}),r(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),r(this,"onOk",()=>{const o=c=>c.clone({body:c.bodies.map(({draft:m,...v})=>v)}),{currentAnnotation:a}=this.state;a.bodies.length===0&&!this.props.allowEmpty?a.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):a.isSelection?this.props.onAnnotationCreated(o(a).toAnnotation()):this.props.onAnnotationUpdated(o(a),this.props.annotation)}),r(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Le.createRef(),this.state={currentAnnotation:u.annotation,dragged:!1,selectionBounds:rx(u.selectedElement)}}componentWillReceiveProps(u){var o;const{selectionBounds:a}=this.state,c=rx(u.selectedElement);(o=this.props.annotation)!=null&&o.isEqual(u.annotation)?this.setState({selectionBounds:c}):this.setState({currentAnnotation:u.annotation,selectionBounds:c}),this.props.modifiedTarget!=u.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),a!=c&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:u}=this.state,o=this.props.widgets?this.props.widgets.map(w6):y6,a=m=>m.type.disableDelete?m.type.disableDelete(u,{...m.props,readOnly:this.props.readOnly,env:this.props.env}):!1,c=u&&(u.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!u.isSelection&&!o.some(a);return Le.createElement(RP,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Le.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Le.createElement("div",{className:"r6o-arrow"}),Le.createElement("div",{className:"r6o-editor-inner"},o.map((m,v)=>Le.cloneElement(m,{key:`${v}`,focus:v===0,annotation:u,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Le.createElement("div",{className:"r6o-footer"},Le.createElement("button",{className:"r6o-btn",onClick:this.onCancel},Bi.t("Close"))):Le.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},c&&Le.createElement("button",{className:"r6o-btn left delete-annotation",title:Bi.t("Delete"),onClick:this.onDelete},Le.createElement(i6,{width:12})),Le.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},Bi.t("Cancel")),Le.createElement("button",{className:"r6o-btn ",onClick:this.onOk},Bi.t("Ok"))))))}}var oc,S6=new Uint8Array(16);function E6(){if(!oc&&(oc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!oc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oc(S6)}var T6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function k6(s){return typeof s=="string"&&T6.test(s)}for(var ci=[],kp=0;kp<256;++kp)ci.push((kp+256).toString(16).substr(1));function C6(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=(ci[s[u+0]]+ci[s[u+1]]+ci[s[u+2]]+ci[s[u+3]]+"-"+ci[s[u+4]]+ci[s[u+5]]+"-"+ci[s[u+6]]+ci[s[u+7]]+"-"+ci[s[u+8]]+ci[s[u+9]]+"-"+ci[s[u+10]]+ci[s[u+11]]+ci[s[u+12]]+ci[s[u+13]]+ci[s[u+14]]+ci[s[u+15]]).toLowerCase();if(!k6(o))throw TypeError("Stringified UUID is invalid");return o}function ox(s,u,o){s=s||{};var a=s.random||(s.rng||E6)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,C6(a)}var P6=function s(u,o){if(u===o)return!0;if(u&&o&&typeof u=="object"&&typeof o=="object"){if(u.constructor!==o.constructor)return!1;var a,c,m;if(Array.isArray(u)){if(a=u.length,a!=o.length)return!1;for(c=a;c--!==0;)if(!s(u[c],o[c]))return!1;return!0}if(u.constructor===RegExp)return u.source===o.source&&u.flags===o.flags;if(u.valueOf!==Object.prototype.valueOf)return u.valueOf()===o.valueOf();if(u.toString!==Object.prototype.toString)return u.toString()===o.toString();if(m=Object.keys(u),a=m.length,a!==Object.keys(o).length)return!1;for(c=a;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,m[c]))return!1;for(c=a;c--!==0;){var v=m[c];if(!s(u[v],o[v]))return!1}return!0}return u!==u&&o!==o},sx=P6;const Cp=class{constructor(s,u){r(this,"clone",(o,a)=>new Cp({...this.underlying,...o},{...this.opts,...a})),r(this,"selector",o=>{const{target:a}=this.underlying;if(a.selector)return(Array.isArray(a.selector)?a.selector:[a.selector]).find(c=>c.type===o)}),this.underlying=s,this.opts=u}isEqual(s){return s?.type!=="Annotation"?!1:this.underlying===s.underlying?!0:!this.underlying.id||!s.underlying.id?!1:sx(this.underlying,s.underlying)}get readOnly(){var s;return(s=this.opts)==null?void 0:s.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(s){this.underlying.body=s}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var s;return(s=this.selector("TextQuoteSelector"))==null?void 0:s.exact}get start(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.start}get end(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.end}};let zo=Cp;r(zo,"create",s=>{const u={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${ox()}`,body:[]};return new Cp({...u,...s})});class Za{constructor(u,o){r(this,"clone",a=>{const c=new Za;return c.underlying=JSON.parse(JSON.stringify(this.underlying)),a&&(c.underlying={...c.underlying,...a}),c}),r(this,"selector",a=>{const{target:c}=this.underlying;if(c.selector)return(Array.isArray(c.selector)?c.selector:[c.selector]).find(m=>m.type===a)}),r(this,"toAnnotation",()=>{const a=Object.assign({},this.underlying,{type:"Annotation",id:`#${ox()}`});return new zo(a)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:o||[],target:u}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(u){return u?sx(this.underlying,u.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var u;return(u=this.selector("TextQuoteSelector"))==null?void 0:u.exact}get isSelection(){return!0}}let Pp=0;var _6=()=>({setServerTime:s=>{const u=Date.now();Pp=s-u},getCurrentTimeAdjusted:()=>new Date(Date.now()+Pp).toISOString(),toClientTime:s=>Date.parse(s)-Pp});const R6=(s,u)=>{if(s){const o=s==="auto"?window.navigator.userLanguage||window.navigator.language:s,a=o.split("-")[0].toLowerCase(),c=[o,a].find(m=>jA.includes(m));c||console.warn(`Unsupported locale '${o}'. Falling back to default en.`),Bi.init(c,u)}else Bi.init(null,u)};var ax={exports:{}};(function(s){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function u(o){return new u.Viewer(o)}(function(o){o.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},c=Object.prototype.toString,m=Object.prototype.hasOwnProperty;o.isFunction=function(v){return o.type(v)==="function"},o.isArray=Array.isArray||function(v){return o.type(v)==="array"},o.isWindow=function(v){return v&&typeof v=="object"&&"setInterval"in v},o.type=function(v){return v==null?String(v):a[c.call(v)]||"object"},o.isPlainObject=function(v){if(!v||u.type(v)!=="object"||v.nodeType||o.isWindow(v)||v.constructor&&!m.call(v,"constructor")&&!m.call(v.constructor.prototype,"isPrototypeOf"))return!1;var b;for(var w in v)b=w;return b===void 0||m.call(v,b)},o.isEmptyObject=function(v){for(var b in v)return!1;return!0},o.freezeObject=function(v){return Object.freeze?o.freezeObject=Object.freeze:o.freezeObject=function(b){return b},o.freezeObject(v)},o.supportsCanvas=function(){var v=document.createElement("canvas");return!!(o.isFunction(v.getContext)&&v.getContext("2d"))}(),o.isCanvasTainted=function(v){var b=!1;try{v.getContext("2d").getImageData(0,0,1,1)}catch{b=!0}return b},o.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),o.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),o.supportsEventListenerOptions=function(){var v=0;if(o.supportsAddEventListener)try{var b={get capture(){return v++,!1},get once(){return v++,!1},get passive(){return v++,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{v=0}return v>=3}(),o.getCurrentPixelDensityRatio=function(){if(o.supportsCanvas){var v=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,w=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return Math.max(b,1)/w}else return 1},o.pixelDensityRatio=o.getCurrentPixelDensityRatio()})(u),function(o){o.extend=function(){var w,x,E,O,A,H,X=arguments[0]||{},ae=arguments.length,ie=!1,de=1;for(typeof X=="boolean"&&(ie=X,X=arguments[1]||{},de=2),typeof X!="object"&&!u.isFunction(X)&&(X={}),ae===de&&(X=this,--de);de<ae;de++)if(w=arguments[de],w!==null||w!==void 0)for(x in w)E=X[x],O=w[x],X!==O&&(ie&&O&&(u.isPlainObject(O)||(A=u.isArray(O)))?(A?(A=!1,H=E&&u.isArray(E)?E:[]):H=E&&u.isPlainObject(E)?E:{},X[x]=u.extend(ie,H,O)):O!==void 0&&(X[x]=O));return X};var a=function(){if(typeof navigator!="object")return!1;var w=navigator.userAgent;return typeof w!="string"?!1:w.indexOf("iPhone")!==-1||w.indexOf("iPad")!==-1||w.indexOf("iPod")!==-1};o.extend(o,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(w,x){return function(){var E=arguments;return E===void 0&&(E=[]),x.apply(w,E)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(w){return o._viewers.get(this.getElement(w))},getElement:function(w){return typeof w=="string"&&(w=document.getElementById(w)),w},getElementPosition:function(w){var x=new o.Point,E,O;for(w=o.getElement(w),E=o.getElementStyle(w).position==="fixed",O=b(w,E);O;)x.x+=w.offsetLeft,x.y+=w.offsetTop,E&&(x=x.plus(o.getPageScroll())),w=O,E=o.getElementStyle(w).position==="fixed",O=b(w,E);return x},getElementOffset:function(w){w=o.getElement(w);var x=w&&w.ownerDocument,E,O,A={top:0,left:0};return x?(E=x.documentElement,typeof w.getBoundingClientRect<"u"&&(A=w.getBoundingClientRect()),O=x===x.window?x:x.nodeType===9?x.defaultView||x.parentWindow:!1,new o.Point(A.left+(O.pageXOffset||E.scrollLeft)-(E.clientLeft||0),A.top+(O.pageYOffset||E.scrollTop)-(E.clientTop||0))):new o.Point},getElementSize:function(w){return w=o.getElement(w),new o.Point(w.clientWidth,w.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(w){return w=o.getElement(w),w.currentStyle}:function(w){return w=o.getElement(w),window.getComputedStyle(w,"")},getCssPropertyWithVendorPrefix:function(w){var x={};return o.getCssPropertyWithVendorPrefix=function(E){if(x[E]!==void 0)return x[E];var O=document.createElement("div").style,A=null;if(O[E]!==void 0)A=E;else for(var H=["Webkit","Moz","MS","O","webkit","moz","ms","o"],X=o.capitalizeFirstLetter(E),ae=0;ae<H.length;ae++){var ie=H[ae]+X;if(O[ie]!==void 0){A=ie;break}}return x[E]=A,A},o.getCssPropertyWithVendorPrefix(w)},capitalizeFirstLetter:function(w){return w.charAt(0).toUpperCase()+w.slice(1)},positiveModulo:function(w,x){var E=w%x;return E<0&&(E+=x),E},pointInElement:function(w,x){w=o.getElement(w);var E=o.getElementOffset(w),O=o.getElementSize(w);return x.x>=E.x&&x.x<E.x+O.x&&x.y<E.y+O.y&&x.y>=E.y},getMousePosition:function(w){if(typeof w.pageX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.pageX,E.y=x.pageY,E};else if(typeof w.clientX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,E.y=x.clientY+document.body.scrollTop+document.documentElement.scrollTop,E};else throw new Error("Unknown event mouse position, no known technique.");return o.getMousePosition(w)},getPageScroll:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.pageXOffset=="number")o.getPageScroll=function(){return new o.Point(window.pageXOffset,window.pageYOffset)};else if(x.scrollLeft||x.scrollTop)o.getPageScroll=function(){return new o.Point(document.body.scrollLeft,document.body.scrollTop)};else if(w.scrollLeft||w.scrollTop)o.getPageScroll=function(){return new o.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new o.Point(0,0);return o.getPageScroll()},setPageScroll:function(w){if(typeof window.scrollTo<"u")o.setPageScroll=function(O){window.scrollTo(O.x,O.y)};else{var x=o.getPageScroll();if(x.x===w.x&&x.y===w.y)return;document.body.scrollLeft=w.x,document.body.scrollTop=w.y;var E=o.getPageScroll();if(E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(O){document.body.scrollLeft=O.x,document.body.scrollTop=O.y};return}if(document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y,E=o.getPageScroll(),E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(O){document.documentElement.scrollLeft=O.x,document.documentElement.scrollTop=O.y};return}o.setPageScroll=function(O){}}o.setPageScroll(w)},getWindowSize:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.innerWidth=="number")o.getWindowSize=function(){return new o.Point(window.innerWidth,window.innerHeight)};else if(w.clientWidth||w.clientHeight)o.getWindowSize=function(){return new o.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(x.clientWidth||x.clientHeight)o.getWindowSize=function(){return new o.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return o.getWindowSize()},makeCenteredNode:function(w){w=o.getElement(w);var x=[o.makeNeutralElement("div"),o.makeNeutralElement("div"),o.makeNeutralElement("div")];return o.extend(x[0].style,{display:"table",height:"100%",width:"100%"}),o.extend(x[1].style,{display:"table-row"}),o.extend(x[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),x[0].appendChild(x[1]),x[1].appendChild(x[2]),x[2].appendChild(w),x[0]},makeNeutralElement:function(w){var x=document.createElement(w),E=x.style;return E.background="transparent none",E.border="none",E.margin="0px",E.padding="0px",E.position="static",x},now:function(){return Date.now?o.now=Date.now:o.now=function(){return new Date().getTime()},o.now()},makeTransparentImage:function(w){var x=o.makeNeutralElement("img");return x.src=w,x},setElementOpacity:function(w,x,E){var O,A;w=o.getElement(w),E&&!o.Browser.alpha&&(x=Math.round(x)),o.Browser.opacity?w.style.opacity=x<1?x:"":x<1?(O=Math.round(100*x),A="alpha(opacity="+O+")",w.style.filter=A):w.style.filter=""},setElementTouchActionNone:function(w){w=o.getElement(w),typeof w.style.touchAction<"u"?w.style.touchAction="none":typeof w.style.msTouchAction<"u"&&(w.style.msTouchAction="none")},setElementPointerEvents:function(w,x){w=o.getElement(w),typeof w.style.pointerEvents<"u"&&(w.style.pointerEvents=x)},setElementPointerEventsNone:function(w){o.setElementPointerEvents(w,"none")},addClass:function(w,x){w=o.getElement(w),w.className?(" "+w.className+" ").indexOf(" "+x+" ")===-1&&(w.className+=" "+x):w.className=x},indexOf:function(w,x,E){return Array.prototype.indexOf?this.indexOf=function(O,A,H){return O.indexOf(A,H)}:this.indexOf=function(O,A,H){var X,ae=H||0,ie;if(!O)throw new TypeError;if(ie=O.length,ie===0||ae>=ie)return-1;for(ae<0&&(ae=ie-Math.abs(ae)),X=ae;X<ie;X++)if(O[X]===A)return X;return-1},this.indexOf(w,x,E)},removeClass:function(w,x){var E,O=[],A;for(w=o.getElement(w),E=w.className.split(/\s+/),A=0;A<E.length;A++)E[A]&&E[A]!==x&&O.push(E[A]);w.className=O.join(" ")},normalizeEventListenerOptions:function(w){var x;return typeof w<"u"?typeof w=="boolean"?x=o.supportsEventListenerOptions?{capture:w}:w:x=o.supportsEventListenerOptions?w:typeof w.capture<"u"?w.capture:!1:x=o.supportsEventListenerOptions?{capture:!1}:!1,x},addEvent:function(){if(o.supportsAddEventListener)return function(w,x,E,O){O=o.normalizeEventListenerOptions(O),w=o.getElement(w),w.addEventListener(x,E,O)};if(document.documentElement.attachEvent&&document.attachEvent)return function(w,x,E){w=o.getElement(w),w.attachEvent("on"+x,E)};throw new Error("No known event model.")}(),removeEvent:function(){if(o.supportsRemoveEventListener)return function(w,x,E,O){O=o.normalizeEventListenerOptions(O),w=o.getElement(w),w.removeEventListener(x,E,O)};if(document.documentElement.detachEvent&&document.detachEvent)return function(w,x,E){w=o.getElement(w),w.detachEvent("on"+x,E)};throw new Error("No known event model.")}(),cancelEvent:function(w){w.preventDefault()},eventIsCanceled:function(w){return w.defaultPrevented},stopEvent:function(w){w.stopPropagation()},createCallback:function(w,x){var E=[],O;for(O=2;O<arguments.length;O++)E.push(arguments[O]);return function(){var A=E.concat([]),H;for(H=0;H<arguments.length;H++)A.push(arguments[H]);return x.apply(w,A)}},getUrlParameter:function(w){var x=v[w];return x||null},getUrlProtocol:function(w){var x=w.match(/^([a-z]+:)\/\//i);return x===null?window.location.protocol:x[1].toLowerCase()},createAjaxRequest:function(w){var x;try{x=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{x=!1}if(x)window.XMLHttpRequest?o.createAjaxRequest=function(E){return E?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:o.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)o.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return o.createAjaxRequest(w)},makeAjaxRequest:function(w,x,E){var O,A,H;o.isPlainObject(w)&&(x=w.success,E=w.error,O=w.withCredentials,A=w.headers,H=w.responseType||null,w=w.url);var X=o.getUrlProtocol(w),ae=o.createAjaxRequest(X==="file:");if(!o.isFunction(x))throw new Error("makeAjaxRequest requires a success callback");ae.onreadystatechange=function(){ae.readyState===4&&(ae.onreadystatechange=function(){},ae.status>=200&&ae.status<300||ae.status===0&&X!=="http:"&&X!=="https:"?x(ae):(o.console.log("AJAX request returned %d: %s",ae.status,w),o.isFunction(E)&&E(ae)))};try{if(ae.open("GET",w,!0),H&&(ae.responseType=H),A)for(var ie in A)Object.prototype.hasOwnProperty.call(A,ie)&&A[ie]&&ae.setRequestHeader(ie,A[ie]);O&&(ae.withCredentials=!0),ae.send(null)}catch(de){o.console.log("%s while making AJAX request: %s",de.name,de.message),ae.onreadystatechange=function(){},o.isFunction(E)&&E(ae,de)}return ae},jsonp:function(w){var x,E=w.url,O=document.head||document.getElementsByTagName("head")[0]||document.documentElement,A=w.callbackName||"openseadragon"+o.now(),H=window[A],X="$1"+A+"$2",ae=w.param||"callback",ie=w.callback;E=E.replace(/(=)\?(&|$)|\?\?/i,X),E+=(/\?/.test(E)?"&":"?")+ae+"="+A,window[A]=function(de){if(H)window[A]=H;else try{delete window[A]}catch{}ie&&o.isFunction(ie)&&ie(de)},x=document.createElement("script"),(w.async!==void 0||w.async!==!1)&&(x.async="async"),w.scriptCharset&&(x.charset=w.scriptCharset),x.src=E,x.onload=x.onreadystatechange=function(de,M){(M||!x.readyState||/loaded|complete/.test(x.readyState))&&(x.onload=x.onreadystatechange=null,O&&x.parentNode&&O.removeChild(x),x=void 0)},O.insertBefore(x,O.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(w){if(window.DOMParser)o.parseXml=function(x){var E=null,O;return O=new DOMParser,E=O.parseFromString(x,"text/xml"),E};else if(window.ActiveXObject)o.parseXml=function(x){var E=null;return E=new ActiveXObject("Microsoft.XMLDOM"),E.async=!1,E.loadXML(x),E};else throw new Error("Browser doesn't support XML DOM.");return o.parseXml(w)},parseJSON:function(w){return o.parseJSON=window.JSON.parse,o.parseJSON(w)},imageFormatSupported:function(w){return w=w||"",!!m[w.toLowerCase()]},setImageFormatsSupported:function(w){o.extend(m,w)}});var c=function(w){};o.console=window.console||{log:c,debug:c,info:c,warn:c,error:c,assert:c},o.Browser={vendor:o.BROWSERS.UNKNOWN,version:0,alpha:!0};var m={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},v={};(function(){var w=navigator.appVersion,x=navigator.userAgent,E;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(x.substring(x.indexOf("MSIE")+5,x.indexOf(";",x.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(x.indexOf("Edge")>=0?(o.Browser.vendor=o.BROWSERS.EDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edge")+5))):x.indexOf("Edg")>=0?(o.Browser.vendor=o.BROWSERS.CHROMEEDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edg")+4))):x.indexOf("Firefox")>=0?(o.Browser.vendor=o.BROWSERS.FIREFOX,o.Browser.version=parseFloat(x.substring(x.indexOf("Firefox")+8))):x.indexOf("Safari")>=0?(o.Browser.vendor=x.indexOf("Chrome")>=0?o.BROWSERS.CHROME:o.BROWSERS.SAFARI,o.Browser.version=parseFloat(x.substring(x.substring(0,x.indexOf("Safari")).lastIndexOf("/")+1,x.indexOf("Safari")))):(E=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),E.exec(x)!==null&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":o.Browser.vendor=o.BROWSERS.OPERA,o.Browser.version=parseFloat(w);break}var O=window.location.search.substring(1),A=O.split("&"),H,X,ae;for(ae=0;ae<A.length;ae++)if(H=A[ae],X=H.indexOf("="),X>0){var ie=H.substring(0,X),de=H.substring(X+1);try{v[ie]=decodeURIComponent(de)}catch{o.console.error("Ignoring malformed URL parameter: %s=%s",ie,de)}}o.Browser.alpha=!(o.Browser.vendor===o.BROWSERS.CHROME&&o.Browser.version<2),o.Browser.opacity=!0,o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version<11&&o.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(w){var x=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame,E=w.cancelAnimationFrame||w.mozCancelAnimationFrame||w.webkitCancelAnimationFrame||w.msCancelAnimationFrame;if(x&&E)o.requestAnimationFrame=function(){return x.apply(w,arguments)},o.cancelAnimationFrame=function(){return E.apply(w,arguments)};else{var O=[],A=[],H=0,X;o.requestAnimationFrame=function(ae){return O.push([++H,ae]),X||(X=setInterval(function(){if(O.length){var ie=o.now(),de=A;for(A=O,O=de;A.length;)A.shift()[1](ie)}else clearInterval(X),X=void 0},1e3/50)),H},o.cancelAnimationFrame=function(ae){var ie,de;for(ie=0,de=O.length;ie<de;ie+=1)if(O[ie][0]===ae){O.splice(ie,1);return}for(ie=0,de=A.length;ie<de;ie+=1)if(A[ie][0]===ae){A.splice(ie,1);return}}}}(window);function b(w,x){return x&&w!==document.body?document.body:w.offsetParent}}(u),function(o,a){s.exports?s.exports=a():o.OpenSeadragon=a()}(rr,function(){return u}),function(o){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(c){return c.requestFullscreen()},a.exitFullScreen=function(){document.exitFullscreen()},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(c){return c.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(c){return c.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(c){return c.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(c){return c.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){o.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},o.extend(o,a)}(u),function(o){o.EventSource=function(){this.events={}},o.EventSource.prototype={addOnceHandler:function(a,c,m,v){var b=this;v=v||1;var w=0,x=function(E){w++,w===v&&b.removeHandler(a,x),c(E)};this.addHandler(a,x,m)},addHandler:function(a,c,m){var v=this.events[a];v||(this.events[a]=v=[]),c&&o.isFunction(c)&&(v[v.length]={handler:c,userData:m||null})},removeHandler:function(a,c){var m=this.events[a],v=[],b;if(m&&o.isArray(m)){for(b=0;b<m.length;b++)m[b].handler!==c&&v.push(m[b]);this.events[a]=v}},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var c in this.events)this.events[c]=[]},getHandler:function(a){var c=this.events[a];return!c||!c.length?null:(c=c.length===1?[c[0]]:Array.apply(null,c),function(m,v){var b,w=c.length;for(b=0;b<w;b++)c[b]&&(v.eventSource=m,v.userData=c[b].userData,c[b].handler(v))})},raiseEvent:function(a,c){var m=this.getHandler(a);m&&(c||(c={}),m(this,c))}}}(u),function(o){var a={};o.MouseTracker=function(V){var F=arguments;o.isPlainObject(V)||(V={element:F[0],clickTimeThreshold:F[1],clickDistThreshold:F[2]}),this.hash=Math.random(),this.element=o.getElement(V.element),this.clickTimeThreshold=V.clickTimeThreshold||o.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=V.clickDistThreshold||o.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=V.dblClickTimeThreshold||o.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=V.dblClickDistThreshold||o.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=V.userData||null,this.stopDelay=V.stopDelay||50,this.preProcessEventHandler=V.preProcessEventHandler||null,this.contextMenuHandler=V.contextMenuHandler||null,this.enterHandler=V.enterHandler||null,this.leaveHandler=V.leaveHandler||null,this.exitHandler=V.exitHandler||null,this.overHandler=V.overHandler||null,this.outHandler=V.outHandler||null,this.pressHandler=V.pressHandler||null,this.nonPrimaryPressHandler=V.nonPrimaryPressHandler||null,this.releaseHandler=V.releaseHandler||null,this.nonPrimaryReleaseHandler=V.nonPrimaryReleaseHandler||null,this.moveHandler=V.moveHandler||null,this.scrollHandler=V.scrollHandler||null,this.clickHandler=V.clickHandler||null,this.dblClickHandler=V.dblClickHandler||null,this.dragHandler=V.dragHandler||null,this.dragEndHandler=V.dragEndHandler||null,this.pinchHandler=V.pinchHandler||null,this.stopHandler=V.stopHandler||null,this.keyDownHandler=V.keyDownHandler||null,this.keyUpHandler=V.keyUpHandler||null,this.keyHandler=V.keyHandler||null,this.focusHandler=V.focusHandler||null,this.blurHandler=V.blurHandler||null;var te=this;a[this.hash]={click:function(re){oe(te,re)},dblclick:function(re){be(te,re)},keydown:function(re){ve(te,re)},keyup:function(re){ke(te,re)},keypress:function(re){Pe(te,re)},focus:function(re){Xe(te,re)},blur:function(re){Je(te,re)},contextmenu:function(re){dt(te,re)},wheel:function(re){mt(te,re)},mousewheel:function(re){ht(te,re)},DOMMouseScroll:function(re){ht(te,re)},MozMousePixelScroll:function(re){ht(te,re)},losecapture:function(re){Pt(te,re)},mouseenter:function(re){nt(te,re)},mouseleave:function(re){ot(te,re)},mouseover:function(re){it(te,re)},mouseout:function(re){ct(te,re)},mousedown:function(re){Mt(te,re)},mouseup:function(re){yn(te,re)},mousemove:function(re){Ji(te,re)},touchstart:function(re){qt(te,re)},touchend:function(re){Gt(te,re)},touchmove:function(re){Zt(te,re)},touchcancel:function(re){hn(te,re)},gesturestart:function(re){Tn(te,re)},gesturechange:function(re){pt(te,re)},gotpointercapture:function(re){tn(te,re)},lostpointercapture:function(re){We(te,re)},pointerenter:function(re){nt(te,re)},pointerleave:function(re){ot(te,re)},pointerover:function(re){it(te,re)},pointerout:function(re){ct(te,re)},pointerdown:function(re){Mt(te,re)},pointerup:function(re){yn(te,re)},pointermove:function(re){Ji(te,re)},pointercancel:function(re){B(te,re)},pointerupcaptured:function(re){zn(te,re)},pointermovecaptured:function(re){Oi(te,re)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,o.MouseTracker.havePointerEvents&&o.setElementPointerEvents(this.element,"auto"),this.exitHandler&&o.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),V.startDisabled||this.setTracking(!0)},o.MouseTracker.prototype={destroy:function(){w(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(V){return V?b(this):w(this),this},getActivePointersListByType:function(V){var F=a[this.hash],te,re=F.activePointersLists.length,Me;for(te=0;te<re;te++)if(F.activePointersLists[te].type===V)return F.activePointersLists[te];return Me=new o.MouseTracker.GesturePointList(V),F.activePointersLists.push(Me),Me},getActivePointerCount:function(){var V=a[this.hash],F,te=V.activePointersLists.length,re=0;for(F=0;F<te;F++)re+=V.activePointersLists[F].getLength();return re},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var c=function(){try{return window.self!==window.top}catch{return!0}}();function m(V){try{return V.addEventListener&&V.removeEventListener}catch{return!1}}o.MouseTracker.gesturePointVelocityTracker=function(){var V=[],F=0,te=0,re=function(kn,Nt){return kn.hash.toString()+Nt.type+Nt.id.toString()},Me=function(){var kn,Nt=V.length,Fi,ni,Us=o.now(),Ox,Dx,Ax;for(Ox=Us-te,te=Us,kn=0;kn<Nt;kn++)Fi=V[kn],ni=Fi.gPoint,ni.direction=Math.atan2(ni.currentPos.y-Fi.lastPos.y,ni.currentPos.x-Fi.lastPos.x),Dx=Fi.lastPos.distanceTo(ni.currentPos),Fi.lastPos=ni.currentPos,Ax=1e3*Dx/(Ox+1),ni.speed=.75*Ax+.25*ni.speed},Qe=function(kn,Nt){var Fi=re(kn,Nt);V.push({guid:Fi,gPoint:Nt,lastPos:Nt.currentPos}),V.length===1&&(te=o.now(),F=window.setInterval(Me,50))},Bt=function(kn,Nt){var Fi=re(kn,Nt),ni,Us=V.length;for(ni=0;ni<Us;ni++)if(V[ni].guid===Fi){V.splice(ni,1),Us--,Us===0&&window.clearInterval(F);break}};return{addPoint:Qe,removePoint:Bt}}(),o.MouseTracker.captureElement=document,o.MouseTracker.wheelEventName=o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",o.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",o.MouseTracker.wheelEventName],o.MouseTracker.wheelEventName==="DOMMouseScroll"&&o.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(o.MouseTracker.havePointerEvents=!0,o.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),o.MouseTracker.havePointerCapture=function(){var V=document.createElement("div");return o.isFunction(V.setPointerCapture)&&o.isFunction(V.releasePointerCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(o.MouseTracker.havePointerEvents=!1,o.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),o.MouseTracker.mousePointerId="legacy-mouse",o.MouseTracker.havePointerCapture=function(){var V=document.createElement("div");return o.isFunction(V.setCapture)&&o.isFunction(V.releaseCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&o.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&o.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),o.MouseTracker.GesturePointList=function(V){this._gPoints=[],this.type=V,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},o.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(V){return this._gPoints.push(V)},removeById:function(V){var F,te=this._gPoints.length;for(F=0;F<te;F++)if(this._gPoints[F].id===V){this._gPoints.splice(F,1);break}return this._gPoints.length},getByIndex:function(V){return V<this._gPoints.length?this._gPoints[V]:null},getById:function(V){var F,te=this._gPoints.length;for(F=0;F<te;F++)if(this._gPoints[F].id===V)return this._gPoints[F];return null},getPrimary:function(V){var F,te=this._gPoints.length;for(F=0;F<te;F++)if(this._gPoints[F].isPrimary)return this._gPoints[F];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(o.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(o.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function v(V){var F=a[V.hash],te,re,Me,Qe,Bt,kn=F.activePointersLists.length;for(te=0;te<kn;te++)if(Me=F.activePointersLists[te],Me.getLength()>0){for(Bt=[],Qe=Me.asArray(),re=0;re<Qe.length;re++)Bt.push(Qe[re]);for(re=0;re<Bt.length;re++)De(V,Me,Bt[re])}for(te=0;te<kn;te++)F.activePointersLists.pop();F.sentDragEvent=!1}function b(V){var F=a[V.hash],te,re;if(!F.tracking){for(re=0;re<o.MouseTracker.subscribeEvents.length;re++)te=o.MouseTracker.subscribeEvents[re],o.addEvent(V.element,te,F[te],te===o.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);v(V),F.tracking=!0}}function w(V){var F=a[V.hash],te,re;if(F.tracking){for(re=0;re<o.MouseTracker.subscribeEvents.length;re++)te=o.MouseTracker.subscribeEvents[re],o.removeEvent(V.element,te,F[te],!1);v(V),F.tracking=!1}}function x(V,F){var te=a[V.hash];if(F==="pointerevent")return{upName:"pointerup",upHandler:te.pointerupcaptured,moveName:"pointermove",moveHandler:te.pointermovecaptured};if(F==="mouse")return{upName:"pointerup",upHandler:te.pointerupcaptured,moveName:"pointermove",moveHandler:te.pointermovecaptured};if(F==="touch")return{upName:"touchend",upHandler:te.touchendcaptured,moveName:"touchmove",moveHandler:te.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function E(V,F){var te;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents)try{V.element.setPointerCapture(F.id)}catch{o.console.warn("setPointerCapture() called on invalid pointer ID");return}else V.element.setCapture(!0);else te=x(V,o.MouseTracker.havePointerEvents?"pointerevent":F.type),c&&m(window.top)&&o.addEvent(window.top,te.upName,te.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,te.upName,te.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,te.moveName,te.moveHandler,!0);Ct(V,F,!0)}function O(V,F){var te,re,Me;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents){if(re=V.getActivePointersListByType(F.type),Me=re.getById(F.id),!Me||!Me.captured)return;try{V.element.releasePointerCapture(F.id)}catch{}}else V.element.releaseCapture();else te=x(V,o.MouseTracker.havePointerEvents?"pointerevent":F.type),c&&m(window.top)&&o.removeEvent(window.top,te.upName,te.upHandler,!0),o.removeEvent(o.MouseTracker.captureElement,te.moveName,te.moveHandler,!0),o.removeEvent(o.MouseTracker.captureElement,te.upName,te.upHandler,!0);Ct(V,F,!1)}function A(V){return o.MouseTracker.havePointerEvents?V.pointerId:o.MouseTracker.mousePointerId}function H(V){return o.MouseTracker.havePointerEvents?V.pointerType||(o.Browser.vendor===o.BROWSERS.IE?"mouse":""):"mouse"}function X(V){return o.MouseTracker.havePointerEvents?V.isPrimary:!0}function ae(V){return o.getMousePosition(V)}function ie(V,F){return de(ae(V),F)}function de(V,F){var te=o.getElementOffset(F);return V.minus(te)}function M(V,F){return new o.Point((V.x+F.x)/2,(V.y+F.y)/2)}function oe(V,F){var te={originalEvent:F,eventType:"click",pointerType:"mouse",isEmulated:!1};Ge(V,te),te.preventDefault&&!te.defaultPrevented&&o.cancelEvent(F),te.stopPropagation&&o.stopEvent(F)}function be(V,F){var te={originalEvent:F,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Ge(V,te),te.preventDefault&&!te.defaultPrevented&&o.cancelEvent(F),te.stopPropagation&&o.stopEvent(F)}function ve(V,F){var te=null,re={originalEvent:F,eventType:"keydown",pointerType:"",isEmulated:!1};Ge(V,re),V.keyDownHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,keyCode:F.keyCode?F.keyCode:F.charCode,ctrl:F.ctrlKey,shift:F.shiftKey,alt:F.altKey,meta:F.metaKey,originalEvent:F,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.keyDownHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function ke(V,F){var te=null,re={originalEvent:F,eventType:"keyup",pointerType:"",isEmulated:!1};Ge(V,re),V.keyUpHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,keyCode:F.keyCode?F.keyCode:F.charCode,ctrl:F.ctrlKey,shift:F.shiftKey,alt:F.altKey,meta:F.metaKey,originalEvent:F,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.keyUpHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function Pe(V,F){var te=null,re={originalEvent:F,eventType:"keypress",pointerType:"",isEmulated:!1};Ge(V,re),V.keyHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,keyCode:F.keyCode?F.keyCode:F.charCode,ctrl:F.ctrlKey,shift:F.shiftKey,alt:F.altKey,meta:F.metaKey,originalEvent:F,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.keyHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function Xe(V,F){var te={originalEvent:F,eventType:"focus",pointerType:"",isEmulated:!1};Ge(V,te),V.focusHandler&&!te.preventGesture&&V.focusHandler({eventSource:V,originalEvent:F,userData:V.userData})}function Je(V,F){var te={originalEvent:F,eventType:"blur",pointerType:"",isEmulated:!1};Ge(V,te),V.blurHandler&&!te.preventGesture&&V.blurHandler({eventSource:V,originalEvent:F,userData:V.userData})}function dt(V,F){var te=null,re={originalEvent:F,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Ge(V,re),V.contextMenuHandler&&!re.preventGesture&&!re.defaultPrevented&&(te={eventSource:V,position:de(ae(F),V.element),originalEvent:re.originalEvent,preventDefault:re.preventDefault||re.defaultPrevented,userData:V.userData},V.contextMenuHandler(te)),(te&&te.preventDefault||re.preventDefault&&!re.defaultPrevented)&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function mt(V,F){Rt(V,F,F)}function ht(V,F){var te={target:F.target||F.srcElement,type:"wheel",shiftKey:F.shiftKey||!1,clientX:F.clientX,clientY:F.clientY,pageX:F.pageX?F.pageX:F.clientX,pageY:F.pageY?F.pageY:F.clientY,deltaMode:F.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};o.MouseTracker.wheelEventName==="mousewheel"?te.deltaY=-F.wheelDelta/o.DEFAULT_SETTINGS.pixelsPerWheelLine:te.deltaY=F.detail,Rt(V,te,F)}function Rt(V,F,te){var re=0,Me,Qe=null;re=F.deltaY<0?1:-1,Me={originalEvent:F,eventType:"wheel",pointerType:"mouse",isEmulated:F!==te},Ge(V,Me),V.scrollHandler&&!Me.preventGesture&&!Me.defaultPrevented&&(Qe={eventSource:V,pointerType:"mouse",position:ie(F,V.element),scroll:re,shift:F.shiftKey,isTouchEvent:!1,originalEvent:te,preventDefault:Me.preventDefault||Me.defaultPrevented,userData:V.userData},V.scrollHandler(Qe)),Me.stopPropagation&&o.stopEvent(te),(Qe&&Qe.preventDefault||Me.preventDefault&&!Me.defaultPrevented)&&o.cancelEvent(te)}function Pt(V,F){var te={id:o.MouseTracker.mousePointerId,type:"mouse"},re={originalEvent:F,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Ge(V,re),F.target===V.element&&Ct(V,te,!1),re.stopPropagation&&o.stopEvent(F)}function qt(V,F){var te,re,Me=F.changedTouches.length,Qe,Bt=V.getActivePointersListByType("touch");te=o.now(),Bt.getLength()>F.touches.length-Me&&o.console.warn("Tracked touch contact count doesn't match event.touches.length");var kn={originalEvent:F,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Ge(V,kn),re=0;re<Me;re++)Qe={id:F.changedTouches[re].identifier,type:"touch",isPrimary:Bt.getLength()===0,currentPos:ae(F.changedTouches[re]),currentTime:te},ft(V,kn,Qe),Xt(V,kn,Qe,0),Ct(V,Qe,!0);kn.preventDefault&&!kn.defaultPrevented&&o.cancelEvent(F),kn.stopPropagation&&o.stopEvent(F)}function Gt(V,F){var te,re,Me=F.changedTouches.length,Qe;te=o.now();var Bt={originalEvent:F,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Ge(V,Bt),re=0;re<Me;re++)Qe={id:F.changedTouches[re].identifier,type:"touch",currentPos:ae(F.changedTouches[re]),currentTime:te},jn(V,Bt,Qe,0),Ct(V,Qe,!1),pn(V,Bt,Qe);Bt.preventDefault&&!Bt.defaultPrevented&&o.cancelEvent(F),Bt.stopPropagation&&o.stopEvent(F)}function Zt(V,F){var te,re,Me=F.changedTouches.length,Qe;te=o.now();var Bt={originalEvent:F,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Ge(V,Bt),re=0;re<Me;re++)Qe={id:F.changedTouches[re].identifier,type:"touch",currentPos:ae(F.changedTouches[re]),currentTime:te},un(V,Bt,Qe);Bt.preventDefault&&!Bt.defaultPrevented&&o.cancelEvent(F),Bt.stopPropagation&&o.stopEvent(F)}function hn(V,F){var te=F.changedTouches.length,re,Me,Qe={originalEvent:F,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Ge(V,Qe),re=0;re<te;re++)Me={id:F.changedTouches[re].identifier,type:"touch"},di(V,Qe,Me);Qe.stopPropagation&&o.stopEvent(F)}function Tn(V,F){return o.eventIsCanceled(F)||F.preventDefault(),!1}function pt(V,F){return o.eventIsCanceled(F)||F.preventDefault(),!1}function tn(V,F){var te={originalEvent:F,eventType:"gotpointercapture",pointerType:H(F),isEmulated:!1};Ge(V,te),F.target===V.element&&Ct(V,{id:F.pointerId,type:H(F)},!0),te.stopPropagation&&o.stopEvent(F)}function We(V,F){var te={originalEvent:F,eventType:"lostpointercapture",pointerType:H(F),isEmulated:!1};Ge(V,te),F.target===V.element&&Ct(V,{id:F.pointerId,type:H(F)},!1),te.stopPropagation&&o.stopEvent(F)}function nt(V,F){var te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()},re={originalEvent:F,eventType:"pointerenter",pointerType:te.type,isEmulated:!1};Ge(V,re),ft(V,re,te)}function ot(V,F){var te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()},re={originalEvent:F,eventType:"pointerleave",pointerType:te.type,isEmulated:!1};Ge(V,re),pn(V,re,te)}function it(V,F){var te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()},re={originalEvent:F,eventType:"pointerover",pointerType:te.type,isEmulated:!1};Ge(V,re),Dn(V,re,te),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function ct(V,F){var te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()},re={originalEvent:F,eventType:"pointerout",pointerType:te.type,isEmulated:!1};Ge(V,re),fn(V,re,te),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function Mt(V,F){var te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()},re=o.MouseTracker.havePointerEvents&&te.type==="touch"&&o.Browser.vendor!==o.BROWSERS.IE,Me={originalEvent:F,eventType:"pointerdown",pointerType:te.type,isEmulated:!1};Ge(V,Me),Xt(V,Me,te,F.button),Me.preventDefault&&!Me.defaultPrevented&&o.cancelEvent(F),Me.stopPropagation&&o.stopEvent(F),Me.shouldCapture&&(re?Ct(V,te,!0):E(V,te))}function yn(V,F){dn(V,F)}function zn(V,F){var te=V.getActivePointersListByType(H(F));te.getById(F.pointerId)&&dn(V,F),o.stopEvent(F)}function dn(V,F){var te;te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()};var re={originalEvent:F,eventType:"pointerup",pointerType:te.type,isEmulated:!1};Ge(V,re),jn(V,re,te,F.button),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F),re.shouldReleaseCapture&&(F.target===V.element?O(V,te):Ct(V,te,!1))}function Ji(V,F){Hi(V,F)}function Oi(V,F){var te=V.getActivePointersListByType(H(F));te.getById(F.pointerId)&&Hi(V,F),o.stopEvent(F)}function Hi(V,F){var te={id:A(F),type:H(F),isPrimary:X(F),currentPos:ae(F),currentTime:o.now()},re={originalEvent:F,eventType:"pointermove",pointerType:te.type,isEmulated:!1};Ge(V,re),un(V,re,te),re.preventDefault&&!re.defaultPrevented&&o.cancelEvent(F),re.stopPropagation&&o.stopEvent(F)}function B(V,F){var te={id:F.pointerId,type:H(F)},re={originalEvent:F,eventType:"pointercancel",pointerType:te.type,isEmulated:!1};Ge(V,re),di(V,re,te),re.stopPropagation&&o.stopEvent(F)}function ce(V,F){return F.speed=0,F.direction=0,F.contactPos=F.currentPos,F.contactTime=F.currentTime,F.lastPos=F.currentPos,F.lastTime=F.currentTime,V.add(F)}function De(V,F,te){var re,Me=F.getById(te.id);return Me?(Me.captured&&(o.console.warn("stopTrackingPointer() called on captured pointer"),O(V,Me)),(F.type==="mouse"||F.type==="pen")&&F.contacts>0&&F.removeContact(),re=F.removeById(te.id)):re=F.getLength(),re}function Ze(V,F){switch(F.eventType){case"pointermove":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!1,F.preventGesture=!V.hasGestureHandlers,F.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!1,F.preventGesture=!1,F.stopPropagation=!1;break;case"pointerdown":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!1,F.preventGesture=!V.hasGestureHandlers,F.stopPropagation=!1;break;case"pointerup":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!1,F.preventGesture=!V.hasGestureHandlers,F.stopPropagation=!1;break;case"wheel":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!1,F.preventGesture=!V.hasScrollHandler,F.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":F.isStoppable=!0,F.isCancelable=!1,F.preventDefault=!1,F.preventGesture=!1,F.stopPropagation=!1;break;case"click":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!!V.clickHandler,F.preventGesture=!1,F.stopPropagation=!1;break;case"dblclick":F.isStoppable=!0,F.isCancelable=!0,F.preventDefault=!!V.dblClickHandler,F.preventGesture=!1,F.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:F.isStoppable=!1,F.isCancelable=!1,F.preventDefault=!1,F.preventGesture=!1,F.stopPropagation=!1;break}}function Ge(V,F){F.eventSource=V,F.eventPhase=F.originalEvent&&typeof F.originalEvent.eventPhase<"u"?F.originalEvent.eventPhase:0,F.defaultPrevented=o.eventIsCanceled(F.originalEvent),F.shouldCapture=!1,F.shouldReleaseCapture=!1,F.userData=V.userData,Ze(V,F),V.preProcessEventHandler&&V.preProcessEventHandler(F)}function Ct(V,F,te){var re=V.getActivePointersListByType(F.type),Me=re.getById(F.id);Me?te&&!Me.captured?(Me.captured=!0,re.captureCount++):!te&&Me.captured&&(Me.captured=!1,re.captureCount--,re.captureCount<0&&(re.captureCount=0,o.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):o.console.warn("updatePointerCaptured() called on untracked pointer")}function ft(V,F,te){var re=V.getActivePointersListByType(te.type),Me;Me=re.getById(te.id),Me?(Me.insideElement=!0,Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=te.currentPos,Me.currentTime=te.currentTime,te=Me):(te.captured=!1,te.insideElementPressed=!1,te.insideElement=!0,ce(re,te)),V.enterHandler&&V.enterHandler({eventSource:V,pointerType:te.type,position:de(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData})}function pn(V,F,te){var re=V.getActivePointersListByType(te.type),Me,Qe;Me=re.getById(te.id),Me?(Me.captured?(Me.insideElement=!1,Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=te.currentPos,Me.currentTime=te.currentTime):De(V,re,Me),te=Me):(te.captured=!1,te.insideElementPressed=!1),(V.leaveHandler||V.exitHandler)&&(Qe={eventSource:V,pointerType:te.type,position:te.currentPos&&de(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData},V.leaveHandler&&V.leaveHandler(Qe),V.exitHandler&&V.exitHandler(Qe))}function Dn(V,F,te){var re,Me;re=V.getActivePointersListByType(te.type),Me=re.getById(te.id),Me?te=Me:(te.captured=!1,te.insideElementPressed=!1),V.overHandler&&V.overHandler({eventSource:V,pointerType:te.type,position:de(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData})}function fn(V,F,te){var re,Me;re=V.getActivePointersListByType(te.type),Me=re.getById(te.id),Me?te=Me:(te.captured=!1,te.insideElementPressed=!1),V.outHandler&&V.outHandler({eventSource:V,pointerType:te.type,position:te.currentPos&&de(te.currentPos,V.element),buttons:re.buttons,pointers:V.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:re.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData})}function Xt(V,F,te,re){var Me=a[V.hash],Qe=V.getActivePointersListByType(te.type),Bt;if(typeof F.originalEvent.buttons<"u"?Qe.buttons=F.originalEvent.buttons:re===0?Qe.buttons|=1:re===1?Qe.buttons|=4:re===2?Qe.buttons|=2:re===3?Qe.buttons|=8:re===4?Qe.buttons|=16:re===5&&(Qe.buttons|=32),re!==0){F.shouldCapture=!1,F.shouldReleaseCapture=!1,V.nonPrimaryPressHandler&&!F.preventGesture&&!F.defaultPrevented&&(F.preventDefault=!0,V.nonPrimaryPressHandler({eventSource:V,pointerType:te.type,position:de(te.currentPos,V.element),button:re,buttons:Qe.buttons,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData}));return}if(Bt=Qe.getById(te.id),Bt)Bt.insideElementPressed=!0,Bt.insideElement=!0,Bt.originalTarget=F.originalEvent.target,Bt.contactPos=te.currentPos,Bt.contactTime=te.currentTime,Bt.lastPos=Bt.currentPos,Bt.lastTime=Bt.currentTime,Bt.currentPos=te.currentPos,Bt.currentTime=te.currentTime,te=Bt;else{o.console.warn("pointerdown event on untracked pointer"),te.captured=!1,te.insideElementPressed=!0,te.insideElement=!0,te.originalTarget=F.originalEvent.target,ce(Qe,te);return}Qe.addContact(),!F.preventGesture&&!F.defaultPrevented?(F.shouldCapture=!0,F.shouldReleaseCapture=!1,F.preventDefault=!0,(V.dragHandler||V.dragEndHandler||V.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.addPoint(V,te),Qe.contacts===1?V.pressHandler&&!F.preventGesture&&V.pressHandler({eventSource:V,pointerType:te.type,position:de(te.contactPos,V.element),buttons:Qe.buttons,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData}):Qe.contacts===2&&V.pinchHandler&&te.type==="touch"&&(Me.pinchGPoints=Qe.asArray(),Me.lastPinchDist=Me.currentPinchDist=Me.pinchGPoints[0].currentPos.distanceTo(Me.pinchGPoints[1].currentPos),Me.lastPinchCenter=Me.currentPinchCenter=M(Me.pinchGPoints[0].currentPos,Me.pinchGPoints[1].currentPos))):(F.shouldCapture=!1,F.shouldReleaseCapture=!1)}function jn(V,F,te,re){var Me=a[V.hash],Qe=V.getActivePointersListByType(te.type),Bt,kn,Nt,Fi=!1,ni;if(typeof F.originalEvent.buttons<"u"?Qe.buttons=F.originalEvent.buttons:re===0?Qe.buttons^=-2:re===1?Qe.buttons^=-5:re===2?Qe.buttons^=-3:re===3?Qe.buttons^=-9:re===4?Qe.buttons^=-17:re===5&&(Qe.buttons^=-33),F.shouldCapture=!1,re!==0){F.shouldReleaseCapture=!1,V.nonPrimaryReleaseHandler&&!F.preventGesture&&!F.defaultPrevented&&(F.preventDefault=!0,V.nonPrimaryReleaseHandler({eventSource:V,pointerType:te.type,position:de(te.currentPos,V.element),button:re,buttons:Qe.buttons,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData}));return}Nt=Qe.getById(te.id),Nt?(Qe.removeContact(),Nt.captured&&(Fi=!0),Nt.lastPos=Nt.currentPos,Nt.lastTime=Nt.currentTime,Nt.currentPos=te.currentPos,Nt.currentTime=te.currentTime,Nt.insideElement||De(V,Qe,Nt),Bt=Nt.currentPos,kn=Nt.currentTime):(o.console.warn("updatePointerUp(): pointerup on untracked gPoint"),te.captured=!1,te.insideElementPressed=!1,te.insideElement=!0,ce(Qe,te),Nt=te),!F.preventGesture&&!F.defaultPrevented&&(Fi?(F.shouldReleaseCapture=!0,F.preventDefault=!0,(V.dragHandler||V.dragEndHandler||V.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.removePoint(V,Nt),Qe.contacts===0?(V.releaseHandler&&V.releaseHandler({eventSource:V,pointerType:Nt.type,position:de(Bt,V.element),buttons:Qe.buttons,insideElementPressed:Nt.insideElementPressed,insideElementReleased:Nt.insideElement,isTouchEvent:Nt.type==="touch",originalEvent:F.originalEvent,userData:V.userData}),V.dragEndHandler&&Me.sentDragEvent&&V.dragEndHandler({eventSource:V,pointerType:Nt.type,position:de(Nt.currentPos,V.element),speed:Nt.speed,direction:Nt.direction,shift:F.originalEvent.shiftKey,isTouchEvent:Nt.type==="touch",originalEvent:F.originalEvent,userData:V.userData}),Me.sentDragEvent=!1,(V.clickHandler||V.dblClickHandler)&&Nt.insideElement&&(ni=kn-Nt.contactTime<=V.clickTimeThreshold&&Nt.contactPos.distanceTo(Bt)<=V.clickDistThreshold,V.clickHandler&&V.clickHandler({eventSource:V,pointerType:Nt.type,position:de(Nt.currentPos,V.element),quick:ni,shift:F.originalEvent.shiftKey,isTouchEvent:Nt.type==="touch",originalEvent:F.originalEvent,originalTarget:Nt.originalTarget,userData:V.userData}),V.dblClickHandler&&ni&&(Qe.clicks++,Qe.clicks===1?(Me.lastClickPos=Bt,Me.dblClickTimeOut=setTimeout(function(){Qe.clicks=0},V.dblClickTimeThreshold)):Qe.clicks===2&&(clearTimeout(Me.dblClickTimeOut),Qe.clicks=0,Me.lastClickPos.distanceTo(Bt)<=V.dblClickDistThreshold&&V.dblClickHandler({eventSource:V,pointerType:Nt.type,position:de(Nt.currentPos,V.element),shift:F.originalEvent.shiftKey,isTouchEvent:Nt.type==="touch",originalEvent:F.originalEvent,userData:V.userData}),Me.lastClickPos=null)))):Qe.contacts===2&&V.pinchHandler&&Nt.type==="touch"&&(Me.pinchGPoints=Qe.asArray(),Me.lastPinchDist=Me.currentPinchDist=Me.pinchGPoints[0].currentPos.distanceTo(Me.pinchGPoints[1].currentPos),Me.lastPinchCenter=Me.currentPinchCenter=M(Me.pinchGPoints[0].currentPos,Me.pinchGPoints[1].currentPos))):(F.shouldReleaseCapture=!1,V.releaseHandler&&(V.releaseHandler({eventSource:V,pointerType:Nt.type,position:de(Bt,V.element),buttons:Qe.buttons,insideElementPressed:Nt.insideElementPressed,insideElementReleased:Nt.insideElement,isTouchEvent:Nt.type==="touch",originalEvent:F.originalEvent,userData:V.userData}),F.preventDefault=!0)))}function un(V,F,te){var re=a[V.hash],Me=V.getActivePointersListByType(te.type),Qe,Bt,kn;if(typeof F.originalEvent.buttons<"u"&&(Me.buttons=F.originalEvent.buttons),Qe=Me.getById(te.id),Qe)Qe.lastPos=Qe.currentPos,Qe.lastTime=Qe.currentTime,Qe.currentPos=te.currentPos,Qe.currentTime=te.currentTime;else return;F.shouldCapture=!1,F.shouldReleaseCapture=!1,V.stopHandler&&te.type==="mouse"&&(clearTimeout(V.stopTimeOut),V.stopTimeOut=setTimeout(function(){Jr(V,F.originalEvent,te.type)},V.stopDelay)),Me.contacts===0?V.moveHandler&&V.moveHandler({eventSource:V,pointerType:te.type,position:de(te.currentPos,V.element),buttons:Me.buttons,isTouchEvent:te.type==="touch",originalEvent:F.originalEvent,userData:V.userData}):Me.contacts===1?(V.moveHandler&&(Qe=Me.asArray()[0],V.moveHandler({eventSource:V,pointerType:Qe.type,position:de(Qe.currentPos,V.element),buttons:Me.buttons,isTouchEvent:Qe.type==="touch",originalEvent:F.originalEvent,userData:V.userData})),V.dragHandler&&!F.preventGesture&&!F.defaultPrevented&&(Qe=Me.asArray()[0],kn=Qe.currentPos.minus(Qe.lastPos),V.dragHandler({eventSource:V,pointerType:Qe.type,position:de(Qe.currentPos,V.element),buttons:Me.buttons,delta:kn,speed:Qe.speed,direction:Qe.direction,shift:F.originalEvent.shiftKey,isTouchEvent:Qe.type==="touch",originalEvent:F.originalEvent,userData:V.userData}),F.preventDefault=!0,re.sentDragEvent=!0)):Me.contacts===2&&(V.moveHandler&&(Bt=Me.asArray(),V.moveHandler({eventSource:V,pointerType:Bt[0].type,position:de(M(Bt[0].currentPos,Bt[1].currentPos),V.element),buttons:Me.buttons,isTouchEvent:Bt[0].type==="touch",originalEvent:F.originalEvent,userData:V.userData})),V.pinchHandler&&te.type==="touch"&&!F.preventGesture&&!F.defaultPrevented&&(kn=re.pinchGPoints[0].currentPos.distanceTo(re.pinchGPoints[1].currentPos),kn!==re.currentPinchDist&&(re.lastPinchDist=re.currentPinchDist,re.currentPinchDist=kn,re.lastPinchCenter=re.currentPinchCenter,re.currentPinchCenter=M(re.pinchGPoints[0].currentPos,re.pinchGPoints[1].currentPos),V.pinchHandler({eventSource:V,pointerType:"touch",gesturePoints:re.pinchGPoints,lastCenter:de(re.lastPinchCenter,V.element),center:de(re.currentPinchCenter,V.element),lastDistance:re.lastPinchDist,distance:re.currentPinchDist,shift:F.originalEvent.shiftKey,originalEvent:F.originalEvent,userData:V.userData}),F.preventDefault=!0)))}function di(V,F,te){var re=V.getActivePointersListByType(te.type),Me;Me=re.getById(te.id),Me&&De(V,re,Me)}function Jr(V,F,te){V.stopHandler&&V.stopHandler({eventSource:V,pointerType:te,position:ie(F,V.element),buttons:V.getActivePointersListByType(te).buttons,isTouchEvent:te==="touch",originalEvent:F,userData:V.userData})}}(u),function(o){o.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},o.Control=function(a,c,m){var v=a.parentNode;typeof c=="number"&&(o.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),c={anchor:c}),c.attachToViewer=typeof c.attachToViewer>"u"?!0:c.attachToViewer,this.autoFade=typeof c.autoFade>"u"?!0:c.autoFade,this.element=a,this.anchor=c.anchor,this.container=m,this.anchor===o.ControlAnchor.ABSOLUTE?(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof c.top=="number"?c.top+"px":c.top,this.wrapper.style.left=typeof c.left=="number"?c.left+"px":c.left,this.wrapper.style.height=typeof c.height=="number"?c.height+"px":c.height,this.wrapper.style.width=typeof c.width=="number"?c.width+"px":c.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===o.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),c.attachToViewer?this.anchor===o.ControlAnchor.TOP_RIGHT||this.anchor===o.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):v.appendChild(this.wrapper)},o.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==o.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===o.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){this.element[o.SIGNAL]&&o.Browser.vendor===o.BROWSERS.IE?o.setElementOpacity(this.element,a,!0):o.setElementOpacity(this.wrapper,a,!0)}}}(u),function(o){o.ControlDock=function(c){var m=["topleft","topright","bottomright","bottomleft"],v,b;for(o.extend(!0,this,{id:"controldock-"+o.now()+"-"+Math.floor(Math.random()*1e6),container:o.makeNeutralElement("div"),controls:[]},c),this.container.onsubmit=function(){return!1},this.element&&(this.element=o.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),b=0;b<m.length;b++)v=m[b],this.controls[v]=o.makeNeutralElement("div"),this.controls[v].style.position="absolute",v.match("left")&&(this.controls[v].style.left="0px"),v.match("right")&&(this.controls[v].style.right="0px"),v.match("top")&&(this.controls[v].style.top="0px"),v.match("bottom")&&(this.controls[v].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},o.ControlDock.prototype={addControl:function(c,m){c=o.getElement(c);var v=null;if(!(a(this,c)>=0)){switch(m.anchor){case o.ControlAnchor.TOP_RIGHT:v=this.controls.topright,c.style.position="relative",c.style.paddingRight="0px",c.style.paddingTop="0px";break;case o.ControlAnchor.BOTTOM_RIGHT:v=this.controls.bottomright,c.style.position="relative",c.style.paddingRight="0px",c.style.paddingBottom="0px";break;case o.ControlAnchor.BOTTOM_LEFT:v=this.controls.bottomleft,c.style.position="relative",c.style.paddingLeft="0px",c.style.paddingBottom="0px";break;case o.ControlAnchor.TOP_LEFT:v=this.controls.topleft,c.style.position="relative",c.style.paddingLeft="0px",c.style.paddingTop="0px";break;case o.ControlAnchor.ABSOLUTE:v=this.container,c.style.margin="0px",c.style.padding="0px";break;default:case o.ControlAnchor.NONE:v=this.container,c.style.margin="0px",c.style.padding="0px";break}this.controls.push(new o.Control(c,m,v)),c.style.display="inline-block"}},removeControl:function(c){c=o.getElement(c);var m=a(this,c);return m>=0&&(this.controls[m].destroy(),this.controls.splice(m,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var c;for(c=this.controls.length-1;c>=0;c--)if(this.controls[c].isVisible())return!0;return!1},setControlsEnabled:function(c){var m;for(m=this.controls.length-1;m>=0;m--)this.controls[m].setVisible(c);return this}};function a(c,m){var v=c.controls,b;for(b=v.length-1;b>=0;b--)if(v[b].element===m)return b;return-1}}(u),function(o){o.Placement=o.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(u),function(o){var a={},c=1;o.Viewer=function(B){var ce=arguments,De=this,Ze;if(o.isPlainObject(B)||(B={id:ce[0],xmlPath:ce.length>1?ce[1]:void 0,prefixUrl:ce.length>2?ce[2]:void 0,controls:ce.length>3?ce[3]:void 0,overlays:ce.length>4?ce[4]:void 0}),B.config&&(o.extend(!0,B,B.config),delete B.config),o.extend(!0,this,{id:B.id,hash:B.hash||c++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},o.DEFAULT_SETTINGS,B),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof a[this.hash]<"u"&&o.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new o.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=o.now(),o.EventSource.call(this),this.addHandler("open-failed",function(Ge){var Ct=o.getString("Errors.OpenFailed",Ge.eventSource,Ge.message);De._showMessage(Ct)}),o.ControlDock.call(this,B),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=o.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Ge){Ge.width="100%",Ge.height="100%",Ge.overflow="hidden",Ge.position="absolute",Ge.top="0px",Ge.left="0px"}(this.canvas.style),o.setElementTouchActionNone(this.canvas),B.tabIndex!==""&&(this.canvas.tabIndex=B.tabIndex===void 0?0:B.tabIndex),this.container.className="openseadragon-container",function(Ge){Ge.width="100%",Ge.height="100%",Ge.position="relative",Ge.overflow="hidden",Ge.left="0px",Ge.top="0px",Ge.textAlign="left"}(this.container.style),o.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new o.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:o.delegate(this,ie),keyDownHandler:o.delegate(this,de),keyHandler:o.delegate(this,M),clickHandler:o.delegate(this,oe),dblClickHandler:o.delegate(this,be),dragHandler:o.delegate(this,ve),dragEndHandler:o.delegate(this,ke),enterHandler:o.delegate(this,Pe),leaveHandler:o.delegate(this,Xe),pressHandler:o.delegate(this,Je),releaseHandler:o.delegate(this,dt),nonPrimaryPressHandler:o.delegate(this,mt),nonPrimaryReleaseHandler:o.delegate(this,ht),scrollHandler:o.delegate(this,Pt),pinchHandler:o.delegate(this,Rt)}),this.outerTracker=new o.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:o.delegate(this,qt),leaveHandler:o.delegate(this,Gt)}),this.toolbar&&(this.toolbar=new o.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=m(this.container),this.world=new o.World({viewer:this}),this.world.addHandler("add-item",function(Ge){De.source=De.world.getItemAt(0).source,a[De.hash].forceRedraw=!0,De._updateRequestId||(De._updateRequestId=x(De,Zt))}),this.world.addHandler("remove-item",function(Ge){De.world.getItemCount()?De.source=De.world.getItemAt(0).source:De.source=null,a[De.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Ge){De.viewport&&De.viewport._setContentBounds(De.world.getHomeBounds(),De.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Ge){De.source=De.world.getItemAt(0).source}),this.viewport=new o.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new o.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:B.timeout}),this.tileCache=new o.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new o.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=o.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Ze=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Ze,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Ze=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Ze,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new o.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Ze=0;Ze<this.customControls.length;Ze++)this.addControl(this.customControls[Ze].id,{anchor:this.customControls[Ze].anchor});o.requestAnimationFrame(function(){O(De)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),o._viewers.set(this.element,this)},o.extend(o.Viewer.prototype,o.EventSource.prototype,o.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(B){return o.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(B)},openTileSource:function(B){return o.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(B)},open:function(B,ce){var De=this;if(this.close(),!B)return this;if(this.sequenceMode&&o.isArray(B))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof ce<"u"&&!isNaN(ce)&&(this.initialPage=ce),this.tileSources=B,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(o.isArray(B)||(B=[B]),!B.length)return this;this._opening=!0;for(var Ze=B.length,Ge=0,Ct=0,ft,pn=function(){if(Ge+Ct===Ze)if(Ge){(De._firstOpen||!De.preserveViewport)&&(De.viewport.goHome(!0),De.viewport.update()),De._firstOpen=!1;var Xt=B[0];if(Xt.tileSource&&(Xt=Xt.tileSource),De.overlays&&!De.preserveOverlays)for(var jn=0;jn<De.overlays.length;jn++)De.currentOverlays[jn]=b(De,De.overlays[jn]);De._drawOverlays(),De._opening=!1,De.raiseEvent("open",{source:Xt})}else De._opening=!1,De.raiseEvent("open-failed",ft)},Dn=function(Xt){(!o.isPlainObject(Xt)||!Xt.tileSource)&&(Xt={tileSource:Xt}),Xt.index!==void 0&&(o.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Xt.index),Xt.collectionImmediately===void 0&&(Xt.collectionImmediately=!0);var jn=Xt.success;Xt.success=function(di){if(Ge++,Xt.tileSource.overlays)for(var Jr=0;Jr<Xt.tileSource.overlays.length;Jr++)De.addOverlay(Xt.tileSource.overlays[Jr]);jn&&jn(di),pn()};var un=Xt.error;Xt.error=function(di){Ct++,ft||(ft=di),un&&un(di),pn()},De.addTiledImage(Xt)},fn=0;fn<B.length;fn++)Dn(B[fn]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(a[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(o.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,o._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(B){return this.innerTracker.setTracking(B),this.outerTracker.setTracking(B),this.raiseEvent("mouse-enabled",{enabled:B}),this},areControlsEnabled:function(){var B=this.controls.length,ce;for(ce=0;ce<this.controls.length;ce++)B=B&&this.controls[ce].isVisible();return B},setControlsEnabled:function(B){return B?H(this):O(this),this.raiseEvent("controls-enabled",{enabled:B}),this},setDebugMode:function(B){for(var ce=0;ce<this.world.getItemCount();ce++)this.world.getItemAt(ce).debugMode=B;this.debugMode=B,this.forceRedraw()},isFullPage:function(){return a[this.hash].fullPage},setFullPage:function(B){var ce=document.body,De=ce.style,Ze=document.documentElement.style,Ge=this,Ct,ft;if(B===this.isFullPage())return this;var pn={fullPage:B,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",pn),pn.preventDefaultAction)return this;if(B){for(this.elementSize=o.getElementSize(this.element),this.pageScroll=o.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=De.margin,this.docMargin=Ze.margin,De.margin="0",Ze.margin="0",this.bodyPadding=De.padding,this.docPadding=Ze.padding,De.padding="0",Ze.padding="0",this.bodyWidth=De.width,this.docWidth=Ze.width,De.width="100%",Ze.width="100%",this.bodyHeight=De.height,this.docHeight=Ze.height,De.height="100%",Ze.height="100%",this.bodyDisplay=De.display,De.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,Ct=ce.childNodes.length,ft=0;ft<Ct;ft++)this.previousBody.push(ce.childNodes[0]),ce.removeChild(ce.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,ce.appendChild(this.toolbar.element),o.addClass(this.toolbar.element,"fullpage")),o.addClass(this.element,"fullpage"),ce.appendChild(this.element),this.element.style.height=o.getWindowSize().y+"px",this.element.style.width=o.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=o.getElementSize(this.element).y-o.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,o.delegate(this,qt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,De.margin=this.bodyMargin,Ze.margin=this.docMargin,De.padding=this.bodyPadding,Ze.padding=this.docPadding,De.width=this.bodyWidth,Ze.width=this.docWidth,De.height=this.bodyHeight,Ze.height=this.docHeight,De.display=this.bodyDisplay,ce.removeChild(this.element),Ct=this.previousBody.length,ft=0;ft<Ct;ft++)ce.appendChild(this.previousBody.shift());o.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(ce.removeChild(this.toolbar.element),o.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var Dn=0,fn=function(){o.setPageScroll(Ge.pageScroll);var Xt=o.getPageScroll();Dn++,Dn<10&&(Xt.x!==Ge.pageScroll.x||Xt.y!==Ge.pageScroll.y)&&o.requestAnimationFrame(fn)};o.requestAnimationFrame(fn),a[this.hash].fullPage=!1,o.delegate(this,Gt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:B}),this},setFullScreen:function(B){var ce=this;if(!o.supportsFullScreen)return this.setFullPage(B);if(o.isFullScreen()===B)return this;var De={fullScreen:B,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",De),De.preventDefaultAction)return this;if(B){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Ze=function(){var Ge=o.isFullScreen();Ge||(o.removeEvent(document,o.fullScreenEventName,Ze),o.removeEvent(document,o.fullScreenErrorEventName,Ze),ce.setFullPage(!1),ce.isFullPage()&&(ce.element.style.width=ce.fullPageStyleWidth,ce.element.style.height=ce.fullPageStyleHeight)),ce.navigator&&ce.viewport&&setTimeout(function(){ce.navigator.update(ce.viewport)}),ce.raiseEvent("full-screen",{fullScreen:Ge})};o.addEvent(document,o.fullScreenEventName,Ze),o.addEvent(document,o.fullScreenErrorEventName,Ze),o.requestFullScreen(document.body)}else o.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(B){return this.container.style.visibility=B?"":"hidden",this.raiseEvent("visible",{visible:B}),this},addTiledImage:function(B){o.console.assert(B,"[Viewer.addTiledImage] options is required"),o.console.assert(B.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),o.console.assert(!B.replace||B.index>-1&&B.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var ce=this;B.replace&&(B.replaceItem=ce.world.getItemAt(B.index)),this._hideMessage(),B.placeholderFillStyle===void 0&&(B.placeholderFillStyle=this.placeholderFillStyle),B.opacity===void 0&&(B.opacity=this.opacity),B.preload===void 0&&(B.preload=this.preload),B.compositeOperation===void 0&&(B.compositeOperation=this.compositeOperation),B.crossOriginPolicy===void 0&&(B.crossOriginPolicy=B.tileSource.crossOriginPolicy!==void 0?B.tileSource.crossOriginPolicy:this.crossOriginPolicy),B.ajaxWithCredentials===void 0&&(B.ajaxWithCredentials=this.ajaxWithCredentials),B.loadTilesWithAjax===void 0&&(B.loadTilesWithAjax=this.loadTilesWithAjax),B.ajaxHeaders===void 0||B.ajaxHeaders===null?B.ajaxHeaders=this.ajaxHeaders:o.isPlainObject(B.ajaxHeaders)&&o.isPlainObject(this.ajaxHeaders)&&(B.ajaxHeaders=o.extend({},this.ajaxHeaders,B.ajaxHeaders));var De={options:B};function Ze(ft){for(var pn=0;pn<ce._loadQueue.length;pn++)if(ce._loadQueue[pn]===De){ce._loadQueue.splice(pn,1);break}ce._loadQueue.length===0&&Ge(De),ce.raiseEvent("add-item-failed",ft),B.error&&B.error(ft)}function Ge(ft){ce.collectionMode&&(ce.world.arrange({immediately:ft.options.collectionImmediately,rows:ce.collectionRows,columns:ce.collectionColumns,layout:ce.collectionLayout,tileSize:ce.collectionTileSize,tileMargin:ce.collectionTileMargin}),ce.world.setAutoRefigureSizes(!0))}if(o.isArray(B.tileSource)){setTimeout(function(){Ze({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:B.tileSource,options:B})});return}this._loadQueue.push(De);function Ct(){for(var ft,pn,Dn;ce._loadQueue.length&&(ft=ce._loadQueue[0],!!ft.tileSource);){if(ce._loadQueue.splice(0,1),ft.options.replace){var fn=ce.world.getIndexOfItem(ft.options.replaceItem);fn!==-1&&(ft.options.index=fn),ce.world.removeItem(ft.options.replaceItem)}pn=new o.TiledImage({viewer:ce,source:ft.tileSource,viewport:ce.viewport,drawer:ce.drawer,tileCache:ce.tileCache,imageLoader:ce.imageLoader,x:ft.options.x,y:ft.options.y,width:ft.options.width,height:ft.options.height,fitBounds:ft.options.fitBounds,fitBoundsPlacement:ft.options.fitBoundsPlacement,clip:ft.options.clip,placeholderFillStyle:ft.options.placeholderFillStyle,opacity:ft.options.opacity,preload:ft.options.preload,degrees:ft.options.degrees,flipped:ft.options.flipped,compositeOperation:ft.options.compositeOperation,springStiffness:ce.springStiffness,animationTime:ce.animationTime,minZoomImageRatio:ce.minZoomImageRatio,wrapHorizontal:ce.wrapHorizontal,wrapVertical:ce.wrapVertical,immediateRender:ce.immediateRender,blendTime:ce.blendTime,alwaysBlend:ce.alwaysBlend,minPixelRatio:ce.minPixelRatio,smoothTileEdgesMinZoom:ce.smoothTileEdgesMinZoom,iOSDevice:ce.iOSDevice,crossOriginPolicy:ft.options.crossOriginPolicy,ajaxWithCredentials:ft.options.ajaxWithCredentials,loadTilesWithAjax:ft.options.loadTilesWithAjax,ajaxHeaders:ft.options.ajaxHeaders,debugMode:ce.debugMode}),ce.collectionMode&&ce.world.setAutoRefigureSizes(!1),ce.navigator&&(Dn=o.extend({},ft.options,{replace:!1,originalTiledImage:pn,tileSource:ft.tileSource}),ce.navigator.addTiledImage(Dn)),ce.world.addItem(pn,{index:ft.options.index}),ce._loadQueue.length===0&&Ge(ft),ce.world.getItemCount()===1&&!ce.preserveViewport&&ce.viewport.goHome(!0),ft.options.success&&ft.options.success({item:pn})}}v(this,B.tileSource,B,function(ft){De.tileSource=ft,Ct()},function(ft){ft.options=B,Ze(ft),Ct()})},addSimpleImage:function(B){o.console.assert(B,"[Viewer.addSimpleImage] options is required"),o.console.assert(B.url,"[Viewer.addSimpleImage] options.url is required");var ce=o.extend({},B,{tileSource:{type:"image",url:B.url}});delete ce.url,this.addTiledImage(ce)},addLayer:function(B){var ce=this;o.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var De=o.extend({},B,{success:function(Ze){ce.raiseEvent("add-layer",{options:B,drawer:Ze.item})},error:function(Ze){ce.raiseEvent("add-layer-failed",Ze)}});return this.addTiledImage(De),this},getLayerAtLevel:function(B){return o.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(B)},getLevelOfLayer:function(B){return o.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(B)},getLayersCount:function(){return o.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(B,ce){return o.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(B,ce)},removeLayer:function(B){return o.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(B)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var B=o.delegate(this,X),ce=o.delegate(this,ae),De=o.delegate(this,this.goToNextPage),Ze=o.delegate(this,this.goToPreviousPage),Ge=this.navImages,Ct=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Ct=!1),this.previousButton=new o.Button({element:this.previousButton?o.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.PreviousPage"),srcRest:pt(this.prefixUrl,Ge.previous.REST),srcGroup:pt(this.prefixUrl,Ge.previous.GROUP),srcHover:pt(this.prefixUrl,Ge.previous.HOVER),srcDown:pt(this.prefixUrl,Ge.previous.DOWN),onRelease:Ze,onFocus:B,onBlur:ce}),this.nextButton=new o.Button({element:this.nextButton?o.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.NextPage"),srcRest:pt(this.prefixUrl,Ge.next.REST),srcGroup:pt(this.prefixUrl,Ge.next.GROUP),srcHover:pt(this.prefixUrl,Ge.next.HOVER),srcDown:pt(this.prefixUrl,Ge.next.DOWN),onRelease:De,onFocus:B,onBlur:ce}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Ct&&(this.paging=new o.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:o.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||o.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var B=o.delegate(this,tn),ce=o.delegate(this,nt),De=o.delegate(this,ct),Ze=o.delegate(this,We),Ge=o.delegate(this,Mt),Ct=o.delegate(this,zn),ft=o.delegate(this,dn),pn=o.delegate(this,Ji),Dn=o.delegate(this,Oi),fn=o.delegate(this,Hi),Xt=o.delegate(this,X),jn=o.delegate(this,ae),un=this.navImages,di=[],Jr=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Jr=!1),this.showZoomControl&&(di.push(this.zoomInButton=new o.Button({element:this.zoomInButton?o.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomIn"),srcRest:pt(this.prefixUrl,un.zoomIn.REST),srcGroup:pt(this.prefixUrl,un.zoomIn.GROUP),srcHover:pt(this.prefixUrl,un.zoomIn.HOVER),srcDown:pt(this.prefixUrl,un.zoomIn.DOWN),onPress:B,onRelease:ce,onClick:De,onEnter:B,onExit:ce,onFocus:Xt,onBlur:jn})),di.push(this.zoomOutButton=new o.Button({element:this.zoomOutButton?o.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomOut"),srcRest:pt(this.prefixUrl,un.zoomOut.REST),srcGroup:pt(this.prefixUrl,un.zoomOut.GROUP),srcHover:pt(this.prefixUrl,un.zoomOut.HOVER),srcDown:pt(this.prefixUrl,un.zoomOut.DOWN),onPress:Ze,onRelease:ce,onClick:Ge,onEnter:Ze,onExit:ce,onFocus:Xt,onBlur:jn}))),this.showHomeControl&&di.push(this.homeButton=new o.Button({element:this.homeButton?o.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Home"),srcRest:pt(this.prefixUrl,un.home.REST),srcGroup:pt(this.prefixUrl,un.home.GROUP),srcHover:pt(this.prefixUrl,un.home.HOVER),srcDown:pt(this.prefixUrl,un.home.DOWN),onRelease:Ct,onFocus:Xt,onBlur:jn})),this.showFullPageControl&&di.push(this.fullPageButton=new o.Button({element:this.fullPageButton?o.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.FullPage"),srcRest:pt(this.prefixUrl,un.fullpage.REST),srcGroup:pt(this.prefixUrl,un.fullpage.GROUP),srcHover:pt(this.prefixUrl,un.fullpage.HOVER),srcDown:pt(this.prefixUrl,un.fullpage.DOWN),onRelease:ft,onFocus:Xt,onBlur:jn})),this.showRotationControl&&(di.push(this.rotateLeftButton=new o.Button({element:this.rotateLeftButton?o.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateLeft"),srcRest:pt(this.prefixUrl,un.rotateleft.REST),srcGroup:pt(this.prefixUrl,un.rotateleft.GROUP),srcHover:pt(this.prefixUrl,un.rotateleft.HOVER),srcDown:pt(this.prefixUrl,un.rotateleft.DOWN),onRelease:pn,onFocus:Xt,onBlur:jn})),di.push(this.rotateRightButton=new o.Button({element:this.rotateRightButton?o.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateRight"),srcRest:pt(this.prefixUrl,un.rotateright.REST),srcGroup:pt(this.prefixUrl,un.rotateright.GROUP),srcHover:pt(this.prefixUrl,un.rotateright.HOVER),srcDown:pt(this.prefixUrl,un.rotateright.DOWN),onRelease:Dn,onFocus:Xt,onBlur:jn}))),this.showFlipControl&&di.push(this.flipButton=new o.Button({element:this.flipButton?o.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Flip"),srcRest:pt(this.prefixUrl,un.flip.REST),srcGroup:pt(this.prefixUrl,un.flip.GROUP),srcHover:pt(this.prefixUrl,un.flip.HOVER),srcDown:pt(this.prefixUrl,un.flip.DOWN),onRelease:fn,onFocus:Xt,onBlur:jn})),Jr?(this.buttonGroup=new o.ButtonGroup({buttons:di,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",o.delegate(this,yn)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT})):this.customButtons=di),this},currentPage:function(){return this._sequenceIndex},goToPage:function(B){return this.tileSources&&B>=0&&B<this.tileSources.length&&(this._sequenceIndex=B,this._updateSequenceButtons(B),this.open(this.tileSources[B]),this.referenceStrip&&this.referenceStrip.setFocus(B),this.raiseEvent("page",{page:B})),this},addOverlay:function(B,ce,De,Ze){var Ge;if(o.isPlainObject(B)?Ge=B:Ge={element:B,location:ce,placement:De,onDraw:Ze},B=o.getElement(Ge.element),w(this.currentOverlays,B)>=0)return this;var Ct=b(this,Ge);return this.currentOverlays.push(Ct),Ct.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:B,location:Ge.location,placement:Ge.placement}),this},updateOverlay:function(B,ce,De){var Ze;return B=o.getElement(B),Ze=w(this.currentOverlays,B),Ze>=0&&(this.currentOverlays[Ze].update(ce,De),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:B,location:ce,placement:De})),this},removeOverlay:function(B){var ce;return B=o.getElement(B),ce=w(this.currentOverlays,B),ce>=0&&(this.currentOverlays[ce].destroy(),this.currentOverlays.splice(ce,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:B})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(B){var ce;return B=o.getElement(B),ce=w(this.currentOverlays,B),ce>=0?this.currentOverlays[ce]:null},_updateSequenceButtons:function(B){this.nextButton&&(!this.tileSources||this.tileSources.length-1===B?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(B>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(B){this._hideMessage();var ce=o.makeNeutralElement("div");ce.appendChild(document.createTextNode(B)),this.messageDiv=o.makeCenteredNode(ce),o.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var B=this.messageDiv;B&&(B.parentNode.removeChild(B),delete this.messageDiv)},gestureSettingsByDeviceType:function(B){switch(B){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var B,ce=this.currentOverlays.length;for(B=0;B<ce;B++)this.currentOverlays[B].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new o.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else o.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),o.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){o.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var B=o.pixelDensityRatio,ce=o.getCurrentPixelDensityRatio();B!==ce&&(o.pixelDensityRatio=ce,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var B=this._sequenceIndex-1;this.navPrevNextWrap&&B<0&&(B+=this.tileSources.length),this.goToPage(B)},goToNextPage:function(){var B=this._sequenceIndex+1;this.navPrevNextWrap&&B>=this.tileSources.length&&(B=0),this.goToPage(B)}});function m(B){return B=o.getElement(B),new o.Point(B.clientWidth===0?1:B.clientWidth,B.clientHeight===0?1:B.clientHeight)}function v(B,ce,De,Ze,Ge){var Ct=B;if(o.type(ce)==="string"){if(ce.match(/^\s*<.*>\s*$/))ce=o.parseXml(ce);else if(ce.match(/^\s*[{[].*[}\]]\s*$/))try{var ft=o.parseJSON(ce);ce=ft}catch{}}function pn(Dn,fn){Dn.ready?Ze(Dn):(Dn.addHandler("ready",function(){Ze(Dn)}),Dn.addHandler("open-failed",function(Xt){Ge({message:Xt.message,source:fn})}))}setTimeout(function(){if(o.type(ce)==="string")ce=new o.TileSource({url:ce,crossOriginPolicy:De.crossOriginPolicy!==void 0?De.crossOriginPolicy:B.crossOriginPolicy,ajaxWithCredentials:B.ajaxWithCredentials,ajaxHeaders:De.ajaxHeaders?De.ajaxHeaders:B.ajaxHeaders,useCanvas:B.useCanvas,success:function(jn){Ze(jn.tileSource)}}),ce.addHandler("open-failed",function(jn){Ge(jn)});else if(o.isPlainObject(ce)||ce.nodeType)if(ce.crossOriginPolicy===void 0&&(De.crossOriginPolicy!==void 0||B.crossOriginPolicy!==void 0)&&(ce.crossOriginPolicy=De.crossOriginPolicy!==void 0?De.crossOriginPolicy:B.crossOriginPolicy),ce.ajaxWithCredentials===void 0&&(ce.ajaxWithCredentials=B.ajaxWithCredentials),ce.useCanvas===void 0&&(ce.useCanvas=B.useCanvas),o.isFunction(ce.getTileUrl)){var Dn=new o.TileSource(ce);Dn.getTileUrl=ce.getTileUrl,Ze(Dn)}else{var fn=o.TileSource.determineType(Ct,ce);if(!fn){Ge({message:"Unable to load TileSource",source:ce});return}var Xt=fn.prototype.configure.apply(Ct,[ce]);pn(new fn(Xt),ce)}else pn(ce,ce)})}function b(B,ce){if(ce instanceof o.Overlay)return ce;var De=null;if(ce.element)De=o.getElement(ce.element);else{var Ze=ce.id?ce.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);De=o.getElement(ce.id),De||(De=document.createElement("a"),De.href="#/overlay/"+Ze),De.id=Ze,o.addClass(De,ce.className?ce.className:"openseadragon-overlay")}var Ge=ce.location,Ct=ce.width,ft=ce.height;if(!Ge){var pn=ce.x,Dn=ce.y;if(ce.px!==void 0){var fn=B.viewport.imageToViewportRectangle(new o.Rect(ce.px,ce.py,Ct||0,ft||0));pn=fn.x,Dn=fn.y,Ct=Ct!==void 0?fn.width:void 0,ft=ft!==void 0?fn.height:void 0}Ge=new o.Point(pn,Dn)}var Xt=ce.placement;return Xt&&o.type(Xt)==="string"&&(Xt=o.Placement[ce.placement.toUpperCase()]),new o.Overlay({element:De,location:Ge,placement:Xt,onDraw:ce.onDraw,checkResize:ce.checkResize,width:Ct,height:ft,rotationMode:ce.rotationMode})}function w(B,ce){var De;for(De=B.length-1;De>=0;De--)if(B[De].element===ce)return De;return-1}function x(B,ce){return o.requestAnimationFrame(function(){ce(B)})}function E(B){o.requestAnimationFrame(function(){A(B)})}function O(B){!B.autoHideControls||(B.controlsShouldFade=!0,B.controlsFadeBeginTime=o.now()+B.controlsFadeDelay,window.setTimeout(function(){E(B)},B.controlsFadeDelay))}function A(B){var ce,De,Ze,Ge;if(B.controlsShouldFade){for(ce=o.now(),De=ce-B.controlsFadeBeginTime,Ze=1-De/B.controlsFadeLength,Ze=Math.min(1,Ze),Ze=Math.max(0,Ze),Ge=B.controls.length-1;Ge>=0;Ge--)B.controls[Ge].autoFade&&B.controls[Ge].setOpacity(Ze);Ze>0&&E(B)}}function H(B){var ce;for(B.controlsShouldFade=!1,ce=B.controls.length-1;ce>=0;ce--)B.controls[ce].setOpacity(1)}function X(){H(this)}function ae(){O(this)}function ie(B){var ce={tracker:B.eventSource,position:B.position,originalEvent:B.originalEvent,preventDefault:B.preventDefault};this.raiseEvent("canvas-contextmenu",ce),B.preventDefault=ce.preventDefault}function de(B){var ce={originalEvent:B.originalEvent,preventDefaultAction:!1,preventVerticalPan:B.preventVerticalPan,preventHorizontalPan:B.preventHorizontalPan};if(this.raiseEvent("canvas-key",ce),!ce.preventDefaultAction&&!B.ctrl&&!B.alt&&!B.meta)switch(B.keyCode){case 38:ce.preventVerticalPan||(B.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 40:ce.preventVerticalPan||(B.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 37:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 39:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),B.preventDefault=!0;break;default:B.preventDefault=!1;break}else B.preventDefault=!1}function M(B){var ce={originalEvent:B.originalEvent,preventDefaultAction:!1,preventVerticalPan:B.preventVerticalPan,preventHorizontalPan:B.preventHorizontalPan};if(this.raiseEvent("canvas-key",ce),!ce.preventDefaultAction&&!B.ctrl&&!B.alt&&!B.meta)switch(B.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),B.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),B.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),B.preventDefault=!0;break;case 119:case 87:ce.preventVerticalPan||(B.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-40))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 115:case 83:ce.preventVerticalPan||(B.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,40))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 97:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-40,0))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 100:ce.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(40,0))),this.viewport.applyConstraints()),B.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),B.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),B.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),B.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:B.preventDefault=!1;break}else B.preventDefault=!1}function oe(B){var ce,De=document.activeElement===this.canvas;De||this.canvas.focus(),this.viewport.flipped&&(B.position.x=this.viewport.getContainerSize().x-B.position.x);var Ze={tracker:B.eventSource,position:B.position,quick:B.quick,shift:B.shift,originalEvent:B.originalEvent,originalTarget:B.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Ze),!Ze.preventDefaultAction&&this.viewport&&B.quick&&(ce=this.gestureSettingsByDeviceType(B.pointerType),ce.clickToZoom&&(this.viewport.zoomBy(B.shift?1/this.zoomPerClick:this.zoomPerClick,ce.zoomToRefPoint?this.viewport.pointFromPixel(B.position,!0):null),this.viewport.applyConstraints()))}function be(B){var ce,De={tracker:B.eventSource,position:B.position,shift:B.shift,originalEvent:B.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",De),!De.preventDefaultAction&&this.viewport&&(ce=this.gestureSettingsByDeviceType(B.pointerType),ce.dblClickToZoom&&(this.viewport.zoomBy(B.shift?1/this.zoomPerClick:this.zoomPerClick,ce.zoomToRefPoint?this.viewport.pointFromPixel(B.position,!0):null),this.viewport.applyConstraints()))}function ve(B){var ce,De={tracker:B.eventSource,pointerType:B.pointerType,position:B.position,delta:B.delta,speed:B.speed,direction:B.direction,shift:B.shift,originalEvent:B.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",De),ce=this.gestureSettingsByDeviceType(B.pointerType),ce.dragToPan&&!De.preventDefaultAction&&this.viewport){if(this.panHorizontal||(B.delta.x=0),this.panVertical||(B.delta.y=0),this.viewport.flipped&&(B.delta.x=-B.delta.x),this.constrainDuringPan){var Ze=this.viewport.deltaPointsFromPixels(B.delta.negate());this.viewport.centerSpringX.target.value+=Ze.x,this.viewport.centerSpringY.target.value+=Ze.y;var Ge=this.viewport.getBounds(),Ct=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Ze.x,this.viewport.centerSpringY.target.value-=Ze.y,Ge.x!==Ct.x&&(B.delta.x=0),Ge.y!==Ct.y&&(B.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(B.delta.negate()),ce.flickEnabled&&!this.constrainDuringPan)}}function ke(B){var ce={tracker:B.eventSource,pointerType:B.pointerType,position:B.position,speed:B.speed,direction:B.direction,shift:B.shift,originalEvent:B.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",ce),!ce.preventDefaultAction&&this.viewport){var De=this.gestureSettingsByDeviceType(B.pointerType);if(De.flickEnabled&&B.speed>=De.flickMinSpeed){var Ze=0;this.panHorizontal&&(Ze=De.flickMomentum*B.speed*Math.cos(B.direction));var Ge=0;this.panVertical&&(Ge=De.flickMomentum*B.speed*Math.sin(B.direction));var Ct=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ft=this.viewport.pointFromPixel(new o.Point(Ct.x-Ze,Ct.y-Ge));this.viewport.panTo(ft,!1)}this.viewport.applyConstraints()}}function Pe(B){this.raiseEvent("canvas-enter",{tracker:B.eventSource,pointerType:B.pointerType,position:B.position,buttons:B.buttons,pointers:B.pointers,insideElementPressed:B.insideElementPressed,buttonDownAny:B.buttonDownAny,originalEvent:B.originalEvent})}function Xe(B){this.raiseEvent("canvas-exit",{tracker:B.eventSource,pointerType:B.pointerType,position:B.position,buttons:B.buttons,pointers:B.pointers,insideElementPressed:B.insideElementPressed,buttonDownAny:B.buttonDownAny,originalEvent:B.originalEvent})}function Je(B){this.raiseEvent("canvas-press",{tracker:B.eventSource,pointerType:B.pointerType,position:B.position,insideElementPressed:B.insideElementPressed,insideElementReleased:B.insideElementReleased,originalEvent:B.originalEvent})}function dt(B){this.raiseEvent("canvas-release",{tracker:B.eventSource,pointerType:B.pointerType,position:B.position,insideElementPressed:B.insideElementPressed,insideElementReleased:B.insideElementReleased,originalEvent:B.originalEvent})}function mt(B){this.raiseEvent("canvas-nonprimary-press",{tracker:B.eventSource,position:B.position,pointerType:B.pointerType,button:B.button,buttons:B.buttons,originalEvent:B.originalEvent})}function ht(B){this.raiseEvent("canvas-nonprimary-release",{tracker:B.eventSource,position:B.position,pointerType:B.pointerType,button:B.button,buttons:B.buttons,originalEvent:B.originalEvent})}function Rt(B){var ce,De,Ze,Ge,Ct={tracker:B.eventSource,pointerType:B.pointerType,gesturePoints:B.gesturePoints,lastCenter:B.lastCenter,center:B.center,lastDistance:B.lastDistance,distance:B.distance,shift:B.shift,originalEvent:B.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",Ct),this.viewport&&(ce=this.gestureSettingsByDeviceType(B.pointerType),ce.pinchToZoom&&(!Ct.preventDefaultPanAction||!Ct.preventDefaultZoomAction)&&(De=this.viewport.pointFromPixel(B.center,!0),Ct.preventDefaultZoomAction||this.viewport.zoomBy(B.distance/B.lastDistance,De,!0),ce.zoomToRefPoint&&!Ct.preventDefaultPanAction&&(Ze=this.viewport.pointFromPixel(B.lastCenter,!0),Ge=Ze.minus(De),this.panHorizontal||(Ge.x=0),this.panVertical||(Ge.y=0),this.viewport.panBy(Ge,!0)),this.viewport.applyConstraints()),ce.pinchRotate&&!Ct.preventDefaultRotateAction)){var ft=Math.atan2(B.gesturePoints[0].currentPos.y-B.gesturePoints[1].currentPos.y,B.gesturePoints[0].currentPos.x-B.gesturePoints[1].currentPos.x),pn=Math.atan2(B.gesturePoints[0].lastPos.y-B.gesturePoints[1].lastPos.y,B.gesturePoints[0].lastPos.x-B.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(ft-pn)*(180/Math.PI))}}function Pt(B){var ce,De,Ze,Ge,Ct;Ge=o.now(),Ct=Ge-this._lastScrollTime,Ct>this.minScrollDeltaTime?(this._lastScrollTime=Ge,ce={tracker:B.eventSource,position:B.position,scroll:B.scroll,shift:B.shift,originalEvent:B.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",ce),!ce.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(B.position.x=this.viewport.getContainerSize().x-B.position.x),De=this.gestureSettingsByDeviceType(B.pointerType),De.scrollToZoom&&(Ze=Math.pow(this.zoomPerScroll,B.scroll),this.viewport.zoomBy(Ze,De.zoomToRefPoint?this.viewport.pointFromPixel(B.position,!0):null),this.viewport.applyConstraints())),B.preventDefault=ce.preventDefault):B.preventDefault=!0}function qt(B){a[this.hash].mouseInside=!0,H(this),this.raiseEvent("container-enter",{tracker:B.eventSource,pointerType:B.pointerType,position:B.position,buttons:B.buttons,pointers:B.pointers,insideElementPressed:B.insideElementPressed,buttonDownAny:B.buttonDownAny,originalEvent:B.originalEvent})}function Gt(B){B.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||O(this)),this.raiseEvent("container-exit",{tracker:B.eventSource,pointerType:B.pointerType,position:B.position,buttons:B.buttons,pointers:B.pointers,insideElementPressed:B.insideElementPressed,buttonDownAny:B.buttonDownAny,originalEvent:B.originalEvent})}function Zt(B){hn(B),B.isOpen()?B._updateRequestId=x(B,Zt):B._updateRequestId=!1}function hn(B){if(!(B._opening||!a[B.hash])){if(B.autoResize){var ce=m(B.container),De=a[B.hash].prevContainerSize;if(!ce.equals(De)){var Ze=B.viewport;if(B.preserveImageSizeOnResize){var Ge=De.x/ce.x,Ct=Ze.getZoom()*Ge,ft=Ze.getCenter();Ze.resize(ce,!1),Ze.zoomTo(Ct,null,!0),Ze.panTo(ft,!0)}else{var pn=Ze.getBounds();Ze.resize(ce,!0),Ze.fitBoundsWithConstraints(pn,!0)}a[B.hash].prevContainerSize=ce,a[B.hash].forceRedraw=!0}}var Dn=B.viewport.update(),fn=B.world.update()||Dn;Dn&&B.raiseEvent("viewport-change"),B.referenceStrip&&(fn=B.referenceStrip.update(B.viewport)||fn),!a[B.hash].animating&&fn&&(B.raiseEvent("animation-start"),H(B)),(fn||a[B.hash].forceRedraw||B.world.needsDraw())&&(Tn(B),B._drawOverlays(),B.navigator&&B.navigator.update(B.viewport),a[B.hash].forceRedraw=!1,fn&&B.raiseEvent("animation")),a[B.hash].animating&&!fn&&(B.raiseEvent("animation-finish"),a[B.hash].mouseInside||O(B)),a[B.hash].animating=fn}}function Tn(B){B.imageLoader.clear(),B.drawer.clear(),B.world.draw(),B.raiseEvent("update-viewport",{})}function pt(B,ce){return B?B+ce:ce}function tn(){a[this.hash].lastZoomTime=o.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,ot(this)}function We(){a[this.hash].lastZoomTime=o.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,ot(this)}function nt(){a[this.hash].zooming=!1}function ot(B){o.requestAnimationFrame(o.delegate(B,it))}function it(){var B,ce,De;a[this.hash].zooming&&this.viewport&&(B=o.now(),ce=B-a[this.hash].lastZoomTime,De=Math.pow(a[this.hash].zoomFactor,ce/1e3),this.viewport.zoomBy(De),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=B,ot(this))}function ct(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Mt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function yn(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function zn(){this.viewport&&this.viewport.goHome()}function dn(){this.isFullPage()&&!o.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Ji(){if(this.viewport){var B=this.viewport.getRotation();this.viewport.flipped?B=o.positiveModulo(B+this.rotationIncrement,360):B=o.positiveModulo(B-this.rotationIncrement,360),this.viewport.setRotation(B)}}function Oi(){if(this.viewport){var B=this.viewport.getRotation();this.viewport.flipped?B=o.positiveModulo(B-this.rotationIncrement,360):B=o.positiveModulo(B+this.rotationIncrement,360),this.viewport.setRotation(B)}}function Hi(){this.viewport.toggleFlip()}}(u),function(o){o.Navigator=function(x){var E=x.viewer,O=this,A,H;x.id?(this.element=document.getElementById(x.id),x.controlOptions={anchor:o.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(x.id="navigator-"+o.now(),this.element=o.makeNeutralElement("div"),x.controlOptions={anchor:o.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:x.autoFade},x.position&&(x.position==="BOTTOM_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_RIGHT:x.position==="BOTTOM_LEFT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_LEFT:x.position==="TOP_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.TOP_RIGHT:x.position==="TOP_LEFT"?x.controlOptions.anchor=o.ControlAnchor.TOP_LEFT:x.position==="ABSOLUTE"&&(x.controlOptions.anchor=o.ControlAnchor.ABSOLUTE,x.controlOptions.top=x.top,x.controlOptions.left=x.left,x.controlOptions.height=x.height,x.controlOptions.width=x.width))),this.element.id=x.id,this.element.className+=" navigator",x=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.navigatorSizeRatio},x,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:x.autoResize,minZoomImageRatio:1,background:x.background,opacity:x.opacity,borderColor:x.borderColor,displayRegionColor:x.displayRegionColor}),x.minPixelRatio=this.minPixelRatio=E.minPixelRatio,o.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new o.Point(1,1),this.totalBorderWidths=new o.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),x.controlOptions.anchor!==o.ControlAnchor.NONE&&function(ie,de){ie.margin="0px",ie.border=de+"px solid "+x.borderColor,ie.padding="0px",ie.background=x.background,ie.opacity=x.opacity,ie.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=o.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(ie,de){ie.position="relative",ie.top="0px",ie.left="0px",ie.fontSize="0px",ie.overflow="hidden",ie.border=de+"px solid "+x.displayRegionColor,ie.margin="0px",ie.padding="0px",ie.background="transparent",ie.float="left",ie.cssFloat="left",ie.styleFloat="left",ie.zIndex=999999999,ie.cursor="default"}(this.displayRegion.style,this.borderWidth),o.setElementPointerEventsNone(this.displayRegion),o.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=o.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",o.setElementPointerEventsNone(this.displayRegionContainer),o.setElementTouchActionNone(this.displayRegionContainer),E.addControl(this.element,x.controlOptions),this._resizeWithViewer=x.controlOptions.anchor!==o.ControlAnchor.ABSOLUTE&&x.controlOptions.anchor!==o.ControlAnchor.NONE,x.width&&x.height?(this.setWidth(x.width),this.setHeight(x.height)):this._resizeWithViewer&&(A=o.getElementSize(E.element),this.element.style.height=Math.round(A.y*x.sizeRatio)+"px",this.element.style.width=Math.round(A.x*x.sizeRatio)+"px",this.oldViewerSize=A,H=o.getElementSize(this.element),this.elementArea=H.x*H.y),this.oldContainerSize=new o.Point(0,0),o.Viewer.apply(this,[x]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function X(ie){b(O.displayRegionContainer,ie),b(O.displayRegion,-ie),O.viewport.setRotation(ie)}if(x.navigatorRotate){var ae=x.viewer.viewport?x.viewer.viewport.getRotation():x.viewer.degrees||0;X(ae),x.viewer.addHandler("rotate",function(ie){X(ie.degrees)})}this.innerTracker.destroy(),this.innerTracker=new o.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:o.delegate(this,c),clickHandler:o.delegate(this,a),releaseHandler:o.delegate(this,m),scrollHandler:o.delegate(this,v),preProcessEventHandler:function(ie){ie.eventType==="wheel"&&(ie.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",o.setElementPointerEventsNone(this.canvas),o.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){O.viewport&&O.viewport.goHome(!0)}),E.world.addHandler("item-index-change",function(ie){window.setTimeout(function(){var de=O.world.getItemAt(ie.previousIndex);O.world.setItemIndex(de,ie.newIndex)},1)}),E.world.addHandler("remove-item",function(ie){var de=ie.item,M=O._getMatchingItem(de);M&&O.world.removeItem(M)}),this.update(E.viewport)},o.extend(o.Navigator.prototype,o.EventSource.prototype,o.Viewer.prototype,{updateSize:function(){if(this.viewport){var x=new o.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);x.equals(this.oldContainerSize)||(this.viewport.resize(x,!0),this.viewport.goHome(!0),this.oldContainerSize=x,this.drawer.clear(),this.world.draw())}},setWidth:function(x){this.width=x,this.element.style.width=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setHeight:function(x){this.height=x,this.element.style.height=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setFlip:function(x){return this.viewport.setFlip(x),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(x){w(this.displayRegion,x),w(this.canvas,x),w(this.element,x)},update:function(x){var E,O,A,H,X,ae;if(E=o.getElementSize(this.viewer.element),this._resizeWithViewer&&E.x&&E.y&&!E.equals(this.oldViewerSize)&&(this.oldViewerSize=E,this.maintainSizeRatio||!this.elementArea?(O=E.x*this.sizeRatio,A=E.y*this.sizeRatio):(O=Math.sqrt(this.elementArea*(E.x/E.y)),A=this.elementArea/O),this.element.style.width=Math.round(O)+"px",this.element.style.height=Math.round(A)+"px",this.elementArea||(this.elementArea=O*A),this.updateSize()),x&&this.viewport){H=x.getBoundsNoRotate(!0),X=this.viewport.pixelFromPointNoRotate(H.getTopLeft(),!1),ae=this.viewport.pixelFromPointNoRotate(H.getBottomRight(),!1).minus(this.totalBorderWidths);var ie=this.displayRegion.style;ie.display=this.world.getItemCount()?"block":"none",ie.top=Math.round(X.y)+"px",ie.left=Math.round(X.x)+"px";var de=Math.abs(X.x-ae.x),M=Math.abs(X.y-ae.y);ie.width=Math.round(Math.max(de,0))+"px",ie.height=Math.round(Math.max(M,0))+"px"}},addTiledImage:function(x){var E=this,O=x.originalTiledImage;delete x.original;var A=o.extend({},x,{success:function(H){var X=H.item;X._originalForNavigator=O,E._matchBounds(X,O,!0),E._matchOpacity(X,O),E._matchCompositeOperation(X,O);function ae(){E._matchBounds(X,O)}function ie(){E._matchOpacity(X,O)}function de(){E._matchCompositeOperation(X,O)}O.addHandler("bounds-change",ae),O.addHandler("clip-change",ae),O.addHandler("opacity-change",ie),O.addHandler("composite-operation-change",de)}});return o.Viewer.prototype.addTiledImage.apply(this,[A])},destroy:function(){return o.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(x){for(var E=this.world.getItemCount(),O,A=0;A<E;A++)if(O=this.world.getItemAt(A),O._originalForNavigator===x)return O;return null},_matchBounds:function(x,E,O){var A=E.getBoundsNoRotate();x.setPosition(A.getTopLeft(),O),x.setWidth(A.width,O),x.setRotation(E.getRotation(),O),x.setClip(E.getClip()),x.setFlip(E.getFlip())},_matchOpacity:function(x,E){x.setOpacity(E.opacity)},_matchCompositeOperation:function(x,E){x.setCompositeOperation(E.compositeOperation)}});function a(x){var E={tracker:x.eventSource,position:x.position,quick:x.quick,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",E),!E.preventDefaultAction&&x.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(x.position.x=this.viewport.getContainerSize().x-x.position.x);var O=this.viewport.pointFromPixel(x.position);this.panVertical?this.panHorizontal||(O.x=this.viewer.viewport.getCenter(!0).x):O.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(O),this.viewer.viewport.applyConstraints()}}function c(x){var E={tracker:x.eventSource,position:x.position,delta:x.delta,speed:x.speed,direction:x.direction,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",E),!E.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(x.delta.x=0),this.panVertical||(x.delta.y=0),this.viewer.viewport.flipped&&(x.delta.x=-x.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(x.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function m(x){x.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function v(x){var E={tracker:x.eventSource,position:x.position,scroll:x.scroll,shift:x.shift,originalEvent:x.originalEvent,preventDefault:x.preventDefault};this.viewer.raiseEvent("navigator-scroll",E),x.preventDefault=E.preventDefault}function b(x,E){w(x,"rotate("+E+"deg)")}function w(x,E){x.style.webkitTransform=E,x.style.mozTransform=E,x.style.msTransform=E,x.style.oTransform=E,x.style.transform=E}}(u),function(o){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};o.extend(o,{getString:function(c){var m=c.split("."),v=null,b=arguments,w=a,x;for(x=0;x<m.length-1;x++)w=w[m[x]]||{};return v=w[m[x]],typeof v!="string"&&(o.console.log("Untranslated source string:",c),v=""),v.replace(/\{\d+\}/g,function(E){var O=parseInt(E.match(/\d+/),10)+1;return O<b.length?b[O]:""})},setString:function(c,m){var v=c.split("."),b=a,w;for(w=0;w<v.length-1;w++)b[v[w]]||(b[v[w]]={}),b=b[v[w]];b[v[w]]=m}})}(u),function(o){o.Point=function(a,c){this.x=typeof a=="number"?a:0,this.y=typeof c=="number"?c:0},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},plus:function(a){return new o.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new o.Point(this.x-a.x,this.y-a.y)},times:function(a){return new o.Point(this.x*a,this.y*a)},divide:function(a){return new o.Point(this.x/a,this.y/a)},negate:function(){return new o.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new o.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof o.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,c){c=c||new o.Point(0,0);var m,v;if(a%90===0){var b=o.positiveModulo(a,360);switch(b){case 0:m=1,v=0;break;case 90:m=0,v=1;break;case 180:m=-1,v=0;break;case 270:m=0,v=-1;break}}else{var w=a*Math.PI/180;m=Math.cos(w),v=Math.sin(w)}var x=m*(this.x-c.x)-v*(this.y-c.y)+c.x,E=v*(this.x-c.x)+m*(this.y-c.y)+c.y;return new o.Point(x,E)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(u),function(o){o.TileSource=function(c,m,v,b,w,x){var E=this,O=arguments,A,H;if(o.isPlainObject(c)?A=c:A={width:O[0],height:O[1],tileSize:O[2],tileOverlap:O[3],minLevel:O[4],maxLevel:O[5]},o.EventSource.call(this),o.extend(!0,this,A),!this.success){for(H=0;H<arguments.length;H++)if(o.isFunction(arguments[H])){this.success=arguments[H];break}}this.success&&this.addHandler("ready",function(X){E.success(X)}),o.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new o.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=A.width&&A.height?A.width/A.height:1,this.dimensions=new o.Point(A.width,A.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=A.tileOverlap?A.tileOverlap:0,this.minLevel=A.minLevel?A.minLevel:0,this.maxLevel=A.maxLevel!==void 0&&A.maxLevel!==null?A.maxLevel:A.width&&A.height?Math.ceil(Math.log(Math.max(A.width,A.height))/Math.log(2)):0,this.success&&o.isFunction(this.success)&&this.success(this))},o.TileSource.prototype={getTileSize:function(c){return o.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(c){return this._tileWidth?this._tileWidth:this.getTileSize(c)},getTileHeight:function(c){return this._tileHeight?this._tileHeight:this.getTileSize(c)},setMaxLevel:function(c){this.maxLevel=c,this._memoizeLevelScale()},getLevelScale:function(c){return this._memoizeLevelScale(),this.getLevelScale(c)},_memoizeLevelScale:function(){var c={},m;for(m=0;m<=this.maxLevel;m++)c[m]=1/Math.pow(2,this.maxLevel-m);this.getLevelScale=function(v){return c[v]}},getNumTiles:function(c){var m=this.getLevelScale(c),v=Math.ceil(m*this.dimensions.x/this.getTileWidth(c)),b=Math.ceil(m*this.dimensions.y/this.getTileHeight(c));return new o.Point(v,b)},getPixelRatio:function(c){var m=this.dimensions.times(this.getLevelScale(c)),v=1/m.x*o.pixelDensityRatio,b=1/m.y*o.pixelDensityRatio;return new o.Point(v,b)},getClosestLevel:function(){var c,m;for(c=this.minLevel+1;c<=this.maxLevel&&(m=this.getNumTiles(c),!(m.x>1||m.y>1));c++);return c-1},getTileAtPoint:function(c,m){var v=m.x>=0&&m.x<=1&&m.y>=0&&m.y<=1/this.aspectRatio;o.console.assert(v,"[TileSource.getTileAtPoint] must be called with a valid point.");var b=this.dimensions.x*this.getLevelScale(c),w=m.x*b,x=m.y*b,E=Math.floor(w/this.getTileWidth(c)),O=Math.floor(x/this.getTileHeight(c));m.x>=1&&(E=this.getNumTiles(c).x-1);var A=1e-15;return m.y>=1/this.aspectRatio-A&&(O=this.getNumTiles(c).y-1),new o.Point(E,O)},getTileBounds:function(c,m,v,b){var w=this.dimensions.times(this.getLevelScale(c)),x=this.getTileWidth(c),E=this.getTileHeight(c),O=m===0?0:x*m-this.tileOverlap,A=v===0?0:E*v-this.tileOverlap,H=x+(m===0?1:2)*this.tileOverlap,X=E+(v===0?1:2)*this.tileOverlap,ae=1/w.x;return H=Math.min(H,w.x-O),X=Math.min(X,w.y-A),b?new o.Rect(0,0,H,X):new o.Rect(O*ae,A*ae,H*ae,X*ae)},getImageInfo:function(c){var m=this,v,b,w,x,E,O,A;c&&(E=c.split("/"),O=E[E.length-1],A=O.lastIndexOf("."),A>-1&&(E[E.length-1]=O.slice(0,A))),b=function(H){typeof H=="string"&&(H=o.parseXml(H));var X=o.TileSource.determineType(m,H,c);if(!X){m.raiseEvent("open-failed",{message:"Unable to load TileSource",source:c});return}x=X.prototype.configure.apply(m,[H,c]),x.ajaxWithCredentials===void 0&&(x.ajaxWithCredentials=m.ajaxWithCredentials),w=new X(x),m.ready=!0,m.raiseEvent("ready",{tileSource:w})},c.match(/\.js$/)?(v=c.split("/").pop().replace(".js",""),o.jsonp({url:c,async:!1,callbackName:v,callback:b})):o.makeAjaxRequest({url:c,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(H){var X=a(H);b(X)},error:function(H,X){var ae;try{ae="HTTP "+H.status+" attempting to load TileSource"}catch{var ie;typeof X>"u"||!X.toString?ie="Unknown error":ie=X.toString(),ae=ie+" attempting to load TileSource"}m.raiseEvent("open-failed",{message:ae,source:c})}})},supports:function(c,m){return!1},configure:function(c,m){throw new Error("Method not implemented.")},getTileUrl:function(c,m,v){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(c,m,v){return{}},tileExists:function(c,m,v){var b=this.getNumTiles(c);return c>=this.minLevel&&c<=this.maxLevel&&m>=0&&v>=0&&m<b.x&&v<b.y}},o.extend(!0,o.TileSource.prototype,o.EventSource.prototype);function a(c){var m=c.responseText,v=c.status,b,w;if(c){if(c.status!==200&&c.status!==0)throw v=c.status,b=v===404?"Not Found":c.statusText,new Error(o.getString("Errors.Status",v,b))}else throw new Error(o.getString("Errors.Security"));if(m.match(/\s*<.*/))try{w=c.responseXML&&c.responseXML.documentElement?c.responseXML:o.parseXml(m)}catch{w=c.responseText}else if(m.match(/\s*[{[].*/))try{w=o.parseJSON(m)}catch{w=m}else w=m;return w}o.TileSource.determineType=function(c,m,v){var b;for(b in u)if(b.match(/.+TileSource$/)&&o.isFunction(u[b])&&o.isFunction(u[b].prototype.supports)&&u[b].prototype.supports.call(c,m,v))return u[b];return o.console.error("No TileSource was able to open %s %s",v,m),null}}(u),function(o){o.DziTileSource=function(m,v,b,w,x,E,O,A,H){var X,ae,ie,de;if(o.isPlainObject(m)?de=m:de={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=de.tilesUrl,this.fileFormat=de.fileFormat,this.displayRects=de.displayRects,this.displayRects)for(X=this.displayRects.length-1;X>=0;X--)for(ae=this.displayRects[X],ie=ae.minLevel;ie<=ae.maxLevel;ie++)this._levelRects[ie]||(this._levelRects[ie]=[]),this._levelRects[ie].push(ae);o.TileSource.apply(this,[de])},o.extend(o.DziTileSource.prototype,o.TileSource.prototype,{supports:function(m,v){var b;return m.Image?b=m.Image.xmlns:m.documentElement&&(m.documentElement.localName==="Image"||m.documentElement.tagName==="Image")&&(b=m.documentElement.namespaceURI),b=(b||"").toLowerCase(),b.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||b.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(m,v){var b;return o.isPlainObject(m)?b=c(this,m):b=a(this,m),v&&!b.tilesUrl&&(b.tilesUrl=v.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),v.search(/\.(dzi|xml|js)\?/)!==-1?b.queryParams=v.match(/\?.*/):b.queryParams=""),b},getTileUrl:function(m,v,b){return[this.tilesUrl,m,"/",v,"_",b,".",this.fileFormat,this.queryParams].join("")},tileExists:function(m,v,b){var w=this._levelRects[m],x,E,O,A,H,X,ae;if(this.minLevel&&m<this.minLevel||this.maxLevel&&m>this.maxLevel)return!1;if(!w||!w.length)return!0;for(ae=w.length-1;ae>=0;ae--)if(x=w[ae],!(m<x.minLevel||m>x.maxLevel)&&(E=this.getLevelScale(m),O=x.x*E,A=x.y*E,H=O+x.width*E,X=A+x.height*E,O=Math.floor(O/this._tileWidth),A=Math.floor(A/this._tileWidth),H=Math.ceil(H/this._tileWidth),X=Math.ceil(X/this._tileWidth),O<=v&&v<H&&A<=b&&b<X))return!0;return!1}});function a(m,v){if(!v||!v.documentElement)throw new Error(o.getString("Errors.Xml"));var b=v.documentElement,w=b.localName||b.tagName,x=v.documentElement.namespaceURI,E=null,O=[],A,H,X,ae,ie;if(w==="Image")try{if(ae=b.getElementsByTagName("Size")[0],ae===void 0&&(ae=b.getElementsByTagNameNS(x,"Size")[0]),E={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:b.getAttribute("Url"),Format:b.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(b.getAttribute("Overlap"),10),TileSize:parseInt(b.getAttribute("TileSize"),10),Size:{Height:parseInt(ae.getAttribute("Height"),10),Width:parseInt(ae.getAttribute("Width"),10)}}},!o.imageFormatSupported(E.Image.Format))throw new Error(o.getString("Errors.ImageFormat",E.Image.Format.toUpperCase()));for(A=b.getElementsByTagName("DisplayRect"),A===void 0&&(A=b.getElementsByTagNameNS(x,"DisplayRect")[0]),ie=0;ie<A.length;ie++)H=A[ie],X=H.getElementsByTagName("Rect")[0],X===void 0&&(X=H.getElementsByTagNameNS(x,"Rect")[0]),O.push({Rect:{X:parseInt(X.getAttribute("X"),10),Y:parseInt(X.getAttribute("Y"),10),Width:parseInt(X.getAttribute("Width"),10),Height:parseInt(X.getAttribute("Height"),10),MinLevel:parseInt(H.getAttribute("MinLevel"),10),MaxLevel:parseInt(H.getAttribute("MaxLevel"),10)}});return O.length&&(E.Image.DisplayRect=O),c(m,E)}catch(oe){throw oe instanceof Error?oe:new Error(o.getString("Errors.Dzi"))}else{if(w==="Collection")throw new Error(o.getString("Errors.Dzc"));if(w==="Error"){var de=b.getElementsByTagName("Message")[0],M=de.firstChild.nodeValue;throw new Error(M)}}throw new Error(o.getString("Errors.Dzi"))}function c(m,v){var b=v.Image,w=b.Url,x=b.Format,E=b.Size,O=b.DisplayRect||[],A=parseInt(E.Width,10),H=parseInt(E.Height,10),X=parseInt(b.TileSize,10),ae=parseInt(b.Overlap,10),ie=[],de,M;for(M=0;M<O.length;M++)de=O[M].Rect,ie.push(new o.DisplayRect(parseInt(de.X,10),parseInt(de.Y,10),parseInt(de.Width,10),parseInt(de.Height,10),parseInt(de.MinLevel,10),parseInt(de.MaxLevel,10)));return o.extend(!0,{width:A,height:H,tileSize:X,tileOverlap:ae,minLevel:null,maxLevel:null,tilesUrl:w,fileFormat:x,displayRects:ie},v)}}(u),function(o){o.IIIFTileSource=function(b){if(o.extend(!0,this,b),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(b.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=b.version,this.tile_width&&this.tile_height)b.tileWidth=this.tile_width,b.tileHeight=this.tile_height;else if(this.tile_width)b.tileSize=this.tile_width;else if(this.tile_height)b.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)b.tileWidth=this.tiles[0].width,b.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var w=0;w<this.tiles.length;w++)for(var x=0;x<this.tiles[w].scaleFactors.length;x++){var E=this.tiles[w].scaleFactors[x];this.scale_factors.push(E),b.tileSizePerScaleFactor[E]={width:this.tiles[w].width,height:this.tiles[w].height||this.tiles[w].width}}}else if(a(b)){for(var O=Math.min(this.height,this.width),A=[256,512,1024],H=[],X=0;X<A.length;X++)A[X]<=O&&H.push(A[X]);H.length>0?b.tileSize=Math.max.apply(null,H):b.tileSize=O}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,b.levels=c(this),o.extend(!0,b,{width:b.levels[b.levels.length-1].width,height:b.levels[b.levels.length-1].height,tileSize:Math.max(b.height,b.width),tileOverlap:0,minLevel:0,maxLevel:b.levels.length-1}),this.levels=b.levels):o.console.error("Nothing in the info.json to construct image pyramids from");if(!b.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)b.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var ae=Math.max.apply(null,this.scale_factors);b.maxLevel=Math.round(Math.log(ae)*Math.LOG2E)}o.TileSource.apply(this,[b])},o.extend(o.IIIFTileSource.prototype,o.TileSource.prototype,{supports:function(b,w){return b.protocol&&b.protocol==="http://iiif.io/api/image"||b["@context"]&&(b["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||b["@context"]==="http://iiif.io/api/image/1/context.json")||b.profile&&b.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||b.identifier&&b.width&&b.height?!0:!!(b.documentElement&&b.documentElement.tagName==="info"&&b.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(b,w){if(o.isPlainObject(b)){if(!b["@context"])b["@context"]="http://iiif.io/api/image/1.0/context.json",b["@id"]=w.replace("/info.json",""),b.version=1;else{var x=b["@context"];if(Array.isArray(x)){for(var E=0;E<x.length;E++)if(typeof x[E]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(x[E])||x[E]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){x=x[E];break}}switch(x){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":b.version=1;break;case"http://iiif.io/api/image/2/context.json":b.version=2;break;case"http://iiif.io/api/image/3/context.json":b.version=3;break;default:o.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!b["@id"]&&b.id&&(b["@id"]=b.id),b.preferredFormats){for(var O=0;O<b.preferredFormats.length;O++)if(u.imageFormatSupported(b.preferredFormats[O])){b.tileFormat=b.preferredFormats[O];break}}return b}else{var A=m(b);return A["@context"]="http://iiif.io/api/image/1.0/context.json",A["@id"]=w.replace("/info.xml",""),A.version=1,A}},getTileWidth:function(b){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileWidth.call(this,b);var w=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].width:this._tileWidth},getTileHeight:function(b){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileHeight.call(this,b);var w=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].height:this._tileHeight},getLevelScale:function(b){if(this.emulateLegacyImagePyramid){var w=NaN;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(w=this.levels[b].width/this.levels[this.maxLevel].width),w}return o.TileSource.prototype.getLevelScale.call(this,b)},getNumTiles:function(b){if(this.emulateLegacyImagePyramid){var w=this.getLevelScale(b);return w?new o.Point(1,1):new o.Point(0,0)}return o.TileSource.prototype.getNumTiles.call(this,b)},getTileAtPoint:function(b,w){return this.emulateLegacyImagePyramid?new o.Point(0,0):o.TileSource.prototype.getTileAtPoint.call(this,b,w)},getTileUrl:function(b,w,x){if(this.emulateLegacyImagePyramid){var E=null;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(E=this.levels[b].url),E}var O="0",A=Math.pow(.5,this.maxLevel-b),H=Math.ceil(this.width*A),X=Math.ceil(this.height*A),ae,ie,de,M,oe,be,ve,ke,Pe,Xe,Je,dt,mt,ht;return ae=this.getTileWidth(b),ie=this.getTileHeight(b),de=Math.ceil(ae/A),M=Math.ceil(ie/A),this.version===1?mt="native."+this.tileFormat:mt="default."+this.tileFormat,H<ae&&X<ie?(this.version===2&&H===this.width?Xe="full":this.version===3&&H===this.width&&X===this.height?Xe="max":this.version===3?Xe=H+","+X:Xe=H+",",oe="full"):(be=w*de,ve=x*M,ke=Math.min(de,this.width-be),Pe=Math.min(M,this.height-ve),w===0&&x===0&&ke===this.width&&Pe===this.height?oe="full":oe=[be,ve,ke,Pe].join(","),Je=Math.ceil(ke*A),dt=Math.ceil(Pe*A),this.version===2&&Je===this.width?Xe="full":this.version===3&&Je===this.width&&dt===this.height?Xe="max":this.version===3?Xe=Je+","+dt:Xe=Je+","),ht=[this["@id"],oe,Xe,O,mt].join("/"),ht},__testonly__:{canBeTiled:a,constructLevels:c}});function a(b){var w=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],x=Array.isArray(b.profile)?b.profile[0]:b.profile,E=w.indexOf(x)!==-1,O=!1;return b.version===2&&b.profile.length>1&&b.profile[1].supports&&(O=b.profile[1].supports.indexOf("sizeByW")!==-1),b.version===3&&b.extraFeatures&&(O=b.extraFeatures.indexOf("sizeByWh")!==-1),!E||O}function c(b){for(var w=[],x=0;x<b.sizes.length;x++)w.push({url:b["@id"]+"/full/"+b.sizes[x].width+","+(b.version===3?b.sizes[x].height:"")+"/0/default."+b.tileFormat,width:b.sizes[x].width,height:b.sizes[x].height});return w.sort(function(E,O){return E.width-O.width})}function m(b){if(!b||!b.documentElement)throw new Error(o.getString("Errors.Xml"));var w=b.documentElement,x=w.tagName,E=null;if(x==="info")try{return E={},v(w,E),E}catch(O){throw O instanceof Error?O:new Error(o.getString("Errors.IIIF"))}throw new Error(o.getString("Errors.IIIF"))}function v(b,w,x){var E,O;if(b.nodeType===3&&x)O=b.nodeValue.trim(),O.match(/^\d*$/)&&(O=Number(O)),w[x]?(o.isArray(w[x])||(w[x]=[w[x]]),w[x].push(O)):w[x]=O;else if(b.nodeType===1)for(E=0;E<b.childNodes.length;E++)v(b.childNodes[E],w,b.nodeName)}}(u),function(o){o.OsmTileSource=function(a,c,m,v,b){var w;o.isPlainObject(a)?w=a:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!w.width||!w.height)&&(w.width=65572864,w.height=65572864),w.tileSize||(w.tileSize=256,w.tileOverlap=0),w.tilesUrl||(w.tilesUrl="http://tile.openstreetmap.org/"),w.minLevel=8,o.TileSource.apply(this,[w])},o.extend(o.OsmTileSource.prototype,o.TileSource.prototype,{supports:function(a,c){return a.type&&a.type==="openstreetmaps"},configure:function(a,c){return a},getTileUrl:function(a,c,m){return this.tilesUrl+(a-8)+"/"+c+"/"+m+".png"}})}(u),function(o){o.TmsTileSource=function(a,c,m,v,b){var w;o.isPlainObject(a)?w=a:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var x=Math.ceil(w.width/256)*256,E=Math.ceil(w.height/256)*256,O;x>E?O=x/256:O=E/256,w.maxLevel=Math.ceil(Math.log(O)/Math.log(2))-1,w.tileSize=256,w.width=x,w.height=E,o.TileSource.apply(this,[w])},o.extend(o.TmsTileSource.prototype,o.TileSource.prototype,{supports:function(a,c){return a.type&&a.type==="tiledmapservice"},configure:function(a,c){return a},getTileUrl:function(a,c,m){var v=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+c+"/"+(v-m)+".png"}})}(u),function(o){o.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var c={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(c.x,10)>a.tileSize||parseInt(c.y,10)>a.tileSize;)c.x=Math.floor(c.x/2),c.y=Math.floor(c.y/2),a.imageSizes.push({x:c.x,y:c.y}),a.gridSize.push(this._getGridSize(c.x,c.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,u.TileSource.apply(this,[a])},o.extend(o.ZoomifyTileSource.prototype,o.TileSource.prototype,{_getGridSize:function(a,c,m){return{x:Math.ceil(a/m),y:Math.ceil(c/m)}},_calculateAbsoluteTileNumber:function(a,c,m){for(var v=0,b={},w=0;w<a;w++)b=this.gridSize[w],v+=b.x*b.y;return b=this.gridSize[a],v+=b.x*m+c,v},supports:function(a,c){return a.type&&a.type==="zoomifytileservice"},configure:function(a,c){return a},getTileUrl:function(a,c,m){var v=0,b=this._calculateAbsoluteTileNumber(a,c,m);return v=Math.floor(b/256),this.tilesUrl+"TileGroup"+v+"/"+a+"-"+c+"-"+m+"."+this.fileFormat}})}(u),function(o){o.LegacyTileSource=function(v){var b,w,x;o.isArray(v)&&(b={type:"legacy-image-pyramid",levels:v}),b.levels=a(b.levels),b.levels.length>0?(w=b.levels[b.levels.length-1].width,x=b.levels[b.levels.length-1].height):(w=0,x=0,o.console.error("No supported image formats found")),o.extend(!0,b,{width:w,height:x,tileSize:Math.max(x,w),tileOverlap:0,minLevel:0,maxLevel:b.levels.length>0?b.levels.length-1:0}),o.TileSource.apply(this,[b]),this.levels=b.levels},o.extend(o.LegacyTileSource.prototype,o.TileSource.prototype,{supports:function(v,b){return v.type&&v.type==="legacy-image-pyramid"||v.documentElement&&v.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(v,b){var w;return o.isPlainObject(v)?w=m(this,v):w=c(this,v),w},getLevelScale:function(v){var b=NaN;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(b=this.levels[v].width/this.levels[this.maxLevel].width),b},getNumTiles:function(v){var b=this.getLevelScale(v);return b?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(v,b,w){var x=null;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(x=this.levels[v].url),x}});function a(v){var b=[],w,x;for(x=0;x<v.length;x++)w=v[x],w.height&&w.width&&w.url?b.push({url:w.url,width:Number(w.width),height:Number(w.height)}):o.console.error("Unsupported image format: %s",w.url?w.url:"<no URL>");return b.sort(function(E,O){return E.height-O.height})}function c(v,b){if(!b||!b.documentElement)throw new Error(o.getString("Errors.Xml"));var w=b.documentElement,x=w.tagName,E=null,O=[],A,H;if(x==="image")try{for(E={type:w.getAttribute("type"),levels:[]},O=w.getElementsByTagName("level"),H=0;H<O.length;H++)A=O[H],E.levels.push({url:A.getAttribute("url"),width:parseInt(A.getAttribute("width"),10),height:parseInt(A.getAttribute("height"),10)});return m(v,E)}catch(X){throw X instanceof Error?X:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(x==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(x==="error")throw new Error("Error: "+b)}throw new Error("Unknown element "+x)}function m(v,b){return b.levels}}(u),function(o){o.ImageTileSource=function(a){a=o.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},a),o.TileSource.apply(this,[a])},o.extend(o.ImageTileSource.prototype,o.TileSource.prototype,{supports:function(a,c){return a.type&&a.type==="image"},configure:function(a,c){return a},getImageInfo:function(a){var c=this._image=new Image,m=this;this.crossOriginPolicy&&(c.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(c.useCredentials=this.ajaxWithCredentials),o.addEvent(c,"load",function(){m.width=c.naturalWidth,m.height=c.naturalHeight,m.aspectRatio=m.width/m.height,m.dimensions=new o.Point(m.width,m.height),m._tileWidth=m.width,m._tileHeight=m.height,m.tileOverlap=0,m.minLevel=0,m.levels=m._buildLevels(),m.maxLevel=m.levels.length-1,m.ready=!0,m.raiseEvent("ready",{tileSource:m})}),o.addEvent(c,"error",function(){m.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),c.src=a},getLevelScale:function(a){var c=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(c=this.levels[a].width/this.levels[this.maxLevel].width),c},getNumTiles:function(a){var c=this.getLevelScale(a);return c?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(a,c,m){var v=null;return a>=this.minLevel&&a<=this.maxLevel&&(v=this.levels[a].url),v},getContext2D:function(a,c,m){var v=null;return a>=this.minLevel&&a<=this.maxLevel&&(v=this.levels[a].context2D),v},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!o.supportsCanvas||!this.useCanvas)return delete this._image,a;var c=this._image.naturalWidth,m=this._image.naturalHeight,v=document.createElement("canvas"),b=v.getContext("2d");if(v.width=c,v.height=m,b.drawImage(this._image,0,0,c,m),a[0].context2D=b,delete this._image,o.isCanvasTainted(v))return a;for(;c>=2&&m>=2;){c=Math.floor(c/2),m=Math.floor(m/2);var w=document.createElement("canvas"),x=w.getContext("2d");w.width=c,w.height=m,x.drawImage(v,0,0,c,m),a.splice(0,0,{context2D:x,width:c,height:m}),v=w,b=x}return a},_freeupCanvasMemory:function(){for(var a=0;a<this.levels.length;a++)this.levels[a].context2D.canvas.height=0,this.levels[a].context2D.canvas.width=0}})}(u),function(o){o.TileSourceCollection=function(a,c,m,v){o.console.error("TileSourceCollection is deprecated; use World instead")}}(u),function(o){o.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},o.Button=function(x){var E=this;o.EventSource.call(this),o.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},x),this.element=x.element||o.makeNeutralElement("div"),x.element||(this.imgRest=o.makeTransparentImage(this.srcRest),this.imgGroup=o.makeTransparentImage(this.srcGroup),this.imgHover=o.makeTransparentImage(this.srcHover),this.imgDown=o.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,o.setElementPointerEventsNone(this.imgRest),o.setElementPointerEventsNone(this.imgGroup),o.setElementPointerEventsNone(this.imgHover),o.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",o.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",o.Browser.vendor===o.BROWSERS.FIREFOX&&o.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=o.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new o.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(O){O.insideElementPressed?(b(E,o.ButtonState.DOWN),E.raiseEvent("enter",{originalEvent:O.originalEvent})):O.buttonDownAny||b(E,o.ButtonState.HOVER)},focusHandler:function(O){E.tracker.enterHandler(O),E.raiseEvent("focus",{originalEvent:O.originalEvent})},leaveHandler:function(O){w(E,o.ButtonState.GROUP),O.insideElementPressed&&E.raiseEvent("exit",{originalEvent:O.originalEvent})},blurHandler:function(O){E.tracker.leaveHandler(O),E.raiseEvent("blur",{originalEvent:O.originalEvent})},pressHandler:function(O){b(E,o.ButtonState.DOWN),E.raiseEvent("press",{originalEvent:O.originalEvent})},releaseHandler:function(O){O.insideElementPressed&&O.insideElementReleased?(w(E,o.ButtonState.HOVER),E.raiseEvent("release",{originalEvent:O.originalEvent})):O.insideElementPressed?w(E,o.ButtonState.GROUP):b(E,o.ButtonState.HOVER)},clickHandler:function(O){O.quick&&E.raiseEvent("click",{originalEvent:O.originalEvent})},keyHandler:function(O){O.keyCode===13?(E.raiseEvent("click",{originalEvent:O.originalEvent}),E.raiseEvent("release",{originalEvent:O.originalEvent}),O.preventDefault=!0):O.preventDefault=!1}}),w(this,o.ButtonState.REST)},o.extend(o.Button.prototype,o.EventSource.prototype,{notifyGroupEnter:function(){b(this,o.ButtonState.GROUP)},notifyGroupExit:function(){w(this,o.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,o.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,o.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(x){o.requestAnimationFrame(function(){c(x)})}function c(x){var E,O,A;x.shouldFade&&(E=o.now(),O=E-x.fadeBeginTime,A=1-O/x.fadeLength,A=Math.min(1,A),A=Math.max(0,A),x.imgGroup&&o.setElementOpacity(x.imgGroup,A,!0),A>0&&a(x))}function m(x){x.shouldFade=!0,x.fadeBeginTime=o.now()+x.fadeDelay,window.setTimeout(function(){a(x)},x.fadeDelay)}function v(x){x.shouldFade=!1,x.imgGroup&&o.setElementOpacity(x.imgGroup,1,!0)}function b(x,E){x.element.disabled||(E>=o.ButtonState.GROUP&&x.currentState===o.ButtonState.REST&&(v(x),x.currentState=o.ButtonState.GROUP),E>=o.ButtonState.HOVER&&x.currentState===o.ButtonState.GROUP&&(x.imgHover&&(x.imgHover.style.visibility=""),x.currentState=o.ButtonState.HOVER),E>=o.ButtonState.DOWN&&x.currentState===o.ButtonState.HOVER&&(x.imgDown&&(x.imgDown.style.visibility=""),x.currentState=o.ButtonState.DOWN))}function w(x,E){x.element.disabled||(E<=o.ButtonState.HOVER&&x.currentState===o.ButtonState.DOWN&&(x.imgDown&&(x.imgDown.style.visibility="hidden"),x.currentState=o.ButtonState.HOVER),E<=o.ButtonState.GROUP&&x.currentState===o.ButtonState.HOVER&&(x.imgHover&&(x.imgHover.style.visibility="hidden"),x.currentState=o.ButtonState.GROUP),E<=o.ButtonState.REST&&x.currentState===o.ButtonState.GROUP&&(m(x),x.currentState=o.ButtonState.REST))}}(u),function(o){o.ButtonGroup=function(a){o.extend(!0,this,{buttons:[],clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var c=this.buttons.concat([]),m=this,v;if(this.element=a.element||o.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",v=0;v<c.length;v++)this.element.appendChild(c[v].element);o.setElementTouchActionNone(this.element),this.tracker=new o.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(b){var w;for(w=0;w<m.buttons.length;w++)m.buttons[w].notifyGroupEnter()},leaveHandler:function(b){var w;if(!b.insideElementPressed)for(w=0;w<m.buttons.length;w++)m.buttons[w].notifyGroupExit()}})},o.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(u),function(o){o.Rect=function(a,c,m,v,b){this.x=typeof a=="number"?a:0,this.y=typeof c=="number"?c:0,this.width=typeof m=="number"?m:0,this.height=typeof v=="number"?v:0,this.degrees=typeof b=="number"?b:0,this.degrees=o.positiveModulo(this.degrees,360);var w,x;this.degrees>=270?(w=this.getTopRight(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=270):this.degrees>=180?(w=this.getBottomRight(),this.x=w.x,this.y=w.y,this.degrees-=180):this.degrees>=90&&(w=this.getBottomLeft(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=90)},o.Rect.fromSummits=function(a,c,m){var v=a.distanceTo(c),b=a.distanceTo(m),w=c.minus(a),x=Math.atan(w.y/w.x);return w.x<0?x+=Math.PI:w.y<0&&(x+=2*Math.PI),new o.Rect(a.x,a.y,v,b,x/Math.PI*180)},o.Rect.prototype={clone:function(){return new o.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new o.Point(this.x,this.y)},getBottomRight:function(){return new o.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new o.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new o.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new o.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new o.Point(this.width,this.height)},equals:function(a){return a instanceof o.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new o.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new o.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var c=this.getBoundingBox(),m=a.getBoundingBox(),v=Math.min(c.x,m.x),b=Math.min(c.y,m.y),w=Math.max(c.x+c.width,m.x+m.width),x=Math.max(c.y+c.height,m.y+m.height);return new o.Rect(v,b,w-v,x-b)},intersection:function(a){var c=1e-10,m=[],v=this.getTopLeft();a.containsPoint(v,c)&&m.push(v);var b=this.getTopRight();a.containsPoint(b,c)&&m.push(b);var w=this.getBottomLeft();a.containsPoint(w,c)&&m.push(w);var x=this.getBottomRight();a.containsPoint(x,c)&&m.push(x);var E=a.getTopLeft();this.containsPoint(E,c)&&m.push(E);var O=a.getTopRight();this.containsPoint(O,c)&&m.push(O);var A=a.getBottomLeft();this.containsPoint(A,c)&&m.push(A);var H=a.getBottomRight();this.containsPoint(H,c)&&m.push(H);for(var X=this._getSegments(),ae=a._getSegments(),ie=0;ie<X.length;ie++)for(var de=X[ie],M=0;M<ae.length;M++){var oe=ae[M],be=ve(de[0],de[1],oe[0],oe[1]);be&&m.push(be)}function ve(ht,Rt,Pt,qt){var Gt=Rt.minus(ht),Zt=qt.minus(Pt),hn=-Zt.x*Gt.y+Gt.x*Zt.y;if(hn===0)return null;var Tn=(Gt.x*(ht.y-Pt.y)-Gt.y*(ht.x-Pt.x))/hn,pt=(Zt.x*(ht.y-Pt.y)-Zt.y*(ht.x-Pt.x))/hn;return-1e-10<=Tn&&Tn<=1-c&&-1e-10<=pt&&pt<=1-c?new o.Point(ht.x+pt*Gt.x,ht.y+pt*Gt.y):null}if(m.length===0)return null;for(var ke=m[0].x,Pe=m[0].x,Xe=m[0].y,Je=m[0].y,dt=1;dt<m.length;dt++){var mt=m[dt];mt.x<ke&&(ke=mt.x),mt.x>Pe&&(Pe=mt.x),mt.y<Xe&&(Xe=mt.y),mt.y>Je&&(Je=mt.y)}return new o.Rect(ke,Xe,Pe-ke,Je-Xe)},_getSegments:function(){var a=this.getTopLeft(),c=this.getTopRight(),m=this.getBottomLeft(),v=this.getBottomRight();return[[a,c],[c,v],[v,m],[m,a]]},rotate:function(a,c){if(a=o.positiveModulo(a,360),a===0)return this.clone();c=c||this.getCenter();var m=this.getTopLeft().rotate(a,c),v=this.getTopRight().rotate(a,c),b=v.minus(m);b=b.apply(function(x){var E=1e-15;return Math.abs(x)<E?0:x});var w=Math.atan(b.y/b.x);return b.x<0?w+=Math.PI:b.y<0&&(w+=2*Math.PI),new o.Rect(m.x,m.y,this.width,this.height,w/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),c=this.getTopRight(),m=this.getBottomLeft(),v=this.getBottomRight(),b=Math.min(a.x,c.x,m.x,v.x),w=Math.max(a.x,c.x,m.x,v.x),x=Math.min(a.y,c.y,m.y,v.y),E=Math.max(a.y,c.y,m.y,v.y);return new o.Rect(b,x,w-b,E-x)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),c=Math.floor(a.x),m=Math.floor(a.y),v=Math.ceil(a.width+a.x-c),b=Math.ceil(a.height+a.y-m);return new o.Rect(c,m,v,b)},containsPoint:function(a,c){c=c||0;var m=this.getTopLeft(),v=this.getTopRight(),b=this.getBottomLeft(),w=v.minus(m),x=b.minus(m);return(a.x-m.x)*w.x+(a.y-m.y)*w.y>=-c&&(a.x-v.x)*w.x+(a.y-v.y)*w.y<=c&&(a.x-m.x)*x.x+(a.y-m.y)*x.y>=-c&&(a.x-b.x)*x.x+(a.y-b.y)*x.y<=c},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(u),function(o){var a={};o.ReferenceStrip=function(A){var H=this,X=A.viewer,ae=o.getElementSize(X.element),ie,de,M;for(A.id||(A.id="referencestrip-"+o.now(),this.element=o.makeNeutralElement("div"),this.element.id=A.id,this.element.className="referencestrip"),A=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.referenceStripSizeRatio,position:o.DEFAULT_SETTINGS.referenceStripPosition,scroll:o.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold},A,{element:this.element}),o.extend(this,A),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,de=this.element.style,de.marginTop="0px",de.marginRight="0px",de.marginBottom="0px",de.marginLeft="0px",de.left="0px",de.bottom="0px",de.border="0px",de.background="#000",de.position="relative",o.setElementTouchActionNone(this.element),o.setElementOpacity(this.element,.8),this.viewer=X,this.tracker=new o.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:o.delegate(this,c),dragHandler:o.delegate(this,m),scrollHandler:o.delegate(this,v),enterHandler:o.delegate(this,w),leaveHandler:o.delegate(this,x),keyDownHandler:o.delegate(this,E),keyHandler:o.delegate(this,O),preProcessEventHandler:function(oe){oe.eventType==="wheel"&&(oe.preventDefault=!0)}}),A.width&&A.height?(this.element.style.width=A.width+"px",this.element.style.height=A.height+"px",X.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):A.scroll==="horizontal"?(this.element.style.width=ae.x*A.sizeRatio*X.tileSources.length+12*X.tileSources.length+"px",this.element.style.height=ae.y*A.sizeRatio+"px",X.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=ae.y*A.sizeRatio*X.tileSources.length+12*X.tileSources.length+"px",this.element.style.width=ae.x*A.sizeRatio+"px",X.addControl(this.element,{anchor:o.ControlAnchor.TOP_LEFT})),this.panelWidth=ae.x*this.sizeRatio+8,this.panelHeight=ae.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},M=0;M<X.tileSources.length;M++)ie=o.makeNeutralElement("div"),ie.id=this.element.id+"-"+M,ie.style.width=H.panelWidth+"px",ie.style.height=H.panelHeight+"px",ie.style.display="inline",ie.style.float="left",ie.style.cssFloat="left",ie.style.styleFloat="left",ie.style.padding="2px",o.setElementTouchActionNone(ie),o.setElementPointerEventsNone(ie),this.element.appendChild(ie),ie.activePanel=!1,this.panels.push(ie);b(this,this.scroll==="vertical"?ae.y:ae.x,0),this.setFocus(0)},o.ReferenceStrip.prototype={setFocus:function(A){var H=this.element.querySelector("#"+this.element.id+"-"+A),X=o.getElementSize(this.viewer.canvas),ae=Number(this.element.style.width.replace("px","")),ie=Number(this.element.style.height.replace("px","")),de=-Number(this.element.style.marginLeft.replace("px","")),M=-Number(this.element.style.marginTop.replace("px","")),oe;this.currentSelected!==H&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=H,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(oe=Number(A)*(this.panelWidth+3),oe>de+X.x-this.panelWidth?(oe=Math.min(oe,ae-X.x),this.element.style.marginLeft=-oe+"px",b(this,X.x,-oe)):oe<de&&(oe=Math.max(0,oe-X.x/2),this.element.style.marginLeft=-oe+"px",b(this,X.x,-oe))):(oe=Number(A)*(this.panelHeight+3),oe>M+X.y-this.panelHeight?(oe=Math.min(oe,ie-X.y),this.element.style.marginTop=-oe+"px",b(this,X.y,-oe)):oe<M&&(oe=Math.max(0,oe-X.y/2),this.element.style.marginTop=-oe+"px",b(this,X.y,-oe))),this.currentPage=A,w.call(this,{eventSource:this.tracker}))},update:function(){return a[this.id].animating?(o.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var A in this.miniViewers)this.miniViewers[A].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function c(A){if(A.quick){var H;this.scroll==="horizontal"?H=Math.floor(A.position.x/this.panelWidth):H=Math.floor(A.position.y/this.panelHeight),this.viewer.goToPage(H)}this.element.focus()}function m(A){if(this.dragging=!0,this.element){var H=Number(this.element.style.marginLeft.replace("px","")),X=Number(this.element.style.marginTop.replace("px","")),ae=Number(this.element.style.width.replace("px","")),ie=Number(this.element.style.height.replace("px","")),de=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-A.delta.x>0?H>-(ae-de.x)&&(this.element.style.marginLeft=H+A.delta.x*2+"px",b(this,de.x,H+A.delta.x*2)):-A.delta.x<0&&H<0&&(this.element.style.marginLeft=H+A.delta.x*2+"px",b(this,de.x,H+A.delta.x*2)):-A.delta.y>0?X>-(ie-de.y)&&(this.element.style.marginTop=X+A.delta.y*2+"px",b(this,de.y,X+A.delta.y*2)):-A.delta.y<0&&X<0&&(this.element.style.marginTop=X+A.delta.y*2+"px",b(this,de.y,X+A.delta.y*2))}}function v(A){if(this.element){var H=Number(this.element.style.marginLeft.replace("px","")),X=Number(this.element.style.marginTop.replace("px","")),ae=Number(this.element.style.width.replace("px","")),ie=Number(this.element.style.height.replace("px","")),de=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?A.scroll>0?H>-(ae-de.x)&&(this.element.style.marginLeft=H-A.scroll*60+"px",b(this,de.x,H-A.scroll*60)):A.scroll<0&&H<0&&(this.element.style.marginLeft=H-A.scroll*60+"px",b(this,de.x,H-A.scroll*60)):A.scroll<0?X>de.y-ie&&(this.element.style.marginTop=X+A.scroll*60+"px",b(this,de.y,X+A.scroll*60)):A.scroll>0&&X<0&&(this.element.style.marginTop=X+A.scroll*60+"px",b(this,de.y,X+A.scroll*60)),A.preventDefault=!0}}function b(A,H,X){var ae,ie,de,M,oe,be;for(A.scroll==="horizontal"?ae=A.panelWidth:ae=A.panelHeight,ie=Math.ceil(H/ae)+5,de=Math.ceil((Math.abs(X)+H)/ae)+1,ie=de-ie,ie=ie<0?0:ie,oe=ie;oe<de&&oe<A.panels.length;oe++)if(be=A.panels[oe],!be.activePanel){var ve,ke=A.viewer.tileSources[oe];ke.referenceStripThumbnailUrl?ve={type:"image",url:ke.referenceStripThumbnailUrl}:ve=ke,M=new o.Viewer({id:be.id,tileSources:[ve],element:be,navigatorSizeRatio:A.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:A.viewer.loadTilesWithAjax,ajaxHeaders:A.viewer.ajaxHeaders,useCanvas:A.useCanvas}),o.setElementPointerEventsNone(M.canvas),o.setElementPointerEventsNone(M.container),M.innerTracker.setTracking(!1),M.outerTracker.setTracking(!1),A.miniViewers[be.id]=M,be.activePanel=!0}}function w(A){var H=A.eventSource.element;this.scroll==="horizontal"?H.style.marginBottom="0px":H.style.marginLeft="0px"}function x(A){var H=A.eventSource.element;this.scroll==="horizontal"?H.style.marginBottom="-"+o.getElementSize(H).y/2+"px":H.style.marginLeft="-"+o.getElementSize(H).x/2+"px"}function E(A){if(!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 38:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 40:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 37:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 39:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function O(A){if(!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 61:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 45:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 48:case 119:case 87:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 115:case 83:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 97:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 100:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}}(u),function(o){o.DisplayRect=function(a,c,m,v,b,w){o.Rect.apply(this,[a,c,m,v]),this.minLevel=b,this.maxLevel=w},o.extend(o.DisplayRect.prototype,o.Rect.prototype)}(u),function(o){o.Spring=function(c){var m=arguments;typeof c!="object"&&(c={initial:m.length&&typeof m[0]=="number"?m[0]:void 0,springStiffness:m.length>1?m[1].springStiffness:5,animationTime:m.length>1?m[1].animationTime:1.5}),o.console.assert(typeof c.springStiffness=="number"&&c.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),o.console.assert(typeof c.animationTime=="number"&&c.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),c.exponential&&(this._exponential=!0,delete c.exponential),o.extend(!0,this,c),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:o.now()},o.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},o.Spring.prototype={resetTo:function(c){o.console.assert(!this._exponential||c!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=c,this.start.time=this.target.time=this.current.time=o.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(c){o.console.assert(!this._exponential||c!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=c,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(c){this.start.value+=c,this.target.value+=c,this._exponential&&(o.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(c){this._exponential=c,this._exponential&&(o.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=o.now();var c,m;this._exponential?(c=this.start._logValue,m=this.target._logValue):(c=this.start.value,m=this.target.value);var v=this.current.time>=this.target.time?m:c+(m-c)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),b=this.current.value;return this._exponential?this.current.value=Math.exp(v):this.current.value=v,b!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(c,m){return(1-Math.exp(c*-m))/(1-Math.exp(-c))}}(u),function(o){function a(m){o.extend(!0,this,{timeout:o.DEFAULT_SETTINGS.timeout,jobId:null},m),this.image=null}a.prototype={errorMsg:null,start:function(){var m=this,v=this.abort;this.image=new Image,this.image.onload=function(){m.finish(!0)},this.image.onabort=this.image.onerror=function(){m.errorMsg="Image load aborted",m.finish(!1)},this.jobId=window.setTimeout(function(){m.errorMsg="Image load exceeded timeout ("+m.timeout+" ms)",m.finish(!1)},this.timeout),this.loadWithAjax?(this.request=o.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(b){var w;try{w=new window.Blob([b.response])}catch(A){var x=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(A.name==="TypeError"&&x){var E=new x;E.append(b.response),w=E.getBlob()}}w.size===0&&(m.errorMsg="Empty image response.",m.finish(!1));var O=(window.URL||window.webkitURL).createObjectURL(w);m.image.src=O},error:function(b){m.errorMsg="Image load aborted - XHR error",m.finish(!1)}}),this.abort=function(){m.request.abort(),typeof v=="function"&&v()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(m){this.image.onload=this.image.onerror=this.image.onabort=null,m||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},o.ImageLoader=function(m){o.extend(!0,this,{jobLimit:o.DEFAULT_SETTINGS.imageLoaderLimit,timeout:o.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},m)},o.ImageLoader.prototype={addJob:function(m){var v=this,b=function(E){c(v,E,m.callback)},w={src:m.src,loadWithAjax:m.loadWithAjax,ajaxHeaders:m.loadWithAjax?m.ajaxHeaders:null,crossOriginPolicy:m.crossOriginPolicy,ajaxWithCredentials:m.ajaxWithCredentials,callback:b,abort:m.abort,timeout:this.timeout},x=new a(w);!this.jobLimit||this.jobsInProgress<this.jobLimit?(x.start(),this.jobsInProgress++):this.jobQueue.push(x)},clear:function(){for(var m=0;m<this.jobQueue.length;m++){var v=this.jobQueue[m];typeof v.abort=="function"&&v.abort()}this.jobQueue=[]}};function c(m,v,b){var w;m.jobsInProgress--,(!m.jobLimit||m.jobsInProgress<m.jobLimit)&&m.jobQueue.length>0&&(w=m.jobQueue.shift(),w.start(),m.jobsInProgress++),b(v.image,v.errorMsg,v.request)}}(u),function(o){o.Tile=function(a,c,m,v,b,w,x,E,O,A){this.level=a,this.x=c,this.y=m,this.bounds=v,this.sourceBounds=A,this.exists=b,this.url=w,this.context2D=x,this.loadWithAjax=E,this.ajaxHeaders=O,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},o.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(a){if(!this.cacheImageRecord){o.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=o.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==a&&a.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),o.setElementOpacity(this.element,this.opacity)},drawCanvas:function(a,c,m,v){var b=this.position.times(o.pixelDensityRatio),w=this.size.times(o.pixelDensityRatio),x;if(!this.context2D&&!this.cacheImageRecord){o.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(x=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!x){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}a.save(),a.globalAlpha=this.opacity,typeof m=="number"&&m!==1&&(b=b.times(m),w=w.times(m)),v instanceof o.Point&&(b=b.plus(v)),a.globalAlpha===1&&this._hasTransparencyChannel()&&a.clearRect(b.x,b.y,w.x,w.y),c({context:a,tile:this,rendered:x});var E,O;this.sourceBounds?(E=Math.min(this.sourceBounds.width,x.canvas.width),O=Math.min(this.sourceBounds.height,x.canvas.height)):(E=x.canvas.width,O=x.canvas.height),a.translate(b.x+w.x/2,0),this.flipped&&a.scale(-1,1),a.drawImage(x.canvas,0,0,E,O,-w.x/2,b.y,w.x,w.y),a.restore()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return o.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*o.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,c,m){var v=Math.max(1,Math.ceil((m.x-c.x)/2)),b=Math.max(1,Math.ceil((m.y-c.y)/2));return new o.Point(v,b).minus(this.position.times(o.pixelDensityRatio).times(a||1).apply(function(w){return w%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(u),function(o){o.OverlayPlacement=o.Placement,o.OverlayRotationMode=o.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),o.Overlay=function(a,c,m){var v;o.isPlainObject(a)?v=a:v={element:a,location:c,placement:m},this.element=v.element,this.style=v.element.style,this._init(v)},o.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?o.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||o.OverlayRotationMode.EXACT,this.location instanceof o.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=o.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new o.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,c){var m=o.Placement.properties[this.placement];!m||(m.isHorizontallyCentered?a.x-=c.x/2:m.isRight&&(a.x-=c.x),m.isVerticallyCentered?a.y-=c.y/2:m.isBottom&&(a.y-=c.y))},destroy:function(){var a=this.element,c=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(c.display="none",document.body.appendChild(a))),this.onDraw=null,c.top="",c.left="",c.position="",this.width!==null&&(c.width=""),this.height!==null&&(c.height="");var m=o.getCssPropertyWithVendorPrefix("transformOrigin"),v=o.getCssPropertyWithVendorPrefix("transform");m&&v&&(c[m]="",c[v]="")},drawHTML:function(a,c){var m=this.element;m.parentNode!==a&&(m.prevElementParent=m.parentNode,m.prevNextSibling=m.nextSibling,a.appendChild(m),this.style.position="absolute",this.size=o.getElementSize(m));var v=this._getOverlayPositionAndSize(c),b=v.position,w=this.size=v.size,x=v.rotate;if(this.onDraw)this.onDraw(b,w,this.element);else{var E=this.style;E.left=b.x+"px",E.top=b.y+"px",this.width!==null&&(E.width=w.x+"px"),this.height!==null&&(E.height=w.y+"px");var O=o.getCssPropertyWithVendorPrefix("transformOrigin"),A=o.getCssPropertyWithVendorPrefix("transform");O&&A&&(x?(E[O]=this._getTransformOrigin(),E[A]="rotate("+x+"deg)"):(E[O]="",E[A]="")),E.display="block"}},_getOverlayPositionAndSize:function(a){var c=a.pixelFromPoint(this.location,!0),m=this._getSizeInPixels(a);this.adjust(c,m);var v=0;if(a.degrees&&this.rotationMode!==o.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var b=new o.Rect(c.x,c.y,m.x,m.y),w=this._getBoundingBox(b,a.degrees);c=w.getTopLeft(),m=w.getSize()}else v=a.degrees;return{position:c,size:m,rotate:v}},_getSizeInPixels:function(a){var c=this.size.x,m=this.size.y;if(this.width!==null||this.height!==null){var v=a.deltaPixelsFromPointsNoRotate(new o.Point(this.width||0,this.height||0),!0);this.width!==null&&(c=v.x),this.height!==null&&(m=v.y)}if(this.checkResize&&(this.width===null||this.height===null)){var b=this.size=o.getElementSize(this.element);this.width===null&&(c=b.x),this.height===null&&(m=b.y)}return new o.Point(c,m)},_getBoundingBox:function(a,c){var m=this._getPlacementPoint(a);return a.rotate(c,m).getBoundingBox()},_getPlacementPoint:function(a){var c=new o.Point(a.x,a.y),m=o.Placement.properties[this.placement];return m&&(m.isHorizontallyCentered?c.x+=a.width/2:m.isRight&&(c.x+=a.width),m.isVerticallyCentered?c.y+=a.height/2:m.isBottom&&(c.y+=a.height)),c},_getTransformOrigin:function(){var a="",c=o.Placement.properties[this.placement];return c&&(c.isLeft?a="left":c.isRight&&(a="right"),c.isTop?a+=" top":c.isBottom&&(a+=" bottom")),a},update:function(a,c){var m=o.isPlainObject(a)?a:{location:a,placement:c};this._init({location:m.location||this.location,placement:m.placement!==void 0?m.placement:this.placement,onDraw:m.onDraw||this.onDraw,checkResize:m.checkResize||this.checkResize,width:m.width!==void 0?m.width:this.width,height:m.height!==void 0?m.height:this.height,rotationMode:m.rotationMode||this.rotationMode})},getBounds:function(a){o.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var c=this.width,m=this.height;if(c===null||m===null){var v=a.deltaPointsFromPixelsNoRotate(this.size,!0);c===null&&(c=v.x),m===null&&(m=v.y)}var b=this.location.clone();return this.adjust(b,new o.Point(c,m)),this._adjustBoundsForRotation(a,new o.Rect(b.x,b.y,c,m))},_adjustBoundsForRotation:function(a,c){if(!a||a.degrees===0||this.rotationMode===o.OverlayRotationMode.EXACT)return c;if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return c;var m=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new o.Rect(m.position.x,m.position.y,m.size.x,m.size.y))}return c.rotate(-a.degrees,this._getPlacementPoint(c))}}}(u),function(o){o.Drawer=function(a){o.console.assert(a.viewer,"[Drawer] options.viewer is required");var c=arguments;if(o.isPlainObject(a)||(a={source:c[0],viewport:c[1],element:c[2]}),o.console.assert(a.viewport,"[Drawer] options.viewport is required"),o.console.assert(a.element,"[Drawer] options.element is required"),a.source&&o.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=a.viewer,this.viewport=a.viewport,this.debugGridColor=typeof a.debugGridColor=="string"?[a.debugGridColor]:a.debugGridColor||o.DEFAULT_SETTINGS.debugGridColor,a.opacity&&o.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=o.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=o.getElement(a.element),this.canvas=o.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var m=this._calculateCanvasSize();this.canvas.width=m.x,this.canvas.height=m.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",o.setElementOpacity(this.canvas,this.opacity,!0),o.setElementPointerEventsNone(this.canvas),o.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},o.Drawer.prototype={addOverlay:function(a,c,m,v){return o.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(a,c,m,v),this},updateOverlay:function(a,c,m){return o.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(a,c,m),this},removeOverlay:function(a){return o.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(a),this},clearOverlays:function(){return o.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(a){var c=this.viewport.pixelFromPointNoRotate(a,!0);return new o.Point(c.x*o.pixelDensityRatio,c.y*o.pixelDensityRatio)},clipWithPolygons:function(a,c){if(this.useCanvas){var m=this._getContext(c);m.beginPath(),a.forEach(function(v){v.forEach(function(b,w){m[w===0?"moveTo":"lineTo"](b.x,b.y)})}),m.clip()}},setOpacity:function(a){o.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var c=this.viewer.world,m=0;m<c.getItemCount();m++)c.getItemAt(m).setOpacity(a);return this},getOpacity:function(){o.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var a=this.viewer.world,c=0,m=0;m<a.getItemCount();m++){var v=a.getItemAt(m).getOpacity();v>c&&(c=v)}return c},needsUpdate:function(){return o.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return o.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return o.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return o.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var a=this._calculateCanvasSize();if((this.canvas.width!==a.x||this.canvas.height!==a.y)&&(this.canvas.width=a.x,this.canvas.height=a.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var c=this._calculateSketchCanvasSize();this.sketchCanvas.width=c.x,this.sketchCanvas.height=c.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(a,c){if(this.useCanvas){var m=this._getContext(a);if(c)m.clearRect(c.x,c.y,c.width,c.height);else{var v=m.canvas;m.clearRect(0,0,v.width,v.height)}}},viewportToDrawerRectangle:function(a){var c=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!0),m=this.viewport.deltaPixelsFromPointsNoRotate(a.getSize(),!0);return new o.Rect(c.x*o.pixelDensityRatio,c.y*o.pixelDensityRatio,m.x*o.pixelDensityRatio,m.y*o.pixelDensityRatio)},drawTile:function(a,c,m,v,b){if(o.console.assert(a,"[Drawer.drawTile] tile is required"),o.console.assert(c,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var w=this._getContext(m);v=v||1,a.drawCanvas(w,c,v,b)}else a.drawHTML(this.canvas)},_getContext:function(a){var c=this.context;if(a){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var m=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=m.x,this.sketchCanvas.height=m.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var v=this;this.viewer.addHandler("rotate",function b(){if(v.viewport.getRotation()!==0){v.viewer.removeHandler("rotate",b);var w=v._calculateSketchCanvasSize();v.sketchCanvas.width=w.x,v.sketchCanvas.height=w.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}c=this.sketchContext}return c},saveContext:function(a){!this.useCanvas||this._getContext(a).save()},restoreContext:function(a){!this.useCanvas||this._getContext(a).restore()},setClip:function(a,c){if(this.useCanvas){var m=this._getContext(c);m.beginPath(),m.rect(a.x,a.y,a.width,a.height),m.clip()}},drawRectangle:function(a,c,m){if(this.useCanvas){var v=this._getContext(m);v.save(),v.fillStyle=c,v.fillRect(a.x,a.y,a.width,a.height),v.restore()}},blendSketch:function(a,c,m,v){var b=a;if(o.isPlainObject(b)||(b={opacity:a,scale:c,translate:m,compositeOperation:v}),!(!this.useCanvas||!this.sketchCanvas)){a=b.opacity,v=b.compositeOperation;var w=b.bounds;if(this.context.save(),this.context.globalAlpha=a,v&&(this.context.globalCompositeOperation=v),w)w.x<0&&(w.width+=w.x,w.x=0),w.x+w.width>this.canvas.width&&(w.width=this.canvas.width-w.x),w.y<0&&(w.height+=w.y,w.y=0),w.y+w.height>this.canvas.height&&(w.height=this.canvas.height-w.y),this.context.drawImage(this.sketchCanvas,w.x,w.y,w.width,w.height,w.x,w.y,w.width,w.height);else{c=b.scale||1,m=b.translate;var x=m instanceof o.Point?m:new o.Point(0,0),E=0,O=0;if(m){var A=this.sketchCanvas.width-this.canvas.width,H=this.sketchCanvas.height-this.canvas.height;E=Math.round(A/2),O=Math.round(H/2)}this.context.drawImage(this.sketchCanvas,x.x-E*c,x.y-O*c,(this.canvas.width+2*E)*c,(this.canvas.height+2*O)*c,-E,-O,this.canvas.width+2*E,this.canvas.height+2*O)}this.context.restore()}},drawDebugInfo:function(a,c,m,v){if(this.useCanvas){var b=this.viewer.world.getIndexOfItem(v)%this.debugGridColor.length,w=this.context;w.save(),w.lineWidth=2*o.pixelDensityRatio,w.font="small-caps bold "+13*o.pixelDensityRatio+"px arial",w.strokeStyle=this.debugGridColor[b],w.fillStyle=this.debugGridColor[b],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),v.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:v.getRotation(!0),point:v.viewport.pixelFromPointNoRotate(v._getRotationPoint(!0),!0)}),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.strokeRect(a.position.x*o.pixelDensityRatio,a.position.y*o.pixelDensityRatio,a.size.x*o.pixelDensityRatio,a.size.y*o.pixelDensityRatio);var x=(a.position.x+a.size.x/2)*o.pixelDensityRatio,E=(a.position.y+a.size.y/2)*o.pixelDensityRatio;w.translate(x,E),w.rotate(Math.PI/180*-this.viewport.degrees),w.translate(-x,-E),a.x===0&&a.y===0&&(w.fillText("Zoom: "+this.viewport.getZoom(),a.position.x*o.pixelDensityRatio,(a.position.y-30)*o.pixelDensityRatio),w.fillText("Pan: "+this.viewport.getBounds().toString(),a.position.x*o.pixelDensityRatio,(a.position.y-20)*o.pixelDensityRatio)),w.fillText("Level: "+a.level,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+20)*o.pixelDensityRatio),w.fillText("Column: "+a.x,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+30)*o.pixelDensityRatio),w.fillText("Row: "+a.y,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+40)*o.pixelDensityRatio),w.fillText("Order: "+m+" of "+c,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+50)*o.pixelDensityRatio),w.fillText("Size: "+a.size.toString(),(a.position.x+10)*o.pixelDensityRatio,(a.position.y+60)*o.pixelDensityRatio),w.fillText("Position: "+a.position.toString(),(a.position.x+10)*o.pixelDensityRatio,(a.position.y+70)*o.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),v.getRotation(!0)%360!==0&&this._restoreRotationChanges(),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.restore()}},debugRect:function(a){if(this.useCanvas){var c=this.context;c.save(),c.lineWidth=2*o.pixelDensityRatio,c.strokeStyle=this.debugGridColor[0],c.fillStyle=this.debugGridColor[0],c.strokeRect(a.x*o.pixelDensityRatio,a.y*o.pixelDensityRatio,a.width*o.pixelDensityRatio,a.height*o.pixelDensityRatio),c.restore()}},setImageSmoothingEnabled:function(a){this.useCanvas&&(this._imageSmoothingEnabled=a,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(a){a.msImageSmoothingEnabled=this._imageSmoothingEnabled,a.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(a){var c=this._getContext(a).canvas;return new o.Point(c.width,c.height)},getCanvasCenter:function(){return new o.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(a){var c=a.point?a.point.times(o.pixelDensityRatio):this.getCanvasCenter(),m=this._getContext(a.useSketch);m.save(),m.translate(c.x,c.y),this.viewer.viewport.flipped?(m.rotate(Math.PI/180*-a.degrees),m.scale(-1,1)):m.rotate(Math.PI/180*a.degrees),m.translate(-c.x,-c.y)},_flip:function(a){a=a||{};var c=a.point?a.point.times(o.pixelDensityRatio):this.getCanvasCenter(),m=this._getContext(a.useSketch);m.translate(c.x,0),m.scale(-1,1),m.translate(-c.x,0)},_restoreRotationChanges:function(a){var c=this._getContext(a);c.restore()},_calculateCanvasSize:function(){var a=o.pixelDensityRatio,c=this.viewport.getContainerSize();return{x:Math.round(c.x*a),y:Math.round(c.y*a)}},_calculateSketchCanvasSize:function(){var a=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return a;var c=Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y));return{x:c,y:c}}}}(u),function(o){o.Viewport=function(a){var c=arguments;c.length&&c[0]instanceof o.Point&&(a={containerSize:c[0],contentSize:c[1],config:c[2]}),a.config&&(o.extend(!0,a,a.config),delete a.config),this._margins=o.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,o.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:o.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:o.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:o.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:o.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:o.DEFAULT_SETTINGS.maxZoomLevel,degrees:o.DEFAULT_SETTINGS.degrees,flipped:o.DEFAULT_SETTINGS.flipped,homeFillsViewer:o.DEFAULT_SETTINGS.homeFillsViewer},a),this._updateContainerInnerSize(),this.centerSpringX=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new o.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new o.Rect(0,0,1,1),1),this.goHome(!0),this.update()},o.Viewport.prototype={resetContentSize:function(a){return o.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),o.console.assert(a instanceof o.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),o.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),o.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new o.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,c){o.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,c)},_setContentBounds:function(a,c){o.console.assert(a,"[Viewport._setContentBounds] bounds is required"),o.console.assert(a instanceof o.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),o.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),o.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(c),this._contentBounds=a.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(c),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:c,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),c;return this.homeFillsViewer?c=a>=1?a:1:c=a>=1?1:a,c/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),c=1/this.getHomeZoom(),m=c/this.getAspectRatio();return new o.Rect(a.x-c/2,a.y-m/2,c,m)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),c=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return c},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new o.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return o.extend({},this._margins)},setMargins:function(a){o.console.assert(o.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=o.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation())},getBoundsNoRotate:function(a){var c=this.getCenter(a),m=1/this.getZoom(a),v=m/this.getAspectRatio();return new o.Rect(c.x-m/2,c.y-v/2,m,v)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var c=this.getBoundsNoRotate(a),m=this._containerInnerSize.x*this.getZoom(a);return c.x-=this._margins.left/m,c.y-=this._margins.top/m,c.width+=(this._margins.left+this._margins.right)/m,c.height+=(this._margins.top+this._margins.bottom)/m,c},getCenter:function(a){var c=new o.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),m=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),v,b,w,x,E,O,A,H;return a?c:this.zoomPoint?(v=this.pixelFromPoint(this.zoomPoint,!0),b=this.getZoom(),w=1/b,x=w/this.getAspectRatio(),E=new o.Rect(c.x-w/2,c.y-x/2,w,x),O=this._pixelFromPoint(this.zoomPoint,E),A=O.minus(v),H=A.divide(this._containerInnerSize.x*b),m.plus(H)):m},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var c=new o.Rect(a.x,a.y,a.width,a.height);if(!this.wrapHorizontal){var m=this.visibilityRatio*c.width,v=c.x+c.width,b=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,w=this._contentBoundsNoRotate.x-v+m,x=b-c.x-m;m>this._contentBoundsNoRotate.width?c.x+=(w+x)/2:x<0?c.x+=x:w>0&&(c.x+=w)}if(!this.wrapVertical){var E=this.visibilityRatio*c.height,O=c.y+c.height,A=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,H=this._contentBoundsNoRotate.y-O+E,X=A-c.y-E;E>this._contentBoundsNoRotate.height?c.y+=(H+X)/2:X<0?c.y+=X:H>0&&(c.y+=H)}return c},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var c=this.getZoom(),m=this._applyZoomConstraints(c);c!==m&&this.zoomTo(m,this.zoomPoint,a);var v=this.getBoundsNoRotate(),b=this._applyBoundaryConstraints(v);return this._raiseConstraintsEvent(a),(v.x!==b.x||v.y!==b.y||a)&&this.fitBounds(b.rotate(-this.getRotation()),a),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,c){c=c||{};var m=c.immediately||!1,v=c.constraints||!1,b=this.getAspectRatio(),w=a.getCenter(),x=new o.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();x.getAspectRatio()>=b?x.height=x.width/b:x.width=x.height*b,x.x=w.x-x.width/2,x.y=w.y-x.height/2;var E=1/x.width;if(v){var O=x.getAspectRatio(),A=this._applyZoomConstraints(E);E!==A&&(E=A,x.width=1/E,x.x=w.x-x.width/2,x.height=x.width/O,x.y=w.y-x.height/2),x=this._applyBoundaryConstraints(x),w=x.getCenter(),this._raiseConstraintsEvent(m)}if(m)return this.panTo(w,!0),this.zoomTo(E,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var H=this.getBounds(),X=this.getZoom();if(X===0||Math.abs(E/X-1)<1e-8)return this.zoomTo(E,!0),this.panTo(w,m);x=x.rotate(-this.getRotation());var ae=x.getTopLeft().times(E).minus(H.getTopLeft().times(X)).divide(E-X);return this.zoomTo(E,ae,m)},fitBounds:function(a,c){return this._fitBounds(a,{immediately:c,constraints:!1})},fitBoundsWithConstraints:function(a,c){return this._fitBounds(a,{immediately:c,constraints:!0})},fitVertically:function(a){var c=new o.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(c,a)},fitHorizontally:function(a){var c=new o.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(c,a)},getConstrainedBounds:function(a){var c,m;return c=this.getBounds(a),m=this._applyBoundaryConstraints(c),m},panBy:function(a,c){var m=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(m.plus(a),c)},panTo:function(a,c){return c?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:c}),this},zoomBy:function(a,c,m){return this.zoomTo(this.zoomSpring.target.value*a,c,m)},zoomTo:function(a,c,m){var v=this;return this.zoomPoint=c instanceof o.Point&&!isNaN(c.x)&&!isNaN(c.y)?c:null,m?this._adjustCenterSpringsForZoomPoint(function(){v.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:c,immediately:m}),this},setRotation:function(a){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=o.positiveModulo(a,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a}),this)},getRotation:function(){return this.degrees},resize:function(a,c){var m=this.getBoundsNoRotate(),v=m,b;return this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),c&&(b=a.x/this.containerSize.x,v.width=m.width*b,v.height=v.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:c}),this.fitBounds(v,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new o.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var c=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,c},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var c=this.pixelFromPoint(this.zoomPoint,!0);a();var m=this.pixelFromPoint(this.zoomPoint,!0),v=m.minus(c),b=this.deltaPointsFromPixels(v,!0);this.centerSpringX.shiftBy(b.x),this.centerSpringY.shiftBy(b.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,c){return a.times(this._containerInnerSize.x*this.getZoom(c))},deltaPixelsFromPoints:function(a,c){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation()),c)},deltaPointsFromPixelsNoRotate:function(a,c){return a.divide(this._containerInnerSize.x*this.getZoom(c))},deltaPointsFromPixels:function(a,c){return this.deltaPointsFromPixelsNoRotate(a,c).rotate(-this.getRotation())},pixelFromPointNoRotate:function(a,c){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(c))},pixelFromPoint:function(a,c){return this._pixelFromPoint(a,this.getBoundsNoRotate(c))},_pixelFromPointNoRotate:function(a,c){return a.minus(c.getTopLeft()).times(this._containerInnerSize.x/c.width).plus(new o.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,c){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(),this.getCenter(!0)),c)},pointFromPixelNoRotate:function(a,c){var m=this.getBoundsNoRotate(c);return a.minus(new o.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/m.width).plus(m.getTopLeft())},pointFromPixel:function(a,c){return this.pointFromPixelNoRotate(a,c).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(a,c){var m=this._contentBoundsNoRotate.width;return new o.Point(a*this._contentSizeNoRotate.x/m,c*this._contentSizeNoRotate.x/m)},viewportToImageCoordinates:function(a,c){if(a instanceof o.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var m=this.viewer.world.getItemCount();if(m>1)o.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageCoordinates(a,c,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,c-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,c){var m=this._contentBoundsNoRotate.width;return new o.Point(a/this._contentSizeNoRotate.x*m,c/this._contentSizeNoRotate.x*m)},imageToViewportCoordinates:function(a,c){if(a instanceof o.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var m=this.viewer.world.getItemCount();if(m>1)o.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportCoordinates(a,c,!0)}}var b=this._imageToViewportDelta(a,c);return b.x+=this._contentBoundsNoRotate.x,b.y+=this._contentBoundsNoRotate.y,b},imageToViewportRectangle:function(a,c,m,v){var b=a;if(b instanceof o.Rect||(b=new o.Rect(a,c,m,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.imageToViewportRectangle(a,c,m,v,!0)}}var E=this.imageToViewportCoordinates(b.x,b.y),O=this._imageToViewportDelta(b.width,b.height);return new o.Rect(E.x,E.y,O.x,O.y,b.degrees)},viewportToImageRectangle:function(a,c,m,v){var b=a;if(b instanceof o.Rect||(b=new o.Rect(a,c,m,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.viewportToImageRectangle(a,c,m,v,!0)}}var E=this.viewportToImageCoordinates(b.x,b.y),O=this._viewportToImageDelta(b.width,b.height);return new o.Rect(E.x,E.y,O.x,O.y,b.degrees)},viewerElementToImageCoordinates:function(a){var c=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(c)},imageToViewerElementCoordinates:function(a){var c=this.imageToViewportCoordinates(a);return this.pixelFromPoint(c,!0)},windowToImageCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var c=a.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(c)},imageToWindowCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var c=this.imageToViewerElementCoordinates(a);return c.plus(o.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return o.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return o.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var c=a.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(c)},viewportToWindowCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var c=this.viewportToViewerElementCoordinates(a);return c.plus(o.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)o.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(c===1){var m=this.viewer.world.getItemAt(0);return m.viewportToImageZoom(a)}}var v=this._contentSizeNoRotate.x,b=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=b/v*w;return a*x},imageToViewportZoom:function(a){if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)o.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(c===1){var m=this.viewer.world.getItemAt(0);return m.imageToViewportZoom(a)}}var v=this._contentSizeNoRotate.x,b=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=v/b/w;return a*x},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)}}}(u),function(o){o.TiledImage=function(M){var oe=this;o.console.assert(M.tileCache,"[TiledImage] options.tileCache is required"),o.console.assert(M.drawer,"[TiledImage] options.drawer is required"),o.console.assert(M.viewer,"[TiledImage] options.viewer is required"),o.console.assert(M.imageLoader,"[TiledImage] options.imageLoader is required"),o.console.assert(M.source,"[TiledImage] options.source is required"),o.console.assert(!M.clip||M.clip instanceof o.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),o.EventSource.call(this),this._tileCache=M.tileCache,delete M.tileCache,this._drawer=M.drawer,delete M.drawer,this._imageLoader=M.imageLoader,delete M.imageLoader,M.clip instanceof o.Rect&&(this._clip=M.clip.clone()),delete M.clip;var be=M.x||0;delete M.x;var ve=M.y||0;delete M.y,this.normHeight=M.source.dimensions.y/M.source.dimensions.x,this.contentAspectX=M.source.dimensions.x/M.source.dimensions.y;var ke=1;M.width?(ke=M.width,delete M.width,M.height&&(o.console.error("specifying both width and height to a tiledImage is not supported"),delete M.height)):M.height&&(ke=M.height/this.normHeight,delete M.height);var Pe=M.fitBounds;delete M.fitBounds;var Xe=M.fitBoundsPlacement||u.Placement.CENTER;delete M.fitBoundsPlacement;var Je=M.degrees||0;delete M.degrees,o.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,immediateRender:o.DEFAULT_SETTINGS.immediateRender,blendTime:o.DEFAULT_SETTINGS.blendTime,alwaysBlend:o.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:o.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:o.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:o.DEFAULT_SETTINGS.iOSDevice,debugMode:o.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:o.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:o.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:o.DEFAULT_SETTINGS.placeholderFillStyle,opacity:o.DEFAULT_SETTINGS.opacity,preload:o.DEFAULT_SETTINGS.preload,compositeOperation:o.DEFAULT_SETTINGS.compositeOperation},M),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new o.Spring({initial:be,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new o.Spring({initial:ve,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new o.Spring({initial:ke,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new o.Spring({initial:Je,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),Pe&&this.fitBounds(Pe,Xe,!0),this._drawingHandler=function(dt){oe.viewer.raiseEvent("tile-drawing",o.extend({tiledImage:oe},dt))}},o.extend(o.TiledImage.prototype,o.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(M){M!==this._fullyLoaded&&(this._fullyLoaded=M,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=o.now(),this._needsDraw=!0},update:function(){var M=this._xSpring.update(),oe=this._ySpring.update(),be=this._scaleSpring.update(),ve=this._degreesSpring.update();return M||oe||be||ve?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(M){return this.getBoundsNoRotate(M).rotate(this.getRotation(M),this._getRotationPoint(M))},getBoundsNoRotate:function(M){return M?new o.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new o.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return o.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(M){var oe=this.getBoundsNoRotate(M);if(this._clip){var be=M?this._worldWidthCurrent:this._worldWidthTarget,ve=be/this.source.dimensions.x,ke=this._clip.times(ve);oe=new o.Rect(oe.x+ke.x,oe.y+ke.y,ke.width,ke.height)}return oe.rotate(this.getRotation(M),this._getRotationPoint(M))},getTileBounds:function(M,oe,be){var ve=this.source.getNumTiles(M),ke=(ve.x+oe%ve.x)%ve.x,Pe=(ve.y+be%ve.y)%ve.y,Xe=this.source.getTileBounds(M,ke,Pe);return this.getFlip()&&(Xe.x=1-Xe.x-Xe.width),Xe.x+=(oe-ke)/ve.x,Xe.y+=this._worldHeightCurrent/this._worldWidthCurrent*((be-Pe)/ve.y),Xe},getContentSize:function(){return new o.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var M=this.imageToWindowCoordinates(new o.Point(0,0)),oe=this.imageToWindowCoordinates(this.getContentSize());return new o.Point(oe.x-M.x,oe.y-M.y)},_viewportToImageDelta:function(M,oe,be){var ve=be?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(M*(this.source.dimensions.x/ve),oe*(this.source.dimensions.y*this.contentAspectX/ve))},viewportToImageCoordinates:function(M,oe,be){var ve;return M instanceof o.Point?(be=oe,ve=M):ve=new o.Point(M,oe),ve=ve.rotate(-this.getRotation(be),this._getRotationPoint(be)),be?this._viewportToImageDelta(ve.x-this._xSpring.current.value,ve.y-this._ySpring.current.value):this._viewportToImageDelta(ve.x-this._xSpring.target.value,ve.y-this._ySpring.target.value)},_imageToViewportDelta:function(M,oe,be){var ve=be?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(M/this.source.dimensions.x*ve,oe/this.source.dimensions.y/this.contentAspectX*ve)},imageToViewportCoordinates:function(M,oe,be){M instanceof o.Point&&(be=oe,oe=M.y,M=M.x);var ve=this._imageToViewportDelta(M,oe);return be?(ve.x+=this._xSpring.current.value,ve.y+=this._ySpring.current.value):(ve.x+=this._xSpring.target.value,ve.y+=this._ySpring.target.value),ve.rotate(this.getRotation(be),this._getRotationPoint(be))},imageToViewportRectangle:function(M,oe,be,ve,ke){var Pe=M;Pe instanceof o.Rect?ke=oe:Pe=new o.Rect(M,oe,be,ve);var Xe=this.imageToViewportCoordinates(Pe.getTopLeft(),ke),Je=this._imageToViewportDelta(Pe.width,Pe.height,ke);return new o.Rect(Xe.x,Xe.y,Je.x,Je.y,Pe.degrees+this.getRotation(ke))},viewportToImageRectangle:function(M,oe,be,ve,ke){var Pe=M;M instanceof o.Rect?ke=oe:Pe=new o.Rect(M,oe,be,ve);var Xe=this.viewportToImageCoordinates(Pe.getTopLeft(),ke),Je=this._viewportToImageDelta(Pe.width,Pe.height,ke);return new o.Rect(Xe.x,Xe.y,Je.x,Je.y,Pe.degrees-this.getRotation(ke))},viewerElementToImageCoordinates:function(M){var oe=this.viewport.pointFromPixel(M,!0);return this.viewportToImageCoordinates(oe)},imageToViewerElementCoordinates:function(M){var oe=this.imageToViewportCoordinates(M);return this.viewport.pixelFromPoint(oe,!0)},windowToImageCoordinates:function(M){var oe=M.minus(u.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(oe)},imageToWindowCoordinates:function(M){var oe=this.imageToViewerElementCoordinates(M);return oe.plus(u.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(M){var oe=this._scaleSpring.current.value;return M=M.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new o.Rect((M.x-this._xSpring.current.value)/oe,(M.y-this._ySpring.current.value)/oe,M.width/oe,M.height/oe,M.degrees)},viewportToImageZoom:function(M){var oe=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return oe*M},imageToViewportZoom:function(M){var oe=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return M/oe},setPosition:function(M,oe){var be=this._xSpring.target.value===M.x&&this._ySpring.target.value===M.y;if(oe){if(be&&this._xSpring.current.value===M.x&&this._ySpring.current.value===M.y)return;this._xSpring.resetTo(M.x),this._ySpring.resetTo(M.y),this._needsDraw=!0}else{if(be)return;this._xSpring.springTo(M.x),this._ySpring.springTo(M.y),this._needsDraw=!0}be||this._raiseBoundsChange()},setWidth:function(M,oe){this._setScale(M,oe)},setHeight:function(M,oe){this._setScale(M/this.normHeight,oe)},setCroppingPolygons:function(M){var oe=function(ve){return ve instanceof o.Point||typeof ve.x=="number"&&typeof ve.y=="number"},be=function(ve){return ve.map(function(ke){try{if(oe(ke))return{x:ke.x,y:ke.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!o.isArray(M))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=M.map(function(ve){return be(ve)})}catch(ve){o.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),o.console.error(ve),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(M,oe,be){oe=oe||o.Placement.CENTER;var ve=o.Placement.properties[oe],ke=this.contentAspectX,Pe=0,Xe=0,Je=1,dt=1;if(this._clip&&(ke=this._clip.getAspectRatio(),Je=this._clip.width/this.source.dimensions.x,dt=this._clip.height/this.source.dimensions.y,M.getAspectRatio()>ke?(Pe=this._clip.x/this._clip.height*M.height,Xe=this._clip.y/this._clip.height*M.height):(Pe=this._clip.x/this._clip.width*M.width,Xe=this._clip.y/this._clip.width*M.width)),M.getAspectRatio()>ke){var mt=M.height/dt,ht=0;ve.isHorizontallyCentered?ht=(M.width-M.height*ke)/2:ve.isRight&&(ht=M.width-M.height*ke),this.setPosition(new o.Point(M.x-Pe+ht,M.y-Xe),be),this.setHeight(mt,be)}else{var Rt=M.width/Je,Pt=0;ve.isVerticallyCentered?Pt=(M.height-M.width/ke)/2:ve.isBottom&&(Pt=M.height-M.width/ke),this.setPosition(new o.Point(M.x-Pe,M.y-Xe+Pt),be),this.setWidth(Rt,be)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(M){o.console.assert(!M||M instanceof o.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),M instanceof o.Rect?this._clip=M.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(M){this.flipped=!!M,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(M){M!==this.opacity&&(this.opacity=M,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(M){this._preload=!!M,this._needsDraw=!0},getRotation:function(M){return M?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(M,oe){this._degreesSpring.target.value===M&&this._degreesSpring.isAtTargetValue()||(oe?this._degreesSpring.resetTo(M):this._degreesSpring.springTo(M),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(M){return this.getBoundsNoRotate(M).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(M){M!==this.compositeOperation&&(this.compositeOperation=M,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(M,oe){var be=this._scaleSpring.target.value===M;if(oe){if(be&&this._scaleSpring.current.value===M)return;this._scaleSpring.resetTo(M),this._updateForScale(),this._needsDraw=!0}else{if(be)return;this._scaleSpring.springTo(M),this._updateForScale(),this._needsDraw=!0}be||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var M=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),oe=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,be=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(oe/this.minPixelRatio)/Math.log(2))));return be=Math.max(be,this.source.minLevel||0),M=Math.min(M,be),{lowestLevel:M,highestLevel:be}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var M=this.lastDrawn.pop();M.beingDrawn=!1}var oe=this.viewport,be=this._viewportToTiledImageRectangle(oe.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var ve=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(be=be.intersection(ve),be===null)return}for(var ke=this._getLevelsInterval(),Pe=ke.lowestLevel,Xe=ke.highestLevel,Je=null,dt=!1,mt=o.now(),ht=Xe;ht>=Pe;ht--){var Rt=!1,Pt=oe.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ht),!0).x*this._scaleSpring.current.value;if(ht===Pe||!dt&&Pt>=this.minPixelRatio)Rt=!0,dt=!0;else if(!dt)continue;var qt=oe.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ht),!1).x*this._scaleSpring.current.value,Gt=oe.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Zt=this.immediateRender?1:Gt,hn=Math.min(1,(Pt-.5)/.5),Tn=Zt/Math.abs(Zt-qt);if(Je=a(this,dt,Rt,ht,hn,Tn,be,mt,Je),O(this.coverage,ht))break}ie(this,this.lastDrawn),Je&&!Je.context2D?(v(this,Je,mt),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(M,oe,be){var ve,ke;this.wrapHorizontal?(ve=o.positiveModulo(oe.x,1),ke=o.positiveModulo(be.x,1)):(ve=Math.max(0,oe.x),ke=Math.min(1,be.x));var Pe,Xe,Je=1/this.source.aspectRatio;this.wrapVertical?(Pe=o.positiveModulo(oe.y,Je),Xe=o.positiveModulo(be.y,Je)):(Pe=Math.max(0,oe.y),Xe=Math.min(Je,be.y));var dt=this.source.getTileAtPoint(M,new o.Point(ve,Pe)),mt=this.source.getTileAtPoint(M,new o.Point(ke,Xe)),ht=this.source.getNumTiles(M);return this.wrapHorizontal&&(dt.x+=ht.x*Math.floor(oe.x),mt.x+=ht.x*Math.floor(be.x)),this.wrapVertical&&(dt.y+=ht.y*Math.floor(oe.y/Je),mt.y+=ht.y*Math.floor(be.y/Je)),{topLeft:dt,bottomRight:mt}}});function a(M,oe,be,ve,ke,Pe,Xe,Je,dt){var mt=Xe.getBoundingBox().getTopLeft(),ht=Xe.getBoundingBox().getBottomRight();M.viewer&&M.viewer.raiseEvent("update-level",{tiledImage:M,havedrawn:oe,level:ve,opacity:ke,visibility:Pe,drawArea:Xe,topleft:mt,bottomright:ht,currenttime:Je,best:dt}),X(M.coverage,ve),X(M.loadingCoverage,ve);var Rt=M._getCornerTiles(ve,mt,ht),Pt=Rt.topLeft,qt=Rt.bottomRight,Gt=M.source.getNumTiles(ve),Zt=M.viewport.pixelFromPoint(M.viewport.getCenter());M.getFlip()&&(qt.x+=1,M.wrapHorizontal||(qt.x=Math.min(qt.x,Gt.x-1)));for(var hn=Pt.x;hn<=qt.x;hn++)for(var Tn=Pt.y;Tn<=qt.y;Tn++){var pt;if(M.getFlip()){var tn=(Gt.x+hn%Gt.x)%Gt.x;pt=hn+Gt.x-tn-tn-1}else pt=hn;Xe.intersection(M.getTileBounds(ve,pt,Tn))!==null&&(dt=c(M,be,oe,pt,Tn,ve,ke,Pe,Zt,Gt,Je,dt))}return dt}function c(M,oe,be,ve,ke,Pe,Xe,Je,dt,mt,ht,Rt){var Pt=m(ve,ke,Pe,M,M.source,M.tilesMatrix,ht,mt,M._worldWidthCurrent,M._worldHeightCurrent),qt=be;M.viewer&&M.viewer.raiseEvent("update-tile",{tiledImage:M,tile:Pt}),H(M.coverage,Pe,ve,ke,!1);var Gt=Pt.loaded||Pt.loading||A(M.loadingCoverage,Pe,ve,ke);if(H(M.loadingCoverage,Pe,ve,ke,Gt),!Pt.exists||(oe&&!qt&&(A(M.coverage,Pe,ve,ke)?H(M.coverage,Pe,ve,ke,!0):qt=!0),!qt))return Rt;if(x(Pt,M.source.tileOverlap,M.viewport,dt,Je,M),!Pt.loaded)if(Pt.context2D)w(M,Pt);else{var Zt=M._tileCache.getImageRecord(Pt.cacheKey);if(Zt){var hn=Zt.getImage();w(M,Pt,hn)}}if(Pt.loaded){var Tn=E(M,Pt,ve,ke,Pe,Xe,ht);Tn&&(M._needsDraw=!0)}else Pt.loading?M._tilesLoading++:Gt||(Rt=ae(Rt,Pt));return Rt}function m(M,oe,be,ve,ke,Pe,Xe,Je,dt,mt){var ht,Rt,Pt,qt,Gt,Zt,hn,Tn,pt;return Pe[be]||(Pe[be]={}),Pe[be][M]||(Pe[be][M]={}),(!Pe[be][M][oe]||!Pe[be][M][oe].flipped!=!ve.flipped)&&(ht=(Je.x+M%Je.x)%Je.x,Rt=(Je.y+oe%Je.y)%Je.y,Pt=ve.getTileBounds(be,M,oe),qt=ke.getTileBounds(be,ht,Rt,!0),Gt=ke.tileExists(be,ht,Rt),Zt=ke.getTileUrl(be,ht,Rt),ve.loadTilesWithAjax?(hn=ke.getTileAjaxHeaders(be,ht,Rt),o.isPlainObject(ve.ajaxHeaders)&&(hn=o.extend({},ve.ajaxHeaders,hn))):hn=null,Tn=ke.getContext2D?ke.getContext2D(be,ht,Rt):void 0,pt=new o.Tile(be,M,oe,Pt,Gt,Zt,Tn,ve.loadTilesWithAjax,hn,qt),ve.getFlip()?ht===0&&(pt.isRightMost=!0):ht===Je.x-1&&(pt.isRightMost=!0),Rt===Je.y-1&&(pt.isBottomMost=!0),pt.flipped=ve.flipped,Pe[be][M][oe]=pt),pt=Pe[be][M][oe],pt.lastTouchTime=Xe,pt}function v(M,oe,be){oe.loading=!0,M._imageLoader.addJob({src:oe.url,loadWithAjax:oe.loadWithAjax,ajaxHeaders:oe.ajaxHeaders,crossOriginPolicy:M.crossOriginPolicy,ajaxWithCredentials:M.ajaxWithCredentials,callback:function(ve,ke,Pe){b(M,oe,be,ve,ke,Pe)},abort:function(){oe.loading=!1}})}function b(M,oe,be,ve,ke,Pe){if(!ve){o.console.log("Tile %s failed to load: %s - error: %s",oe,oe.url,ke),M.viewer.raiseEvent("tile-load-failed",{tile:oe,tiledImage:M,time:be,message:ke,tileRequest:Pe}),oe.loading=!1,oe.exists=!1;return}if(be<M.lastResetTime){o.console.log("Ignoring tile %s loaded before reset: %s",oe,oe.url),oe.loading=!1;return}var Xe=function(){var Je=M.source.getClosestLevel();w(M,oe,ve,Je,Pe)};M._midDraw?window.setTimeout(Xe,1):Xe()}function w(M,oe,be,ve,ke){var Pe=0;function Xe(){return Pe++,Je}function Je(){Pe--,Pe===0&&(oe.loading=!1,oe.loaded=!0,oe.context2D||M._tileCache.cacheTile({image:be,tile:oe,cutoff:ve,tiledImage:M}),M._needsDraw=!0)}M.viewer.raiseEvent("tile-loaded",{tile:oe,tiledImage:M,tileRequest:ke,image:be,getCompletionCallback:Xe}),Xe()()}function x(M,oe,be,ve,ke,Pe){var Xe=M.bounds.getTopLeft();Xe.x*=Pe._scaleSpring.current.value,Xe.y*=Pe._scaleSpring.current.value,Xe.x+=Pe._xSpring.current.value,Xe.y+=Pe._ySpring.current.value;var Je=M.bounds.getSize();Je.x*=Pe._scaleSpring.current.value,Je.y*=Pe._scaleSpring.current.value;var dt=be.pixelFromPointNoRotate(Xe,!0),mt=be.pixelFromPointNoRotate(Xe,!1),ht=be.deltaPixelsFromPointsNoRotate(Je,!0),Rt=be.deltaPixelsFromPointsNoRotate(Je,!1),Pt=mt.plus(Rt.divide(2)),qt=ve.squaredDistanceTo(Pt);oe||(ht=ht.plus(new o.Point(1,1))),M.isRightMost&&Pe.wrapHorizontal&&(ht.x+=.75),M.isBottomMost&&Pe.wrapVertical&&(ht.y+=.75),M.position=dt,M.size=ht,M.squaredDistance=qt,M.visibility=ke}function E(M,oe,be,ve,ke,Pe,Xe){var Je=1e3*M.blendTime,dt,mt;if(oe.blendStart||(oe.blendStart=Xe),dt=Xe-oe.blendStart,mt=Je?Math.min(1,dt/Je):1,M.alwaysBlend&&(mt*=Pe),oe.opacity=mt,M.lastDrawn.push(oe),mt===1)H(M.coverage,ke,be,ve,!0),M._hasOpaqueTile=!0;else if(dt<Je)return!0;return!1}function O(M,oe,be,ve){var ke,Pe,Xe,Je;if(!M[oe])return!1;if(be===void 0||ve===void 0){ke=M[oe];for(Xe in ke)if(Object.prototype.hasOwnProperty.call(ke,Xe)){Pe=ke[Xe];for(Je in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Je)&&!Pe[Je])return!1}return!0}return M[oe][be]===void 0||M[oe][be][ve]===void 0||M[oe][be][ve]===!0}function A(M,oe,be,ve){return be===void 0||ve===void 0?O(M,oe+1):O(M,oe+1,2*be,2*ve)&&O(M,oe+1,2*be,2*ve+1)&&O(M,oe+1,2*be+1,2*ve)&&O(M,oe+1,2*be+1,2*ve+1)}function H(M,oe,be,ve,ke){if(!M[oe]){o.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",oe);return}M[oe][be]||(M[oe][be]={}),M[oe][be][ve]=ke}function X(M,oe){M[oe]={}}function ae(M,oe){return!M||oe.visibility>M.visibility||oe.visibility===M.visibility&&oe.squaredDistance<M.squaredDistance?oe:M}function ie(M,oe){if(!(M.opacity===0||oe.length===0&&!M.placeholderFillStyle)){var be=oe[0],ve;be&&(ve=M.opacity<1||M.compositeOperation&&M.compositeOperation!=="source-over"||!M._isBottomItem()&&be._hasTransparencyChannel());var ke,Pe,Xe=M.viewport.getZoom(!0),Je=M.viewportToImageZoom(Xe);oe.length>1&&Je>M.smoothTileEdgesMinZoom&&!M.iOSDevice&&M.getRotation(!0)%360===0&&o.supportsCanvas&&(ve=!0,ke=be.getScaleForEdgeSmoothing(),Pe=be.getTranslationForEdgeSmoothing(ke,M._drawer.getCanvasSize(!1),M._drawer.getCanvasSize(!0)));var dt;ve&&(ke||(dt=M.viewport.viewportToViewerElementRectangle(M.getClippedBounds(!0)).getIntegerBoundingBox(),M._drawer.viewer.viewport.getFlip()&&(M.viewport.degrees!==0||M.getRotation(!0)%360!==0)&&(dt.x=M._drawer.viewer.container.clientWidth-(dt.x+dt.width)),dt=dt.times(o.pixelDensityRatio)),M._drawer._clear(!0,dt)),ke||(M.viewport.degrees!==0&&M._drawer._offsetForRotation({degrees:M.viewport.degrees,useSketch:ve}),M.getRotation(!0)%360!==0&&M._drawer._offsetForRotation({degrees:M.getRotation(!0),point:M.viewport.pixelFromPointNoRotate(M._getRotationPoint(!0),!0),useSketch:ve}),M.viewport.degrees===0&&M.getRotation(!0)%360===0&&M._drawer.viewer.viewport.getFlip()&&M._drawer._flip());var mt=!1;if(M._clip){M._drawer.saveContext(ve);var ht=M.imageToViewportRectangle(M._clip,!0);ht=ht.rotate(-M.getRotation(!0),M._getRotationPoint(!0));var Rt=M._drawer.viewportToDrawerRectangle(ht);ke&&(Rt=Rt.times(ke)),Pe&&(Rt=Rt.translate(Pe)),M._drawer.setClip(Rt,ve),mt=!0}if(M._croppingPolygons){M._drawer.saveContext(ve);try{var Pt=M._croppingPolygons.map(function(hn){return hn.map(function(Tn){var pt=M.imageToViewportCoordinates(Tn.x,Tn.y,!0).rotate(-M.getRotation(!0),M._getRotationPoint(!0)),tn=M._drawer.viewportCoordToDrawerCoord(pt);return ke&&(tn=tn.times(ke)),tn})});M._drawer.clipWithPolygons(Pt,ve)}catch(hn){o.console.error(hn)}mt=!0}if(M.placeholderFillStyle&&M._hasOpaqueTile===!1){var qt=M._drawer.viewportToDrawerRectangle(M.getBounds(!0));ke&&(qt=qt.times(ke)),Pe&&(qt=qt.translate(Pe));var Gt=null;typeof M.placeholderFillStyle=="function"?Gt=M.placeholderFillStyle(M,M._drawer.context):Gt=M.placeholderFillStyle,M._drawer.drawRectangle(qt,Gt,ve)}for(var Zt=oe.length-1;Zt>=0;Zt--)be=oe[Zt],M._drawer.drawTile(be,M._drawingHandler,ve,ke,Pe),be.beingDrawn=!0,M.viewer&&M.viewer.raiseEvent("tile-drawn",{tiledImage:M,tile:be});mt&&M._drawer.restoreContext(ve),ke||(M.getRotation(!0)%360!==0&&M._drawer._restoreRotationChanges(ve),M.viewport.degrees!==0&&M._drawer._restoreRotationChanges(ve)),ve&&(ke&&(M.viewport.degrees!==0&&M._drawer._offsetForRotation({degrees:M.viewport.degrees,useSketch:!1}),M.getRotation(!0)%360!==0&&M._drawer._offsetForRotation({degrees:M.getRotation(!0),point:M.viewport.pixelFromPointNoRotate(M._getRotationPoint(!0),!0),useSketch:!1})),M._drawer.blendSketch({opacity:M.opacity,scale:ke,translate:Pe,compositeOperation:M.compositeOperation,bounds:dt}),ke&&(M.getRotation(!0)%360!==0&&M._drawer._restoreRotationChanges(!1),M.viewport.degrees!==0&&M._drawer._restoreRotationChanges(!1))),ke||M.viewport.degrees===0&&M.getRotation(!0)%360===0&&M._drawer.viewer.viewport.getFlip()&&M._drawer._flip(),de(M,oe)}}function de(M,oe){if(M.debugMode)for(var be=oe.length-1;be>=0;be--){var ve=oe[be];try{M._drawer.drawDebugInfo(ve,oe.length,be,M)}catch(ke){o.console.error(ke)}}}}(u),function(o){var a=function(m){o.console.assert(m,"[TileCache.cacheTile] options is required"),o.console.assert(m.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(m.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=m.tile,this.tiledImage=m.tiledImage},c=function(m){o.console.assert(m,"[ImageRecord] options is required"),o.console.assert(m.image,"[ImageRecord] options.image is required"),this._image=m.image,this._tiles=[]};c.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var m=document.createElement("canvas");m.width=this._image.width,m.height=this._image.height,this._renderedContext=m.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(m){o.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=m},addTile:function(m){o.console.assert(m,"[ImageRecord.addTile] tile is required"),this._tiles.push(m)},removeTile:function(m){for(var v=0;v<this._tiles.length;v++)if(this._tiles[v]===m){this._tiles.splice(v,1);return}o.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",m)},getTileCount:function(){return this._tiles.length}},o.TileCache=function(m){m=m||{},this._maxImageCacheCount=m.maxImageCacheCount||o.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},o.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(m){o.console.assert(m,"[TileCache.cacheTile] options is required"),o.console.assert(m.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(m.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),o.console.assert(m.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var v=m.cutoff||0,b=this._tilesLoaded.length,w=this._imagesLoaded[m.tile.cacheKey];if(w||(o.console.assert(m.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),w=this._imagesLoaded[m.tile.cacheKey]=new c({image:m.image}),this._imagesLoadedCount++),w.addTile(m.tile),m.tile.cacheImageRecord=w,this._imagesLoadedCount>this._maxImageCacheCount){for(var x=null,E=-1,O=null,A,H,X,ae,ie,de,M=this._tilesLoaded.length-1;M>=0;M--)if(de=this._tilesLoaded[M],A=de.tile,!(A.level<=v||A.beingDrawn)){if(!x){x=A,E=M,O=de;continue}ae=A.lastTouchTime,H=x.lastTouchTime,ie=A.level,X=x.level,(ae<H||ae===H&&ie>X)&&(x=A,E=M,O=de)}x&&E>=0&&(this._unloadTile(O),b=E)}this._tilesLoaded[b]=new a({tile:m.tile,tiledImage:m.tiledImage})},clearTilesFor:function(m){o.console.assert(m,"[TileCache.clearTilesFor] tiledImage is required");for(var v,b=0;b<this._tilesLoaded.length;++b)v=this._tilesLoaded[b],v.tiledImage===m&&(this._unloadTile(v),this._tilesLoaded.splice(b,1),b--)},getImageRecord:function(m){return o.console.assert(m,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[m]},_unloadTile:function(m){o.console.assert(m,"[TileCache._unloadTile] tileRecord is required");var v=m.tile,b=m.tiledImage;v.unload(),v.cacheImageRecord=null;var w=this._imagesLoaded[v.cacheKey];w.removeTile(v),w.getTileCount()||(w.destroy(),delete this._imagesLoaded[v.cacheKey],this._imagesLoadedCount--),b.viewer.raiseEvent("tile-unloaded",{tile:v,tiledImage:b})}}}(u),function(o){o.World=function(a){var c=this;o.console.assert(a.viewer,"[World] options.viewer is required"),o.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(m){c._autoRefigureSizes?c._figureSizes():c._needsSizesFigured=!0},this._figureSizes()},o.extend(o.World.prototype,o.EventSource.prototype,{addItem:function(a,c){if(o.console.assert(a,"[World.addItem] item is required"),o.console.assert(a instanceof o.TiledImage,"[World.addItem] only TiledImages supported at this time"),c=c||{},c.index!==void 0){var m=Math.max(0,Math.min(this._items.length,c.index));this._items.splice(m,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return o.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return o.console.assert(a,"[World.getIndexOfItem] item is required"),o.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,c){o.console.assert(a,"[World.setItemIndex] item is required"),o.console.assert(c!==void 0,"[World.setItemIndex] index is required");var m=this.getIndexOfItem(a);if(c>=this._items.length)throw new Error("Index bigger than number of layers.");c===m||m===-1||(this._items.splice(m,1),this._items.splice(c,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:m,newIndex:c}))},removeItem:function(a){o.console.assert(a,"[World.removeItem] item is required");var c=o.indexOf(this._items,a);c!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(c,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,c;for(c=0;c<this._items.length;c++)a=this._items[c],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var m=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,c=0;c<m.length;c++)a=m[c],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(){for(var a=!1,c=0;c<this._items.length;c++)a=this._items[c].update()||a;return a},draw:function(){for(var a=0;a<this._items.length;a++)this._items[a].draw();this._needsDraw=!1},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var c=a.immediately||!1,m=a.layout||o.DEFAULT_SETTINGS.collectionLayout,v=a.rows||o.DEFAULT_SETTINGS.collectionRows,b=a.columns||o.DEFAULT_SETTINGS.collectionColumns,w=a.tileSize||o.DEFAULT_SETTINGS.collectionTileSize,x=a.tileMargin||o.DEFAULT_SETTINGS.collectionTileMargin,E=w+x,O;!a.rows&&b?O=b:O=Math.ceil(this._items.length/v);var A=0,H=0,X,ae,ie,de,M;this.setAutoRefigureSizes(!1);for(var oe=0;oe<this._items.length;oe++)oe&&oe%O===0&&(m==="horizontal"?(H+=E,A=0):(A+=E,H=0)),X=this._items[oe],ae=X.getBounds(),ae.width>ae.height?ie=w:ie=w*(ae.width/ae.height),de=ie*(ae.height/ae.width),M=new o.Point(A+(w-ie)/2,H+(w-de)/2),X.setPosition(M,c),X.setWidth(ie,c),m==="horizontal"?A+=E:H+=E;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,c=this._contentSize?this._contentSize.clone():null,m=this._contentFactor||0;if(!this._items.length)this._homeBounds=new o.Rect(0,0,1,1),this._contentSize=new o.Point(1,1),this._contentFactor=1;else{var v=this._items[0],b=v.getBounds();this._contentFactor=v.getContentSize().x/b.width;for(var w=v.getClippedBounds().getBoundingBox(),x=w.x,E=w.y,O=w.x+w.width,A=w.y+w.height,H=1;H<this._items.length;H++)v=this._items[H],b=v.getBounds(),this._contentFactor=Math.max(this._contentFactor,v.getContentSize().x/b.width),w=v.getClippedBounds().getBoundingBox(),x=Math.min(x,w.x),E=Math.min(E,w.y),O=Math.max(O,w.x+w.width),A=Math.max(A,w.y+w.height);this._homeBounds=new o.Rect(x,E,O-x,A-E),this._contentSize=new o.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==m||!this._homeBounds.equals(a)||!this._contentSize.equals(c))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(u)})(ax);var Kr=ax.exports;const ln="http://www.w3.org/2000/svg",_p=s=>{const u=s.getAttribute("class");return u?new Set(u.split(" ")):new Set},Lr=(s,u)=>{const o=_p(s);o.add(u),s.setAttribute("class",Array.from(o).join(" "))},sc=(s,u)=>{const o=_p(s);o.delete(u),o.size===0?s.removeAttribute("class"):s.setAttribute("class",Array.from(o).join(" "))},Rp=(s,u)=>_p(s).has(u),Zr=(s,u)=>{const o=s.selector("FragmentSelector");if(o!=null&&o.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:a}=o,c=a.includes(":")?a.substring(a.indexOf("=")+1,a.indexOf(":")):"pixel",m=a.includes(":")?a.substring(a.indexOf(":")+1):a.substring(a.indexOf("=")+1);let[v,b,w,x]=m.split(",").map(parseFloat);return c.toLowerCase()==="percent"&&(v=v*u.naturalWidth/100,b=b*u.naturalHeight/100,w=w*u.naturalWidth/100,x=x*u.naturalHeight/100),{x:v,y:b,w,h:x}}},O6=(s,u,o,a,c)=>({source:c?.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${s},${u},${o},${a}`}}),D6=(s,u,o,a,c)=>{const m=s/c.naturalWidth*100,v=u/c.naturalHeight*100,b=o/c.naturalWidth*100,w=a/c.naturalHeight*100;return{source:c.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${m},${v},${b},${w}`}}},Hs=(s,u,o,a,c,m)=>m?.toLowerCase()==="percent"?D6(s,u,o,a,c):O6(s,u,o,a,c),ac=(s,u,o,a,c)=>{s.setAttribute("x",u),s.setAttribute("y",o),s.setAttribute("width",a),s.setAttribute("height",c)},lc=(s,u,o)=>{s.setAttribute("cx",u),s.setAttribute("cy",o),s.setAttribute("r",7)},lx=(s,u,o,a,c)=>{const m=document.createElementNS(ln,"path");m.setAttribute("fill-rule","evenodd");const{naturalWidth:v,naturalHeight:b}=s;return m.setAttribute("d",`M0 0 h${v} v${b} h-${v} z M${u} ${o} h${a} v${c} h-${a} z`),m},ux=(s,u,o,a,c,m)=>{const{naturalWidth:v,naturalHeight:b}=u;s.setAttribute("d",`M0 0 h${v} v${b} h-${v} z M${o} ${a} h${c} v${m} h-${c} z`)},Op=(s,u,o,a)=>{const{x:c,y:m,w:v,h:b}=s.type==="Annotation"||s.type==="Selection"?Zr(s,u):{x:s,y:u,w:o,h:a},w=document.createElementNS(ln,"g");if(v===0&&b===0){Lr(w,"a9s-point"),Lr(w,"a9s-non-scaling"),w.setAttribute("transform-origin",`${c} ${m}`);const x=document.createElementNS(ln,"circle"),E=document.createElementNS(ln,"circle");E.setAttribute("class","a9s-inner"),lc(E,c,m),x.setAttribute("class","a9s-outer"),lc(x,c,m),w.appendChild(x),w.appendChild(E)}else{const x=document.createElementNS(ln,"rect"),E=document.createElementNS(ln,"rect");E.setAttribute("class","a9s-inner"),ac(E,c,m,v,b),x.setAttribute("class","a9s-outer"),ac(x,c,m,v,b),w.appendChild(x),w.appendChild(E)}return w},Dp=s=>{const u=s.querySelector(".a9s-outer");if(u.nodeName==="rect"){const o=parseFloat(u.getAttribute("x")),a=parseFloat(u.getAttribute("y")),c=parseFloat(u.getAttribute("width")),m=parseFloat(u.getAttribute("height"));return{x:o,y:a,w:c,h:m}}else{const o=parseFloat(u.getAttribute("cx")),a=parseFloat(u.getAttribute("cy"));return{x:o,y:a,w:0,h:0}}},cx=(s,u,o,a,c)=>{const m=s.querySelector(".a9s-inner"),v=s.querySelector(".a9s-outer");v.nodeName==="rect"?(ac(m,u,o,a,c),ac(v,u,o,a,c)):(lc(m,u,o),lc(v,u,o))},A6=(s,u)=>{const{w:o,h:a}=Zr(s,u);return o*a};class I6{constructor(u,o,a,c,m){r(this,"dragTo",(v,b)=>{this.group.style.display=null,this.opposite=[v,b];const{x:w,y:x,w:E,h:O}=this.bbox;ux(this.mask,this.env.image,w,x,E,O),cx(this.rect,w,x,E,O)}),r(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),r(this,"toSelection",()=>{const{x:v,y:b,w,h:x}=this.bbox;return new Za(Hs(v,b,w,x,this.env.image,this.config.fragmentUnit))}),r(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[u,o],this.opposite=[u,o],this.config=c,this.env=m,this.group=document.createElementNS(ln,"g"),this.mask=lx(m.image,u,o,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Op(u,o,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),a.appendChild(this.group)}get bbox(){const u=this.opposite[0]-this.anchor[0],o=this.opposite[1]-this.anchor[1];return{x:u>0?this.anchor[0]:this.opposite[0],y:o>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(u)),h:Math.max(1,Math.abs(o))}}get element(){return this.rect}}const M6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Ap=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,z6=s=>{let u=null;const o=(c,m)=>new MouseEvent(c,{screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY,pageX:m.pageX,pageY:m.pageY,bubbles:!0}),a=c=>{const m=c.changedTouches[0],v=o(M6[c.type],m);m.target.dispatchEvent(v),c.preventDefault(),(c.type==="touchstart"||c.type==="touchmove")&&(u&&clearTimeout(u),u=setTimeout(()=>{const b=o("dblclick",m);m.target.dispatchEvent(b)},800)),c.type==="touchend"&&u&&clearTimeout(u)};s.addEventListener("touchstart",a,!0),s.addEventListener("touchmove",a,!0),s.addEventListener("touchend",a,!0),s.addEventListener("touchcancel",a,!0)},uc="An implementation is missing",L6=Ap();class dx extends Xi{constructor(u,o,a){super(),r(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const m=this.svg.getBoundingClientRect(),{width:v,height:b}=this.svg.viewBox.baseVal;this.scale=Math.max(v/m.width,b/m.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),r(this,"getSVGPoint",m=>{const v=this.svg.createSVGPoint();if(L6){const b=this.svg.getBoundingClientRect(),w=m.clientX-b.x,x=m.clientY-b.y,{left:E,top:O}=this.svg.getBoundingClientRect();return v.x=w+E,v.y=x+O,v.matrixTransform(this.g.getScreenCTM().inverse())}else return v.x=m.offsetX,v.y=m.offsetY,v.matrixTransform(this.g.getCTM().inverse())}),r(this,"drawHandle",(m,v)=>{const b=document.createElementNS(ln,"g");b.setAttribute("class","a9s-handle");const w=document.createElementNS(ln,"g"),x=H=>{const X=document.createElementNS(ln,"circle");return X.setAttribute("cx",m),X.setAttribute("cy",v),X.setAttribute("r",H),X.setAttribute("transform-origin",`${m} ${v}`),X},E=this.config.handleRadius||6,O=x(E);O.setAttribute("class","a9s-handle-inner");const A=x(E+1);return A.setAttribute("class","a9s-handle-outer"),w.appendChild(A),w.appendChild(O),b.appendChild(w),b}),r(this,"setHandleXY",(m,v,b)=>{const w=m.querySelector(".a9s-handle-inner");w.setAttribute("cx",v),w.setAttribute("cy",b),w.setAttribute("transform-origin",`${v} ${b}`);const x=m.querySelector(".a9s-handle-outer");x.setAttribute("cx",v),x.setAttribute("cy",b),x.setAttribute("transform-origin",`${v} ${b}`)}),r(this,"getHandleXY",m=>{const v=m.querySelector(".a9s-handle-outer");return{x:parseFloat(v.getAttribute("cx")),y:parseFloat(v.getAttribute("cy"))}}),r(this,"scaleHandle",m=>{const v=m.querySelector(".a9s-handle-inner"),b=m.querySelector(".a9s-handle-outer"),w=this.scale*(this.config.handleRadius||6);v.setAttribute("r",w),b.setAttribute("r",w)}),this.svg=u.closest("svg"),this.g=u,this.config=o,this.env=a,this.scale=1;const{image:c}=a;(c instanceof Element||c instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Ip extends dx{constructor(u,o,a){super(u,o,a),r(this,"attachListeners",({mouseMove:c,mouseUp:m,dblClick:v})=>{c&&(this.mouseMove=b=>{const{x:w,y:x}=this.getSVGPoint(b);this.started||(this.emit("startSelection",{x:w,y:x}),this.started=!0),c(w,x,b)},this.svg.addEventListener("mousemove",this.mouseMove)),m&&(this.mouseUp=b=>{if(b.button!==0)return;const{x:w,y:x}=this.getSVGPoint(b);m(w,x,b)},document.addEventListener("mouseup",this.mouseUp)),v&&(this.dblClick=b=>{const{x:w,y:x}=this.getSVGPoint(b);v(w,x,b)},document.addEventListener("dblclick",this.dblClick))}),r(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),r(this,"start",(c,m)=>{const{x:v,y:b}=this.getSVGPoint(c);this.startDrawing(v,b,m,c)}),r(this,"startDrawing",c=>{throw new Error(uc)}),r(this,"createEditableShape",(c,m)=>{throw new Error(uc)}),this.started=!1}get isDrawing(){throw new Error(uc)}}Ip.supports=s=>{throw new Error(uc)};const hx="An implementation is missing";class px extends dx{constructor(u,o,a,c){super(o,a,c),r(this,"updateState",m=>{throw new Error(hx)}),this.annotation=u}get element(){throw new Error(hx)}}const B6=/firefox/i.test(navigator.userAgent),fx=(s,u,o,a,c)=>{s.setAttribute("width",a),s.setAttribute("height",c),B6?(s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("transform",`translate(${u}, ${o})`)):(s.setAttribute("x",u),s.setAttribute("y",o))},N6=(s,u)=>{const{x:o,y:a,width:c,height:m}=u.getBBox(),v=document.createElementNS(ln,"svg");v.setAttribute("class","a9s-formatter-el"),fx(v,o,a,c,m);const b=document.createElementNS(ln,"g");b.appendChild(s),v.appendChild(b),u.append(v)},cc=(s,u,o)=>{if(!o)return s;const a=o.reduce((b,w)=>{const x=w(u);if(!x)return b;if(typeof x=="string"||x instanceof String)b.className=b.className?`${b.className} ${x}`:x;else if(x.nodeType===Node.ELEMENT_NODE)b.elements=b.elements?[...b.elements,x]:[x];else{const{className:E,style:O,element:A}=x;E&&(b.className=b.className?`${b.className} ${E}`:E),O&&(b.style=b.style?`${b.style} ${O}`:O),A&&(b.elements=b.elements?[...b.elements,A]:[A])}for(const E in x)x.hasOwnProperty(E)&&E.startsWith("data-")&&(b[E]=x[E]);return b},{}),{className:c,style:m,elements:v}=a;if(c&&Lr(s,c),m){const b=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner");b&&w?(b.setAttribute("style","display:none"),w.setAttribute("style",m)):s.setAttribute("style",m)}v&&v.forEach(b=>N6(b,s));for(const b in a)a.hasOwnProperty(b)&&b.startsWith("data-")&&s.setAttribute(b,a[b])},mx=(s,u,o,a,c)=>{const m=s.querySelector(".a9s-formatter-el");m&&fx(m,u,o,a,c)},Ja="corner",dc="edge";class j6 extends px{constructor(u,o,a,c){super(u,o,a,c),r(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),r(this,"setSize",(E,O,A,H)=>{cx(this.rectangle,E,O,A,H),ux(this.mask,this.env.image,E,O,A,H),mx(this.elementGroup,E,O,A,H);const[X,ae,ie,de,M,oe,be,ve]=this.handles;this.setHandleXY(X,E,O),this.setHandleXY(ae,E+A,O),this.setHandleXY(ie,E+A,O+H),this.setHandleXY(de,E,O+H),this.enableEdgeControls&&(this.setHandleXY(M,E+A/2,O),this.setHandleXY(oe,E+A,O+H/2),this.setHandleXY(be,E+A/2,O+H),this.setHandleXY(ve,E,O+H/2))}),r(this,"stretchCorners",(E,O,A)=>{const H=this.getHandleXY(O),X=A.x-H.x,ae=A.y-H.y,ie=X>0?H.x:A.x,de=ae>0?H.y:A.y,M=Math.abs(X),oe=Math.abs(ae);return this.setSize(ie,de,M,oe),{x:ie,y:de,w:M,h:oe}}),r(this,"stretchEdge",(E,O,A)=>{const H=this.getHandleXY(O),X=Dp(this.rectangle),ae=E%2===0,ie=ae?X.w:A.x-H.x,de=ae?A.y-H.y:X.h,M=ae?X.x:ie>0?H.x:A.x,oe=ae?de>0?H.y:A.y:X.y,be=Math.abs(ie),ve=Math.abs(de);return this.setSize(M,oe,be,ve),{x:M,y:oe,w:be,h:ve}}),r(this,"onGrab",(E,O)=>A=>{if(A.button!==0)return;this.grabbedElem=E,this.grabbedType=O;const H=this.getSVGPoint(A),{x:X,y:ae}=Dp(this.rectangle);this.mouseOffset={x:H.x-X,y:H.y-ae}}),r(this,"onMouseMove",E=>{if(E.button!==0)return;const O=(A,H)=>A<0?0:A>H?H:A;if(this.grabbedElem){const A=this.getSVGPoint(E);if(this.grabbedElem===this.rectangle){const{w:H,h:X}=Dp(this.rectangle),{naturalWidth:ae,naturalHeight:ie}=this.env.image,de=O(A.x-this.mouseOffset.x,ae-H),M=O(A.y-this.mouseOffset.y,ie-X);this.setSize(de,M,H,X),this.emit("update",Hs(de,M,H,X,this.env.image,this.config.fragmentUnit))}else{const H=this.handles.indexOf(this.grabbedElem),X=this.handles[H^2],{x:ae,y:ie,w:de,h:M}=this.grabbedType===Ja?this.stretchCorners(H,X,A):this.stretchEdge(H,X,A);this.emit("update",Hs(ae,ie,de,M,this.env.image,this.config.fragmentUnit))}}}),r(this,"onMouseUp",E=>{this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}),r(this,"updateState",E=>{const{x:O,y:A,w:H,h:X}=Zr(E,this.env.image);this.setSize(O,A,H,X)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:m,y:v,w:b,h:w}=Zr(u,c.image);this.containerGroup=document.createElementNS(ln,"g"),this.mask=lx(c.image,m,v,b,w),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(ln,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",u.id),this.rectangle=Op(m,v,b,w),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.enableEdgeControls=a.enableEdgeControls;const x=this.enableEdgeControls?[[m+b/2,v,dc],[m+b,v+w/2,dc],[m+b/2,v+w,dc],[m,v+w/2,dc]]:[];this.handles=[[m,v,Ja],[m+b,v,Ja],[m+b,v+w,Ja],[m,v+w,Ja],...x].map(E=>{const[O,A,H]=E,X=this.drawHandle(O,A);return X.addEventListener("mousedown",this.onGrab(X,H)),this.elementGroup.appendChild(X),X}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),cc(this.rectangle,u,a.formatters),this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class hc extends Ip{constructor(u,o,a){super(u,o,a),r(this,"startDrawing",(c,m)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new I6(c,m,this.g,this.config,this.env)}),r(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),r(this,"onMouseMove",(c,m)=>this.rubberband.dragTo(c,m)),r(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:c,height:m}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,b=this.config.minSelectionHeight||4;if(c>=v&&m>=b){const{element:w}=this.rubberband;w.annotation=this.rubberband.toSelection(),this.emit("complete",w)}else this.emit("cancel");this.stop()}),r(this,"createEditableShape",(c,m)=>new j6(c,this.g,{...this.config,formatters:m},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}hc.identifier="rect",hc.supports=s=>{const u=s.selector("FragmentSelector");return u?.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const pc=s=>{let u=0,o=s.length-1;for(let a=0;a<s.length;a++)u+=(s[o][0]+s[a][0])*(s[o][1]-s[a][1]),o=a;return Math.abs(.5*u)},H6=(s,u,o,a)=>{const c=s[0]-u,m=s[1]-o;return Math.sqrt(c*c+m*m)<=a},F6=(s,u,o,a,c,m)=>{const v=Math.cos(0),b=Math.sin(0),w=s[0]-u,x=s[1]-o,E=v*w+b*x,O=b*w-v*x;return E*E/(a*a)+O*O/(c*c)<=1},Mp=(s,u)=>{const o=s[0],a=s[1];let c=!1;for(let m=0,v=u.length-1;m<u.length;v=m++){const b=u[m][0],w=u[m][1],x=u[v][0],E=u[v][1];w>a!=E>a&&o<(x-b)*(a-w)/(E-w)+b&&(c=!c)}return c},V6=(s,u)=>{for(let o of s)if(!Mp(o,u))return!1;return!0},U6=(s,u,o,a,c,m)=>{const v=s[0],b=s[1],w=a-u,x=c-o,E=Math.sqrt(w*w+x*x);return Math.abs((v-u)*x-(b-o)*w)/E<=m},gx=s=>{const u=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(c=>c.trim()),o=[];let a=[];for(let c of u){const m=c.substring(0,1);if(m.toLowerCase()==="z")o.push([...a]),a=[];else{const v=c.substring(1).split(" ").map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?v[0]:v[0]+a[a.length-1][0],x=b?v[1]:v[1]+a[a.length-1][1];a.push([w,x])}}return a.length>0&&o.push([...a]),o},W6=s=>{const u=new XMLSerializer().serializeToString(s.documentElement).replace("<svg>",`<svg xmlns="${ln}">`);return new DOMParser().parseFromString(u,"image/svg+xml").documentElement},vx=s=>{const u=a=>{Array.from(a.attributes).forEach(c=>{c.name.startsWith("on")&&a.removeAttribute(c.name)})},o=s.getElementsByTagName("script");return Array.from(o).reverse().forEach(a=>a.parentNode.removeChild(a)),u(s),Array.from(s.querySelectorAll("*")).forEach(u),s},Lo=s=>{const u=s.selector("SvgSelector");if(u){const o=new DOMParser,{value:a}=u,c=o.parseFromString(a,"image/svg+xml"),m=c.lookupPrefix(ln),v=c.lookupNamespaceURI(null);return m||v?vx(c).firstChild:vx(W6(c)).firstChild}},yx=s=>{const u=Lo(s),o=document.createElementNS(ln,"g"),a=u.cloneNode(!0);a.setAttribute("class","a9s-inner");const c=u.cloneNode(!0);return c.setAttribute("class","a9s-outer"),o.appendChild(c),o.appendChild(a),o},zp=(s,u)=>{const o=s.querySelector(".a9s-inner").cloneNode(!0);o.removeAttribute("class"),o.removeAttribute("xmlns");let a=o.outerHTML||new XMLSerializer().serializeToString(o);return a=a.replace(` xmlns="${ln}"`,""),{source:u?.src,selector:{type:"SvgSelector",value:`<svg>${a}</svg>`}}},G6=s=>{const u=Lo(s),o=u.nodeName.toLowerCase();if(o==="polygon")return q6(u);if(o==="circle")return X6(u);if(o==="ellipse")return Y6(u);if(o=="path")return K6(u);if(o=="line")return 0;throw`Unsupported SVG shape type: ${o}`},q6=s=>{const u=s.getAttribute("points").trim().split(" ").map(o=>o.split(",").map(a=>parseFloat(a.trim())));return pc(u)},X6=s=>{const u=s.getAttribute("r");return u*u*Math.PI},Y6=s=>{const u=s.getAttribute("rx"),o=s.getAttribute("ry");return u*o*Math.PI},K6=s=>{const u=gx(s);if(u.length==1)return pc(u[0]);{const o=c=>u.find(m=>{if(c!==m)return V6(c,m)});let a=0;for(let c of u)o(c)?a-=pc(c):a+=pc(c);return a}};class bx{constructor(u,o){r(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),r(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=u.naturalWidth,this.h=u.naturalHeight,this.polygon=o,this.mask=document.createElementNS(ln,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class Z6{constructor(u,o,a){r(this,"setPoints",c=>{const m=c.map(v=>`${v[0]},${v[1]}`).join(" ");this.outer.setAttribute("points",m),this.inner.setAttribute("points",m)}),r(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),r(this,"dragTo",c=>{this.group.style.display=null,this.mousepos=c;const m=[...this.points,c];this.setPoints(m),this.mask.redraw()}),r(this,"addPoint",()=>{const[c,m]=this.mousepos,v=this.points[this.points.length-1];Math.pow(c-v[0],2)+Math.pow(m-v[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),r(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),r(this,"toSelection",()=>new Za(zp(this.group,this.env.image))),this.points=[u],this.env=a,this.mousepos=u,this.group=document.createElementNS(ln,"g"),this.polygon=document.createElementNS(ln,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(ln,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(ln,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new bx(a.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),o.appendChild(this.group)}get element(){return this.polygon}}const Lp=s=>{const u=s.querySelector(".a9s-inner").points,o=[];for(let a=0;a<u.numberOfItems;a++)o.push(u.getItem(a));return o},J6=s=>s.querySelector(".a9s-inner").getBBox();class $6 extends px{constructor(u,o,a,c){super(u,o,a,c),r(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),r(this,"setPoints",m=>{const v=H=>Math.round(10*H)/10,b=m.map(H=>`${v(H.x)},${v(H.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",b);const w=this.shape.querySelector(".a9s-outer");w.setAttribute("points",b),this.mask.redraw();const{x,y:E,width:O,height:A}=w.getBBox();mx(this.elementGroup,x,E,O,A)}),r(this,"onGrab",m=>v=>{v.button===0&&(this.grabbedElem=m,this.grabbedAt=this.getSVGPoint(v))}),r(this,"onMouseMove",m=>{const v=(b,w,x)=>b+w<0?-b:b+w>x?x-b:w;if(this.grabbedElem){const b=this.getSVGPoint(m);if(this.grabbedElem===this.shape){const{x:w,y:x,width:E,height:O}=J6(this.shape),{naturalWidth:A,naturalHeight:H}=this.env.image,X=v(w,b.x-this.grabbedAt.x,A-E),ae=v(x,b.y-this.grabbedAt.y,H-O),ie=Lp(this.shape).map(de=>({x:de.x+X,y:de.y+ae}));this.grabbedAt=b,this.setPoints(ie),ie.forEach((de,M)=>this.setHandleXY(this.handles[M],de.x,de.y)),this.emit("update",zp(this.shape,this.env.image))}else{const w=this.handles.indexOf(this.grabbedElem),x=Lp(this.shape).map((E,O)=>O===w?b:E);this.setPoints(x),this.setHandleXY(this.handles[w],b.x,b.y),this.emit("update",zp(this.shape,this.env.image))}}}),r(this,"onMouseUp",m=>{this.grabbedElem=null,this.grabbedAt=null}),r(this,"updateState",m=>{const v=Lo(m).getAttribute("points").split(" ").map(b=>{const[w,x]=b.split(",").map(E=>parseFloat(E.trim()));return{x:w,y:x}});this.setPoints(v),v.forEach((b,w)=>this.setHandleXY(this.handles[w],b.x,b.y))}),r(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(ln,"g"),this.shape=yx(u),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new bx(c.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(ln,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",u.id),this.elementGroup.appendChild(this.shape),this.handles=Lp(this.shape).map(m=>{const v=this.drawHandle(m.x,m.y);return v.addEventListener("mousedown",this.onGrab(v)),this.elementGroup.appendChild(v),v}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),cc(this.shape,u,a.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Bp extends Ip{constructor(u,o,a){super(u,o,a),r(this,"startDrawing",(c,m,v)=>{this._isDrawing=!0,this._startOnSingleClick=v,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new Z6([c,m],this.g,this.env)}),r(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),r(this,"onMouseMove",(c,m)=>this.rubberband.dragTo([c,m])),r(this,"onMouseUp",()=>{const{width:c,height:m}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,b=this.config.minSelectionHeight||4;c>=v||m>=b?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),r(this,"onDblClick",()=>{this._isDrawing=!1;const c=this.rubberband.element;c.annotation=this.rubberband.toSelection(),this.emit("complete",c),this.stop()}),r(this,"createEditableShape",(c,m)=>new $6(c,this.g,{...this.config,formatters:m},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Bp.identifier="polygon",Bp.supports=s=>{var u;const o=s.selector("SvgSelector");if(o)return(u=o.value)==null?void 0:u.match(/^<svg.*<polygon/g)};class Q6 extends Xi{constructor(u,o,a){super(),r(this,"listTools",()=>this._registered.map(c=>c.identifier)),r(this,"registerTool",c=>{const m=c.identifier;this.listTools().includes(m)&&this.unregisterTool(m),this._registered.unshift(c)}),r(this,"unregisterTool",c=>this._registered=this._registered.filter(m=>m.identifier!==c)),r(this,"setCurrent",c=>{this._current&&this._current.destroy();const m=typeof c=="string"||c instanceof String?this._registered.find(v=>v.identifier===c):c;this._current=new m(this._g,this._config,this._env),this._current.on("startSelection",v=>this.emit("startSelection",v)),this._current.on("complete",v=>this.emit("complete",v)),this._current.on("cancel",v=>this.emit("cancel",v))}),r(this,"forAnnotation",c=>{var m;const[v,...b]=c.targets,w=(m=v.renderedVia)==null?void 0:m.name,x=w?this._registered.find(E=>E.identifier===w):this._registered.find(E=>E.supports(c));return x?new x(this._g,this._config,this._env):null}),this._g=u,this._config=o,this._env=a,this._registered=[hc,Bp],this.setCurrent(hc)}get current(){return this._current}}const ez={FragmentSelector:Op,SvgSelector:yx},tz={FragmentSelector:A6,SvgSelector:G6},wx=s=>{const u=s.targets[0];if(u)return Array.isArray(u.selector)?u.selector[0]:u.selector},Np=(s,u)=>ez[wx(s).type](s,u),xx=(s,u)=>tz[wx(s).type](s,u);class nz{constructor(u){const o=document.createElementNS(ln,"svg");o.setAttribute("class","a9s-osd-crosshair-container");const a=document.createElementNS(ln,"g");a.setAttribute("class","a9s-crosshair"),o.appendChild(a);const c=document.createElementNS(ln,"line"),m=document.createElementNS(ln,"line");a.appendChild(c),a.appendChild(m),u.parentElement.appendChild(o);const v=b=>{const{offsetX:w,offsetY:x}=b,E=u.parentElement.offsetWidth,O=u.parentElement.offsetHeight;c.setAttribute("x1",0),c.setAttribute("y1",x),c.setAttribute("x2",E),c.setAttribute("y2",x),m.setAttribute("x1",w),m.setAttribute("y1",0),m.setAttribute("x2",w),m.setAttribute("y2",O)};u.addEventListener("pointermove",v),u.parentElement.addEventListener("pointermove",v)}}function iz(s,u,o,a,c){Sx(s,u,o||0,a||s.length-1,c||rz)}function Sx(s,u,o,a,c){for(;a>o;){if(a-o>600){var m=a-o+1,v=u-o+1,b=Math.log(m),w=.5*Math.exp(2*b/3),x=.5*Math.sqrt(b*w*(m-w)/m)*(v-m/2<0?-1:1),E=Math.max(o,Math.floor(u-v*w/m+x)),O=Math.min(a,Math.floor(u+(m-v)*w/m+x));Sx(s,u,E,O,c)}var A=s[u],H=o,X=a;for($a(s,o,u),c(s[a],A)>0&&$a(s,o,a);H<X;){for($a(s,H,X),H++,X--;c(s[H],A)<0;)H++;for(;c(s[X],A)>0;)X--}c(s[o],A)===0?$a(s,o,X):(X++,$a(s,X,a)),X<=u&&(o=X+1),u<=X&&(a=X-1)}}function $a(s,u,o){var a=s[u];s[u]=s[o],s[o]=a}function rz(s,u){return s<u?-1:s>u?1:0}class oz{constructor(u=9){this._maxEntries=Math.max(4,u),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(u){let o=this.data;const a=[];if(!mc(u,o))return a;const c=this.toBBox,m=[];for(;o;){for(let v=0;v<o.children.length;v++){const b=o.children[v],w=o.leaf?c(b):b;mc(u,w)&&(o.leaf?a.push(b):Hp(u,w)?this._all(b,a):m.push(b))}o=m.pop()}return a}collides(u){let o=this.data;if(!mc(u,o))return!1;const a=[];for(;o;){for(let c=0;c<o.children.length;c++){const m=o.children[c],v=o.leaf?this.toBBox(m):m;if(mc(u,v)){if(o.leaf||Hp(u,v))return!0;a.push(m)}}o=a.pop()}return!1}load(u){if(!(u&&u.length))return this;if(u.length<this._minEntries){for(let a=0;a<u.length;a++)this.insert(u[a]);return this}let o=this._build(u.slice(),0,u.length-1,0);if(!this.data.children.length)this.data=o;else if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){const a=this.data;this.data=o,o=a}this._insert(o,this.data.height-o.height-1,!0)}return this}insert(u){return u&&this._insert(u,this.data.height-1),this}clear(){return this.data=Vs([]),this}remove(u,o){if(!u)return this;let a=this.data;const c=this.toBBox(u),m=[],v=[];let b,w,x;for(;a||m.length;){if(a||(a=m.pop(),w=m[m.length-1],b=v.pop(),x=!0),a.leaf){const E=sz(u,a.children,o);if(E!==-1)return a.children.splice(E,1),m.push(a),this._condense(m),this}!x&&!a.leaf&&Hp(a,c)?(m.push(a),v.push(b),b=0,w=a,a=a.children[0]):w?(b++,a=w.children[b],x=!1):a=null}return this}toBBox(u){return u}compareMinX(u,o){return u.minX-o.minX}compareMinY(u,o){return u.minY-o.minY}toJSON(){return this.data}fromJSON(u){return this.data=u,this}_all(u,o){const a=[];for(;u;)u.leaf?o.push(...u.children):a.push(...u.children),u=a.pop();return o}_build(u,o,a,c){const m=a-o+1;let v=this._maxEntries,b;if(m<=v)return b=Vs(u.slice(o,a+1)),Fs(b,this.toBBox),b;c||(c=Math.ceil(Math.log(m)/Math.log(v)),v=Math.ceil(m/Math.pow(v,c-1))),b=Vs([]),b.leaf=!1,b.height=c;const w=Math.ceil(m/v),x=w*Math.ceil(Math.sqrt(v));Ex(u,o,a,x,this.compareMinX);for(let E=o;E<=a;E+=x){const O=Math.min(E+x-1,a);Ex(u,E,O,w,this.compareMinY);for(let A=E;A<=O;A+=w){const H=Math.min(A+w-1,O);b.children.push(this._build(u,A,H,c-1))}}return Fs(b,this.toBBox),b}_chooseSubtree(u,o,a,c){for(;c.push(o),!(o.leaf||c.length-1===a);){let m=1/0,v=1/0,b;for(let w=0;w<o.children.length;w++){const x=o.children[w],E=jp(x),O=uz(u,x)-E;O<v?(v=O,m=E<m?E:m,b=x):O===v&&E<m&&(m=E,b=x)}o=b||o.children[0]}return o}_insert(u,o,a){const c=a?u:this.toBBox(u),m=[],v=this._chooseSubtree(c,this.data,o,m);for(v.children.push(u),el(v,c);o>=0&&m[o].children.length>this._maxEntries;)this._split(m,o),o--;this._adjustParentBBoxes(c,m,o)}_split(u,o){const a=u[o],c=a.children.length,m=this._minEntries;this._chooseSplitAxis(a,m,c);const v=this._chooseSplitIndex(a,m,c),b=Vs(a.children.splice(v,a.children.length-v));b.height=a.height,b.leaf=a.leaf,Fs(a,this.toBBox),Fs(b,this.toBBox),o?u[o-1].children.push(b):this._splitRoot(a,b)}_splitRoot(u,o){this.data=Vs([u,o]),this.data.height=u.height+1,this.data.leaf=!1,Fs(this.data,this.toBBox)}_chooseSplitIndex(u,o,a){let c,m=1/0,v=1/0;for(let b=o;b<=a-o;b++){const w=Qa(u,0,b,this.toBBox),x=Qa(u,b,a,this.toBBox),E=cz(w,x),O=jp(w)+jp(x);E<m?(m=E,c=b,v=O<v?O:v):E===m&&O<v&&(v=O,c=b)}return c||a-o}_chooseSplitAxis(u,o,a){const c=u.leaf?this.compareMinX:az,m=u.leaf?this.compareMinY:lz,v=this._allDistMargin(u,o,a,c),b=this._allDistMargin(u,o,a,m);v<b&&u.children.sort(c)}_allDistMargin(u,o,a,c){u.children.sort(c);const m=this.toBBox,v=Qa(u,0,o,m),b=Qa(u,a-o,a,m);let w=fc(v)+fc(b);for(let x=o;x<a-o;x++){const E=u.children[x];el(v,u.leaf?m(E):E),w+=fc(v)}for(let x=a-o-1;x>=o;x--){const E=u.children[x];el(b,u.leaf?m(E):E),w+=fc(b)}return w}_adjustParentBBoxes(u,o,a){for(let c=a;c>=0;c--)el(o[c],u)}_condense(u){for(let o=u.length-1,a;o>=0;o--)u[o].children.length===0?o>0?(a=u[o-1].children,a.splice(a.indexOf(u[o]),1)):this.clear():Fs(u[o],this.toBBox)}}function sz(s,u,o){if(!o)return u.indexOf(s);for(let a=0;a<u.length;a++)if(o(s,u[a]))return a;return-1}function Fs(s,u){Qa(s,0,s.children.length,u,s)}function Qa(s,u,o,a,c){c||(c=Vs(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(let m=u;m<o;m++){const v=s.children[m];el(c,s.leaf?a(v):v)}return c}function el(s,u){return s.minX=Math.min(s.minX,u.minX),s.minY=Math.min(s.minY,u.minY),s.maxX=Math.max(s.maxX,u.maxX),s.maxY=Math.max(s.maxY,u.maxY),s}function az(s,u){return s.minX-u.minX}function lz(s,u){return s.minY-u.minY}function jp(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function fc(s){return s.maxX-s.minX+(s.maxY-s.minY)}function uz(s,u){return(Math.max(u.maxX,s.maxX)-Math.min(u.minX,s.minX))*(Math.max(u.maxY,s.maxY)-Math.min(u.minY,s.minY))}function cz(s,u){const o=Math.max(s.minX,u.minX),a=Math.max(s.minY,u.minY),c=Math.min(s.maxX,u.maxX),m=Math.min(s.maxY,u.maxY);return Math.max(0,c-o)*Math.max(0,m-a)}function Hp(s,u){return s.minX<=u.minX&&s.minY<=u.minY&&u.maxX<=s.maxX&&u.maxY<=s.maxY}function mc(s,u){return u.minX<=s.maxX&&u.minY<=s.maxY&&u.maxX>=s.minX&&u.maxY>=s.minY}function Vs(s){return{children:s,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ex(s,u,o,a,c){const m=[u,o];for(;m.length;){if(o=m.pop(),u=m.pop(),o-u<=a)continue;const v=u+Math.ceil((o-u)/a/2)*a;iz(s,v,u,o,c),m.push(u,v,v,o)}}const Fp=(s,u)=>{if(s.targets[0].selector.type==="FragmentSelector"){const{x:o,y:a,w:c,h:m}=Zr(s);return{minX:o,minY:a,maxX:o+c,maxY:a+m}}else{const o=Np(s,u),a=document.createElementNS(ln,"svg");a.style.position="absolute",a.style.opacity=0,a.style.top=0,a.style.left=0,a.appendChild(o),document.body.appendChild(a);const{x:c,y:m,width:v,height:b}=o.getBBox();return document.body.removeChild(a),{minX:c,minY:m,maxX:c+v,maxY:m+b}}},dz=s=>{var u;const o=s.targets[0];return Array.isArray(o.selector)?o.selector[0].type:(u=o.selector)==null?void 0:u.type},hz=(s,u,o,a)=>{const c=Lo(o),m=c.nodeName.toLowerCase(),v=[s,u];if(m==="polygon"){const b=Array.from(c.points).map(w=>[w.x,w.y]);return Mp(v,b)}else if(m==="circle"){const b=c.getAttribute("cx"),w=c.getAttribute("cy"),x=c.getAttribute("r");return H6(v,b,w,x)}else if(m==="ellipse"){const b=c.getAttribute("cx"),w=c.getAttribute("cy"),x=c.getAttribute("rx"),E=c.getAttribute("ry");return F6(v,b,w,x,E)}else{if(m==="path")return gx(c).find(b=>Mp(v,b));if(m==="line"){const b=parseInt(c.getAttribute("x1")),w=parseInt(c.getAttribute("y1")),x=parseInt(c.getAttribute("x2")),E=parseInt(c.getAttribute("y2"));return U6(v,b,w,x,E,a)}else throw`Unsupported SVG shape type: ${m}`}};class pz{constructor(u){r(this,"clear",()=>this.spatial_index.clear()),r(this,"getAnnotationAt",(o,a,c)=>{const m=c?5/c:5,v=this.spatial_index.search({minX:o-m,minY:a-m,maxX:o+m,maxY:a+m}).map(b=>b.annotation).filter(b=>{const w=dz(b);if(w==="FragmentSelector")return!0;if(w==="SvgSelector")return hz(o,a,b,m);throw`Unsupported selector type: ${w}`});if(v.length>0)return v.sort((b,w)=>xx(b,this.env.image)-xx(w,this.env.image)),v[0]}),r(this,"getAnnotationsIntersecting",o=>{const a=o.minX,c=a?o:Fp(o,this.env.image),m=this.spatial_index.search(c).map(v=>v.annotation);return a?m:m.filter(v=>!v.isEqual(o))}),r(this,"insert",o=>{(Array.isArray(o)?o:[o]).forEach(a=>{this.spatial_index.insert({...Fp(a,this.env.image),annotation:a})})}),r(this,"getBounds",o=>this.getBounds(o,this.env.image)),r(this,"remove",o=>{const a={...Fp(o,this.env.image),annotation:o};this.spatial_index.remove(a,(c,m)=>c.annotation.id===m.annotation.id)}),this.env=u,u.store=this,this.spatial_index=new oz}}const Tx=(s,u)=>{const o=(Rp(u,".a9s-annotation")?u:u.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:a}=s.drawer,c=a.getBoundingClientRect(),m=a.width/c.width,v=a.height/c.height,b=o.x-c.x,w=o.y-c.y,{width:x,height:E}=o,O=document.createElement("CANVAS"),A=O.getContext("2d");O.width=x,O.height=E,A.drawImage(a,b*m,w*v,x*m,E*v,0,0,x,E);const H=s.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(b,w)),X=s.viewport.viewportToImageZoom(s.viewport.getZoom());return{snippet:O,transform:ae=>{const ie=H.x+ae[0]/m/X,de=H.y+ae[1]/v/X;return[ie,de]}}},fz=Ap();class kx extends Xi{constructor(u){super(),r(this,"_getShapeAt",a=>{const c=w=>{const x=this.svg.createSVGPoint();if(window.TouchEvent&&w instanceof TouchEvent){const E=this.svg.getBoundingClientRect(),O=w.touches[0],A=O.clientX-E.x,H=O.clientY-E.y,{left:X,top:ae}=this.svg.getBoundingClientRect();return x.x=A+X,x.y=H+ae,x.matrixTransform(this.g.getScreenCTM().inverse())}else return x.x=w.offsetX,x.y=w.offsetY,x.matrixTransform(this.g.getCTM().inverse())},{x:m,y:v}=c(a),b=this.store.getAnnotationAt(m,v,this.currentScale());if(b)return this.findShape(b)}),r(this,"_initDrawingTools",a=>{var c;let m=!1,v=!1,b=!1;this.tools=new Q6(this.g,this.config,this.env),this.tools.on("complete",E=>{v=!1,this.onDrawingComplete(E)}),this.mouseTracker=new Kr.MouseTracker({element:this.svg,preProcessEventHandler:E=>{this.mouseTracker.enabled||(E.preventDefault=!1,E.preventGesture=!0),this.selectedShape&&E.eventType==="wheel"&&(E.preventDefault=!1,this.viewer.canvas.dispatchEvent(new E.originalEvent.constructor(E.eventType,E.originalEvent)))},pressHandler:E=>{this.tools.current.isDrawing||(this.tools.current.start(E.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),a||this.scaleTool(this.tools.current))},moveHandler:E=>{if(this.tools.current.isDrawing){const{x:O,y:A}=this.tools.current.getSVGPoint(E.originalEvent);!E.buttons||!v?(E.originalEvent.stopPropagation(),this.tools.current.onMouseMove(O,A,E.originalEvent),m||(this.emit("startSelection",{x:O,y:A}),m=!0)):(!b&&this.tools.current.onDragStart&&this.tools.current.onDragStart(O,A,E.originalEvent),b=!0)}},releaseHandler:E=>{if(this.tools.current.isDrawing){v=!0;const{x:O,y:A}=this.tools.current.getSVGPoint(E.originalEvent);m&&this.emit("endSelection",{x:O,y:A}),this.tools.current.onMouseUp(O,A,E.originalEvent),b&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}m=!1,b=!1}});const w=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",x=(c=this.config.hotkey)==null?void 0:c.inverted;this.mouseTracker.enabled=x,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=E=>{if(E.key.toLowerCase()===w&&!this.selectedShape){const O=!this.readOnly&&!x;this.mouseTracker.enabled=O,this.tools.current.enabled=O}},this.onKeyUp=E=>{E.key.toLowerCase()===w&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=x,this.tools.current.enabled=x)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),r(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",c=>{var m,v;if(!((m=this.tools)!=null&&m.current.isDrawing)&&!c.target.closest(".a9s-annotation.editable.selected")){const b=this._getShapeAt(c);if(b?.annotation!==((v=this.hoveredShape)==null?void 0:v.annotation)){if(this.hoveredShape){const w=this.hoveredShape.element||this.hoveredShape;sc(w,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}b&&(Lr(b,"hover"),this.emit("mouseEnterAnnotation",b.annotation,b))}this.hoveredShape=b}}),this.svg.parentElement.addEventListener("mouseleave",()=>{this.hoveredShape&&(sc(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)});let a=null;this.viewer.addHandler("canvas-press",()=>a=new Date().getTime()),this.viewer.addHandler("canvas-click",c=>{var m;const{originalEvent:v}=c;if(!((m=this.tools.current)!=null&&m.isDrawing||this.disableSelect)&&new Date().getTime()-a<250){const b=v.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(v);b?(c.preventDefaultAction=!0,this.selectShape(b)):b||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),r(this,"_lazy",a=>{if(this.viewer.world.getItemAt(0))a();else{const c=()=>{a(),this.viewer.removeHandler("open",c),this.viewer.world.removeHandler("add-item",c)};this.viewer.addHandler("open",c),this.viewer.world.addHandler("add-item",c)}}),r(this,"_refreshNonScalingAnnotations",()=>{const a=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(c=>c.setAttribute("transform",`scale(${1/a})`))}),r(this,"addAnnotation",(a,c)=>{const m=c||this.g,v=Np(a,this.env.image);return Lr(v,"a9s-annotation"),v.setAttribute("data-id",a.id),v.annotation=a,m.appendChild(v),cc(v,a,this.formatters),this.scaleFormatterElements(v),v}),r(this,"addDrawingTool",a=>this.tools.registerTool(a)),r(this,"addOrUpdateAnnotation",(a,c)=>{var m;const v=(m=this.selectedShape)==null?void 0:m.annotation;(v===a||v!=null&&v.isSelection||v==c)&&this.deselect(),c&&this.removeAnnotation(a),this.removeAnnotation(a);const b=this.addAnnotation(a);Rp(b,"a9s-non-scaling")&&b.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(a)}),r(this,"currentScale",()=>{const a=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*a/this.viewer.world.getContentFactor()}),r(this,"deselect",()=>{var a;if((a=this.tools)==null||a.current.stop(),this.selectedShape){const{annotation:c}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!c.isSelection){const m=this.addAnnotation(c);Rp(m,"a9s-non-scaling")&&m.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else sc(this.selectedShape,"selected");this.selectedShape=null}}),r(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),r(this,"findShape",a=>{const c=a!=null&&a.id?a.id:a;return this.g.querySelector(`.a9s-annotation[data-id="${c}"]`)}),r(this,"_fit",(a,c,m)=>{const v=this.findShape(a);if(v){const b=c?typeof c=="boolean"?c:c.immediately:!1,w=c?.padding||0,x=this.viewer.container.getBoundingClientRect(),E=Math.min(2*w/x.width,2*w/x.height),{x:O,y:A,width:H,height:X}=v.getBBox(),ae=O-E*H,ie=A-E*X,de=H+2*E*H,M=X+2*E*X,oe=this.viewer.viewport.imageToViewportRectangle(ae,ie,de,M);this.viewer.viewport[m](oe,b)}}),r(this,"fitBounds",(a,c)=>this._fit(a,c,"fitBounds")),r(this,"fitBoundsWithConstraints",(a,c)=>this._fit(a,c,"fitBoundsWithConstraints")),r(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(a=>a.annotation)),r(this,"getAnnotationsIntersecting",a=>{const c=a.id?a:this.findShape(a).annotation;return this.store.getAnnotationsIntersecting(c)}),r(this,"getImageSnippetById",a=>{const c=this.findShape(a);if(c)return Tx(this.viewer,c)}),r(this,"getSelectedImageSnippet",()=>{var a;if(this.selectedShape){const c=(a=this.selectedShape.element)!=null?a:this.selectedShape;return Tx(this.viewer,c)}}),r(this,"init",a=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(c=>this.g.removeChild(c)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),a.forEach(c=>this.addAnnotation(c)),console.log("Indexing..."),this.store.insert(a),console.timeEnd("Took"),this.resize()})}),r(this,"listDrawingTools",()=>this.tools.listTools()),r(this,"overrideId",(a,c)=>{const m=this.findShape(a);m.setAttribute("data-id",c);const{annotation:v}=m,b=v.clone({id:c});return m.annotation=b,this.store.remove(v),this.store.insert(b),b}),r(this,"panTo",(a,c)=>{const m=this.findShape(a);if(m){const{top:v,left:b,width:w,height:x}=m.getBoundingClientRect(),E=b+w/2+window.scrollX,O=v+x/2+window.scrollY,A=this.viewer.viewport.windowToViewportCoordinates(new Kr.Point(E,O));this.viewer.viewport.panTo(A,c)}}),r(this,"removeAnnotation",a=>{var c,m;const v=a.type?a.id:a;((c=this.selectedShape)==null?void 0:c.annotation.id)===v&&this.deselect();const b=this.findShape(a);if(b){const{annotation:w}=b;((m=this.selectedShape)==null?void 0:m.annotation)===w&&this.deselect(),b.parentNode.removeChild(b),this.store.remove(w)}}),r(this,"removeDrawingTool",a=>{var c;return(c=this.tools)==null?void 0:c.unregisterTool(a)}),r(this,"scaleFormatterElements",a=>{const c=1/this.currentScale();if(a){const m=a.querySelector(".a9s-formatter-el");m&&m.firstChild.setAttribute("transform",`scale(${c})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(m=>m.firstChild.setAttribute("transform",`scale(${c})`))}),r(this,"scaleTool",a=>{if(a){const c=1/this.currentScale();a.scale=c,a.onScaleChanged&&a.onScaleChanged(c)}}),r(this,"selectAnnotation",(a,c)=>{this.selectedShape&&this.deselect();const m=this.findShape(a);if(m){this.selectShape(m,c);const v=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:m.annotation,element:v}}else this.deselect()}),r(this,"selectShape",(a,c)=>{var m;if(!c&&!a.annotation.isSelection&&this.emit("clickAnnotation",a.annotation,a),((m=this.selectedShape)==null?void 0:m.annotation)===a.annotation)return;this.selectedShape&&this.selectedShape.annotation!==a.annotation&&this.deselect();const{annotation:v}=a;if(this.readOnly||v.readOnly||this.headless)this.selectedShape=a,Lr(a,"selected"),c||this.emit("select",{annotation:v,element:a,skipEvent:c});else{const b=this.tools.forAnnotation(v);if(b){setTimeout(()=>{a.parentNode.removeChild(a),c||this.emit("select",{annotation:v,element:this.selectedShape.element})},1),this.selectedShape=b.createEditableShape(v,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=v;const w=new Kr.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>this.emit("updateTarget",this.selectedShape.element,x))}else this.selectedShape=a,c||this.emit("select",{annotation:v,element:this.selectedShape})}}),r(this,"setDrawingEnabled",a=>{if(this.mouseTracker){const c=a&&!this.readOnly;this.mouseTracker.enabled=c,this.mouseTracker.setTracking(c),this.tools.current&&(this.tools.current.enabled=c)}}),r(this,"setDrawingTool",a=>{var c;this.tools&&((c=this.tools.current)==null||c.stop(),this.tools.setCurrent(a))}),r(this,"setVisible",a=>{a?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),r(this,"stopDrawing",()=>{var a;(a=this.tools)!=null&&a.current&&(this.tools.current.isDrawing&&this.tools.current.stop(),this.mouseTracker.enabled=!1,this.tools.current.enabled=!1)}),this.viewer=u.viewer,this.config=u.config,this.env=u.env,this.readOnly=u.config.readOnly,this.headless=u.config.headless,u.config.formatter?this.formatters=[u.config.formatter]:u.config.formatters&&(this.formatters=Array.isArray(u.config.formatters)?u.config.formatters:[u.config.formatters]),this.disableSelect=u.config.disableSelect,this.drawOnSingleClick=u.config.drawOnSingleClick,this.svg=document.createElementNS(ln,"svg"),fz?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),z6(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(ln,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const o=()=>{const{x:a,y:c}=this.viewer.world.getItemAt(0).source.dimensions,m=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:m,naturalWidth:a,naturalHeight:c},u.config.crosshair&&(this.crosshair||(this.crosshair=new nz(this.svg),Lr(this.svg,"no-cursor"))),this.loaded||this.emit("load",m),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",o),this.viewer.world.addHandler("add-item",o),this.viewer.world.getItemAt(0)&&o(),this.store=new pz(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var u;const o=this.viewer.viewport.getFlip(),a=this.viewer.viewport.pixelFromPoint(new Kr.Point(0,0),!0);o&&(a.x=this.viewer.viewport._containerInnerSize.x-a.x);const c=this.currentScale(),m=o?-c:c,v=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${a.x}, ${a.y}) scale(${m}, ${c}) rotate(${v})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(u=this.tools)!=null&&u.current&&this.scaleTool(this.tools.current)}}class mz extends kx{constructor(u){super(u),r(this,"onDrawingComplete",o=>{var a;this.mouseTracker.enabled=(a=this.config.hotkey)==null?void 0:a.inverted,this.selectShape(o),this.emit("createSelection",o.annotation)}),this._initDrawingTools()}}const Vp=s=>{const u=s.viewport.viewportToImageRectangle(s.viewport.getBounds(!0)),o=s.viewport.getContainerSize().x,a=s.viewport.getZoom(!0)*o/s.world.getContentFactor();return{extent:u,scale:a}},gz=s=>{var u;const o=s.targets[0];return o?Array.isArray(o.selector)?o.selector[0].type:(u=o.selector)==null?void 0:u.type:null},Cx=(s,u)=>{const{extent:o,scale:a}=Vp(s),{selector:c}=u,m=zo.create({target:u});if(c.type==="SvgSelector"){const v=Lo(m),b=v.nodeName.toLowerCase();let w=null;if(b==="polygon")w=vz(v,o,a);else if(b==="circle")w=yz(v,o,a);else if(b==="ellipse")w=bz(v,o,a);else if(b==="path")w=wz(v,o,a);else throw`Unsupported SVG shape type: ${b}`;let x=w.outerHTML||new XMLSerializer().serializeToString(w);return x=x.replace(` xmlns="${ln}"`,""),{...u,selector:{type:"SvgSelector",value:`<svg>${x}</svg>`}}}else if(c.type==="FragmentSelector"){const{x:v,y:b,w,h:x}=Zr(m),E=o.x+v/a,O=o.y+b/a,A=w/a,H=x/a;return w===0&&x===0?{...Hs(E,O,A,H),renderedVia:{name:"point"}}:Hs(E,O,A,H)}else throw`Unsupported selector type: ${c.type}`},vz=(s,u,o)=>{const a=Array.from(s.points).map(c=>{const m=u.x+c.x/o,v=u.y+c.y/o;return m+","+v}).join(" ");return s.setAttribute("points",a),s},yz=(s,u,o)=>{const a=parseFloat(s.getAttribute("cx")),c=parseFloat(s.getAttribute("cy")),m=parseFloat(s.getAttribute("r"));return s.setAttribute("cx",u.x+a/o),s.setAttribute("cy",u.y+c/o),s.setAttribute("r",m/o),s},bz=(s,u,o)=>{const a=parseFloat(s.getAttribute("cx")),c=parseFloat(s.getAttribute("cy")),m=parseFloat(s.getAttribute("rx")),v=parseFloat(s.getAttribute("ry"));return s.setAttribute("cx",u.x+a/o),s.setAttribute("cy",u.y+c/o),s.setAttribute("rx",m/o),s.setAttribute("ry",v/o),s},wz=(s,u,o)=>{const a=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(c=>c.trim()).map(c=>{const m=c.substring(0,1);if(m.toLowerCase()==="z")return m;{const v=c.substring(1).split(" ").map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?u.x+v[0]/o:v[0]/o,x=b?u.y+v[1]/o:v[1]/o;return m+" "+w+" "+x}}).join(" ");return s.setAttribute("d",a),s},Px=(s,u)=>{const{extent:o,scale:a}=Vp(s),c=u.selector("FragmentSelector");if(u.selector("SvgSelector")){const m=Lo(u),v=m.nodeName.toLowerCase();let b=null;if(v==="polygon")b=xz(m,o,a);else if(v==="circle")b=Sz(m,o,a);else if(v==="ellipse")b=Ez(m,o,a);else if(v==="path")b=Tz(m,o,a);else throw`Unsupported SVG shape type: ${v}`;let w=b.outerHTML||new XMLSerializer().serializeToString(b);w=w.replace(` xmlns="${ln}"`,"");const x={selector:{type:"SvgSelector",value:`<svg>${w}</svg>`}};return u.clone({target:x})}else if(c){const{x:m,y:v,w:b,h:w}=Zr(u),x=(m-o.x)*a,E=(v-o.y)*a,O=Hs(x,E,b*a,w*a);return u.clone({target:O})}},xz=(s,u,o)=>{const a=Array.from(s.points).map(c=>{const m=o*(c.x-u.x),v=o*(c.y-u.y);return m+","+v}).join(" ");return s.setAttribute("points",a),s},Sz=(s,u,o)=>{const a=s.getAttribute("cx"),c=s.getAttribute("cy"),m=s.getAttribute("r");return s.setAttribute("cx",o*(a-u.x)),s.setAttribute("cy",o*(c-u.y)),s.setAttribute("r",m*o),s},Ez=(s,u,o)=>{const a=s.getAttribute("cx"),c=s.getAttribute("cy"),m=s.getAttribute("rx"),v=s.getAttribute("ry");return s.setAttribute("cx",o*(a-u.x)),s.setAttribute("cy",o*(c-u.y)),s.setAttribute("rx",m*o),s.setAttribute("ry",v*o),s},Tz=(s,u,o)=>{const a=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(c=>c.trim()).map(c=>{const m=c.substring(0,1);if(m.toLowerCase()==="z")return m;{const v=c.substring(1).split(" ").filter(E=>E).map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?o*(v[0]-u.x):o*v[0],x=b?o*(v[1]-u.y):o*v[1];return m+" "+w+" "+x}}).join(" ");return s.setAttribute("d",a),s},_x=(s,u)=>{const{extent:o,scale:a}=Vp(s),c=gz(u.annotation);if(c==="FragmentSelector")kz(u,o,a);else if(c==="SvgSelector")Cz(u,o,a);else throw`Unsupported selector type type: ${c}`;const m=u.querySelector(".a9s-formatter-el");if(m){const{x:v,y:b}=u.querySelector(".a9s-inner").getBBox();m.setAttribute("x",v),m.setAttribute("y",b)}},kz=(s,u,o)=>{const{x:a,y:c,w:m,h:v}=Zr(s.annotation),b=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner"),x=o*(a-u.x),E=o*(c-u.y);m===0&&v===0?[b,w].forEach(O=>{O.setAttribute("cx",x),O.setAttribute("cy",E)}):[b,w].forEach(O=>{O.setAttribute("x",x),O.setAttribute("y",E),O.setAttribute("width",m*o),O.setAttribute("height",v*o)})},Cz=(s,u,o)=>{const a=Lo(s.annotation),c=a.nodeName.toLowerCase();if(c==="polygon")Pz(s,a,u,o);else if(c==="circle")_z(s,a,u,o);else if(c==="ellipse")Rz(s,a,u,o);else if(c==="path")Oz(s,a,u,o);else throw`Unsupported SVG shape type: ${c}`},Pz=(s,u,o,a)=>{const c=Array.from(u.points).map(m=>{const v=a*(m.x-o.x),b=a*(m.y-o.y);return v+","+b}).join(" ");s.querySelector(".a9s-outer").setAttribute("points",c),s.querySelector(".a9s-inner").setAttribute("points",c)},_z=(s,u,o,a)=>{const c=a*(u.getAttribute("cx")-o.x),m=a*(u.getAttribute("cy")-o.y),v=a*u.getAttribute("r"),b=s.querySelector(".a9s-outer");b.setAttribute("cx",c),b.setAttribute("cy",m),b.setAttribute("r",v);const w=s.querySelector(".a9s-inner");w.setAttribute("cx",c),w.setAttribute("cy",m),w.setAttribute("r",v)},Rz=(s,u,o,a)=>{const c=a*(u.getAttribute("cx")-o.x),m=a*(u.getAttribute("cy")-o.y),v=a*u.getAttribute("rx"),b=a*u.getAttribute("ry"),w=s.querySelector(".a9s-outer");w.setAttribute("cx",c),w.setAttribute("cy",m),w.setAttribute("rx",v),w.setAttribute("ry",b);const x=s.querySelector(".a9s-inner");x.setAttribute("cx",c),x.setAttribute("cy",m),x.setAttribute("rx",v),x.setAttribute("ry",b)},Oz=(s,u,o,a)=>{const c=u.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(m=>m.trim()).map(m=>{const v=m.substring(0,1);if(v.toLowerCase()==="z")return v;{const b=m.substring(1).split(" ").filter(O=>O).map(O=>parseFloat(O.trim())),w=v===v.toUpperCase(),x=w?a*(b[0]-o.x):a*b[0],E=w?a*(b[1]-o.y):a*b[1];return v+" "+x+" "+E}}).join(" ");s.querySelector(".a9s-inner").setAttribute("d",c),s.querySelector(".a9s-outer").setAttribute("d",c)},Dz=Ap();class Az extends kx{constructor(u){super(u),r(this,"_fit",(o,a,c)=>{const m=a?typeof a=="boolean"?a:a.immediately:!1,v=a?.padding||0,b=this.findShape(o);if(b){const w=this.viewer.container.getBoundingClientRect(),x=b.getBoundingClientRect(),E=x.x-w.x,O=x.y-w.y,{width:A,height:H}=x,X=E-v,ae=O-v,ie=A+2*v,de=H+2*v,M=this.viewer.viewport.viewerElementToViewportRectangle(new Kr.Rect(X,ae,ie,de));this.viewer.viewport[c](M,m)}}),r(this,"_getShapeAt",o=>{const a=w=>{if(Dz){const x=this.svg.getBoundingClientRect(),E=w.clientX-x.x,O=w.clientY-x.y;return new Kr.Point(E,O)}else return new Kr.Point(w.offsetX,w.offsetY)},c=this.viewer.viewport.viewerElementToViewportCoordinates(a(o)),{x:m,y:v}=this.viewer.viewport.viewportToImageCoordinates(c.x,c.y),b=this.store.getAnnotationAt(m,v,this.currentScale());if(b)return this.findShape(b)}),r(this,"_refreshNonScalingAnnotations",()=>{}),r(this,"addAnnotation",(o,a)=>{const c=a||this.g,m=Np(o,this.env.image);return Lr(m,"a9s-annotation"),m.setAttribute("data-id",o.id),m.annotation=o,_x(this.viewer,m),c.appendChild(m),cc(m,o,this.formatters),m}),r(this,"addOrUpdateAnnotation",(o,a)=>{var c;const m=(c=this.selectedShape)==null?void 0:c.annotation;(m===o||m!=null&&m.isSelection||m==a)&&this.deselect(),a&&this.removeAnnotation(o),this.removeAnnotation(o),this.addAnnotation(o),this.store.insert(o)}),r(this,"deselect",()=>{var o;if((o=this.tools)==null||o.current.stop(),this.selectedShape){const{annotation:a}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),a.isSelection||this.addAnnotation(a)):sc(this.selectedShape,"selected"),this.selectedShape=null}}),r(this,"onDrawingComplete",o=>{const a=o.annotation.clone({target:Cx(this.viewer,o.annotation.target)});o.annotation=a,this.selectShape(o),this.emit("createSelection",o.annotation),this.mouseTracker.enabled=!1}),r(this,"selectShape",(o,a)=>{var c;if(!a&&!o.annotation.isSelection&&this.emit("clickAnnotation",o.annotation,o),((c=this.selectedShape)==null?void 0:c.annotation)===o.annotation)return;this.selectedShape&&this.selectedShape.annotation!==o.annotation&&this.deselect(!0);const{annotation:m}=o;if(this.readOnly||m.readOnly||this.headless)this.selectedShape=o,Lr(o,"selected"),a||this.emit("select",{annotation:m,element:o,skipEvent:a});else{setTimeout(()=>{o.parentNode.removeChild(o),a||this.emit("select",{annotation:m,element:this.selectedShape.element})},1);const v=this.tools.forAnnotation(m);this.selectedShape=v.createEditableShape(m),this.selectedShape.element.annotation=m;const b=Px(this.viewer,m);this.selectedShape.updateState(b);const w=new Kr.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>{const E=Cx(this.viewer,x);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:E}),this.emit("updateTarget",this.selectedShape.element,E)})}}),this._initDrawingTools(!0)}resize(){if(this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(u=>_x(this.viewer,u)),this.selectedShape))if(this.selectedShape.element){const u=Px(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(u),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var Iz=0;function Rx(s,u,o,a,c){var m,v,b={};for(v in u)v=="ref"?m=u[v]:b[v]=u[v];var w={type:s,props:b,key:o,ref:m,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Iz,__source:a,__self:c};if(typeof s=="function"&&(m=s.defaultProps))for(v in m)b[v]===void 0&&(b[v]=m[v]);return h.vnode&&h.vnode(w),w}class Mz extends K{constructor(u){super(u),r(this,"clearState",o=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},o)),r(this,"forwardEvent",(o,a)=>{this.annotationLayer.on(o,(c,m)=>{this.props[a](c.clone(),m)})}),r(this,"onKeyUp",o=>{if(o.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:a}=this.state;a&&(this.cancelSelected(),this.props.onCancelSelected(a))}else if(o.which===46){const{disableDeleteKey:a}=this.props.config;if(!a){const{selectedAnnotation:c}=this.state;c&&(c.isSelection?this.onCancelAnnotation(c):this.onDeleteAnnotation(c))}}}),r(this,"handleStartSelect",o=>this.props.onSelectionStarted(o)),r(this,"handleEndSelect",o=>this.props.onSelectionEnded(o)),r(this,"handleSelect",(o,a)=>{this.state.editorDisabled?this.onHeadlessSelect(o,a):this.onNormalSelect(o,a)}),r(this,"onNormalSelect",(o,a)=>{const{annotation:c,element:m}=o;if(c){const v=()=>{this.setState({selectedAnnotation:c,selectedDOMElement:m,modifiedTarget:null},()=>{a||(c.isSelection?this.props.onSelectionCreated(c.clone()):this.props.onAnnotationSelected(c.clone(),m))})},{selectedAnnotation:b}=this.state;b&&!b.isEqual(c)?this.clearState(()=>{this.props.onCancelSelected(b),v()}):v()}else{const{selectedAnnotation:v}=this.state;v?this.clearState(()=>this.props.onCancelSelected(v)):this.clearState()}}),r(this,"onHeadlessSelect",(o,a)=>{this.saveSelected().then(()=>{this.onNormalSelect(o,a)})}),r(this,"handleUpdateTarget",(o,a)=>{this.setState({selectedDOMElement:o,modifiedTarget:a});const c=JSON.parse(JSON.stringify(a));this.props.onSelectionTargetChanged(c)}),r(this,"handleViewportChange",o=>this.setState({selectedDOMElement:o})),r(this,"overrideAnnotationId",o=>a=>{const{id:c}=o;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(c,a)}):this.annotationLayer.overrideId(c,a)}),r(this,"onCreateOrUpdateAnnotation",(o,a)=>(c,m)=>{let v=c.isSelection?c.toAnnotation():c;v=this.state.modifiedTarget?v.clone({target:this.state.modifiedTarget}):v.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(v,m),m?this.props[o](v,m.clone()):this.props[o](v,this.overrideAnnotationId(v)),a&&a()})}),r(this,"onDeleteAnnotation",o=>{this.clearState(),this.annotationLayer.removeAnnotation(o),this.props.onAnnotationDeleted(o)}),r(this,"onCancelAnnotation",(o,a)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(o),this.clearState(a)}),r(this,"addAnnotation",o=>{var a;o.id===((a=this.state.selectedAnnotation)==null?void 0:a.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(o.clone())}),r(this,"addDrawingTool",o=>this.annotationLayer.addDrawingTool(o)),r(this,"cancelSelected",()=>new Promise(o=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(o):o()})),r(this,"fitBounds",(o,a)=>this.annotationLayer.fitBounds(o,a)),r(this,"fitBoundsWithConstraints",(o,a)=>this.annotationLayer.fitBoundsWithConstraints(o,a)),r(this,"getAnnotationById",o=>{var a;return(a=this.annotationLayer.findShape(o))==null?void 0:a.annotation}),r(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(o=>o.clone())),r(this,"getAnnotationsIntersecting",o=>this.annotationLayer.getAnnotationsIntersecting(o)),r(this,"getImageSnippetById",o=>this.annotationLayer.getImageSnippetById(o)),r(this,"getSelected",()=>{var o;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(o=this._editor.current)==null?void 0:o.getCurrentAnnotation()}),r(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),r(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),r(this,"panTo",(o,a)=>this.annotationLayer.panTo(o,a)),r(this,"removeAnnotation",o=>this.annotationLayer.removeAnnotation(o)),r(this,"removeDrawingTool",o=>this.annotationLayer.removeDrawingTool(o)),r(this,"saveSelected",()=>new Promise(o=>{const a=this.state.selectedAnnotation;if(a)if(this._editor.current)this._editor.current.onOk(),o();else if(a.isSelection)a.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",o)(a):(this.annotationLayer.deselect(),o());else{const{beforeHeadlessModify:c,modifiedTarget:m}=this.state;c?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(a,c):m?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(a,a):this.onCancelAnnotation(a,o)}else o()})),r(this,"selectAnnotation",o=>{const a=this.annotationLayer.selectAnnotation(o,!0);if(a)return this.handleSelect(a,!0),a.annotation.clone();this.clearState()}),r(this,"setAnnotations",o=>this.annotationLayer.init(o.map(a=>a.clone()))),r(this,"setDrawingEnabled",o=>this.annotationLayer.setDrawingEnabled(o)),r(this,"setDrawingTool",o=>this.annotationLayer.setDrawingTool(o)),r(this,"setVisible",o=>{this.annotationLayer.setVisible(o),o||this.clearState()}),r(this,"updateSelected",(o,a)=>new Promise(c=>{this.state.selectedAnnotation&&(a?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",c)(o):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",c)(o,this.state.selectedAnnotation):this.setState({selectedAnnotation:o,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},c))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:u.config.readOnly,editorDisabled:u.config.disableEditor,widgets:u.config.widgets,beforeHeadlessModify:null},this._editor=Le.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new Az(this.props):new mz(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("endSelection",this.handleEndSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(u){this.setState({editorDisabled:u})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(u){this.annotationLayer.disableSelect=u}get formatters(){return this.annotationLayer.formatters}set formatters(u){this.annotationLayer.formatters=u}get readOnly(){return this.state.readOnly}set readOnly(u){this.annotationLayer.readOnly=u,this.setState({readOnly:u})}get widgets(){return this.state.widgets}set widgets(u){this.setState({widgets:u})}render(){var u;const o=this.state.selectedAnnotation&&!this.state.editorDisabled,a=this.state.readOnly||((u=this.state.selectedAnnotation)==null?void 0:u.readOnly);return o&&Rx(x6,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:a,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class zz{constructor(u,o){r(this,"handleAnnotationCreated",(c,m)=>this._emitter.emit("createAnnotation",c.underlying,m)),r(this,"handleAnnotationDeleted",c=>this._emitter.emit("deleteAnnotation",c.underlying)),r(this,"handleAnnotationSelected",(c,m)=>this._emitter.emit("selectAnnotation",c.underlying,m)),r(this,"handleAnnotationUpdated",(c,m)=>this._emitter.emit("updateAnnotation",c.underlying,m.underlying)),r(this,"handleCancelSelected",c=>this._emitter.emit("cancelSelected",c.underlying)),r(this,"handleClickAnnotation",(c,m)=>this._emitter.emit("clickAnnotation",c.underlying,m)),r(this,"handleLoad",c=>this._emitter.emit("load",c)),r(this,"handleSelectionCreated",c=>this._emitter.emit("createSelection",c.underlying)),r(this,"handleSelectionStarted",c=>this._emitter.emit("startSelection",c)),r(this,"handleSelectionEnded",c=>this._emitter.emit("endSelection",c)),r(this,"handleSelectionTargetChanged",c=>this._emitter.emit("changeSelectionTarget",c)),r(this,"handleMouseEnterAnnotation",(c,m)=>this._emitter.emit("mouseEnterAnnotation",c.underlying,m)),r(this,"handleMouseLeaveAnnotation",(c,m)=>this._emitter.emit("mouseLeaveAnnotation",c.underlying,m)),r(this,"_wrap",c=>c?.type==="Annotation"?new zo(c):c),r(this,"addAnnotation",c=>this._app.current.addAnnotation(new zo(c))),r(this,"addDrawingTool",c=>this._app.current.addDrawingTool(c)),r(this,"cancelSelected",()=>this._app.current.cancelSelected()),r(this,"clearAnnotations",()=>this.setAnnotations([])),r(this,"clearAuthInfo",()=>this._env.user=null),r(this,"destroy",()=>Le.unmountComponentAtNode(this.appContainerEl)),r(this,"fitBounds",(c,m)=>this._app.current.fitBounds(this._wrap(c),m)),r(this,"fitBoundsWithConstraints",(c,m)=>this._app.current.fitBoundsWithConstraints(this._wrap(c),m)),r(this,"getAnnotationById",c=>{const m=this._app.current.getAnnotationById(c);return m?.underlying}),r(this,"getAnnotations",()=>this._app.current.getAnnotations().map(c=>c.underlying)),r(this,"getAnnotationsIntersecting",c=>this._app.current.getAnnotationsIntersecting(this._wrap(c))),r(this,"getImageSnippetById",c=>this._app.current.getImageSnippetById(c)),r(this,"getSelected",()=>{const c=this._app.current.getSelected();return c?.underlying}),r(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),r(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),r(this,"loadAnnotations",c=>fetch(c).then(m=>m.json()).then(m=>(this.setAnnotations(m),m))),r(this,"off",(c,m)=>this._emitter.off(c,m)),r(this,"on",(c,m)=>this._emitter.on(c,m)),r(this,"once",(c,m)=>this._emitter.once(c,m)),r(this,"panTo",(c,m)=>this._app.current.panTo(this._wrap(c),m)),r(this,"removeAnnotation",c=>this._app.current.removeAnnotation(this._wrap(c))),r(this,"removeDrawingTool",c=>this._app.current.removeDrawingTool(c)),r(this,"saveSelected",()=>this._app.current.saveSelected()),r(this,"selectAnnotation",c=>{const m=this._app.current.selectAnnotation(this._wrap(c));return m?.underlying}),r(this,"setAnnotations",c=>{const m=(c||[]).map(v=>new zo(v));this._app.current.setAnnotations(m)}),r(this,"setAuthInfo",c=>this._env.user=c),r(this,"setDrawingEnabled",c=>this._app.current.setDrawingEnabled(c)),r(this,"setDrawingTool",c=>this._app.current.setDrawingTool(c)),r(this,"setServerTime",c=>this._env.setServerTime(c)),r(this,"setVisible",c=>this._app.current.setVisible(c)),r(this,"updateSelected",(c,m)=>{let v=null;c.type==="Annotation"?v=new zo(c):c.type==="Selection"&&(v=new Za(c.target,c.body)),v&&this._app.current.updateSelected(v,m)});const a=o||{};this._app=Le.createRef(),this._emitter=new Xi,this._env=_6(),this._element=u.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),R6(a.locale,a.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Le.render(Rx(Mz,{ref:this._app,viewer:u,wrapperEl:this._element,config:a,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionEnded:this.handleSelectionEnded,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(u){this._app.current.disableEditor=u}get disableSelect(){return this._app.current.disableSelect}set disableSelect(u){this._app.current.disableSelect=u}get formatters(){return this._app.current.formatters||[]}set formatters(u){if(u){const o=Array.isArray(u)?u:[u];this._app.current.formatters=o}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(u){this._app.current.readOnly=u}get widgets(){return this._app.current.widgets}set widgets(u){this._app.current.widgets=u}}var Lz=(s,u)=>new zz(s,u);return Lz})})(eP);var EK=eP.exports;const TK=Sr(EK);function kK(e){const i=`os-zoom-in ${e.side}`,t=`os-zoom-out ${e.side}`,n=e.documentView.bookMode?null:e.onZoomGrid;return U.jsxs("ul",{className:"ImageZoomControl",children:[U.jsx("li",{children:U.jsx("i",{title:"Zoom In",id:i,onClick:e.onZoomIn,className:"zoom-in fas fa-plus-circle fa-2x"})}),U.jsx("li",{children:U.jsx("i",{title:"Fixed Zoom 1",onClick:e.onZoomFixed_1,className:"zoom-3 fas fa-circle fa-2x"})}),U.jsx("li",{children:U.jsx("i",{title:"Fixed Zoom 2",onClick:e.onZoomFixed_2,className:"zoom-2 fas fa-circle fa-lg"})}),U.jsx("li",{children:U.jsx("i",{title:"Fixed Zoom 3",onClick:e.onZoomFixed_3,className:"zoom-1 fas fa-circle"})}),U.jsx("li",{children:U.jsx("i",{title:"Zoom Out",id:t,onClick:e.onZoomOut,className:"zoom-out fas fa-minus-circle fa-2x"})}),U.jsx("li",{className:e.documentView.bookMode?"disabled":"",children:U.jsx("i",{title:"Return to grid mode (not available in book mode)",onClick:n,className:"zoom-grid fas fa-th fa-2x"})})]})}function $g(e){const{delay:i=0,color:t="dark"}=e,[n,r]=z.useState(i===0);return z.useEffect(()=>{if(i>0){const l=setTimeout(()=>{r(!0)},i);return()=>clearTimeout(l)}},[]),n?U.jsxs("div",{className:`big-ring-spinner ${t}`,children:[U.jsx("div",{}),U.jsx("div",{}),U.jsx("div",{}),U.jsx("div",{})]}):U.jsx("div",{})}function CK(e){const{side:i,initViewer:t,tileSource:n}=e,[r,l]=z.useState(!0),h=z.useRef(null);return z.useEffect(()=>{(async()=>h.current&&await t(h.current,n).then(()=>l(!1)))()},[]),z.useMemo(()=>U.jsx("div",{id:`image-view-seadragon-${i}`,ref:h,children:r&&U.jsx($g,{color:"light",delay:1e3})}),[r])}function PK(e){const[i,t]=z.useState(null),[n,r]=z.useState(null),{tagsLeft:l,tagsRight:h}=z.useContext(od),d=z.useMemo(()=>e.side==="right"?h:l,[e.side,l,h]),p=po(),f=Al(),[g]=tg(),y=z.useRef(null),S=e.document.folioIndex[e.folioID],k=z.useCallback(()=>{if(S.zoneTagIndex&&y.current){const K=y.current.querySelectorAll(".a9s-annotation"),Y=Object.keys(S.zoneTagIndex).filter(ue=>S.zoneTagIndex[ue].some(he=>d.includes(he))),se=g.get("zone");se&&!Y.includes(se)&&Y.push(se),K.forEach(ue=>{const he=ue.getAttribute("data-id");Y.includes(he)?ue.classList.add("selected"):ue.classList.remove("selected")})}},[S,d,y,g]);z.useEffect(()=>{setTimeout(()=>k(),50)},[k]);const C=()=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},P=()=>{i.viewport.zoomTo(i.viewport.getMaxZoom())},_=()=>{i.viewport.zoomTo(i.viewport.getMaxZoom()/2)},D=()=>{i.viewport.fitVertically()},q=()=>{i.viewport.zoomBy(2)},G=()=>{i.viewport.zoomBy(.5)};z.useEffect(()=>{n&&(n.off("selectAnnotation"),n.off("cancelSelected"),n.on("selectAnnotation",K=>{g.set("zone",K.id),k(),f(`${p.pathname}?${$o(g.toString())}`)}),n.on("cancelSelected",()=>{g.delete("zone"),f(`${p.pathname}?${$o(g.toString())}`)}))},[g,n,k,S,f,p.pathname]),z.useEffect(()=>{S.tileSource&&i&&(i.open(S.tileSource),S.annotations&&n&&n.setAnnotations(S.annotations))},[n,i,S,e.document.folioIndex]);const ne=async(K,Y)=>{if(!K)t(null),r(null);else{const se=gm({element:K,showNavigationControl:!1,zoomPerClick:2,gestureSettingsMouse:{clickToZoom:!1}});t(se);const ue=TK(se,{});ue.disableEditor=!0,ue.readOnly=!0,r(ue),se.addTiledImage({tileSource:Y})}};return z.useEffect(()=>()=>{i&&i.destroy()},[i]),U.jsx("div",{ref:y,children:S.tileSource?U.jsxs("div",{className:`image-view imageViewComponent ${e.side}`,style:{position:"relative"},children:[U.jsx(ns,{side:e.side,documentView:e.documentView,documentViewActions:e.documentViewActions,documentName:e.document.variorum&&e.document.folioIndex[e.folioID].doc_id}),U.jsx(kK,{side:e.side,documentView:e.documentView,onZoomFixed_1:P,onZoomFixed_2:_,onZoomFixed_3:D,onZoomGrid:C,onZoomIn:q,onZoomOut:G,viewer:i}),U.jsx(CK,{side:e.side,tileSource:S.tileSource,initViewer:ne,loading:S.loading},e.folioID)]}):U.jsx($g,{color:"dark",delay:300})})}function _K(e){return{document:e.document}}const RK=qi(_K)(PK),OK={tokenize:LK,partial:!0},tP={tokenize:BK,partial:!0},nP={tokenize:NK,partial:!0},iP={tokenize:jK,partial:!0},DK={tokenize:HK,partial:!0},rP={tokenize:MK,previous:sP},oP={tokenize:zK,previous:aP},jr={tokenize:IK,previous:lP},Tr={},AK={text:Tr};let No=48;for(;No<123;)Tr[No]=jr,No++,No===58?No=65:No===91&&(No=97);Tr[43]=jr;Tr[45]=jr;Tr[46]=jr;Tr[95]=jr;Tr[72]=[jr,oP];Tr[104]=[jr,oP];Tr[87]=[jr,rP];Tr[119]=[jr,rP];function IK(e,i,t){const n=this;let r,l;return h;function h(y){return!jm(y)||!lP.call(n,n.previous)||Qg(n.events)?t(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(y))}function d(y){return jm(y)?(e.consume(y),d):y===64?(e.consume(y),p):t(y)}function p(y){return y===46?e.check(DK,g,f)(y):y===45||y===95||bi(y)?(l=!0,e.consume(y),p):g(y)}function f(y){return e.consume(y),r=!0,p}function g(y){return l&&r&&Ti(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),i(y)):t(y)}}function MK(e,i,t){const n=this;return r;function r(h){return h!==87&&h!==119||!sP.call(n,n.previous)||Qg(n.events)?t(h):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(OK,e.attempt(tP,e.attempt(nP,l),t),t)(h))}function l(h){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),i(h)}}function zK(e,i,t){const n=this;let r="",l=!1;return h;function h(y){return(y===72||y===104)&&aP.call(n,n.previous)&&!Qg(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(y),e.consume(y),d):t(y)}function d(y){if(Ti(y)&&r.length<5)return r+=String.fromCodePoint(y),e.consume(y),d;if(y===58){const S=r.toLowerCase();if(S==="http"||S==="https")return e.consume(y),p}return t(y)}function p(y){return y===47?(e.consume(y),l?f:(l=!0,p)):t(y)}function f(y){return y===null||Gc(y)||Rn(y)||ts(y)||kd(y)?t(y):e.attempt(tP,e.attempt(nP,g),t)(y)}function g(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),i(y)}}function LK(e,i,t){let n=0;return r;function r(h){return(h===87||h===119)&&n<3?(n++,e.consume(h),r):h===46&&n===3?(e.consume(h),l):t(h)}function l(h){return h===null?t(h):i(h)}}function BK(e,i,t){let n,r,l;return h;function h(f){return f===46||f===95?e.check(iP,p,d)(f):f===null||Rn(f)||ts(f)||f!==45&&kd(f)?p(f):(l=!0,e.consume(f),h)}function d(f){return f===95?n=!0:(r=n,n=void 0),e.consume(f),h}function p(f){return r||n||!l?t(f):i(f)}}function NK(e,i){let t=0,n=0;return r;function r(h){return h===40?(t++,e.consume(h),r):h===41&&n<t?l(h):h===33||h===34||h===38||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===60||h===63||h===93||h===95||h===126?e.check(iP,i,l)(h):h===null||Rn(h)||ts(h)?i(h):(e.consume(h),r)}function l(h){return h===41&&n++,e.consume(h),r}}function jK(e,i,t){return n;function n(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),n):d===38?(e.consume(d),l):d===93?(e.consume(d),r):d===60||d===null||Rn(d)||ts(d)?i(d):t(d)}function r(d){return d===null||d===40||d===91||Rn(d)||ts(d)?i(d):n(d)}function l(d){return Ti(d)?h(d):t(d)}function h(d){return d===59?(e.consume(d),n):Ti(d)?(e.consume(d),h):t(d)}}function HK(e,i,t){return n;function n(l){return e.consume(l),r}function r(l){return bi(l)?t(l):i(l)}}function sP(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rn(e)}function aP(e){return!Ti(e)}function lP(e){return!(e===47||jm(e))}function jm(e){return e===43||e===45||e===46||e===95||bi(e)}function Qg(e){let i=e.length,t=!1;for(;i--;){const n=e[i][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){t=!0;break}if(n._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const FK={tokenize:KK,partial:!0};function VK(){return{document:{91:{tokenize:qK,continuation:{tokenize:XK},exit:YK}},text:{91:{tokenize:GK},93:{add:"after",tokenize:UK,resolveTo:WK}}}}function UK(e,i,t){const n=this;let r=n.events.length;const l=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let h;for(;r--;){const p=n.events[r][1];if(p.type==="labelImage"){h=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return d;function d(p){if(!h||!h._balanced)return t(p);const f=ur(n.sliceSerialize({start:h.end,end:n.now()}));return f.codePointAt(0)!==94||!l.includes(f.slice(1))?t(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),i(p))}}function WK(e,i){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},h={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},d=[e[t+1],e[t+2],["enter",n,i],e[t+3],e[t+4],["enter",r,i],["exit",r,i],["enter",l,i],["enter",h,i],["exit",h,i],["exit",l,i],e[e.length-2],e[e.length-1],["exit",n,i]];return e.splice(t,e.length-t+1,...d),e}function GK(e,i,t){const n=this,r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l=0,h;return d;function d(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?t(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(y){if(l>999||y===93&&!h||y===null||y===91||Rn(y))return t(y);if(y===93){e.exit("chunkString");const S=e.exit("gfmFootnoteCallString");return r.includes(ur(n.sliceSerialize(S)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),i):t(y)}return Rn(y)||(h=!0),l++,e.consume(y),y===92?g:f}function g(y){return y===91||y===92||y===93?(e.consume(y),l++,f):f(y)}}function qK(e,i,t){const n=this,r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l,h=0,d;return p;function p(C){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(C){return C===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):t(C)}function g(C){if(h>999||C===93&&!d||C===null||C===91||Rn(C))return t(C);if(C===93){e.exit("chunkString");const P=e.exit("gfmFootnoteDefinitionLabelString");return l=ur(n.sliceSerialize(P)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),S}return Rn(C)||(d=!0),h++,e.consume(C),C===92?y:g}function y(C){return C===91||C===92||C===93?(e.consume(C),h++,g):g(C)}function S(C){return C===58?(e.enter("definitionMarker"),e.consume(C),e.exit("definitionMarker"),r.includes(l)||r.push(l),cn(e,k,"gfmFootnoteDefinitionWhitespace")):t(C)}function k(C){return i(C)}}function XK(e,i,t){return e.check(Hl,i,e.attempt(FK,i,t))}function YK(e){e.exit("gfmFootnoteDefinition")}function KK(e,i,t){const n=this;return cn(e,r,"gfmFootnoteDefinitionIndent",5);function r(l){const h=n.events[n.events.length-1];return h&&h[1].type==="gfmFootnoteDefinitionIndent"&&h[2].sliceSerialize(h[1],!0).length===4?i(l):t(l)}}function ZK(e){let i=(e||{}).singleTilde;const t={tokenize:r,resolveAll:n};return i==null&&(i=!0),{text:{126:t},insideSpan:{null:[t]},attentionMarkers:{null:[126]}};function n(l,h){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let p=d;for(;p--;)if(l[p][0]==="exit"&&l[p][1].type==="strikethroughSequenceTemporary"&&l[p][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[p][1].end.offset-l[p][1].start.offset){l[d][1].type="strikethroughSequence",l[p][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[p][1].start),end:Object.assign({},l[d][1].end)},g={type:"strikethroughText",start:Object.assign({},l[p][1].end),end:Object.assign({},l[d][1].start)},y=[["enter",f,h],["enter",l[p][1],h],["exit",l[p][1],h],["enter",g,h]],S=h.parser.constructs.insideSpan.null;S&&Gi(y,y.length,0,Cd(S,l.slice(p+1,d),h)),Gi(y,y.length,0,[["exit",g,h],["enter",l[d][1],h],["exit",l[d][1],h],["exit",f,h]]),Gi(l,p-1,d-p+3,y),d=p+y.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function r(l,h,d){const p=this.previous,f=this.events;let g=0;return y;function y(k){return p===126&&f[f.length-1][1].type!=="characterEscape"?d(k):(l.enter("strikethroughSequenceTemporary"),S(k))}function S(k){const C=qc(p);if(k===126)return g>1?d(k):(l.consume(k),g++,S);if(g<2&&!i)return d(k);const P=l.exit("strikethroughSequenceTemporary"),_=qc(k);return P._open=!_||_===2&&!!C,P._close=!C||C===2&&!!_,h(k)}}}class JK{constructor(){this.map=[]}add(i,t,n){$K(this,i,t,n)}consume(i){if(this.map.sort((l,h)=>l[0]-h[0]),this.map.length===0)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(i.slice(this.map[t][0]+this.map[t][1])),n.push(this.map[t][2]),i.length=this.map[t][0];n.push([...i]),i.length=0;let r=n.pop();for(;r;)i.push(...r),r=n.pop();this.map.length=0}}function $K(e,i,t,n){let r=0;if(!(t===0&&n.length===0)){for(;r<e.map.length;){if(e.map[r][0]===i){e.map[r][1]+=t,e.map[r][2].push(...n);return}r+=1}e.map.push([i,t,n])}}function QK(e,i){let t=!1;const n=[];for(;i<e.length;){const r=e[i];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&n.push(e[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[i-1][1].type==="tableDelimiterMarker"){const l=n.length-1;n[l]=n[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);i+=1}return n}const eZ={flow:{null:{tokenize:tZ,resolveAll:nZ}}};function tZ(e,i,t){const n=this;let r=0,l=0,h;return d;function d(le){let ye=n.events.length-1;for(;ye>-1;){const Ie=n.events[ye][1].type;if(Ie==="lineEnding"||Ie==="linePrefix")ye--;else break}const fe=ye>-1?n.events[ye][1].type:null,we=fe==="tableHead"||fe==="tableRow"?Y:p;return we===Y&&n.parser.lazy[n.now().line]?t(le):we(le)}function p(le){return e.enter("tableHead"),e.enter("tableRow"),f(le)}function f(le){return le===124||(h=!0,l+=1),g(le)}function g(le){return le===null?t(le):zt(le)?l>1?(l=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(le),e.exit("lineEnding"),k):t(le):rn(le)?cn(e,g,"whitespace")(le):(l+=1,h&&(h=!1,r+=1),le===124?(e.enter("tableCellDivider"),e.consume(le),e.exit("tableCellDivider"),h=!0,g):(e.enter("data"),y(le)))}function y(le){return le===null||le===124||Rn(le)?(e.exit("data"),g(le)):(e.consume(le),le===92?S:y)}function S(le){return le===92||le===124?(e.consume(le),y):y(le)}function k(le){return n.interrupt=!1,n.parser.lazy[n.now().line]?t(le):(e.enter("tableDelimiterRow"),h=!1,rn(le)?cn(e,C,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):C(le))}function C(le){return le===45||le===58?_(le):le===124?(h=!0,e.enter("tableCellDivider"),e.consume(le),e.exit("tableCellDivider"),P):K(le)}function P(le){return rn(le)?cn(e,_,"whitespace")(le):_(le)}function _(le){return le===58?(l+=1,h=!0,e.enter("tableDelimiterMarker"),e.consume(le),e.exit("tableDelimiterMarker"),D):le===45?(l+=1,D(le)):le===null||zt(le)?ne(le):K(le)}function D(le){return le===45?(e.enter("tableDelimiterFiller"),q(le)):K(le)}function q(le){return le===45?(e.consume(le),q):le===58?(h=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(le),e.exit("tableDelimiterMarker"),G):(e.exit("tableDelimiterFiller"),G(le))}function G(le){return rn(le)?cn(e,ne,"whitespace")(le):ne(le)}function ne(le){return le===124?C(le):le===null||zt(le)?!h||r!==l?K(le):(e.exit("tableDelimiterRow"),e.exit("tableHead"),i(le)):K(le)}function K(le){return t(le)}function Y(le){return e.enter("tableRow"),se(le)}function se(le){return le===124?(e.enter("tableCellDivider"),e.consume(le),e.exit("tableCellDivider"),se):le===null||zt(le)?(e.exit("tableRow"),i(le)):rn(le)?cn(e,se,"whitespace")(le):(e.enter("data"),ue(le))}function ue(le){return le===null||le===124||Rn(le)?(e.exit("data"),se(le)):(e.consume(le),le===92?he:ue)}function he(le){return le===92||le===124?(e.consume(le),ue):ue(le)}}function nZ(e,i){let t=-1,n=!0,r=0,l=[0,0,0,0],h=[0,0,0,0],d=!1,p=0,f,g,y;const S=new JK;for(;++t<e.length;){const k=e[t],C=k[1];k[0]==="enter"?C.type==="tableHead"?(d=!1,p!==0&&(zE(S,i,p,f,g),g=void 0,p=0),f={type:"table",start:Object.assign({},C.start),end:Object.assign({},C.end)},S.add(t,0,[["enter",f,i]])):C.type==="tableRow"||C.type==="tableDelimiterRow"?(n=!0,y=void 0,l=[0,0,0,0],h=[0,t+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},C.start),end:Object.assign({},C.end)},S.add(t,0,[["enter",g,i]])),r=C.type==="tableDelimiterRow"?2:g?3:1):r&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")?(n=!1,h[2]===0&&(l[1]!==0&&(h[0]=h[1],y=Rc(S,i,l,r,void 0,y),l=[0,0,0,0]),h[2]=t)):C.type==="tableCellDivider"&&(n?n=!1:(l[1]!==0&&(h[0]=h[1],y=Rc(S,i,l,r,void 0,y)),l=h,h=[l[1],t,0,0])):C.type==="tableHead"?(d=!0,p=t):C.type==="tableRow"||C.type==="tableDelimiterRow"?(p=t,l[1]!==0?(h[0]=h[1],y=Rc(S,i,l,r,t,y)):h[1]!==0&&(y=Rc(S,i,h,r,t,y)),r=0):r&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")&&(h[3]=t)}for(p!==0&&zE(S,i,p,f,g),S.consume(i.events),t=-1;++t<i.events.length;){const k=i.events[t];k[0]==="enter"&&k[1].type==="table"&&(k[1]._align=QK(i.events,t))}return e}function Rc(e,i,t,n,r,l){const h=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",d="tableContent";t[0]!==0&&(l.end=Object.assign({},Js(i.events,t[0])),e.add(t[0],0,[["exit",l,i]]));const p=Js(i.events,t[1]);if(l={type:h,start:Object.assign({},p),end:Object.assign({},p)},e.add(t[1],0,[["enter",l,i]]),t[2]!==0){const f=Js(i.events,t[2]),g=Js(i.events,t[3]),y={type:d,start:Object.assign({},f),end:Object.assign({},g)};if(e.add(t[2],0,[["enter",y,i]]),n!==2){const S=i.events[t[2]],k=i.events[t[3]];if(S[1].end=Object.assign({},k[1].end),S[1].type="chunkText",S[1].contentType="text",t[3]>t[2]+1){const C=t[2]+1,P=t[3]-t[2]-1;e.add(C,P,[])}}e.add(t[3]+1,0,[["exit",y,i]])}return r!==void 0&&(l.end=Object.assign({},Js(i.events,r)),e.add(r,0,[["exit",l,i]]),l=void 0),l}function zE(e,i,t,n,r){const l=[],h=Js(i.events,t);r&&(r.end=Object.assign({},h),l.push(["exit",r,i])),n.end=Object.assign({},h),l.push(["exit",n,i]),e.add(t+1,0,l)}function Js(e,i){const t=e[i],n=t[0]==="enter"?"start":"end";return t[1][n]}const iZ={tokenize:oZ},rZ={text:{91:iZ}};function oZ(e,i,t){const n=this;return r;function r(p){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?t(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),l)}function l(p){return Rn(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),h):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),h):t(p)}function h(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):t(p)}function d(p){return zt(p)?i(p):rn(p)?e.check({tokenize:sZ},i,t)(p):t(p)}}function sZ(e,i,t){return cn(e,n,"whitespace");function n(r){return r===null?t(r):i(r)}}function aZ(e){return Qk([AK,VK(),ZK(e),eZ,rZ])}function LE(e,i){const t=String(e);if(typeof i!="string")throw new TypeError("Expected character");let n=0,r=t.indexOf(i);for(;r!==-1;)n++,r=t.indexOf(i,r+i.length);return n}function lZ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const uZ={}.hasOwnProperty,cZ=function(e,i,t,n){let r,l;typeof i=="string"||i instanceof RegExp?(l=[[i,t]],r=n):(l=i,r=t),r||(r={});const h=Hg(r.ignore||[]),d=dZ(l);let p=-1;for(;++p<d.length;)vC(e,"text",f);return e;function f(y,S){let k=-1,C;for(;++k<S.length;){const P=S[k];if(h(P,C?C.children.indexOf(P):void 0,C))return;C=P}if(C)return g(y,S)}function g(y,S){const k=S[S.length-1],C=d[p][0],P=d[p][1];let _=0;const D=k.children.indexOf(y);let q=!1,G=[];C.lastIndex=0;let ne=C.exec(y.value);for(;ne;){const K=ne.index,Y={index:ne.index,input:ne.input,stack:[...S,y]};let se=P(...ne,Y);if(typeof se=="string"&&(se=se.length>0?{type:"text",value:se}:void 0),se!==!1&&(_!==K&&G.push({type:"text",value:y.value.slice(_,K)}),Array.isArray(se)?G.push(...se):se&&G.push(se),_=K+ne[0].length,q=!0),!C.global)break;ne=C.exec(y.value)}return q?(_<y.value.length&&G.push({type:"text",value:y.value.slice(_)}),k.children.splice(D,1,...G)):G=[y],D+G.length}};function dZ(e){const i=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let t=-1;for(;++t<e.length;)i.push([BE(e[t][0]),NE(e[t][1])])}else{let t;for(t in e)uZ.call(e,t)&&i.push([BE(t),NE(e[t])])}return i}function BE(e){return typeof e=="string"?new RegExp(lZ(e),"g"):e}function NE(e){return typeof e=="function"?e:()=>e}const Xf="phrasing",Yf=["autolink","link","image","label"],hZ={transforms:[bZ],enter:{literalAutolink:fZ,literalAutolinkEmail:Kf,literalAutolinkHttp:Kf,literalAutolinkWww:Kf},exit:{literalAutolink:yZ,literalAutolinkEmail:vZ,literalAutolinkHttp:mZ,literalAutolinkWww:gZ}},pZ={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Xf,notInConstruct:Yf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Xf,notInConstruct:Yf},{character:":",before:"[ps]",after:"\\/",inConstruct:Xf,notInConstruct:Yf}]};function fZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Kf(e){this.config.enter.autolinkProtocol.call(this,e)}function mZ(e){this.config.exit.autolinkProtocol.call(this,e)}function gZ(e){this.config.exit.data.call(this,e);const i=this.stack[this.stack.length-1];i.url="http://"+this.sliceSerialize(e)}function vZ(e){this.config.exit.autolinkEmail.call(this,e)}function yZ(e){this.exit(e)}function bZ(e){cZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wZ],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,xZ]],{ignore:["link","linkReference"]})}function wZ(e,i,t,n,r){let l="";if(!uP(r)||(/^w/i.test(i)&&(t=i+t,i="",l="http://"),!SZ(t)))return!1;const h=EZ(t+n);if(!h[0])return!1;const d={type:"link",title:null,url:l+i+h[0],children:[{type:"text",value:i+h[0]}]};return h[1]?[d,{type:"text",value:h[1]}]:d}function xZ(e,i,t,n){return!uP(n,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+i+"@"+t,children:[{type:"text",value:i+"@"+t}]}}function SZ(e){const i=e.split(".");return!(i.length<2||i[i.length-1]&&(/_/.test(i[i.length-1])||!/[a-zA-Z\d]/.test(i[i.length-1]))||i[i.length-2]&&(/_/.test(i[i.length-2])||!/[a-zA-Z\d]/.test(i[i.length-2])))}function EZ(e){const i=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!i)return[e,void 0];e=e.slice(0,i.index);let t=i[0],n=t.indexOf(")");const r=LE(e,"(");let l=LE(e,")");for(;n!==-1&&r>l;)e+=t.slice(0,n+1),t=t.slice(n+1),n=t.indexOf(")"),l++;return[e,t]}function uP(e,i){const t=e.input.charCodeAt(e.index-1);return(e.index===0||ts(t)||kd(t))&&(!i||t!==47)}function cP(e){return e.label||!e.identifier?e.label||"":cC(e.identifier)}function TZ(e,i,t){const n=i.indexStack,r=e.children||[],l=i.createTracker(t),h=[];let d=-1;for(n.push(-1);++d<r.length;){const p=r[d];n[n.length-1]=d,h.push(l.move(i.handle(p,e,i,{before:`
`,after:`
`,...l.current()}))),p.type!=="list"&&(i.bulletLastUsed=void 0),d<r.length-1&&h.push(l.move(kZ(p,r[d+1],e,i)))}return n.pop(),h.join("")}function kZ(e,i,t,n){let r=n.join.length;for(;r--;){const l=n.join[r](e,i,t,n);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const CZ=/\r?\n|\r/g;function PZ(e,i){const t=[];let n=0,r=0,l;for(;l=CZ.exec(e);)h(e.slice(n,l.index)),t.push(l[0]),n=l.index+l[0].length,r++;return h(e.slice(n)),t.join("");function h(d){t.push(i(d,r,!d))}}function dP(e){if(!e._compiled){const i=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((i?"("+i+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function _Z(e,i){return jE(e,i.inConstruct,!0)&&!jE(e,i.notInConstruct,!1)}function jE(e,i,t){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return t;let n=-1;for(;++n<i.length;)if(e.includes(i[n]))return!0;return!1}function hP(e,i,t){const n=(t.before||"")+(i||"")+(t.after||""),r=[],l=[],h={};let d=-1;for(;++d<e.unsafe.length;){const g=e.unsafe[d];if(!_Z(e.stack,g))continue;const y=dP(g);let S;for(;S=y.exec(n);){const k="before"in g||!!g.atBreak,C="after"in g,P=S.index+(k?S[1].length:0);r.includes(P)?(h[P].before&&!k&&(h[P].before=!1),h[P].after&&!C&&(h[P].after=!1)):(r.push(P),h[P]={before:k,after:C})}}r.sort(RZ);let p=t.before?t.before.length:0;const f=n.length-(t.after?t.after.length:0);for(d=-1;++d<r.length;){const g=r[d];g<p||g>=f||g+1<f&&r[d+1]===g+1&&h[g].after&&!h[g+1].before&&!h[g+1].after||r[d-1]===g-1&&h[g].before&&!h[g-1].before&&!h[g-1].after||(p!==g&&l.push(HE(n.slice(p,g),"\\")),p=g,/[!-/:-@[-`{-~]/.test(n.charAt(g))&&(!t.encode||!t.encode.includes(n.charAt(g)))?l.push("\\"):(l.push("&#x"+n.charCodeAt(g).toString(16).toUpperCase()+";"),p++))}return l.push(HE(n.slice(p,f),t.after)),l.join("")}function RZ(e,i){return e-i}function HE(e,i){const t=/\\(?=[!-/:-@[-`{-~])/g,n=[],r=[],l=e+i;let h=-1,d=0,p;for(;p=t.exec(l);)n.push(p.index);for(;++h<n.length;)d!==n[h]&&r.push(e.slice(d,n[h])),r.push("\\"),d=n[h];return r.push(e.slice(d)),r.join("")}function Md(e){const i=e||{},t=i.now||{};let n=i.lineShift||0,r=t.line||1,l=t.column||1;return{move:p,current:h,shift:d};function h(){return{now:{line:r,column:l},lineShift:n}}function d(f){n+=f}function p(f){const g=f||"",y=g.split(/\r?\n|\r/g),S=y[y.length-1];return r+=y.length-1,l=y.length===1?l+S.length:1+S.length+n,g}}pP.peek=HZ;function OZ(){return{enter:{gfmFootnoteDefinition:AZ,gfmFootnoteDefinitionLabelString:IZ,gfmFootnoteCall:LZ,gfmFootnoteCallString:BZ},exit:{gfmFootnoteDefinition:zZ,gfmFootnoteDefinitionLabelString:MZ,gfmFootnoteCall:jZ,gfmFootnoteCallString:NZ}}}function DZ(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:FZ,footnoteReference:pP}}}function AZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function IZ(){this.buffer()}function MZ(e){const i=this.resume(),t=this.stack[this.stack.length-1];t.label=i,t.identifier=ur(this.sliceSerialize(e)).toLowerCase()}function zZ(e){this.exit(e)}function LZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function BZ(){this.buffer()}function NZ(e){const i=this.resume(),t=this.stack[this.stack.length-1];t.label=i,t.identifier=ur(this.sliceSerialize(e)).toLowerCase()}function jZ(e){this.exit(e)}function pP(e,i,t,n){const r=Md(n);let l=r.move("[^");const h=t.enter("footnoteReference"),d=t.enter("reference");return l+=r.move(hP(t,cP(e),{...r.current(),before:l,after:"]"})),d(),h(),l+=r.move("]"),l}function HZ(){return"["}function FZ(e,i,t,n){const r=Md(n);let l=r.move("[^");const h=t.enter("footnoteDefinition"),d=t.enter("label");return l+=r.move(hP(t,cP(e),{...r.current(),before:l,after:"]"})),d(),l+=r.move("]:"+(e.children&&e.children.length>0?" ":"")),r.shift(4),l+=r.move(PZ(TZ(e,t,r.current()),VZ)),h(),l}function VZ(e,i,t){return i===0?e:(t?"":"    ")+e}function fP(e,i,t){const n=i.indexStack,r=e.children||[],l=[];let h=-1,d=t.before;n.push(-1);let p=i.createTracker(t);for(;++h<r.length;){const f=r[h];let g;if(n[n.length-1]=h,h+1<r.length){let y=i.handle.handlers[r[h+1].type];y&&y.peek&&(y=y.peek),g=y?y(r[h+1],e,i,{before:"",after:"",...p.current()}).charAt(0):""}else g=t.after;l.length>0&&(d==="\r"||d===`
`)&&f.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),d=" ",p=i.createTracker(t),p.move(l.join(""))),l.push(p.move(i.handle(f,e,i,{...p.current(),before:d,after:g}))),d=l[l.length-1].slice(-1)}return n.pop(),l.join("")}const UZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];mP.peek=YZ;const WZ={canContainEols:["delete"],enter:{strikethrough:qZ},exit:{strikethrough:XZ}},GZ={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:UZ}],handlers:{delete:mP}};function qZ(e){this.enter({type:"delete",children:[]},e)}function XZ(e){this.exit(e)}function mP(e,i,t,n){const r=Md(n),l=t.enter("strikethrough");let h=r.move("~~");return h+=fP(e,t,{...r.current(),before:h,after:"~"}),h+=r.move("~~"),l(),h}function YZ(){return"~"}gP.peek=KZ;function gP(e,i,t){let n=e.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(n);)r+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++l<t.unsafe.length;){const h=t.unsafe[l],d=dP(h);let p;if(h.atBreak)for(;p=d.exec(n);){let f=p.index;n.charCodeAt(f)===10&&n.charCodeAt(f-1)===13&&f--,n=n.slice(0,f)+" "+n.slice(p.index+1)}}return r+n+r}function KZ(){return"`"}function ZZ(e){return e.length}function JZ(e,i){const t=i||{},n=(t.align||[]).concat(),r=t.stringLength||ZZ,l=[],h=[],d=[],p=[];let f=0,g=-1;for(;++g<e.length;){const P=[],_=[];let D=-1;for(e[g].length>f&&(f=e[g].length);++D<e[g].length;){const q=$Z(e[g][D]);if(t.alignDelimiters!==!1){const G=r(q);_[D]=G,(p[D]===void 0||G>p[D])&&(p[D]=G)}P.push(q)}h[g]=P,d[g]=_}let y=-1;if(typeof n=="object"&&"length"in n)for(;++y<f;)l[y]=FE(n[y]);else{const P=FE(n);for(;++y<f;)l[y]=P}y=-1;const S=[],k=[];for(;++y<f;){const P=l[y];let _="",D="";P===99?(_=":",D=":"):P===108?_=":":P===114&&(D=":");let q=t.alignDelimiters===!1?1:Math.max(1,p[y]-_.length-D.length);const G=_+"-".repeat(q)+D;t.alignDelimiters!==!1&&(q=_.length+q+D.length,q>p[y]&&(p[y]=q),k[y]=q),S[y]=G}h.splice(1,0,S),d.splice(1,0,k),g=-1;const C=[];for(;++g<h.length;){const P=h[g],_=d[g];y=-1;const D=[];for(;++y<f;){const q=P[y]||"";let G="",ne="";if(t.alignDelimiters!==!1){const K=p[y]-(_[y]||0),Y=l[y];Y===114?G=" ".repeat(K):Y===99?K%2?(G=" ".repeat(K/2+.5),ne=" ".repeat(K/2-.5)):(G=" ".repeat(K/2),ne=G):ne=" ".repeat(K)}t.delimiterStart!==!1&&!y&&D.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&q==="")&&(t.delimiterStart!==!1||y)&&D.push(" "),t.alignDelimiters!==!1&&D.push(G),D.push(q),t.alignDelimiters!==!1&&D.push(ne),t.padding!==!1&&D.push(" "),(t.delimiterEnd!==!1||y!==f-1)&&D.push("|")}C.push(t.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return C.join(`
`)}function $Z(e){return e==null?"":String(e)}function FE(e){const i=typeof e=="string"?e.codePointAt(0):0;return i===67||i===99?99:i===76||i===108?108:i===82||i===114?114:0}const QZ={enter:{table:eJ,tableData:VE,tableHeader:VE,tableRow:nJ},exit:{codeText:iJ,table:tJ,tableData:Zf,tableHeader:Zf,tableRow:Zf}};function eJ(e){const i=e._align;this.enter({type:"table",align:i.map(t=>t==="none"?null:t),children:[]},e),this.setData("inTable",!0)}function tJ(e){this.exit(e),this.setData("inTable")}function nJ(e){this.enter({type:"tableRow",children:[]},e)}function Zf(e){this.exit(e)}function VE(e){this.enter({type:"tableCell",children:[]},e)}function iJ(e){let i=this.resume();this.getData("inTable")&&(i=i.replace(/\\([\\|])/g,rJ));const t=this.stack[this.stack.length-1];t.value=i,this.exit(e)}function rJ(e,i){return i==="|"?i:e}function oJ(e){const i=e||{},t=i.tableCellPadding,n=i.tablePipeAlign,r=i.stringLength,l=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:h,tableRow:d,tableCell:p,inlineCode:S}};function h(k,C,P,_){return f(g(k,P,_),k.align)}function d(k,C,P,_){const D=y(k,P,_),q=f([D]);return q.slice(0,q.indexOf(`
`))}function p(k,C,P,_){const D=P.enter("tableCell"),q=P.enter("phrasing"),G=fP(k,P,{..._,before:l,after:l});return q(),D(),G}function f(k,C){return JZ(k,{align:C,alignDelimiters:n,padding:t,stringLength:r})}function g(k,C,P){const _=k.children;let D=-1;const q=[],G=C.enter("table");for(;++D<_.length;)q[D]=y(_[D],C,P);return G(),q}function y(k,C,P){const _=k.children;let D=-1;const q=[],G=C.enter("tableRow");for(;++D<_.length;)q[D]=p(_[D],k,C,P);return G(),q}function S(k,C,P){let _=gP(k,C,P);return P.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function sJ(e){const i=e.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function aJ(e){const i=e.options.listItemIndent||"tab";if(i===1||i==="1")return"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function lJ(e,i,t,n){const r=aJ(t);let l=t.bulletCurrent||sJ(t);i&&i.type==="list"&&i.ordered&&(l=(typeof i.start=="number"&&i.start>-1?i.start:1)+(t.options.incrementListMarker===!1?0:i.children.indexOf(e))+l);let h=l.length+1;(r==="tab"||r==="mixed"&&(i&&i.type==="list"&&i.spread||e.spread))&&(h=Math.ceil(h/4)*4);const d=t.createTracker(n);d.move(l+" ".repeat(h-l.length)),d.shift(h);const p=t.enter("listItem"),f=t.indentLines(t.containerFlow(e,d.current()),g);return p(),f;function g(y,S,k){return S?(k?"":" ".repeat(h))+y:(k?l:l+" ".repeat(h-l.length))+y}}const uJ={exit:{taskListCheckValueChecked:UE,taskListCheckValueUnchecked:UE,paragraph:dJ}},cJ={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hJ}};function UE(e){const i=this.stack[this.stack.length-2];i.checked=e.type==="taskListCheckValueChecked"}function dJ(e){const i=this.stack[this.stack.length-2];if(i&&i.type==="listItem"&&typeof i.checked=="boolean"){const t=this.stack[this.stack.length-1],n=t.children[0];if(n&&n.type==="text"){const r=i.children;let l=-1,h;for(;++l<r.length;){const d=r[l];if(d.type==="paragraph"){h=d;break}}h===t&&(n.value=n.value.slice(1),n.value.length===0?t.children.shift():t.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function hJ(e,i,t,n){const r=e.children[0],l=typeof e.checked=="boolean"&&r&&r.type==="paragraph",h="["+(e.checked?"x":" ")+"] ",d=Md(n);l&&d.move(h);let p=lJ(e,i,t,{...n,...d.current()});return l&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),p;function f(g){return g+h}}function pJ(){return[hZ,OZ(),WZ,QZ,uJ]}function fJ(e){return{extensions:[pZ,DZ(),GZ,oJ(e),cJ]}}function mJ(e={}){const i=this.data();t("micromarkExtensions",aZ(e)),t("fromMarkdownExtensions",pJ()),t("toMarkdownExtensions",fJ(e));function t(n,r){(i[n]?i[n]:i[n]=[]).push(r)}}class gJ extends z.Component{constructor(){super(),Ai(this,"onFilterChange",i=>{const t=i.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}render(){return this.props.notes.loaded?U.jsxs("div",{id:"notesView",style:{position:"relative",overflow:"auto"},children:[U.jsx(ns,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),U.jsx("div",{id:"notesViewInner",children:U.jsx("div",{id:"notesContent",children:U.jsx(Yc,{children:this.props.notes.notes,remarkPlugins:[mJ]})})})]}):null}}function vJ(e){return{notes:e.notes}}const yJ=qi(vJ)(gJ);class bJ extends z.Component{render(){return U.jsx("div",{className:"single-pane-view",children:this.props.singlePane})}}function wJ(e){return{document:e.document}}const xJ=qi(wJ)(bJ);class SJ extends z.Component{constructor(i){super(),Ai(this,"onDrag",t=>{if(this.dragging){const n=this.ecComponent.clientWidth-2*this.dividerWidth;let r,l,h;this.activeDivider===1?(r=t.clientX-this.ecComponent.offsetLeft-this.dividerWidth/2,h=n*this.splitFractionRight,l=n-r-h):(h=n-t.clientX-this.dividerWidth/2,r=n*this.splitFraction,l=n-r-h),r>=this.leftPaneMinWidth&&l>=this.rightPaneMinWidth&&h>=this.thirdPaneMinWidth&&(this.splitFraction=n===0?0:r/n,this.splitFractionRight=n===0?0:h/n,this.updateUI()),this.updatePaneSize()}}),Ai(this,"onStartDrag",t=>{this.dragging=!0,this.activeDivider=t==="first"?1:2}),Ai(this,"onEndDrag",t=>{this.dragging=!1,this.activeDivider=0}),Ai(this,"onResize",t=>{this.updatePaneSize()}),this.firstFolio=i.document.folios[0],this.rightPaneMinWidth=i.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=i.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=i.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:i.thirdPane.props.documentView.third.transcriptionType==="g"?0:200,this.splitFraction=i.threePanel?.49:.5,this.splitFractionRight=i.threePanel?.01:0,this.dividerWidth=16,this.ecComponent=document.querySelector("#diplomatic"),this.ecComponent.clientWidth,this.state={style:{gridTemplateColumns:`${this.splitFraction}fr ${this.dividerWidth}px ${1-this.splitFraction-this.splitFractionRight}fr ${this.dividerWidth}px ${this.splitFractionRight}fr`}},this.dragging=!1,this.activeDivider=0,this.onDrag=this.onDrag.bind(this),this.onResize=this.onResize.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this)}updateUI(){const i=this.splitFraction,t=this.splitFractionRight,n=1-i-t;this.setState({...this.state,style:{...this.state.style,gridTemplateColumns:`${i}fr ${this.dividerWidth}px ${n}fr ${this.dividerWidth}px ${t}fr`}})}updatePaneSize(){const i=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFraction)),t=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFractionRight)),n=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction-this.splitFractionRight));this.props.onWidth&&i>=this.leftPaneMinWidth&&n>=this.rightPaneMinWidth&&t>=this.thirdPaneMinWidth&&this.props.onWidth(i,n,t)}componentDidMount(){if(this.updateUI(),window.addEventListener("pointermove",this.onDrag),window.addEventListener("pointerup",this.onEndDrag),window.addEventListener("resize",this.onResize),this.props.onWidth){const i=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFraction)),t=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction)),n=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction));this.props.onWidth(i,t,n)}}componentDidUpdate(i){this.rightPaneMinWidth=this.props.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=this.props.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=this.props.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:this.props.thirdPane.props.documentView.third.transcriptionType==="g"?0:200}componentWillUnmount(){window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("pointerup",this.onEndDrag),window.removeEventListener("resize",this.onResize)}renderDivider(i){return U.jsx("div",{className:`divider ${i}_divider`,onPointerDown:()=>this.onStartDrag(i),children:U.jsx("div",{className:"drawer-button hidden",onClick:this.onDrawerButton,children:U.jsx("i",{className:"drawer-icon fas fa-caret-left fa-2x",children:" "})})})}render(){return U.jsxs("div",{className:"split-pane-view three-pane",style:{...this.state.style},children:[this.props.leftPane,this.renderDivider("first"),this.props.rightPane,this.props.threePanel&&this.renderDivider("second"),this.props.threePanel&&this.props.thirdPane]})}}function EJ(e){return{document:e.document}}const TJ=qi(EJ)(SJ);function kJ(e){const[i,t]=z.useState(null),[n,r]=z.useState(!1),l=g=>{t(g.currentTarget),r(!0)},h=g=>{r(!1)},d=()=>{const g=Wi(e.text)||`ERROR: Could not find comment for id: ${e.commentID}.`,y={maxWidth:200,padding:"25px 15px 15px 15px"},S={float:"right",padding:5,fontStyle:"bold"};return U.jsx(bk,{id:e.commentID,open:n,anchorEl:i,children:U.jsx(V1,{in:n,children:U.jsxs(pd,{className:"editor-comment-content",children:[U.jsx("div",{onClick:h,style:S,children:U.jsx("span",{className:"fa fa-window-close"})}),U.jsx(Xn,{style:y,children:g})]})})})},p={display:"inline"},f={fontStyle:"bold",fontSize:"18pt",color:"red"};return U.jsxs("div",{style:p,children:[U.jsx("span",{onClick:g=>l(g),style:f,children:"*"}),d()]})}class WE extends z.Component{constructor(i){super(i),this.state={error:null,errorInfo:null}}static getDerivedStateFromError(i){return{error:!0}}componentDidCatch(i,t){this.setState({error:i,errorInfo:t})}render(){return this.state.errorInfo?U.jsxs("div",{style:{height:"350px",overflowY:"scroll"},children:[U.jsx("h2",{children:"Something went wrong."}),U.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:["There has been an error rendering a comment",U.jsx("br",{}),this.state.error&&this.state.error.toString(),U.jsx("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}class CJ extends vt.Component{constructor(i,t){super(i,t),Ai(this,"changeCurrentFolio",n=>{const{side:r,documentView:l,documentViewActions:h}=this.props,{dataset:d}=n.currentTarget;if(typeof d.id>"u"||d.id.length===0)return;const p=d.id;h.changeCurrentFolio(p,r,l[r].transcriptionType)}),this.changeCurrentFolio=this.changeCurrentFolio.bind(this)}render(){const{side:i,document:t,documentView:n,bottom:r=!1}=this.props;if(n[i].iiifShortID==="-1")return null;const l=t.folioIndex[n[i].iiifShortID].name;return U.jsx("div",{className:r?"paginationComponent bottom":"paginationComponent",children:U.jsxs("div",{className:"paginationControl",children:[U.jsx("span",{title:"Go back",onClick:this.changeCurrentFolio,"data-id":n[i].previousFolioShortID,className:n[i].hasPrevious?"arrow":"arrow disabled",children:U.jsx(JC,{})}),U.jsx("span",{className:"folioName",children:l}),U.jsxs("span",{title:"Go forward",onClick:this.changeCurrentFolio,"data-id":n[i].nextFolioShortID,className:n[i].hasNext?"arrow":"arrow disabled",children:[" ",U.jsx($C,{})]})]})})}}function PJ(e){return{document:e.document}}const ta=qi(PJ)(CJ);class _J extends vt.Component{render(){const{html:i,htmlToReactParserOptionsSide:t}=this.props;return Wi(i,t)}}function hl({side:e,documentView:i,documentViewActions:t}){return U.jsxs("div",{style:{position:"relative"},className:"watermarkContainer",children:[i.left.iiifShortID!=="-1"&&i.right.iiifShortID!=="-1"?U.jsx(ns,{side:e,documentView:i,documentViewActions:t}):null,U.jsxs("div",{className:"transcriptContent",children:[U.jsx(ta,{side:e,className:"pagination_upper",documentView:i,documentViewActions:t}),U.jsx("div",{className:"watermark",children:U.jsx("div",{className:e!=="third"?"watermark_contents":"third_pane_blank"})})]})]})}function RJ(e,i,t){return t.includes(e)&&(i.attribs.classname?i.attribs.classname+=" selected-zone":i.attribs.classname="selected-zone"),i}function Jf(e,i){if(e&&i.attribs["data-facs"]){const t=i.attribs["data-facs"].split(" ");return RJ(e,i,t)}return i}function GE(e,i){var t;const n=(t=e.attribs)==null?void 0:t.ana;return n&&n.split(" ").map(r=>r.slice(1)).some(r=>i.includes(r))&&(e.attribs.class="active"),e}function OJ(e,i){return{replace(t){var n,r,l;switch(t.name){case"div":return t=GE(t,i),Jf(e,t);case"tei-seg":return GE(t,i);case"tei-line":return Jf(e,t);case"tei-surface":return Jf(e,t);case"tei-note":{const h=((n=t.children[0])==null?void 0:n.data)||"",d=t.attribs.n||t.attribs.id;return d?U.jsx(kJ,{commentID:d,text:h}):t}case"tei-figure":{const h=t.children.find(g=>g.name==="tei-graphic"),d=(r=h?.attribs)==null?void 0:r.url;if(!d)return t;const p=t.children.find(g=>g.name==="tei-figdesc"),f=(l=p?.children[0])==null?void 0:l.data;return U.jsxs("figure",{className:"inline-figure",children:[U.jsx("img",{src:d,alt:f||"",className:"inline-image"}),f?U.jsx("figcaption",{children:f}):null]})}default:return t}}}}function DJ(e){const[i]=tg(),{side:t,folioID:n,transcriptionType:r,document:l,documentView:h,documentViewActions:d}=e,{tagsLeft:p,tagsRight:f}=z.useContext(od),g=t==="left"?p:f;if(n==="-1")return U.jsx(hl,{documentView:h,documentViewActions:d,side:t});const y=l.folioIndex[n];if(y&&!y.loading&&!y.transcription)return U.jsx(hl,{documentView:h,documentViewActions:d,side:t});const S=y&&y.transcription&&y.transcription[r];if(y&&!y.loading&&!S)return U.jsx(hl,{documentView:h,documentViewActions:d,side:t});const k=OJ(i.get("zone"),g),C=S&&S.html,P=S&&S.layout;return y&&!y.loading&&!C?U.jsx(hl,{documentView:h,documentViewActions:d,side:t}):y&&y.loading?U.jsxs("div",{children:[U.jsx(ns,{side:t,documentView:h,documentViewActions:d,documentName:l.variorum&&y.doc_id}),U.jsx(ta,{side:t,documentView:h,documentViewActions:d}),U.jsx("div",{className:"transcriptionViewComponent",children:U.jsx("div",{className:"transcriptContent",children:U.jsx(WE,{children:U.jsx($g,{delay:3e3,color:"dark"})})})}),U.jsx(ta,{side:t,documentView:h,documentViewActions:d,bottom:!0})]}):U.jsxs("div",{style:{position:"relative",overflow:"auto"},children:[U.jsx(ns,{side:t,documentView:h,documentViewActions:d,documentName:l.variorum&&y.doc_id}),U.jsx(ta,{side:t,documentView:h,documentViewActions:d}),U.jsx("div",{className:"transcriptionViewComponent",children:U.jsx("div",{className:"transcriptContent",children:U.jsx(WE,{children:U.jsx("div",{className:"surface grid-mode",style:{gridTemplateAreas:P},children:U.jsx(_J,{html:C,htmlToReactParserOptionsSide:k})})})})}),U.jsx(ta,{side:t,documentView:h,documentViewActions:d,bottom:!0})]})}function AJ(e){return{annotations:e.annotations,document:e.document}}const IJ=qi(AJ)(DJ);class MJ extends z.Component{render(){const{side:i,document:t,documentView:n,documentViewActions:r}=this.props,l=`xmlViewComponent ${i}`,h=`xmlViewComponent_${i}`,d=n[i].iiifShortID;if(d==="-1")return U.jsx("div",{className:"watermark",children:U.jsx("div",{className:"watermark_contents"})});const p=t.folioIndex[d];if(!p.transcription)return U.jsx(hl,{documentView:n,documentViewActions:r,side:i});const{transcriptionType:f}=n[i],g=p.transcription[f],{xml:y}=g;return U.jsxs("div",{id:h,className:l,style:{position:"relative",overflow:"auto"},children:[U.jsx(ns,{side:i,documentView:n,documentViewActions:r,documentName:t.variorum&&p.doc_id}),U.jsx(ta,{side:i,className:"pagination_upper",documentView:n,documentViewActions:r}),U.jsx("div",{className:"xmlContentInner",children:U.jsx("pre",{children:y})})]})}}function zJ(e){return{document:e.document}}const LJ=qi(zJ)(MJ),$f={isXMLMode:!1,width:0};function BJ(e){const[i,t]=z.useState(!e.document.variorum),[n,r]=z.useState(!1),[l,h]=z.useState($f),[d,p]=z.useState($f),[f,g]=z.useState($f),[y,S]=z.useState(e.containerWidth<960),k=nN(),C=Al(),P=po();z.useEffect(()=>{vm(e,"RouteListenerSaga.userNavigation",P.pathname)},[e.config]),z.useEffect(()=>{S(e.containerWidth<960)},[e.containerWidth]);const _=Se=>{C(Se+P.search)},D=()=>{const{folioID:Se,transcriptionType:ge,folioID2:Re,transcriptionType2:_e,folioID3:J,transcriptionType3:ze}=k,{document:st}=e,ee=st.variorum?Object.keys(st.transcriptionTypes[Object.keys(st.transcriptionTypes)[0]])[0]:Object.keys(st.transcriptionTypes)[0];if(!Se)return{left:{folioID:"-1",transcriptionType:"g"},right:{folioID:"-1",transcriptionType:st.variorum?"g":ee},third:{folioID:"-1",transcriptionType:"g"}};const kt=Object.keys(st.folioIndex).includes(Se),tt=kt?Se:"-1";let at,yt,Ot,Tt,rt;if(Re){const Ye=Object.keys(st.folioIndex).includes(Re);if(at=kt?ge:"g",yt=Ye?Re:"-1",Ot=Ye?_e||ee:"g",J){const xt=Object.keys(st.folioIndex).includes(J);Tt=xt?J:"-1",rt=xt?ze||ee:"g"}else Tt="-1",rt="g"}else at="f",yt=kt?Se:"-1",Ot=kt?ge||ee:"g",Tt="-1",rt="g";return{left:{folioID:tt,transcriptionType:at},right:{folioID:yt,transcriptionType:Ot},third:{folioID:Tt,transcriptionType:rt}}};z.useEffect(()=>{vm(e,"DiplomaticActions.setFixedFrameMode",!0)},[]);const q=(Se,ge)=>{Se==="left"?h({...l,isXMLMode:ge}):Se==="right"?p({...d,isXMLMode:ge}):g({...f,isXMLMode:ge})},G=(Se,ge)=>{if(r(ge),ge){const[Re,_e]=K(Se);ue(Re,"f",_e,"f")}},ne=(Se,ge)=>{var Re;const{document:_e}=e;if(_e.folioByName[Se]){const J=(Re=_e.folioByName[Se])==null?void 0:Re.id;he(J,ge,D()[ge].transcriptionType)}},K=Se=>{const{document:ge}=e,Re=ge.folioIndex[Se],{name:_e,pageNumber:J}=Re,ze=ge.variorum?ge.folios.filter(st=>st.doc_id===Re.doc_id):ge.folios;return!_e.endsWith("v")&&_e.endsWith("r")?[ze[J-1].id,ze[J].id]:ze[J+1]?[ze[J].id,ze[J+1].id]:[ze[J].id,null]},Y=(Se,ge,Re)=>{h({...l,width:Se}),p({...d,width:ge}),g({...f,width:Re})},se=(Se,ge)=>{const Re=D();if(Se==="left"){const{folioID:_e}=Re.left,J=Re.right;ue(_e,ge,J.folioID,J.transcriptionType,Re.third.folioID,Re.third.transcriptionType)}else if(Se==="right"){const{folioID:_e}=Re.right,J=Re.left;ue(J.folioID,J.transcriptionType,_e,ge,Re.third.folioID,Re.third.transcriptionType)}else{const{folioID:_e}=Re.third;ue(Re.left.folioID,Re.left.transcriptionType,Re.right.folioID,Re.right.transcriptionType,_e,ge)}},ue=(Se,ge,Re,_e,J,ze)=>{if(!Se){_("/ec");return}if(!ge){_(`/ec/${Se}`);return}if(!Re){_(`/ec/${Se}/${ge}`);return}if(!_e){_(`/ec/${Se}/${ge}/${Re}/tc`);return}if(!J){_(`/ec/${Se}/${ge}/${Re}/${_e}`);return}if(!ze){_(`/ec/${Se}/${ge}/${Re}/${_e}/${J}/f`);return}_(`/ec/${Se}/${ge}/${Re}/${_e}/${J}/${ze}`)},he=(Se,ge,Re)=>{const _e=D();if(n){const[J,ze]=K(Se);J&&ue(J,"f",ze,"f")}else if(i)if(ge==="left"){const J=_e.right;ue(Se,Re,Se,J.transcriptionType)}else if(ge==="right"){const J=_e.left;ue(Se,J.transcriptionType,Se,Re)}else ue(_e.left.folioID,_e.left.transcriptionType,_e.right.folioID,_e.right.transcriptionType,Se,Re);else if(ge==="left"){const J=_e.right,ze=_e.third;ue(Se,Re,J.folioID,J.transcriptionType,ze.folioID,ze.transcriptionType)}else if(ge==="right"){const J=_e.left,ze=_e.third;ue(J.folioID,J.transcriptionType,Se,Re,ze.folioID,ze.transcriptionType)}else ue(_e.left.folioID,_e.left.transcriptionType,_e.right.folioID,_e.right.transcriptionType,Se,Re)},le=Se=>{const{transcriptionType:ge}=D()[Se],Re=Se==="left"?l.isXMLMode:Se==="right"?d.isXMLMode:f.isXMLMode;return ge==="g"?"ImageGridView":ge==="f"?"ImageView":ge==="glossary"?"GlossaryView":ge==="notes"?"NotesView":Re?"XMLView":"TranscriptionView"},ye=Se=>{const{document:ge}=e,Re=D()[Se];if(Re.folioID==="-1")return{...Se==="left"?l:Se==="right"?d:f,iiifShortID:Re.folioID,transcriptionType:Re.transcriptionType};const _e=Re.folioID,J=ge.variorum?ge.folios.filter(at=>at.doc_id===ge.folioIndex[_e].doc_id):ge.folios,ze=J.length;let st="",ee="",kt=!1,tt=!1;if(n){const[at]=K(_e),yt=ge.folioIndex[at].pageNumber;yt>-1&&(tt=yt<ze-2,st=tt?J[yt+2].id:"",kt=yt>1&&ze>1,ee=kt?J[yt-2].id:"")}else{const at=ge.folioIndex[_e].pageNumber;at>-1&&(tt=at<ze-1,st=tt?J[at+1].id:"",kt=at>0&&ze>1,ee=kt?J[at-1].id:"")}return{...Se==="left"?l:Se==="right"?d:f,iiifShortID:_e,transcriptionType:Re.transcriptionType,hasPrevious:kt,hasNext:tt,previousFolioShortID:ee,nextFolioShortID:st,documentID:ge.variorum?ge.folioIndex[_e].doc_id:ge.documentName}},fe={setXMLMode:q,setLinkedMode:t,setBookMode:G,changeTranscriptionType:se,changeCurrentFolio:he,jumpToFolio:ne},we=(Se,ge)=>{const Re=le(Se),_e=Ie(Se),J=ge[Se].iiifShortID,ze=ge[Se].documentID,{transcriptionType:st}=ge[Se];return Re==="ImageView"?U.jsx(RK,{folioID:J,documentView:ge,documentViewActions:fe,side:Se},_e):Re==="TranscriptionView"?U.jsx(IJ,{documentView:ge,documentViewActions:fe,side:Se,folioID:J,transcriptionType:st},_e):Re==="XMLView"?U.jsx(LJ,{folioID:J,transcriptionType:st,documentView:ge,documentViewActions:fe,side:Se},_e):Re==="ImageGridView"?e.tagExplorerMode?U.jsx(R7,{side:Se,documentView:ge}):U.jsx(SK,{documentView:ge,documentViewActions:fe,side:Se,selectedDoc:ze||e.document.variorum&&Object.keys(e.document.derivativeNames)[Se==="left"?0:Se==="right"?1:Object.keys(e.document.derivativeNames).length>2?2:1]},_e):Re==="GlossaryView"?U.jsx(bK,{documentView:ge,documentViewActions:fe,side:Se},_e):Re==="NotesView"?U.jsx(yJ,{documentView:ge,documentViewActions:fe,side:Se},_e):U.jsx("div",{children:"ERROR: Unrecognized viewType."})},Ie=Se=>{const ge=Se==="left"?l:Se==="right"?d:f;return ge.viewType==="ImageGridView"?`${Se}-${ge.viewType}`:typeof ge.folio<"u"?`${Se}-${ge.viewType}-${ge.folio.id}`:`${Se}-${ge.viewType}`};if(!e.document.loaded)return null;const je={linkedMode:i,bookMode:n,left:ye("left"),right:ye("right"),third:ye("third")};return{...ye("right")},K5("md",e.width)&&!y?U.jsx("div",{style:{height:"100%"},children:U.jsx(TJ,{leftPane:we("left",je),rightPane:we("right",je),thirdPane:we("third",je),onWidth:Y,threePanel:e.document.threePanel})}):U.jsx("div",{style:{height:"100%"},children:U.jsx(xJ,{singlePane:we(ye("left").iiifShortID==="-1"?"left":"right",je)})})}function NJ(e){return{document:e.document,glossary:e.glossary}}const sl=DT()(qi(NJ)(BJ));function jJ(e){const i=z.useRef(!1),{pathname:t}=po(),n=()=>{vm(e,"RouteListenerSaga.userNavigation",t)};return z.useEffect(()=>{i.current||(n(),i.current=!0)},[]),z.useEffect(()=>{n()},[t]),null}function HJ(e){return{}}const FJ=qi(HJ)(jJ);function vP(e){const[i,t]=z.useState(0),[n,r]=z.useState("min(100%, 100dvh"),l=z.useRef(null);z.useEffect(()=>{$5().listen(()=>{window.scrollTo(0,0)})},[]),z.useEffect(()=>{l.current&&(t(l.current.offsetWidth),l.current.clientHeight===0&&r("100dvh"))},[l]);const{fixedFrameMode:h}=e.diplomatic,d=h?"editioncrafter":"editioncrafter sticky",p=U.jsxs("div",{id:"diplomatic",className:d,ref:l,style:{height:n},children:[U.jsx(FJ,{}),U.jsx("div",{id:"content",style:{height:"100%"},children:U.jsxs(vN,{children:[U.jsx(jo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2/:folioID3/:transcriptionType3",element:U.jsx(sl,{...e,containerWidth:i}),exact:!0}),U.jsx(jo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2",element:U.jsx(sl,{...e,containerWidth:i}),exact:!0}),U.jsx(jo,{path:"/ec/:folioID/:transcriptionType",element:U.jsx(sl,{...e,containerWidth:i}),exact:!0}),U.jsx(jo,{path:"/ec/:folioID",element:U.jsx(sl,{...e,containerWidth:i}),exact:!0}),U.jsx(jo,{path:"/ec",element:U.jsx(sl,{...e,containerWidth:i}),exact:!0}),U.jsx(jo,{path:"/",element:U.jsx(mN,{to:"/ec"}),exact:!0})]})})]}),f=e.tagExplorerMode!==!0?U.jsx(bN,{children:U.jsx(wN,{children:p})}):p;return U.jsx(_B,{store:e.store,children:f})}vP.propTypes={store:wt.object.isRequired,config:wt.object.isRequired};function VJ(e){return{diplomatic:e.diplomatic,documentView:e.documentView}}const UJ=DT()(qi(VJ)(vP));function D$(e){const i=uT({palette:{primary:{main:"#792421"},secondary:{main:"#EBE3DD"}}}),t=e.tagExplorerMode===!0;return U.jsx(G5,{theme:i,children:U.jsx(UJ,{config:e,store:SH(e),tagExplorerMode:t})})}var yP={exports:{}};const WJ={},GJ=Object.freeze(Object.defineProperty({__proto__:null,default:WJ},Symbol.toStringTag,{value:"Module"})),Qf=Hm(GJ);(function(e,i){var t=void 0,n=function(r){return t||(t=new Promise(function(l,h){var d=typeof r<"u"?r:{},p=d.onAbort;d.onAbort=function(T){h(new Error(T)),p&&p(T)},d.postRun=d.postRun||[],d.postRun.push(function(){l(d)}),e=void 0;var f;f||(f=typeof d<"u"?d:{});var g=typeof window=="object",y=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";f.onRuntimeInitialized=function(){function T(Ee,qe){switch(typeof qe){case"boolean":Aa(Ee,qe?1:0);break;case"number":xs(Ee,qe);break;case"string":nh(Ee,qe,-1,-1);break;case"object":if(qe===null)Po(Ee);else if(qe.length!=null){var bt=vs(qe,ko);Ss(Ee,bt,qe.length,-1),Yi(bt)}else Qn(Ee,"Wrong API use : tried to return a value of an unknown type ("+qe+").",-1);break;default:Po(Ee)}}function R(Ee,qe){for(var bt=[],Ft=0;Ft<Ee;Ft+=1){var Qt=on(qe+4*Ft,"i32"),Cn=$d(Qt);if(Cn===1||Cn===2)Qt=Da(Qt);else if(Cn===3)Qt=eh(Qt);else if(Cn===4){Cn=Qt,Qt=Qd(Cn),Cn=th(Cn);for(var Ci=new Uint8Array(Qt),Pi=0;Pi<Qt;Pi+=1)Ci[Pi]=he[Cn+Pi];Qt=Ci}else Qt=null;bt.push(Qt)}return bt}function j(Ee,qe){this.Ka=Ee,this.db=qe,this.Ia=1,this.eb=[]}function $(Ee,qe){if(this.db=qe,qe=me(Ee)+1,this.Xa=_a(qe),this.Xa===null)throw Error("Unable to allocate memory for the SQL string");Ae(Ee,le,this.Xa,qe),this.cb=this.Xa,this.Ta=this.hb=null}function pe(Ee){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Ee!=null){var qe=this.filename,bt="/",Ft=qe;if(bt&&(bt=typeof bt=="string"?bt:bo(bt),Ft=qe?Ne(bt+"/"+qe):bt),qe=lt(!0,!0),Ft=hs(Ft,(qe!==void 0?qe:438)&4095|32768,0),Ee){if(typeof Ee=="string"){bt=Array(Ee.length);for(var Qt=0,Cn=Ee.length;Qt<Cn;++Qt)bt[Qt]=Ee.charCodeAt(Qt);Ee=bt}xo(Ft,qe|146),bt=_r(Ft,577),Le(bt,Ee,0,Ee.length,0),ms(bt),xo(Ft,qe)}}this.handleError(Wt(this.filename,Oe)),this.db=on(Oe,"i32"),Zn(this.db),this.Ya={},this.Ma={}}var Oe=ar(4),Ve=f.cwrap,Wt=Ve("sqlite3_open","number",["string","number"]),an=Ve("sqlite3_close_v2","number",["number"]),Kt=Ve("sqlite3_exec","number",["number","string","number","number","number"]),Fn=Ve("sqlite3_changes","number",["number"]),Kn=Ve("sqlite3_prepare_v2","number",["number","string","number","number","number"]),jd=Ve("sqlite3_sql","string",["number"]),Hd=Ve("sqlite3_normalized_sql","string",["number"]),au=Ve("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Fd=Ve("sqlite3_bind_text","number",["number","number","number","number","number"]),lu=Ve("sqlite3_bind_blob","number",["number","number","number","number","number"]),Vd=Ve("sqlite3_bind_double","number",["number","number","number"]),Ud=Ve("sqlite3_bind_int","number",["number","number","number"]),Wd=Ve("sqlite3_bind_parameter_index","number",["number","string"]),Ra=Ve("sqlite3_step","number",["number"]),Gd=Ve("sqlite3_errmsg","string",["number"]),qd=Ve("sqlite3_column_count","number",["number"]),Xd=Ve("sqlite3_data_count","number",["number"]),Yd=Ve("sqlite3_column_double","number",["number","number"]),Oa=Ve("sqlite3_column_text","string",["number","number"]),uu=Ve("sqlite3_column_blob","number",["number","number"]),Ki=Ve("sqlite3_column_bytes","number",["number","number"]),xi=Ve("sqlite3_column_type","number",["number","number"]),Wr=Ve("sqlite3_column_name","string",["number","number"]),Kd=Ve("sqlite3_reset","number",["number"]),Zd=Ve("sqlite3_clear_bindings","number",["number"]),Jd=Ve("sqlite3_finalize","number",["number"]),cu=Ve("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),$d=Ve("sqlite3_value_type","number",["number"]),Qd=Ve("sqlite3_value_bytes","number",["number"]),eh=Ve("sqlite3_value_text","string",["number"]),th=Ve("sqlite3_value_blob","number",["number"]),Da=Ve("sqlite3_value_double","number",["number"]),xs=Ve("sqlite3_result_double","",["number","number"]),Po=Ve("sqlite3_result_null","",["number"]),nh=Ve("sqlite3_result_text","",["number","string","number","number"]),Ss=Ve("sqlite3_result_blob","",["number","number","number","number"]),Aa=Ve("sqlite3_result_int","",["number","number"]),Qn=Ve("sqlite3_result_error","",["number","string","number"]),du=Ve("sqlite3_aggregate_context","number",["number","number"]),Zn=Ve("RegisterExtensionFunctions","number",["number"]);j.prototype.bind=function(Ee){if(!this.Ka)throw"Statement closed";return this.reset(),Array.isArray(Ee)?this.vb(Ee):Ee!=null&&typeof Ee=="object"?this.wb(Ee):!0},j.prototype.step=function(){if(!this.Ka)throw"Statement closed";this.Ia=1;var Ee=Ra(this.Ka);switch(Ee){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Ee)}},j.prototype.qb=function(Ee){return Ee==null&&(Ee=this.Ia,this.Ia+=1),Yd(this.Ka,Ee)},j.prototype.zb=function(Ee){if(Ee==null&&(Ee=this.Ia,this.Ia+=1),Ee=Oa(this.Ka,Ee),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Ee)},j.prototype.Ab=function(Ee){return Ee==null&&(Ee=this.Ia,this.Ia+=1),Oa(this.Ka,Ee)},j.prototype.getBlob=function(Ee){Ee==null&&(Ee=this.Ia,this.Ia+=1);var qe=Ki(this.Ka,Ee);Ee=uu(this.Ka,Ee);for(var bt=new Uint8Array(qe),Ft=0;Ft<qe;Ft+=1)bt[Ft]=he[Ee+Ft];return bt},j.prototype.get=function(Ee,qe){qe=qe||{},Ee!=null&&this.bind(Ee)&&this.step(),Ee=[];for(var bt=Xd(this.Ka),Ft=0;Ft<bt;Ft+=1)switch(xi(this.Ka,Ft)){case 1:var Qt=qe.useBigInt?this.zb(Ft):this.qb(Ft);Ee.push(Qt);break;case 2:Ee.push(this.qb(Ft));break;case 3:Ee.push(this.Ab(Ft));break;case 4:Ee.push(this.getBlob(Ft));break;default:Ee.push(null)}return Ee},j.prototype.getColumnNames=function(){for(var Ee=[],qe=qd(this.Ka),bt=0;bt<qe;bt+=1)Ee.push(Wr(this.Ka,bt));return Ee},j.prototype.getAsObject=function(Ee,qe){Ee=this.get(Ee,qe),qe=this.getColumnNames();for(var bt={},Ft=0;Ft<qe.length;Ft+=1)bt[qe[Ft]]=Ee[Ft];return bt},j.prototype.getSQL=function(){return jd(this.Ka)},j.prototype.getNormalizedSQL=function(){return Hd(this.Ka)},j.prototype.run=function(Ee){return Ee!=null&&this.bind(Ee),this.step(),this.reset()},j.prototype.mb=function(Ee,qe){qe==null&&(qe=this.Ia,this.Ia+=1),Ee=L(Ee);var bt=vs(Ee,ko);this.eb.push(bt),this.db.handleError(Fd(this.Ka,qe,bt,Ee.length-1,0))},j.prototype.ub=function(Ee,qe){qe==null&&(qe=this.Ia,this.Ia+=1);var bt=vs(Ee,ko);this.eb.push(bt),this.db.handleError(lu(this.Ka,qe,bt,Ee.length,0))},j.prototype.lb=function(Ee,qe){qe==null&&(qe=this.Ia,this.Ia+=1),this.db.handleError((Ee===(Ee|0)?Ud:Vd)(this.Ka,qe,Ee))},j.prototype.xb=function(Ee){Ee==null&&(Ee=this.Ia,this.Ia+=1),lu(this.Ka,Ee,0,0,0)},j.prototype.nb=function(Ee,qe){switch(qe==null&&(qe=this.Ia,this.Ia+=1),typeof Ee){case"string":this.mb(Ee,qe);return;case"number":this.lb(Ee,qe);return;case"bigint":this.mb(Ee.toString(),qe);return;case"boolean":this.lb(Ee+0,qe);return;case"object":if(Ee===null){this.xb(qe);return}if(Ee.length!=null){this.ub(Ee,qe);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Ee+")."},j.prototype.wb=function(Ee){var qe=this;return Object.keys(Ee).forEach(function(bt){var Ft=Wd(qe.Ka,bt);Ft!==0&&qe.nb(Ee[bt],Ft)}),!0},j.prototype.vb=function(Ee){for(var qe=0;qe<Ee.length;qe+=1)this.nb(Ee[qe],qe+1);return!0},j.prototype.reset=function(){return this.freemem(),Zd(this.Ka)===0&&Kd(this.Ka)===0},j.prototype.freemem=function(){for(var Ee;(Ee=this.eb.pop())!==void 0;)Yi(Ee)},j.prototype.free=function(){this.freemem();var Ee=Jd(this.Ka)===0;return delete this.db.Ya[this.Ka],this.Ka=0,Ee},$.prototype.next=function(){if(this.Xa===null)return{done:!0};if(this.Ta!==null&&(this.Ta.free(),this.Ta=null),!this.db.db)throw this.fb(),Error("Database closed");var Ee=Co(),qe=ar(4);Dt(Oe),Dt(qe);try{this.db.handleError(au(this.db.db,this.cb,-1,Oe,qe)),this.cb=on(qe,"i32");var bt=on(Oe,"i32");return bt===0?(this.fb(),{done:!0}):(this.Ta=new j(bt,this.db),this.db.Ya[bt]=this.Ta,{value:this.Ta,done:!1})}catch(Ft){throw this.hb=Q(this.cb),this.fb(),Ft}finally{Ur(Ee)}},$.prototype.fb=function(){Yi(this.Xa),this.Xa=null},$.prototype.getRemainingSQL=function(){return this.hb!==null?this.hb:Q(this.cb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&($.prototype[Symbol.iterator]=function(){return this}),pe.prototype.run=function(Ee,qe){if(!this.db)throw"Database closed";if(qe){Ee=this.prepare(Ee,qe);try{Ee.step()}finally{Ee.free()}}else this.handleError(Kt(this.db,Ee,0,0,Oe));return this},pe.prototype.exec=function(Ee,qe,bt){if(!this.db)throw"Database closed";var Ft=Co(),Qt=null;try{var Cn=Pa(Ee),Ci=ar(4);for(Ee=[];on(Cn,"i8")!==0;){Dt(Oe),Dt(Ci),this.handleError(au(this.db,Cn,-1,Oe,Ci));var Pi=on(Oe,"i32");if(Cn=on(Ci,"i32"),Pi!==0){var Si=null;for(Qt=new j(Pi,this),qe!=null&&Qt.bind(qe);Qt.step();)Si===null&&(Si={columns:Qt.getColumnNames(),values:[]},Ee.push(Si)),Si.values.push(Qt.get(null,bt));Qt.free()}}return Ee}catch(_i){throw Qt&&Qt.free(),_i}finally{Ur(Ft)}},pe.prototype.each=function(Ee,qe,bt,Ft,Qt){typeof qe=="function"&&(Ft=bt,bt=qe,qe=void 0),Ee=this.prepare(Ee,qe);try{for(;Ee.step();)bt(Ee.getAsObject(null,Qt))}finally{Ee.free()}if(typeof Ft=="function")return Ft()},pe.prototype.prepare=function(Ee,qe){if(Dt(Oe),this.handleError(Kn(this.db,Ee,-1,Oe,0)),Ee=on(Oe,"i32"),Ee===0)throw"Nothing to prepare";var bt=new j(Ee,this);return qe!=null&&bt.bind(qe),this.Ya[Ee]=bt},pe.prototype.iterateStatements=function(Ee){return new $(Ee,this)},pe.prototype.export=function(){Object.values(this.Ya).forEach(function(qe){qe.free()}),Object.values(this.Ma).forEach(Vr),this.Ma={},this.handleError(an(this.db));var Ee=Ta(this.filename);return this.handleError(Wt(this.filename,Oe)),this.db=on(Oe,"i32"),Zn(this.db),Ee},pe.prototype.close=function(){this.db!==null&&(Object.values(this.Ya).forEach(function(Ee){Ee.free()}),Object.values(this.Ma).forEach(Vr),this.Ma={},this.handleError(an(this.db)),xa("/"+this.filename),this.db=null)},pe.prototype.handleError=function(Ee){if(Ee===0)return null;throw Ee=Gd(this.db),Error(Ee)},pe.prototype.getRowsModified=function(){return Fn(this.db)},pe.prototype.create_function=function(Ee,qe){Object.prototype.hasOwnProperty.call(this.Ma,Ee)&&(Vr(this.Ma[Ee]),delete this.Ma[Ee]);var bt=ys(function(Ft,Qt,Cn){Qt=R(Qt,Cn);try{var Ci=qe.apply(null,Qt)}catch(Pi){Qn(Ft,Pi,-1);return}T(Ft,Ci)},"viii");return this.Ma[Ee]=bt,this.handleError(cu(this.db,Ee,qe.length,1,0,bt,0,0,0)),this},pe.prototype.create_aggregate=function(Ee,qe){var bt=qe.init||function(){return null},Ft=qe.finalize||function(Si){return Si},Qt=qe.step;if(!Qt)throw"An aggregate function must have a step function in "+Ee;var Cn={};Object.hasOwnProperty.call(this.Ma,Ee)&&(Vr(this.Ma[Ee]),delete this.Ma[Ee]),qe=Ee+"__finalize",Object.hasOwnProperty.call(this.Ma,qe)&&(Vr(this.Ma[qe]),delete this.Ma[qe]);var Ci=ys(function(Si,_i,Ia){var Dr=du(Si,1);Object.hasOwnProperty.call(Cn,Dr)||(Cn[Dr]=bt()),_i=R(_i,Ia),_i=[Cn[Dr]].concat(_i);try{Cn[Dr]=Qt.apply(null,_i)}catch(ih){delete Cn[Dr],Qn(Si,ih,-1)}},"viii"),Pi=ys(function(Si){var _i=du(Si,1);try{var Ia=Ft(Cn[_i])}catch(Dr){delete Cn[_i],Qn(Si,Dr,-1);return}T(Si,Ia),delete Cn[_i]},"vi");return this.Ma[Ee]=Ci,this.Ma[qe]=Pi,this.handleError(cu(this.db,Ee,Qt.length-1,1,0,0,Ci,Pi,0)),this},f.Database=pe};var k=Object.assign({},f),C="./this.program",P="",_,D;if(S){var q=Qf,G=Qf;P=__dirname+"/",D=T=>(T=tt(T)?new URL(T):G.normalize(T),q.readFileSync(T)),_=T=>(T=tt(T)?new URL(T):G.normalize(T),new Promise((R,j)=>{q.readFile(T,void 0,($,pe)=>{$?j($):R(pe.buffer)})})),!f.thisProgram&&1<process.argv.length&&(C=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=f}else(g||y)&&(y?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),P=P.startsWith("blob:")?"":P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),y&&(D=T=>{var R=new XMLHttpRequest;return R.open("GET",T,!1),R.responseType="arraybuffer",R.send(null),new Uint8Array(R.response)}),_=T=>tt(T)?new Promise((R,j)=>{var $=new XMLHttpRequest;$.open("GET",T,!0),$.responseType="arraybuffer",$.onload=()=>{($.status==200||$.status==0&&$.response)&&j($.response),R($.status)},$.onerror=R,$.send(null)}):fetch(T,{credentials:"same-origin"}).then(R=>R.ok?R.arrayBuffer():Promise.reject(Error(R.status+" : "+R.url))));var ne=f.print||console.log.bind(console),K=f.printErr||console.error.bind(console);Object.assign(f,k),k=null,f.thisProgram&&(C=f.thisProgram);var Y;f.wasmBinary&&(Y=f.wasmBinary);var se,ue=!1,he,le,ye,fe,we,Ie,je;function Se(){var T=se.buffer;f.HEAP8=he=new Int8Array(T),f.HEAP16=ye=new Int16Array(T),f.HEAPU8=le=new Uint8Array(T),f.HEAPU16=new Uint16Array(T),f.HEAP32=fe=new Int32Array(T),f.HEAPU32=we=new Uint32Array(T),f.HEAPF32=Ie=new Float32Array(T),f.HEAPF64=je=new Float64Array(T)}var ge=[],Re=[],_e=[];function J(){var T=f.preRun.shift();ge.unshift(T)}var ze=0,st=null;function ee(T){var R;throw(R=f.onAbort)==null||R.call(f,T),T="Aborted("+T+")",K(T),ue=!0,new WebAssembly.RuntimeError(T+". Build with -sASSERTIONS for more info.")}var kt=T=>T.startsWith("data:application/octet-stream;base64,"),tt=T=>T.startsWith("file://"),at;function yt(T){if(T==at&&Y)return new Uint8Array(Y);if(D)return D(T);throw"both async and sync fetching of the wasm failed"}function Ot(T){return Y?Promise.resolve().then(()=>yt(T)):_(T).then(R=>new Uint8Array(R),()=>yt(T))}function Tt(T,R,j){return Ot(T).then($=>WebAssembly.instantiate($,R)).then(j,$=>{K(`failed to asynchronously prepare wasm: ${$}`),ee($)})}function rt(T,R){var j=at;Y||typeof WebAssembly.instantiateStreaming!="function"||kt(j)||tt(j)||S||typeof fetch!="function"?Tt(j,T,R):fetch(j,{credentials:"same-origin"}).then($=>WebAssembly.instantiateStreaming($,T).then(R,function(pe){return K(`wasm streaming compile failed: ${pe}`),K("falling back to ArrayBuffer instantiation"),Tt(j,T,R)}))}var Ye,xt,Ht=T=>{for(;0<T.length;)T.shift()(f)};function on(T,R="i8"){switch(R.endsWith("*")&&(R="*"),R){case"i1":return he[T];case"i8":return he[T];case"i16":return ye[T>>1];case"i32":return fe[T>>2];case"i64":ee("to do getValue(i64) use WASM_BIGINT");case"float":return Ie[T>>2];case"double":return je[T>>3];case"*":return we[T>>2];default:ee(`invalid type for getValue: ${R}`)}}function Dt(T){var R="i32";switch(R.endsWith("*")&&(R="*"),R){case"i1":he[T]=0;break;case"i8":he[T]=0;break;case"i16":ye[T>>1]=0;break;case"i32":fe[T>>2]=0;break;case"i64":ee("to do setValue(i64) use WASM_BIGINT");case"float":Ie[T>>2]=0;break;case"double":je[T>>3]=0;break;case"*":we[T>>2]=0;break;default:ee(`invalid type for setValue: ${R}`)}}var Yt=typeof TextDecoder<"u"?new TextDecoder:void 0,I=(T,R,j)=>{var $=R+j;for(j=R;T[j]&&!(j>=$);)++j;if(16<j-R&&T.buffer&&Yt)return Yt.decode(T.subarray(R,j));for($="";R<j;){var pe=T[R++];if(pe&128){var Oe=T[R++]&63;if((pe&224)==192)$+=String.fromCharCode((pe&31)<<6|Oe);else{var Ve=T[R++]&63;pe=(pe&240)==224?(pe&15)<<12|Oe<<6|Ve:(pe&7)<<18|Oe<<12|Ve<<6|T[R++]&63,65536>pe?$+=String.fromCharCode(pe):(pe-=65536,$+=String.fromCharCode(55296|pe>>10,56320|pe&1023))}}else $+=String.fromCharCode(pe)}return $},Q=(T,R)=>T?I(le,T,R):"",xe=(T,R)=>{for(var j=0,$=T.length-1;0<=$;$--){var pe=T[$];pe==="."?T.splice($,1):pe===".."?(T.splice($,1),j++):j&&(T.splice($,1),j--)}if(R)for(;j;j--)T.unshift("..");return T},Ne=T=>{var R=T.charAt(0)==="/",j=T.substr(-1)==="/";return(T=xe(T.split("/").filter($=>!!$),!R).join("/"))||R||(T="."),T&&j&&(T+="/"),(R?"/":"")+T},Be=T=>{var R=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(T).slice(1);return T=R[0],R=R[1],!T&&!R?".":(R&&(R=R.substr(0,R.length-1)),T+R)},$e=T=>{if(T==="/")return"/";T=Ne(T),T=T.replace(/\/$/,"");var R=T.lastIndexOf("/");return R===-1?T:T.substr(R+1)},Ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return j=>crypto.getRandomValues(j);if(S)try{var T=Qf;if(T.randomFillSync)return j=>T.randomFillSync(j);var R=T.randomBytes;return j=>(j.set(R(j.byteLength)),j)}catch{}ee("initRandomDevice")},Et=T=>(Et=Ke())(T),It=(...T)=>{for(var R="",j=!1,$=T.length-1;-1<=$&&!j;$--){if(j=0<=$?T[$]:"/",typeof j!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!j)return"";R=j+"/"+R,j=j.charAt(0)==="/"}return R=xe(R.split("/").filter(pe=>!!pe),!j).join("/"),(j?"/":"")+R||"."},Lt=[],me=T=>{for(var R=0,j=0;j<T.length;++j){var $=T.charCodeAt(j);127>=$?R++:2047>=$?R+=2:55296<=$&&57343>=$?(R+=4,++j):R+=3}return R},Ae=(T,R,j,$)=>{if(!(0<$))return 0;var pe=j;$=j+$-1;for(var Oe=0;Oe<T.length;++Oe){var Ve=T.charCodeAt(Oe);if(55296<=Ve&&57343>=Ve){var Wt=T.charCodeAt(++Oe);Ve=65536+((Ve&1023)<<10)|Wt&1023}if(127>=Ve){if(j>=$)break;R[j++]=Ve}else{if(2047>=Ve){if(j+1>=$)break;R[j++]=192|Ve>>6}else{if(65535>=Ve){if(j+2>=$)break;R[j++]=224|Ve>>12}else{if(j+3>=$)break;R[j++]=240|Ve>>18,R[j++]=128|Ve>>12&63}R[j++]=128|Ve>>6&63}R[j++]=128|Ve&63}}return R[j]=0,j-pe};function L(T,R){var j=Array(me(T)+1);return T=Ae(T,j,0,j.length),R&&(j.length=T),j}var N=[];function W(T,R){N[T]={input:[],output:[],Wa:R},ba(T,Z)}var Z={open(T){var R=N[T.node.rdev];if(!R)throw new ut(43);T.tty=R,T.seekable=!1},close(T){T.tty.Wa.fsync(T.tty)},fsync(T){T.tty.Wa.fsync(T.tty)},read(T,R,j,$){if(!T.tty||!T.tty.Wa.rb)throw new ut(60);for(var pe=0,Oe=0;Oe<$;Oe++){try{var Ve=T.tty.Wa.rb(T.tty)}catch{throw new ut(29)}if(Ve===void 0&&pe===0)throw new ut(6);if(Ve==null)break;pe++,R[j+Oe]=Ve}return pe&&(T.node.timestamp=Date.now()),pe},write(T,R,j,$){if(!T.tty||!T.tty.Wa.ib)throw new ut(60);try{for(var pe=0;pe<$;pe++)T.tty.Wa.ib(T.tty,R[j+pe])}catch{throw new ut(29)}return $&&(T.node.timestamp=Date.now()),pe}},Te={rb(){e:{if(!Lt.length){var T=null;if(S){var R=Buffer.alloc(256),j=0,$=process.stdin.fd;try{j=q.readSync($,R,0,256)}catch(pe){if(pe.toString().includes("EOF"))j=0;else throw pe}0<j&&(T=R.slice(0,j).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(T=window.prompt("Input: "),T!==null&&(T+=`
`));if(!T){T=null;break e}Lt=L(T,!0)}T=Lt.shift()}return T},ib(T,R){R===null||R===10?(ne(I(T.output,0)),T.output=[]):R!=0&&T.output.push(R)},fsync(T){T.output&&0<T.output.length&&(ne(I(T.output,0)),T.output=[])},Lb(){return{Gb:25856,Ib:5,Fb:191,Hb:35387,Eb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Mb(){return 0},Nb(){return[24,80]}},Ue={ib(T,R){R===null||R===10?(K(I(T.output,0)),T.output=[]):R!=0&&T.output.push(R)},fsync(T){T.output&&0<T.output.length&&(K(I(T.output,0)),T.output=[])}};function gt(T,R){var j=T.Ha?T.Ha.length:0;j>=R||(R=Math.max(R,j*(1048576>j?2:1.125)>>>0),j!=0&&(R=Math.max(R,256)),j=T.Ha,T.Ha=new Uint8Array(R),0<T.La&&T.Ha.set(j.subarray(0,T.La),0))}var He={Pa:null,Qa(){return He.createNode(null,"/",16895,0)},createNode(T,R,j,$){if((j&61440)===24576||(j&61440)===4096)throw new ut(63);return He.Pa||(He.Pa={dir:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na,lookup:He.Fa.lookup,$a:He.Fa.$a,rename:He.Fa.rename,unlink:He.Fa.unlink,rmdir:He.Fa.rmdir,readdir:He.Fa.readdir,symlink:He.Fa.symlink},stream:{Sa:He.Ga.Sa}},file:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na},stream:{Sa:He.Ga.Sa,read:He.Ga.read,write:He.Ga.write,kb:He.Ga.kb,ab:He.Ga.ab,bb:He.Ga.bb}},link:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na,readlink:He.Fa.readlink},stream:{}},ob:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na},stream:tu}}),j=Jl(T,R,j,$),wi(j.mode)?(j.Fa=He.Pa.dir.node,j.Ga=He.Pa.dir.stream,j.Ha={}):(j.mode&61440)===32768?(j.Fa=He.Pa.file.node,j.Ga=He.Pa.file.stream,j.La=0,j.Ha=null):(j.mode&61440)===40960?(j.Fa=He.Pa.link.node,j.Ga=He.Pa.link.stream):(j.mode&61440)===8192&&(j.Fa=He.Pa.ob.node,j.Ga=He.Pa.ob.stream),j.timestamp=Date.now(),T&&(T.Ha[R]=j,T.timestamp=j.timestamp),j},Kb(T){return T.Ha?T.Ha.subarray?T.Ha.subarray(0,T.La):new Uint8Array(T.Ha):new Uint8Array(0)},Fa:{Oa(T){var R={};return R.dev=(T.mode&61440)===8192?T.id:1,R.ino=T.id,R.mode=T.mode,R.nlink=1,R.uid=0,R.gid=0,R.rdev=T.rdev,wi(T.mode)?R.size=4096:(T.mode&61440)===32768?R.size=T.La:(T.mode&61440)===40960?R.size=T.link.length:R.size=0,R.atime=new Date(T.timestamp),R.mtime=new Date(T.timestamp),R.ctime=new Date(T.timestamp),R.yb=4096,R.blocks=Math.ceil(R.size/R.yb),R},Na(T,R){if(R.mode!==void 0&&(T.mode=R.mode),R.timestamp!==void 0&&(T.timestamp=R.timestamp),R.size!==void 0&&(R=R.size,T.La!=R))if(R==0)T.Ha=null,T.La=0;else{var j=T.Ha;T.Ha=new Uint8Array(R),j&&T.Ha.set(j.subarray(0,Math.min(R,T.La))),T.La=R}},lookup(){throw us[44]},$a(T,R,j,$){return He.createNode(T,R,j,$)},rename(T,R,j){if(wi(T.mode)){try{var $=pr(R,j)}catch{}if($)for(var pe in $.Ha)throw new ut(55)}delete T.parent.Ha[T.name],T.parent.timestamp=Date.now(),T.name=j,R.Ha[j]=T,R.timestamp=T.parent.timestamp},unlink(T,R){delete T.Ha[R],T.timestamp=Date.now()},rmdir(T,R){var j=pr(T,R),$;for($ in j.Ha)throw new ut(55);delete T.Ha[R],T.timestamp=Date.now()},readdir(T){var R=[".",".."],j;for(j of Object.keys(T.Ha))R.push(j);return R},symlink(T,R,j){return T=He.createNode(T,R,41471,0),T.link=j,T},readlink(T){if((T.mode&61440)!==40960)throw new ut(28);return T.link}},Ga:{read(T,R,j,$,pe){var Oe=T.node.Ha;if(pe>=T.node.La)return 0;if(T=Math.min(T.node.La-pe,$),8<T&&Oe.subarray)R.set(Oe.subarray(pe,pe+T),j);else for($=0;$<T;$++)R[j+$]=Oe[pe+$];return T},write(T,R,j,$,pe,Oe){if(R.buffer===he.buffer&&(Oe=!1),!$)return 0;if(T=T.node,T.timestamp=Date.now(),R.subarray&&(!T.Ha||T.Ha.subarray)){if(Oe)return T.Ha=R.subarray(j,j+$),T.La=$;if(T.La===0&&pe===0)return T.Ha=R.slice(j,j+$),T.La=$;if(pe+$<=T.La)return T.Ha.set(R.subarray(j,j+$),pe),$}if(gt(T,pe+$),T.Ha.subarray&&R.subarray)T.Ha.set(R.subarray(j,j+$),pe);else for(Oe=0;Oe<$;Oe++)T.Ha[pe+Oe]=R[j+Oe];return T.La=Math.max(T.La,pe+$),$},Sa(T,R,j){if(j===1?R+=T.position:j===2&&(T.node.mode&61440)===32768&&(R+=T.node.La),0>R)throw new ut(28);return R},kb(T,R,j){gt(T.node,R+j),T.node.La=Math.max(T.node.La,R+j)},ab(T,R,j,$,pe){if((T.node.mode&61440)!==32768)throw new ut(43);if(T=T.node.Ha,pe&2||T.buffer!==he.buffer){if((0<j||j+R<T.length)&&(T.subarray?T=T.subarray(j,j+R):T=Array.prototype.slice.call(T,j,j+R)),j=!0,R=65536*Math.ceil(R/65536),(pe=bs(65536,R))?(le.fill(0,pe,pe+R),R=pe):R=0,!R)throw new ut(48);he.set(T,R)}else j=!1,R=T.byteOffset;return{Cb:R,tb:j}},bb(T,R,j,$){return He.Ga.write(T,R,0,$,j,!1),0}}},lt=(T,R)=>{var j=0;return T&&(j|=365),R&&(j|=146),j},_n=null,en={},oi=[],yo=1,zi=null,kr=!0,ut=class{constructor(T){this.name="ErrnoError",this.Ja=T}},us={},zd=class{constructor(){this.Za={},this.node=null}get flags(){return this.Za.flags}set flags(T){this.Za.flags=T}get position(){return this.Za.position}set position(T){this.Za.position=T}},Zl=class{constructor(T,R,j,$){T||(T=this),this.parent=T,this.Qa=T.Qa,this.Ua=null,this.id=yo++,this.name=R,this.mode=j,this.Fa={},this.Ga={},this.rdev=$}get read(){return(this.mode&365)===365}set read(T){T?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(T){T?this.mode|=146:this.mode&=-147}};function Un(T,R={}){if(T=It(T),!T)return{path:"",node:null};if(R=Object.assign({pb:!0,jb:0},R),8<R.jb)throw new ut(32);T=T.split("/").filter(Ve=>!!Ve);for(var j=_n,$="/",pe=0;pe<T.length;pe++){var Oe=pe===T.length-1;if(Oe&&R.parent)break;if(j=pr(j,T[pe]),$=Ne($+"/"+T[pe]),j.Ua&&(!Oe||Oe&&R.pb)&&(j=j.Ua.root),!Oe||R.Ra){for(Oe=0;(j.mode&61440)===40960;)if(j=iu($),$=It(Be($),j),j=Un($,{jb:R.jb+1}).node,40<Oe++)throw new ut(32)}}return{path:$,node:j}}function bo(T){for(var R;;){if(T===T.parent)return T=T.Qa.sb,R?T[T.length-1]!=="/"?`${T}/${R}`:T+R:T;R=R?`${T.name}/${R}`:T.name,T=T.parent}}function cs(T,R){for(var j=0,$=0;$<R.length;$++)j=(j<<5)-j+R.charCodeAt($)|0;return(T+j>>>0)%zi.length}function Cr(T){var R=cs(T.parent.id,T.name);if(zi[R]===T)zi[R]=T.Va;else for(R=zi[R];R;){if(R.Va===T){R.Va=T.Va;break}R=R.Va}}function pr(T,R){var j=wi(T.mode)?(j=Pr(T,"x"))?j:T.Fa.lookup?0:2:54;if(j)throw new ut(j);for(j=zi[cs(T.id,R)];j;j=j.Va){var $=j.name;if(j.parent.id===T.id&&$===R)return j}return T.Fa.lookup(T,R)}function Jl(T,R,j,$){return T=new Zl(T,R,j,$),R=cs(T.parent.id,T.name),T.Va=zi[R],zi[R]=T}function wi(T){return(T&61440)===16384}function ds(T){var R=["r","w","rw"][T&3];return T&512&&(R+="w"),R}function Pr(T,R){if(kr)return 0;if(!R.includes("r")||T.mode&292){if(R.includes("w")&&!(T.mode&146)||R.includes("x")&&!(T.mode&73))return 2}else return 2;return 0}function $l(T,R){try{return pr(T,R),20}catch{}return Pr(T,"wx")}function Ql(T,R,j){try{var $=pr(T,R)}catch(pe){return pe.Ja}if(T=Pr(T,"wx"))return T;if(j){if(!wi($.mode))return 54;if($===$.parent||bo($)==="/")return 10}else if(wi($.mode))return 31;return 0}function si(T){if(T=oi[T],!T)throw new ut(8);return T}function ya(T,R=-1){if(T=Object.assign(new zd,T),R==-1)e:{for(R=0;4096>=R;R++)if(!oi[R])break e;throw new ut(33)}return T.fd=R,oi[R]=T}function eu(T,R=-1){var j,$;return T=ya(T,R),($=(j=T.Ga)==null?void 0:j.Jb)==null||$.call(j,T),T}var tu={open(T){var R,j;T.Ga=en[T.node.rdev].Ga,(j=(R=T.Ga).open)==null||j.call(R,T)},Sa(){throw new ut(70)}};function ba(T,R){en[T]={Ga:R}}function nu(T,R){var j=R==="/";if(j&&_n)throw new ut(10);if(!j&&R){var $=Un(R,{pb:!1});if(R=$.path,$=$.node,$.Ua)throw new ut(10);if(!wi($.mode))throw new ut(54)}R={type:T,Ob:{},sb:R,Bb:[]},T=T.Qa(R),T.Qa=R,R.root=T,j?_n=T:$&&($.Ua=R,$.Qa&&$.Qa.Bb.push(R))}function hs(T,R,j){var $=Un(T,{parent:!0}).node;if(T=$e(T),!T||T==="."||T==="..")throw new ut(28);var pe=$l($,T);if(pe)throw new ut(pe);if(!$.Fa.$a)throw new ut(63);return $.Fa.$a($,T,R,j)}function Li(T,R){return hs(T,(R!==void 0?R:511)&1023|16384,0)}function wo(T,R,j){typeof j>"u"&&(j=R,R=438),hs(T,R|8192,j)}function ps(T,R){if(!It(T))throw new ut(44);var j=Un(R,{parent:!0}).node;if(!j)throw new ut(44);R=$e(R);var $=$l(j,R);if($)throw new ut($);if(!j.Fa.symlink)throw new ut(63);j.Fa.symlink(j,R,T)}function wa(T){var R=Un(T,{parent:!0}).node;T=$e(T);var j=pr(R,T),$=Ql(R,T,!0);if($)throw new ut($);if(!R.Fa.rmdir)throw new ut(63);if(j.Ua)throw new ut(10);R.Fa.rmdir(R,T),Cr(j)}function xa(T){var R=Un(T,{parent:!0}).node;if(!R)throw new ut(44);T=$e(T);var j=pr(R,T),$=Ql(R,T,!1);if($)throw new ut($);if(!R.Fa.unlink)throw new ut(63);if(j.Ua)throw new ut(10);R.Fa.unlink(R,T),Cr(j)}function iu(T){if(T=Un(T).node,!T)throw new ut(44);if(!T.Fa.readlink)throw new ut(28);return It(bo(T.parent),T.Fa.readlink(T))}function Hr(T,R){if(T=Un(T,{Ra:!R}).node,!T)throw new ut(44);if(!T.Fa.Oa)throw new ut(63);return T.Fa.Oa(T)}function fs(T){return Hr(T,!0)}function xo(T,R){if(T=typeof T=="string"?Un(T,{Ra:!0}).node:T,!T.Fa.Na)throw new ut(63);T.Fa.Na(T,{mode:R&4095|T.mode&-4096,timestamp:Date.now()})}function Sa(T,R){if(0>R)throw new ut(28);if(T=typeof T=="string"?Un(T,{Ra:!0}).node:T,!T.Fa.Na)throw new ut(63);if(wi(T.mode))throw new ut(31);if((T.mode&61440)!==32768)throw new ut(28);var j=Pr(T,"w");if(j)throw new ut(j);T.Fa.Na(T,{size:R,timestamp:Date.now()})}function _r(T,R,j){if(T==="")throw new ut(44);if(typeof R=="string"){var $={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[R];if(typeof $>"u")throw Error(`Unknown file open mode: ${R}`);R=$}if(j=R&64?(typeof j>"u"?438:j)&4095|32768:0,typeof T=="object")var pe=T;else{T=Ne(T);try{pe=Un(T,{Ra:!(R&131072)}).node}catch{}}if($=!1,R&64)if(pe){if(R&128)throw new ut(20)}else pe=hs(T,j,0),$=!0;if(!pe)throw new ut(44);if((pe.mode&61440)===8192&&(R&=-513),R&65536&&!wi(pe.mode))throw new ut(54);if(!$&&(j=pe?(pe.mode&61440)===40960?32:wi(pe.mode)&&(ds(R)!=="r"||R&512)?31:Pr(pe,ds(R)):44))throw new ut(j);return R&512&&!$&&Sa(pe,0),R&=-131713,pe=ya({node:pe,path:bo(pe),flags:R,seekable:!0,position:0,Ga:pe.Ga,Db:[],error:!1}),pe.Ga.open&&pe.Ga.open(pe),!f.logReadFiles||R&1||(Fr||(Fr={}),T in Fr||(Fr[T]=1)),pe}function ms(T){if(T.fd===null)throw new ut(8);T.gb&&(T.gb=null);try{T.Ga.close&&T.Ga.close(T)}catch(R){throw R}finally{oi[T.fd]=null}T.fd=null}function Ea(T,R,j){if(T.fd===null)throw new ut(8);if(!T.seekable||!T.Ga.Sa)throw new ut(70);if(j!=0&&j!=1&&j!=2)throw new ut(28);T.position=T.Ga.Sa(T,R,j),T.Db=[]}function ru(T,R,j,$,pe){if(0>$||0>pe)throw new ut(28);if(T.fd===null)throw new ut(8);if((T.flags&2097155)===1)throw new ut(8);if(wi(T.node.mode))throw new ut(31);if(!T.Ga.read)throw new ut(28);var Oe=typeof pe<"u";if(!Oe)pe=T.position;else if(!T.seekable)throw new ut(70);return R=T.Ga.read(T,R,j,$,pe),Oe||(T.position+=R),R}function Le(T,R,j,$,pe){if(0>$||0>pe)throw new ut(28);if(T.fd===null)throw new ut(8);if(!(T.flags&2097155))throw new ut(8);if(wi(T.node.mode))throw new ut(31);if(!T.Ga.write)throw new ut(28);T.seekable&&T.flags&1024&&Ea(T,0,2);var Oe=typeof pe<"u";if(!Oe)pe=T.position;else if(!T.seekable)throw new ut(70);return R=T.Ga.write(T,R,j,$,pe,void 0),Oe||(T.position+=R),R}function Ta(T){var R,j=_r(T,j||0);T=Hr(T).size;var $=new Uint8Array(T);return ru(j,$,0,T,0),R=$,ms(j),R}var rr;function So(T,R,j){T=Ne("/dev/"+T);var $=lt(!!R,!!j);Eo||(Eo=64);var pe=Eo++<<8|0;ba(pe,{open(Oe){Oe.seekable=!1},close(){var Oe;(Oe=j?.buffer)!=null&&Oe.length&&j(10)},read(Oe,Ve,Wt,an){for(var Kt=0,Fn=0;Fn<an;Fn++){try{var Kn=R()}catch{throw new ut(29)}if(Kn===void 0&&Kt===0)throw new ut(6);if(Kn==null)break;Kt++,Ve[Wt+Fn]=Kn}return Kt&&(Oe.node.timestamp=Date.now()),Kt},write(Oe,Ve,Wt,an){for(var Kt=0;Kt<an;Kt++)try{j(Ve[Wt+Kt])}catch{throw new ut(29)}return an&&(Oe.node.timestamp=Date.now()),Kt}}),wo(T,$,pe)}var Eo,Sn={},Fr;function Xi(T,R,j){if(R.charAt(0)==="/")return R;if(T=T===-100?"/":si(T).path,R.length==0){if(!j)throw new ut(44);return T}return Ne(T+"/"+R)}function Rr(T,R,j){T=T(R),fe[j>>2]=T.dev,fe[j+4>>2]=T.mode,we[j+8>>2]=T.nlink,fe[j+12>>2]=T.uid,fe[j+16>>2]=T.gid,fe[j+20>>2]=T.rdev,xt=[T.size>>>0,(Ye=T.size,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[j+24>>2]=xt[0],fe[j+28>>2]=xt[1],fe[j+32>>2]=4096,fe[j+36>>2]=T.blocks,R=T.atime.getTime();var $=T.mtime.getTime(),pe=T.ctime.getTime();return xt=[Math.floor(R/1e3)>>>0,(Ye=Math.floor(R/1e3),1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[j+40>>2]=xt[0],fe[j+44>>2]=xt[1],we[j+48>>2]=R%1e3*1e3,xt=[Math.floor($/1e3)>>>0,(Ye=Math.floor($/1e3),1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[j+56>>2]=xt[0],fe[j+60>>2]=xt[1],we[j+64>>2]=$%1e3*1e3,xt=[Math.floor(pe/1e3)>>>0,(Ye=Math.floor(pe/1e3),1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[j+72>>2]=xt[0],fe[j+76>>2]=xt[1],we[j+80>>2]=pe%1e3*1e3,xt=[T.ino>>>0,(Ye=T.ino,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[j+88>>2]=xt[0],fe[j+92>>2]=xt[1],0}var To=void 0;function or(){var T=fe[+To>>2];return To+=4,T}var sr=(T,R)=>R+2097152>>>0<4194305-!!T?(T>>>0)+4294967296*R:NaN,Ld=[0,31,60,91,121,152,182,213,244,274,305,335],Bd=[0,31,59,90,120,151,181,212,243,273,304,334],ka={},Ca=()=>{if(!gs){var T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},R;for(R in ka)ka[R]===void 0?delete T[R]:T[R]=ka[R];var j=[];for(R in T)j.push(`${R}=${T[R]}`);gs=j}return gs},gs,Pa=T=>{var R=me(T)+1,j=ar(R);return Ae(T,le,j,R),j},ou=(T,R,j,$)=>{var pe={string:Kt=>{var Fn=0;return Kt!=null&&Kt!==0&&(Fn=Pa(Kt)),Fn},array:Kt=>{var Fn=ar(Kt.length);return he.set(Kt,Fn),Fn}};T=f["_"+T];var Oe=[],Ve=0;if($)for(var Wt=0;Wt<$.length;Wt++){var an=pe[j[Wt]];an?(Ve===0&&(Ve=Co()),Oe[Wt]=an($[Wt])):Oe[Wt]=$[Wt]}return j=T(...Oe),j=function(Kt){return Ve!==0&&Ur(Ve),R==="string"?Kt?I(le,Kt):"":R==="boolean"?!!Kt:Kt}(j)},ko=0,vs=(T,R)=>(R=R==1?ar(T.length):_a(T.length),T.subarray||T.slice||(T=new Uint8Array(T)),le.set(T,R),R),Or,On=[],Wn,Vr=T=>{Or.delete(Wn.get(T)),Wn.set(T,null),On.push(T)},ys=(T,R)=>{if(!Or){Or=new WeakMap;var j=Wn.length;if(Or)for(var $=0;$<0+j;$++){var pe=Wn.get($);pe&&Or.set(pe,$)}}if(j=Or.get(T)||0)return j;if(On.length)j=On.pop();else{try{Wn.grow(1)}catch(Wt){throw Wt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Wt}j=Wn.length-1}try{Wn.set(j,T)}catch(Wt){if(!(Wt instanceof TypeError))throw Wt;if(typeof WebAssembly.Function=="function"){$=WebAssembly.Function,pe={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var Oe={parameters:[],results:R[0]=="v"?[]:[pe[R[0]]]},Ve=1;Ve<R.length;++Ve)Oe.parameters.push(pe[R[Ve]]);R=new $(Oe,T)}else{for($=[1],pe=R.slice(0,1),R=R.slice(1),Oe={i:127,p:127,j:126,f:125,d:124,e:111},$.push(96),Ve=R.length,128>Ve?$.push(Ve):$.push(Ve%128|128,Ve>>7),Ve=0;Ve<R.length;++Ve)$.push(Oe[R[Ve]]);pe=="v"?$.push(0):$.push(1,Oe[pe]),R=[0,97,115,109,1,0,0,0,1],pe=$.length,128>pe?R.push(pe):R.push(pe%128|128,pe>>7),R.push(...$),R.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),R=new WebAssembly.Module(new Uint8Array(R)),R=new WebAssembly.Instance(R,{e:{f:T}}).exports.f}Wn.set(j,R)}return Or.set(T,j),j};[44].forEach(T=>{us[T]=new ut(T),us[T].stack="<generic error, no stack>"}),zi=Array(4096),nu(He,"/"),Li("/tmp"),Li("/home"),Li("/home/web_user"),function(){Li("/dev"),ba(259,{read:()=>0,write:($,pe,Oe,Ve)=>Ve}),wo("/dev/null",259),W(1280,Te),W(1536,Ue),wo("/dev/tty",1280),wo("/dev/tty1",1536);var T=new Uint8Array(1024),R=0,j=()=>(R===0&&(R=Et(T).byteLength),T[--R]);So("random",j),So("urandom",j),Li("/dev/shm"),Li("/dev/shm/tmp")}(),function(){Li("/proc");var T=Li("/proc/self");Li("/proc/self/fd"),nu({Qa(){var R=Jl(T,"fd",16895,73);return R.Fa={lookup(j,$){var pe=si(+$);return j={parent:null,Qa:{sb:"fake"},Fa:{readlink:()=>pe.path}},j.parent=j}},R}},"/proc/self/fd")}();var Nd={a:(T,R,j,$)=>{ee(`Assertion failed: ${T?I(le,T):""}, at: `+[R?R?I(le,R):"":"unknown filename",j,$?$?I(le,$):"":"unknown function"])},h:function(T,R){try{return T=T?I(le,T):"",xo(T,R),0}catch(j){if(typeof Sn>"u"||j.name!=="ErrnoError")throw j;return-j.Ja}},H:function(T,R,j){try{if(R=R?I(le,R):"",R=Xi(T,R),j&-8)return-28;var $=Un(R,{Ra:!0}).node;return $?(T="",j&4&&(T+="r"),j&2&&(T+="w"),j&1&&(T+="x"),T&&Pr($,T)?-2:0):-44}catch(pe){if(typeof Sn>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Ja}},i:function(T,R){try{var j=si(T);return xo(j.node,R),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},g:function(T){try{var R=si(T).node,j=typeof R=="string"?Un(R,{Ra:!0}).node:R;if(!j.Fa.Na)throw new ut(63);return j.Fa.Na(j,{timestamp:Date.now()}),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},b:function(T,R,j){To=j;try{var $=si(T);switch(R){case 0:var pe=or();if(0>pe)break;for(;oi[pe];)pe++;return eu($,pe).fd;case 1:case 2:return 0;case 3:return $.flags;case 4:return pe=or(),$.flags|=pe,0;case 12:return pe=or(),ye[pe+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(Oe){if(typeof Sn>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Ja}},f:function(T,R){try{var j=si(T);return Rr(Hr,j.path,R)}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},n:function(T,R,j){R=sr(R,j);try{if(isNaN(R))return 61;var $=si(T);if(!($.flags&2097155))throw new ut(28);return Sa($.node,R),0}catch(pe){if(typeof Sn>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Ja}},C:function(T,R){try{if(R===0)return-28;var j=me("/")+1;return R<j?-68:(Ae("/",le,T,R),j)}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},F:function(T,R){try{return T=T?I(le,T):"",Rr(fs,T,R)}catch(j){if(typeof Sn>"u"||j.name!=="ErrnoError")throw j;return-j.Ja}},z:function(T,R,j){try{return R=R?I(le,R):"",R=Xi(T,R),R=Ne(R),R[R.length-1]==="/"&&(R=R.substr(0,R.length-1)),Li(R,j),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},E:function(T,R,j,$){try{R=R?I(le,R):"";var pe=$&256;return R=Xi(T,R,$&4096),Rr(pe?fs:Hr,R,j)}catch(Oe){if(typeof Sn>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Ja}},x:function(T,R,j,$){To=$;try{R=R?I(le,R):"",R=Xi(T,R);var pe=$?or():0;return _r(R,j,pe).fd}catch(Oe){if(typeof Sn>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Ja}},v:function(T,R,j,$){try{if(R=R?I(le,R):"",R=Xi(T,R),0>=$)return-28;var pe=iu(R),Oe=Math.min($,me(pe)),Ve=he[j+Oe];return Ae(pe,le,j,$+1),he[j+Oe]=Ve,Oe}catch(Wt){if(typeof Sn>"u"||Wt.name!=="ErrnoError")throw Wt;return-Wt.Ja}},u:function(T){try{return T=T?I(le,T):"",wa(T),0}catch(R){if(typeof Sn>"u"||R.name!=="ErrnoError")throw R;return-R.Ja}},G:function(T,R){try{return T=T?I(le,T):"",Rr(Hr,T,R)}catch(j){if(typeof Sn>"u"||j.name!=="ErrnoError")throw j;return-j.Ja}},r:function(T,R,j){try{return R=R?I(le,R):"",R=Xi(T,R),j===0?xa(R):j===512?wa(R):ee("Invalid flags passed to unlinkat"),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},q:function(T,R,j){try{if(R=R?I(le,R):"",R=Xi(T,R,!0),j){var $=we[j>>2]+4294967296*fe[j+4>>2],pe=fe[j+8>>2];Oe=1e3*$+pe/1e6,j+=16,$=we[j>>2]+4294967296*fe[j+4>>2],pe=fe[j+8>>2],Ve=1e3*$+pe/1e6}else var Oe=Date.now(),Ve=Oe;T=Oe;var Wt=Un(R,{Ra:!0}).node;return Wt.Fa.Na(Wt,{timestamp:Math.max(T,Ve)}),0}catch(an){if(typeof Sn>"u"||an.name!=="ErrnoError")throw an;return-an.Ja}},l:function(T,R,j){T=new Date(1e3*sr(T,R)),fe[j>>2]=T.getSeconds(),fe[j+4>>2]=T.getMinutes(),fe[j+8>>2]=T.getHours(),fe[j+12>>2]=T.getDate(),fe[j+16>>2]=T.getMonth(),fe[j+20>>2]=T.getFullYear()-1900,fe[j+24>>2]=T.getDay(),R=T.getFullYear(),fe[j+28>>2]=(R%4!==0||R%100===0&&R%400!==0?Bd:Ld)[T.getMonth()]+T.getDate()-1|0,fe[j+36>>2]=-(60*T.getTimezoneOffset()),R=new Date(T.getFullYear(),6,1).getTimezoneOffset();var $=new Date(T.getFullYear(),0,1).getTimezoneOffset();fe[j+32>>2]=(R!=$&&T.getTimezoneOffset()==Math.min($,R))|0},j:function(T,R,j,$,pe,Oe,Ve,Wt){pe=sr(pe,Oe);try{if(isNaN(pe))return 61;var an=si($);if(R&2&&!(j&2)&&(an.flags&2097155)!==2)throw new ut(2);if((an.flags&2097155)===1)throw new ut(2);if(!an.Ga.ab)throw new ut(43);var Kt=an.Ga.ab(an,T,pe,R,j),Fn=Kt.Cb;return fe[Ve>>2]=Kt.tb,we[Wt>>2]=Fn,0}catch(Kn){if(typeof Sn>"u"||Kn.name!=="ErrnoError")throw Kn;return-Kn.Ja}},k:function(T,R,j,$,pe,Oe,Ve){Oe=sr(Oe,Ve);try{var Wt=si(pe);if(j&2){if((Wt.node.mode&61440)!==32768)throw new ut(43);if(!($&2)){var an=le.slice(T,T+R);Wt.Ga.bb&&Wt.Ga.bb(Wt,an,Oe,R,$)}}}catch(Kt){if(typeof Sn>"u"||Kt.name!=="ErrnoError")throw Kt;return-Kt.Ja}},y:(T,R,j,$)=>{var pe=new Date().getFullYear(),Oe=new Date(pe,0,1).getTimezoneOffset();pe=new Date(pe,6,1).getTimezoneOffset(),we[T>>2]=60*Math.max(Oe,pe),fe[R>>2]=+(Oe!=pe),R=Ve=>{var Wt=Math.abs(Ve);return`UTC${0<=Ve?"-":"+"}${String(Math.floor(Wt/60)).padStart(2,"0")}${String(Wt%60).padStart(2,"0")}`},T=R(Oe),R=R(pe),pe<Oe?(Ae(T,le,j,17),Ae(R,le,$,17)):(Ae(T,le,$,17),Ae(R,le,j,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:T=>{var R=le.length;if(T>>>=0,2147483648<T)return!1;for(var j=1;4>=j;j*=2){var $=R*(1+.2/j);$=Math.min($,T+100663296);var pe=Math;$=Math.max(T,$);e:{pe=(pe.min.call(pe,2147483648,$+(65536-$%65536)%65536)-se.buffer.byteLength+65535)/65536;try{se.grow(pe),Se();var Oe=1;break e}catch{}Oe=void 0}if(Oe)return!0}return!1},A:(T,R)=>{var j=0;return Ca().forEach(($,pe)=>{var Oe=R+j;for(pe=we[T+4*pe>>2]=Oe,Oe=0;Oe<$.length;++Oe)he[pe++]=$.charCodeAt(Oe);he[pe]=0,j+=$.length+1}),0},B:(T,R)=>{var j=Ca();we[T>>2]=j.length;var $=0;return j.forEach(pe=>$+=pe.length+1),we[R>>2]=$,0},e:function(T){try{var R=si(T);return ms(R),0}catch(j){if(typeof Sn>"u"||j.name!=="ErrnoError")throw j;return j.Ja}},p:function(T,R){try{var j=si(T);return he[R]=j.tty?2:wi(j.mode)?3:(j.mode&61440)===40960?7:4,ye[R+2>>1]=0,xt=[0,(Ye=0,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[R+8>>2]=xt[0],fe[R+12>>2]=xt[1],xt=[0,(Ye=0,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[R+16>>2]=xt[0],fe[R+20>>2]=xt[1],0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return $.Ja}},w:function(T,R,j,$){try{e:{var pe=si(T);T=R;for(var Oe,Ve=R=0;Ve<j;Ve++){var Wt=we[T>>2],an=we[T+4>>2];T+=8;var Kt=ru(pe,he,Wt,an,Oe);if(0>Kt){var Fn=-1;break e}if(R+=Kt,Kt<an)break;typeof Oe<"u"&&(Oe+=Kt)}Fn=R}return we[$>>2]=Fn,0}catch(Kn){if(typeof Sn>"u"||Kn.name!=="ErrnoError")throw Kn;return Kn.Ja}},m:function(T,R,j,$,pe){R=sr(R,j);try{if(isNaN(R))return 61;var Oe=si(T);return Ea(Oe,R,$),xt=[Oe.position>>>0,(Ye=Oe.position,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],fe[pe>>2]=xt[0],fe[pe+4>>2]=xt[1],Oe.gb&&R===0&&$===0&&(Oe.gb=null),0}catch(Ve){if(typeof Sn>"u"||Ve.name!=="ErrnoError")throw Ve;return Ve.Ja}},D:function(T){var R;try{var j=si(T);return(R=j.Ga)!=null&&R.fsync?j.Ga.fsync(j):0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return $.Ja}},t:function(T,R,j,$){try{e:{var pe=si(T);T=R;for(var Oe,Ve=R=0;Ve<j;Ve++){var Wt=we[T>>2],an=we[T+4>>2];T+=8;var Kt=Le(pe,he,Wt,an,Oe);if(0>Kt){var Fn=-1;break e}R+=Kt,typeof Oe<"u"&&(Oe+=Kt)}Fn=R}return we[$>>2]=Fn,0}catch(Kn){if(typeof Sn>"u"||Kn.name!=="ErrnoError")throw Kn;return Kn.Ja}}},_t=function(){var T;function R($){var pe;return _t=$.exports,se=_t.I,Se(),Wn=_t.K,Re.unshift(_t.J),ze--,(pe=f.monitorRunDependencies)==null||pe.call(f,ze),ze==0&&st&&($=st,st=null,$()),_t}var j={a:Nd};if(ze++,(T=f.monitorRunDependencies)==null||T.call(f,ze),f.instantiateWasm)try{return f.instantiateWasm(j,R)}catch($){return K(`Module.instantiateWasm callback failed with error: ${$}`),!1}return at||(at=kt("sql-wasm.wasm")?"sql-wasm.wasm":f.locateFile?f.locateFile("sql-wasm.wasm",P):P+"sql-wasm.wasm"),rt(j,function($){R($.instance)}),{}}();f._sqlite3_free=T=>(f._sqlite3_free=_t.L)(T),f._sqlite3_value_text=T=>(f._sqlite3_value_text=_t.M)(T),f._sqlite3_prepare_v2=(T,R,j,$,pe)=>(f._sqlite3_prepare_v2=_t.N)(T,R,j,$,pe),f._sqlite3_step=T=>(f._sqlite3_step=_t.O)(T),f._sqlite3_reset=T=>(f._sqlite3_reset=_t.P)(T),f._sqlite3_exec=(T,R,j,$,pe)=>(f._sqlite3_exec=_t.Q)(T,R,j,$,pe),f._sqlite3_finalize=T=>(f._sqlite3_finalize=_t.R)(T),f._sqlite3_column_name=(T,R)=>(f._sqlite3_column_name=_t.S)(T,R),f._sqlite3_column_text=(T,R)=>(f._sqlite3_column_text=_t.T)(T,R),f._sqlite3_column_type=(T,R)=>(f._sqlite3_column_type=_t.U)(T,R),f._sqlite3_errmsg=T=>(f._sqlite3_errmsg=_t.V)(T),f._sqlite3_clear_bindings=T=>(f._sqlite3_clear_bindings=_t.W)(T),f._sqlite3_value_blob=T=>(f._sqlite3_value_blob=_t.X)(T),f._sqlite3_value_bytes=T=>(f._sqlite3_value_bytes=_t.Y)(T),f._sqlite3_value_double=T=>(f._sqlite3_value_double=_t.Z)(T),f._sqlite3_value_int=T=>(f._sqlite3_value_int=_t._)(T),f._sqlite3_value_type=T=>(f._sqlite3_value_type=_t.$)(T),f._sqlite3_result_blob=(T,R,j,$)=>(f._sqlite3_result_blob=_t.aa)(T,R,j,$),f._sqlite3_result_double=(T,R)=>(f._sqlite3_result_double=_t.ba)(T,R),f._sqlite3_result_error=(T,R,j)=>(f._sqlite3_result_error=_t.ca)(T,R,j),f._sqlite3_result_int=(T,R)=>(f._sqlite3_result_int=_t.da)(T,R),f._sqlite3_result_int64=(T,R,j)=>(f._sqlite3_result_int64=_t.ea)(T,R,j),f._sqlite3_result_null=T=>(f._sqlite3_result_null=_t.fa)(T),f._sqlite3_result_text=(T,R,j,$)=>(f._sqlite3_result_text=_t.ga)(T,R,j,$),f._sqlite3_aggregate_context=(T,R)=>(f._sqlite3_aggregate_context=_t.ha)(T,R),f._sqlite3_column_count=T=>(f._sqlite3_column_count=_t.ia)(T),f._sqlite3_data_count=T=>(f._sqlite3_data_count=_t.ja)(T),f._sqlite3_column_blob=(T,R)=>(f._sqlite3_column_blob=_t.ka)(T,R),f._sqlite3_column_bytes=(T,R)=>(f._sqlite3_column_bytes=_t.la)(T,R),f._sqlite3_column_double=(T,R)=>(f._sqlite3_column_double=_t.ma)(T,R),f._sqlite3_bind_blob=(T,R,j,$,pe)=>(f._sqlite3_bind_blob=_t.na)(T,R,j,$,pe),f._sqlite3_bind_double=(T,R,j)=>(f._sqlite3_bind_double=_t.oa)(T,R,j),f._sqlite3_bind_int=(T,R,j)=>(f._sqlite3_bind_int=_t.pa)(T,R,j),f._sqlite3_bind_text=(T,R,j,$,pe)=>(f._sqlite3_bind_text=_t.qa)(T,R,j,$,pe),f._sqlite3_bind_parameter_index=(T,R)=>(f._sqlite3_bind_parameter_index=_t.ra)(T,R),f._sqlite3_sql=T=>(f._sqlite3_sql=_t.sa)(T),f._sqlite3_normalized_sql=T=>(f._sqlite3_normalized_sql=_t.ta)(T),f._sqlite3_changes=T=>(f._sqlite3_changes=_t.ua)(T),f._sqlite3_close_v2=T=>(f._sqlite3_close_v2=_t.va)(T),f._sqlite3_create_function_v2=(T,R,j,$,pe,Oe,Ve,Wt,an)=>(f._sqlite3_create_function_v2=_t.wa)(T,R,j,$,pe,Oe,Ve,Wt,an),f._sqlite3_open=(T,R)=>(f._sqlite3_open=_t.xa)(T,R);var _a=f._malloc=T=>(_a=f._malloc=_t.ya)(T),Yi=f._free=T=>(Yi=f._free=_t.za)(T);f._RegisterExtensionFunctions=T=>(f._RegisterExtensionFunctions=_t.Aa)(T);var bs=(T,R)=>(bs=_t.Ba)(T,R),Ur=T=>(Ur=_t.Ca)(T),ar=T=>(ar=_t.Da)(T),Co=()=>(Co=_t.Ea)();f.stackSave=()=>Co(),f.stackRestore=T=>Ur(T),f.stackAlloc=T=>ar(T),f.cwrap=(T,R,j,$)=>{var pe=!j||j.every(Oe=>Oe==="number"||Oe==="boolean");return R!=="string"&&pe&&!$?f["_"+T]:(...Oe)=>ou(T,R,j,Oe)},f.addFunction=ys,f.removeFunction=Vr,f.UTF8ToString=Q,f.ALLOC_NORMAL=ko,f.allocate=vs,f.allocateUTF8OnStack=Pa;var ws;st=function T(){ws||su(),ws||(st=T)};function su(){function T(){var R;if(!ws&&(ws=!0,f.calledRun=!0,!ue)){if(f.noFSInit||rr||(rr=!0,f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?So("stdin",f.stdin):ps("/dev/tty","/dev/stdin"),f.stdout?So("stdout",null,f.stdout):ps("/dev/tty","/dev/stdout"),f.stderr?So("stderr",null,f.stderr):ps("/dev/tty1","/dev/stderr"),_r("/dev/stdin",0),_r("/dev/stdout",1),_r("/dev/stderr",1)),kr=!1,Ht(Re),(R=f.onRuntimeInitialized)==null||R.call(f),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var j=f.postRun.shift();_e.unshift(j)}Ht(_e)}}if(!(0<ze)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)J();Ht(ge),0<ze||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),T()},1)):T())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return su(),d}),t)};e.exports=n,e.exports.default=n})(yP);var qJ=yP.exports;const XJ=Sr(qJ),YJ="1.12.0",KJ={version:YJ};function ZJ(e){return ri({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}}]})(e)}function JJ(){return U.jsxs("div",{className:"loading",children:[U.jsx(ZJ,{}),U.jsx("span",{children:"Loading"})]})}function Sl(e){const i=[];for(;e.step();)i.push(e.getAsObject());return i}const Kl=z.createContext({categories:[],tags:[]});function Zc(e){return U.jsxs("button",{className:e.isActive?"active pill":"pill",onClick:e.onClick,type:"button",children:[e.children,e.label]})}const qE=20;function $J(e){const i=z.useMemo(()=>{const t=[];return e.phrases.forEach(n=>{n.layer===e.layer&&(t.includes(n.name)||(n.name.length>qE?t.push(`${n.name.slice(0,qE)}...`):t.push(n.name)))}),t.join("; ")},[e.layer,e.phrases]);return U.jsx("p",{children:i})}function QJ(e){const i=z.useContext(Kl),[t,n]=z.useState(Object.keys(i.layers)[0]),r=z.useMemo(()=>Object.keys(e.tagCounts).filter(l=>e.tagCounts[l].phrases.some(h=>h.layer===t)),[t,e.tagCounts]);return U.jsxs("div",{className:"phrase-list-table-container",style:{display:e.visible?"initial":"none"},children:[U.jsxs("div",{className:"layer-select-container",children:[U.jsx("span",{children:"Layer"}),U.jsx("select",{className:"layer-select",onChange:l=>n(l.target.value),children:Object.keys(i.layers).map(l=>U.jsx("option",{value:l,children:i.layers[l]},l))})]}),U.jsxs("table",{className:"phrase-list-table",children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{children:"Tags for phrases"}),U.jsx("th",{children:U.jsx("span",{children:"References in this layer"})})]})}),U.jsxs("tbody",{children:[r.length===0&&U.jsx("tr",{children:U.jsx("td",{colSpan:2,children:U.jsx("div",{className:"empty-table-container",children:"No tags in this layer."})})}),r.map(l=>U.jsxs("tr",{children:[U.jsx("td",{children:U.jsx(Zc,{label:l,isActive:i.tags.includes(e.tagCounts[l].id),children:U.jsx("span",{className:"tag-count",children:e.tagCounts[l].count})})}),U.jsx("td",{children:U.jsx($J,{layer:t,phrases:e.tagCounts[l].phrases})})]},l))]})]})]})}function e$(e){return e.element_name?`${e.element_name} - ${e.surface_name}`:e.surface_name}function XE(e,i){return e.map(t=>i.find(n=>n.xml_id===t)).filter(Boolean)}function t$(e,i,t,n){return`${e}#/ec/${i.surface_xml_id}/f/${i.surface_xml_id}/${i.layer_xml_id}?tags=${[...t,...n].join(",")}`}function n$(e){return U.jsx("button",{"aria-label":"Toggle phrases",className:"phrase-toggle",onClick:e.onClick,type:"button",children:e.toggled?U.jsx(iK,{}):U.jsx(nK,{})})}function i$(e){const[i,t]=z.useState(!1),n=z.useContext(Kl),r=z.useMemo(()=>XE(e.div.tagging_ids,e.tags),[e.div.tagging_ids,e.tags]),l=z.useMemo(()=>{const h={};return e.childElements.forEach(d=>{XE(d.tagging_ids,e.tags).forEach(p=>{h[p.name]?(h[p.name].count++,h[p.name].phrases.push({name:d.element_name,layer:d.layer_xml_id})):h[p.name]={id:p.xml_id,count:1,phrases:[{name:d.element_name,layer:d.layer_xml_id}]}})}),h},[e.childElements,e.tags]);return U.jsxs("div",{className:"record-box",children:[U.jsx("p",{children:U.jsx("a",{href:t$(e.viewerUrl,e.div,n.categories,n.tags),target:"_blank",rel:"noopener noreferrer",children:e$(e.div)})}),U.jsx("div",{className:"category-list",children:r.map(h=>U.jsx(Zc,{label:h.name,isActive:n.categories.includes(h.xml_id)},h.id))}),U.jsxs("div",{className:"tag-list",children:[U.jsx("span",{className:"tag-list-label",children:"Tags"}),Object.keys(l).map(h=>U.jsx(Zc,{label:h,isActive:n.tags.includes(l[h].id),children:U.jsx("span",{className:"tag-count",children:l[h].count})},h)),U.jsx(n$,{toggled:i,onClick:()=>t(!i)})]}),U.jsx(QJ,{tagCounts:l,elements:e.childElements,visible:i})]})}function r$(e){return{...e,tagging_ids:e.tagging_ids.split(",")}}function o$(e){const i=e.prepare(`
  SELECT
    elements.id AS id,
    elements.name AS element_name,
    elements.type AS element_type,
    elements.parent_id AS parent_id,
    surfaces.name AS surface_name,
    surfaces.xml_id AS surface_xml_id,
    layers.xml_id AS layer_xml_id,
    GROUP_CONCAT(tags.xml_id) as tagging_ids
  FROM
    taggings
  INNER JOIN elements
    ON elements.id = taggings.element_id
  INNER JOIN tags
    ON tags.id = taggings.tag_id
  INNER JOIN surfaces
    ON surfaces.id = elements.surface_id
  INNER JOIN layers
    ON layers.id = elements.layer_id
  GROUP BY elements.id`),t=e.prepare("SELECT * from tags");return{elements:Sl(i).map(r$),tags:Sl(t)}}function s$(e,i){const t=e.categories.length===0||i.element.tagging_ids.some(r=>e.categories.includes(r)),n=e.tags.length===0||i.childTags.some(r=>e.tags.includes(r));return t&&n}function a$(e){const i=z.useContext(Kl),{elements:t,tags:n}=z.useMemo(()=>o$(e.db),[e.db]),r=z.useMemo(()=>{const l=[];for(const h of t){if(h.element_type!=="div")continue;const d=t.filter(f=>f.parent_id===h.id),p=d.flatMap(f=>f.tagging_ids);l.push({element:h,children:d,childTags:p})}return l},[t]);return U.jsxs("div",{className:"record-list-view",children:[U.jsxs("h1",{className:"entries-header",children:[e.recordLabel||"Records"," ","(",r.length,")"]}),r.map(l=>s$(i,l)?U.jsx(i$,{childElements:t.filter(h=>h.parent_id===l.element.id),div:l.element,tags:n,viewerUrl:e.viewerUrl},l.element.id):null)]})}function YE(e){const[i,t]=z.useState(!0);return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"collapsible-menu",children:U.jsxs("button",{className:"collapsible-menu-toggle",onClick:()=>t(!i),type:"button",children:[U.jsx("p",{className:"collapsible-menu-title",children:e.title}),i?U.jsx(JY,{}):U.jsx(ZY,{})]})}),i&&e.children]})}function l$(e){const{categories:i,toggleCategoryFilter:t,tags:n,toggleTagFilter:r}=z.useContext(Kl),l=e.type==="categories"?t:r,h=z.useMemo(()=>e.type==="categories"?i.includes(e.tag.xml_id):n.includes(e.tag.xml_id),[e.type,e.tag.xml_id,i,n]);return U.jsx(Zc,{isActive:h,onClick:()=>l(e.tag.xml_id),label:e.tag.name,children:h&&U.jsx(tK,{})})}function KE(e){return U.jsx("div",{className:"sidebar-tag-list",children:e.tags.map(i=>U.jsx(l$,{type:e.type,tag:i},i.id))})}function u$(e){const i=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id
    FROM
      tags
    INNER JOIN taggings
      ON taggings.tag_id = tags.id
    INNER JOIN elements
      ON elements.id = taggings.element_id
    WHERE
      elements.type = 'seg'
    GROUP BY
      tags.xml_id`),t=Sl(i),n=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id
    FROM
      tags
    INNER JOIN taggings
      ON taggings.tag_id = tags.id
    INNER JOIN elements
      ON elements.id = taggings.element_id
    WHERE
      elements.type = 'div'
    GROUP BY
      tags.xml_id`),r=Sl(n),l=e.prepare("SELECT * FROM taggings"),h=Sl(l);return{tags:t.map(d=>{if(d.parent_id){const p=t.find(f=>f.id===d.parent_id);return{...d,name:`${p.name} - ${d.name}`}}return d}),categories:r,taggings:h}}function c$(e){const i=z.useMemo(()=>u$(e.db),[e.db]);return U.jsxs("div",{className:"ec-sidebar",children:[U.jsx("h2",{children:"Filters"}),U.jsx("div",{className:"h-separator"}),U.jsx(YE,{title:"Categories",children:U.jsx(KE,{tags:i.categories,type:"categories"})}),U.jsx("div",{className:"h-separator"}),U.jsx(YE,{title:"Tags",children:U.jsx(KE,{tags:i.tags,type:"tags"})})]})}const d$={categories:[],tags:[]};async function h$(e){const i=await fetch(e);if(!i.ok)throw new Error("Failed fetching SQLite file.");const t=await i.arrayBuffer(),n=new Uint8Array(t),r=await XJ({locateFile:l=>`https://cdnjs.cloudflare.com/ajax/libs/sql.js/${KJ.version}/${l}`});return new r.Database(n)}function A$(e){const[i,t]=z.useState(null),[n,r]=z.useState(d$),l=z.useCallback(p=>r({...n,categories:n.categories.includes(p)?n.categories.filter(f=>f!==p):[...n.categories,p]}),[n]),h=z.useCallback(p=>r({...n,tags:n.tags.includes(p)?n.tags.filter(f=>f!==p):[...n.tags,p]}),[n]),d=z.useMemo(()=>({...n,toggleCategoryFilter:l,toggleTagFilter:h,layers:e.layers}),[n,l,h,e.layers]);return z.useEffect(()=>(i||(async()=>{const p=await h$(e.dbUrl);t(p)})(),()=>{i&&i.close()}),[e.dbUrl,i]),i?U.jsx(Kl.Provider,{value:d,children:U.jsxs("div",{className:"editioncrafter-record-list",children:[U.jsx(c$,{db:i}),U.jsx(a$,{db:i,recordLabel:e.recordLabel,viewerUrl:e.viewerUrl})]})}):U.jsx(JJ,{})}var ev={},bP={exports:{}};(function(e){function i(t){return t&&t.__esModule?t:{default:t}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(bP);var tv=bP.exports,wP={exports:{}},xP={exports:{}};(function(e){function i(t){"@babel/helpers - typeof";return e.exports=i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(xP);var p$=xP.exports;(function(e){var i=p$.default;function t(r){if(typeof WeakMap!="function")return null;var l=new WeakMap,h=new WeakMap;return(t=function(d){return d?h:l})(r)}function n(r,l){if(!l&&r&&r.__esModule)return r;if(r===null||i(r)!=="object"&&typeof r!="function")return{default:r};var h=t(l);if(h&&h.has(r))return h.get(r);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in r)if(f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)){var g=p?Object.getOwnPropertyDescriptor(r,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=r[f]}return d.default=r,h&&h.set(r,d),d}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(wP);var nv=wP.exports,ZE={};const f$=Hm(NH);var JE;function iv(){return JE||(JE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=f$}(ZE)),ZE}var m$=tv,g$=nv;Object.defineProperty(ev,"__esModule",{value:!0});ev.default=void 0;var v$=g$(vt),y$=m$(iv()),b$=(0,y$.default)(v$.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");ev.default=b$;var rv={},w$=tv,x$=nv;Object.defineProperty(rv,"__esModule",{value:!0});rv.default=void 0;var S$=x$(vt),E$=w$(iv()),T$=(0,E$.default)(S$.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");rv.default=T$;var ov={},k$=tv,C$=nv;Object.defineProperty(ov,"__esModule",{value:!0});ov.default=void 0;var P$=C$(vt),_$=k$(iv()),R$=(0,_$.default)(P$.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");ov.default=R$;export{A$ as RecordList,D$ as default};
